/*! For license information please see portal.min.js.LICENSE.txt */
(()=>{var e,t={698023:(e,t,i)=>{var n={"./appointment/index.js":776309,"./attachment/index.js":545717,"./case/index.js":711948,"./emailRule/index.js":188826,"./integration-mapping/index.js":513685,"./party/index.js":726780,"./person/index.js":979541,"./todo/index.js":625576,"./user/index.js":658487};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=698023},246238:(e,t,i)=>{var n={"./case/index.js":132573,"./entity/index.js":200170,"./mapping-unique-identifier/index.js":235225};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=246238},437618:(e,t,i)=>{var n={"./inline/index.js":593024,"./integration-person-search/index.js":937200};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=437618},28685:(e,t,i)=>{var n={"./af":741626,"./af.js":741626,"./ar":879382,"./ar-dz":544533,"./ar-dz.js":544533,"./ar-kw":260261,"./ar-kw.js":260261,"./ar-ly":525060,"./ar-ly.js":525060,"./ar-ma":826341,"./ar-ma.js":826341,"./ar-sa":848639,"./ar-sa.js":848639,"./ar-tn":564057,"./ar-tn.js":564057,"./ar.js":879382,"./az":463998,"./az.js":463998,"./be":117928,"./be.js":117928,"./bg":428338,"./bg.js":428338,"./bm":897536,"./bm.js":897536,"./bn":231833,"./bn-bd":272948,"./bn-bd.js":272948,"./bn.js":231833,"./bo":961578,"./bo.js":961578,"./br":44717,"./br.js":44717,"./bs":395406,"./bs.js":395406,"./ca":897965,"./ca.js":897965,"./cs":603323,"./cs.js":603323,"./cv":487528,"./cv.js":487528,"./cy":890933,"./cy.js":890933,"./da":193902,"./da.js":193902,"./de":435330,"./de-at":875866,"./de-at.js":875866,"./de-ch":62076,"./de-ch.js":62076,"./de.js":435330,"./dv":769375,"./dv.js":769375,"./el":537388,"./el.js":537388,"./en-au":49093,"./en-au.js":49093,"./en-ca":769583,"./en-ca.js":769583,"./en-gb":540150,"./en-gb.js":540150,"./en-ie":779261,"./en-ie.js":779261,"./en-il":276214,"./en-il.js":276214,"./en-in":764460,"./en-in.js":764460,"./en-nz":780783,"./en-nz.js":780783,"./en-sg":455261,"./en-sg.js":455261,"./eo":324853,"./eo.js":324853,"./es":714129,"./es-do":828783,"./es-do.js":828783,"./es-mx":410387,"./es-mx.js":410387,"./es-us":878262,"./es-us.js":878262,"./es.js":714129,"./et":184004,"./et.js":184004,"./eu":989675,"./eu.js":989675,"./fa":701632,"./fa.js":701632,"./fi":956200,"./fi.js":956200,"./fil":833198,"./fil.js":833198,"./fo":503198,"./fo.js":503198,"./fr":616649,"./fr-ca":556318,"./fr-ca.js":556318,"./fr-ch":955253,"./fr-ch.js":955253,"./fr.js":616649,"./fy":474200,"./fy.js":474200,"./ga":986249,"./ga.js":986249,"./gd":971494,"./gd.js":971494,"./gl":26574,"./gl.js":26574,"./gom-deva":783039,"./gom-deva.js":783039,"./gom-latn":358512,"./gom-latn.js":358512,"./gu":271733,"./gu.js":271733,"./he":829190,"./he.js":829190,"./hi":696898,"./hi.js":696898,"./hr":141431,"./hr.js":141431,"./hu":166550,"./hu.js":166550,"./hy-am":176273,"./hy-am.js":176273,"./id":761368,"./id.js":761368,"./is":323581,"./is.js":323581,"./it":243368,"./it-ch":306962,"./it-ch.js":306962,"./it.js":243368,"./ja":144156,"./ja.js":144156,"./jv":110982,"./jv.js":110982,"./ka":925141,"./ka.js":925141,"./kk":301403,"./kk.js":301403,"./km":981057,"./km.js":981057,"./kn":245960,"./kn.js":245960,"./ko":780575,"./ko.js":780575,"./ku":588073,"./ku.js":588073,"./ky":172749,"./ky.js":172749,"./lb":613427,"./lb.js":613427,"./lo":692264,"./lo.js":692264,"./lt":869065,"./lt.js":869065,"./lv":925575,"./lv.js":925575,"./me":129315,"./me.js":129315,"./mi":600495,"./mi.js":600495,"./mk":370897,"./mk.js":370897,"./ml":840772,"./ml.js":840772,"./mn":339342,"./mn.js":339342,"./mr":905514,"./mr.js":905514,"./ms":175769,"./ms-my":379380,"./ms-my.js":379380,"./ms.js":175769,"./mt":677804,"./mt.js":677804,"./my":173183,"./my.js":173183,"./nb":464129,"./nb.js":464129,"./ne":379060,"./ne.js":379060,"./nl":616019,"./nl-be":459533,"./nl-be.js":459533,"./nl.js":616019,"./nn":347861,"./nn.js":347861,"./oc-lnc":297045,"./oc-lnc.js":297045,"./pa-in":809328,"./pa-in.js":809328,"./pl":723301,"./pl.js":723301,"./pt":610749,"./pt-br":710470,"./pt-br.js":710470,"./pt.js":610749,"./ro":462714,"./ro.js":462714,"./ru":533128,"./ru.js":533128,"./sd":437170,"./sd.js":437170,"./se":791073,"./se.js":791073,"./si":623221,"./si.js":623221,"./sk":624627,"./sk.js":624627,"./sl":4586,"./sl.js":4586,"./sq":87725,"./sq.js":87725,"./sr":905668,"./sr-cyrl":281723,"./sr-cyrl.js":281723,"./sr.js":905668,"./ss":711339,"./ss.js":711339,"./sv":195288,"./sv.js":195288,"./sw":758447,"./sw.js":758447,"./ta":102654,"./ta.js":102654,"./te":294866,"./te.js":294866,"./tet":880900,"./tet.js":880900,"./tg":967048,"./tg.js":967048,"./th":646229,"./th.js":646229,"./tk":687948,"./tk.js":687948,"./tl-ph":849458,"./tl-ph.js":849458,"./tlh":19901,"./tlh.js":19901,"./tr":734347,"./tr.js":734347,"./tzl":787071,"./tzl.js":787071,"./tzm":675752,"./tzm-latn":706760,"./tzm-latn.js":706760,"./tzm.js":675752,"./ug-cn":905555,"./ug-cn.js":905555,"./uk":162409,"./uk.js":162409,"./ur":148114,"./ur.js":148114,"./uz":87242,"./uz-latn":556490,"./uz-latn.js":556490,"./uz.js":87242,"./vi":437560,"./vi.js":437560,"./x-pseudo":337004,"./x-pseudo.js":337004,"./yo":527257,"./yo.js":527257,"./zh-cn":916621,"./zh-cn.js":916621,"./zh-hk":500193,"./zh-hk.js":500193,"./zh-mo":14900,"./zh-mo.js":14900,"./zh-tw":60729,"./zh-tw.js":60729};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=28685},963842:(e,t,i)=>{"use strict";var n=i(279383);i(311927),i(426099),i(938781);var a=i(96190),r=i(573674),o=i(947432),s=i(97770),l=i(516158),d=n.env.IMPORT_ACCUMULATOR_SIZE?parseInt(n.env.IMPORT_ACCUMULATOR_SIZE,10):200,c=n.env.MIGRATION_IMPORT_PATH||r.join("/","../script/data/imports"),u=n.env.MIGRATION_ATTACHMENTS_PATH||r.join("/","../script/data/attachments"),p=n.env.DATE_FORMAT||"MM-DD-YYYY",f=n.env.TIME_FORMAT||"HH:mm:ss",h=n.env.DELIMITER||",",m="America/Toronto";if(l&&a.isFunction(l.getOptionsFile)){var g=l.getOptionsFile("options.global.js");m=g.defaultTimezone}e.exports={commonMappings:function(){return{recordSource:{fn:function(){return"migration"}}}},generateFieldMappings:function(e){var t={};return a.each(e,(function(e){var i,n=a.snakeCase(e.field);switch(e.type){case"date":i={fn:function(e){var t=e.data[n];if(a.isNil(t))return null;var i=o(t);return i.isValid()?i.format(p):null}};break;case"datetime":i={fn:function(e){var t=e.data[n];if(a.isNil(t))return null;var i=o(t);return i.isValid()?s(i).tz(m).format():null}};break;case"yesno":i={fn:function(e){var t=e.data[n];if(!a.isNil(t)&&t.length)switch(t.toString().toLowerCase()){case"f":case"n":case"false":case"no":return"No";case"t":case"y":case"true":case"yes":return"Yes";case"na":case"n/a":return"N/A"}return null}};break;case"time":i={fn:function(e){var t=e.data[n];if(a.isNil(t))return null;var i=o(t,f);return i.isValid()?i:null}};break;case"user":i={fn:function(e){var t=e.data[n];return a.isEmpty(t)?null:a.toLower(t)}};break;case"jsonb":i={};break;default:i={path:n}}a.isEmpty(i)||(t[e.field]=i)})),t},formatDateField:function(e){var t=o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM-DD-YYYY");return t&&t.isValid()?t.format(p):null},formatDateTime:function(e){var t=o(e);return t&&t.isValid()?s(t).tz(m).format():null},setYesNoRadio:function(e){if(!a.isNil(e)&&e.length)switch(e.toString().toLowerCase()){case"f":case"n":case"false":case"no":return"No";case"t":case"y":case"true":case"yes":return"Yes";case"na":case"n/a":return"N/A";default:return null}return null},setGrievanceRadio:function(e){return a.isNil(e)?null:"Yes"},convertGender:function(e){if(!e)return null;var t=e||null;return"M"===e?t="Male":"F"===e?t="Female":"NB"===e?t="None-Binary":"O"===e&&(t="Other"),t},commonOpts:{eventType:"Migration",parseOptions:{delimiter:h,on_record:function(e){return a.each(e,(function(t,i){a.isEmpty(t)&&a.set(e,i,null)})),e},bom:!0},bulkImportOptions:{upsertOptions:{accumulatorSize:d}}},accumulatorSize:d,extractPath:c,attachmentExtractPath:u}},776309:(e,t,i)=>{"use strict";var n=i(648160),a=i(484088);e.exports=n(a,{staticFieldWorkflows:[i(661910)]})},661910:e=>{"use strict";e.exports={name:"appointment-status-workflow",field:"status",entity:{zone:void 0,base:"sys",name:"appointment"},values:[{value:"sent",indicator:"success"},{value:"unsentChanges",indicator:"warning"},{value:"cancelled",indicator:"danger",onSet:{cancelledDate:"{now}",cancelledBy:"{user.id}"}},{value:"purged",indicator:"danger"}],strict:!0,transitions:[{id:"appointment-create",from:[null,void 0],to:"sent"},{id:"appointment-save-and-send",from:"unsentChanges",to:"sent"},{id:"appointment-save-without-send",from:"sent",to:"unsentChanges"},{id:"appointment-cancel",from:["sent","unsentChanges"],to:"cancelled",roles:["cancel_appointment"]}],conditions:[]}},159252:e=>{"use strict";e.exports={"portal-files":{sortColumn:"files",sortOrder:"desc",columns:[{field:"files"},{field:"description"}]}}},545717:(e,t,i)=>{"use strict";var n=i(648160),a=i(27162);e.exports=n(a,{grids:i(159252)})},153394:(e,t,i)=>{"use strict";e.exports=[{id:"overview",caption:"overview",view:function(){return i(911151)},default:!0,formConfigName:"case-overview",showOnIntake:!0,showOnPortal:!0,showOnHotline:!0},{id:"dynamic-tabs-insertion-point",caption:"dynamic_tabs_insertion_point"},{id:"related_cases",caption:"related_cases",view:function(){return i(10314)},model:function(){return i(556395)},navView:function(){return i(959279)},displayRule:"canViewRelatedCases"},{id:"related_people",caption:"related_people",view:function(){return i(361384)},model:function(){return i(556395)},displayRule:"canViewRelatedPeople"}]},149387:(e,t,i)=>{"use strict";var n=i(279383);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(962062),i(842762),i(411392),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var s=i(96190),l=i(963842),d=l.extractPath,c=n.env.CASE_FILENAME_ER||"test.csv",u=n.env.CASE_FILENAME_ER2||"test.csv",p=n.env.CASE_FILENAME_EEO||"test.csv";e.exports=function(e){return{migrationER:o(o({},l.commonOpts),{},{path:"".concat(d,"/").concat(c),eventType:"Migration",transformOptions:{mapping:o(o({},l.commonMappings()),{},{historicalGrievanceId:{path:"GRIEVANCE_ID"},grievances:{fn:function(e){var t=e.data;if(!s.isEmpty(s.get(t,"GRIEVANCE_TYPE"))){var i=s.get(t,"GRIEVANCE_TYPE",",").split(",");return s.map(i,s.trim)}return null}},statusDescription:{path:"GRIEVANCE STATUS DESCR"},union:{path:"UNION"},unionContactName:{path:"CONTACT_NAME"},statusDate1:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"STATUS_DT"))}},complaintSourceDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"GRIEVANCE_DT"))}},contactReference:{path:"CONTRACT_REF"},disposition:{path:"FINAL RESOLUTION DESCR"},resolutionDescription:{path:"RESOLUTION COMMENTS"},summaryOfAllegations:{path:"GRIEVANCE DESCR"},purgeDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"PURGE DATE"))}},grievanceStep:{path:"GRIEVANCE_STEP"},grievanceStepDescription:{path:"GRIEVANCE STEP DESCR"},discussedWith:{path:"DISCUSSED WITH"},actionDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"ACTION_DT"))}},resolutionDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESOLUTION_DT"))}},responseDueDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESPONSE_DUE_DT"))}},stepComments:{path:"STEP COMMENTS"},letterPrintedDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"LETTER_PRINTED_DT"))}},stepResolution:{path:"STEP_RESLTN"},stepResolutionDescription:{path:"STEP RESOLUTION DESCR"},caseType:{fn:function(e){return e.data,"Employee Relations"}},caseSubType:{fn:function(e){var t=e.data,i=s.get(t,"GRIEVANCE_ID");return s.startsWith(i,"DA")?"Disiplinary":"Grievance"}},dateClosed:{fn:function(e){return e.data,l.formatDateTime(new Date)}},migratedWorkflowName:{fn:function(e){return e.data,"Employee Relations"}}}),enableFieldTypeValidation:!1},bulkImportOptions:{performTransformation:!0,senecaRoleForTransformation:"migration",performPostActions:!0,senecaRoleForPostAction:"migration_post_action"}}),migrationER2:o(o({},l.commonOpts),{},{path:"".concat(d,"/").concat(u),eventType:"Migration",transformOptions:{mapping:o(o({},l.commonMappings()),{},{historicalGrievanceId:{path:"GRIEVANCE_ID"},grievances:{fn:function(e){var t=e.data;if(!s.isEmpty(s.get(t,"GRIEVANCE_TYPE"))){var i=s.get(t,"GRIEVANCE_TYPE",",").split(",");return s.map(i,s.trim)}return null}},statusDescription:{path:"GRIEVANCE STATUS DESCR"},union:{path:"UNION"},unionContactName:{path:"CONTACT_NAME"},statusDate1:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"STATUS_DT"))}},complaintSourceDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"GRIEVANCE_DT"))}},contactReference:{path:"CONTRACT_REF"},disposition:{path:"FINAL RESOLUTION DESCR"},resolutionDescription:{path:"RESOLUTION COMMENTS"},summaryOfAllegations:{path:"GRIEVANCE DESCR"},purgeDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"PURGE DATE"))}},grievanceStepDescription:{path:"GRIEVANCE STEP DESCR"},stepResolution:{path:"STEP_RESLTN"},caseType:{fn:function(e){return e.data,"Employee Relations"}},caseSubType:{fn:function(e){return e.data,"Grievance"}},dateClosed:{fn:function(e){return e.data,l.formatDateTime(new Date)}},migratedWorkflowName:{fn:function(e){return e.data,"Employee Relations"}},wasALevel1GrievanceFiled:{fn:function(e){var t=e.data;return l.setGrievanceRadio(s.get(t,"GRIEVANCE_STEP"))}},step1DiscussedWith:{path:"DISCUSSED WITH"},level1FileDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"ACTION_DT"))}},level1ResponseDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESOLUTION_DT"))}},level1DueDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESPONSE_DUE_DT"))}},step1Comments:{path:"STEP COMMENTS"},level1LetterPrintedDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"LETTER_PRINTED_DT"))}},level1Resolution:{path:"STEP RESOLUTION DESCR"},level2RequestedByUnion:{fn:function(e){var t=e.data;return l.setGrievanceRadio(s.get(t,"GRIEVANCE STEP DESCR2"))}},step2DiscussedWith:{path:"DISCUSSED WITH2"},level2FileDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"ACTION_DT2"))}},level2ResponseDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESOLUTION_DT2"))}},level2DueDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESPONSE_DUE_DT2"))}},step2Comments:{path:"STEP COMMENTS2"},level2LetterPrintedDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"LETTER_PRINTED_DT2"))}},level2Resolution:{path:"STEP RESOLUTION DESCR2"},wasAGrievanceAppealFiled:{fn:function(e){var t=e.data;return l.setGrievanceRadio(s.get(t,"GRIEVANCE_STEP3"))}},grievanceAppealDiscussedWith:{path:"DISCUSSED WITH3"},grievanceAppealFileDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"ACTION_DT3"))}},grievanceAppealResponseDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESOLUTION_DT3"))}},grievanceAppealDueDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"RESPONSE_DUE_DT3"))}},grievanceAppealComments:{path:"STEP COMMENTS3"},grievanceAppealLetterPrintedDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"LETTER_PRINTED_DT3"))}},grievanceAppealResolution:{path:"STEP RESOLUTION DESCR3"},filedBy:{path:"FILED BY"}}),enableFieldTypeValidation:!1},bulkImportOptions:{performTransformation:!0,senecaRoleForTransformation:"migration",performPostActions:!0,senecaRoleForPostAction:"migration_post_action"}}),migrationEEO:o(o({},l.commonOpts),{},{path:"".concat(d,"/").concat(p),eventType:"Migration",transformOptions:{mapping:o(o({},l.commonMappings()),{},{historicalGrievanceId:{path:"File No."},investigationConcern:{path:"Investigation/ Concern"},complaintSourceDate:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"Date Rcvd"))}},complaintSourceDate1:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"Date Rcvd"))}},sourceOfComplaint:{path:"How was Complaint Received"},investigatorAssigned:{path:"Investigator Assigned"},summaryOfAllegations:{path:"Nature of Allegations"},migratedStatusDate:{path:"Status Date"},migratedStatusNotes:{path:"Status Notes"},investigationComplete1:{path:"Investigation Complete"},findings:{path:"Findings"},pleaseDescribeTheOutcome:{path:"Reason/Outcome"},managementAction:{path:"Management Action"},dateClosed:{fn:function(e){var t=e.data;return l.formatDateField(s.get(t,"Date Closed"))}},timeReferredToInvestComplete:{path:"Time ¢ Referred to Invest Complete"},ifStillOpenHowOld:{path:"If still open how old"},reviewStatus1:{path:"Intake Phase"},investigationStatus1:{path:"Investigation Status"},caseName:{path:"Case Name"},caseType:{fn:function(e){return e.data,"EEO"}},respondents:{path:"Respondent (s)"},eeId:{path:"EE ID #"},sex:{path:"Sex"},race:{path:"Race"},jobClassification:{path:"Job Classification"},group:{path:"Group"},workLocation:{path:"Work Location"},areThereOtherInquiriesOrInvestigationsInvolvingTheCo:{fn:function(e){var t=e.data;return l.setYesNoRadio(s.get(t,"Filed multiple complaints in Yr"))}},iBelieveIHaveBeenHarassedOrDiscriminatedAgainstOnT:{fn:function(e){var t=e.data;if(!s.isEmpty(s.get(t,"Basis of Complaint"))){var i=s.get(t,"Basis of Complaint",",").split(",");return s.map(i,s.trim)}return null}},migratedWorkflowName:{fn:function(e){return e.data,"Status"}}}),enableFieldTypeValidation:!1},bulkImportOptions:{performTransformation:!0,performPostActions:!0,senecaRoleForTransformation:"migration",senecaRoleForPostAction:"migration_post_action"}})}}},711948:(e,t,i)=>{"use strict";var n=i(648160)(i(464099),{rules:i(546235),validation:i(458729),bypassValidationOnDraft:!0,staticFieldWorkflows:[i(228264),i(254012)],caseDetailsTabs:i(153394),allowOnPortal:!0,allowExternalSearch:!0,importTransformer:"migration",fields:[{field:"dataSource",type:"textbox",kind:"hidden"},{field:"caseType",kind:"editable-external",showOnPortal:!0,showOnHotline:!0},{field:"caseSubType",type:"picklist",caption:"Case Sub Type",typeOptions:{picklistName:"case_sub_types"},kind:"editable"},{field:"isHotlineCase",type:"yesno",kind:"editable-external"}]});n.importTypes=i(149387)(n.fields),e.exports=n},546235:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(327495),i(690906);var o=i(219554),s=i(96190).mapValues({},(function(e){var t=o(e);return function(e){return t.test(e)}}));e.exports=r(r({},s),{},{caseTypeIsEmployeeRelations:function(e){return"Employee Relations"===e.caseType}})},228264:e=>{"use strict";e.exports={name:"case-confidential-workflow",field:"confidential",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:!0,indicator:"warning"},{value:!1}],strict:!1,transitions:[],conditions:[]}},254012:e=>{"use strict";e.exports={name:"purge-flag-status-workflow",field:"excludeFromPurge",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:null},{value:void 0},{value:!1},{value:!0,indicator:"danger"}],strict:!1,transitions:[],conditions:[]}},458729:e=>{"use strict";e.exports={mandatory$:[],dependentMandatory$:[{condition:"isNew",fields:["intakeMethod"]},{condition:"(isExternal || isHotlineIntakeMethod) && (isNew || isDraft)",fields:["reportedAnonymously"],customTranslationKeys:{reportedAnonymously:"would_you_like_to_remain_anonymous"}},{condition:"isExternal && !isHotlineIntakeMethod",fields:["acceptTermsAndConditions"]}]}},188826:(e,t,i)=>{"use strict";var n=i(648160),a=i(686651);e.exports=n(a,{rules:i(819189),fields:[{caption:"Case Type",field:"caseType",type:"picklist",typeOptions:{picklistName:"case_types"},kind:"editable"},{field:"caseSubType",type:"picklist",caption:"Case Sub Type",typeOptions:{picklistName:"case_sub_types"},kind:"editable"}]})},819189:(e,t,i)=>{"use strict";var n=i(96190);e.exports={isTypeNewCaseCreation:function(e){return!n.isEmpty(e.ruleType)&&"New Case Creation"===e.ruleType}}},951871:e=>{"use strict";e.exports=[{type:"group",caption:"Integration Mapping",parentPermission:"view_workflow_settings",permission:"view_integration_mapping_settings",options:[{permission:"view_integration_mapping",caption:"View",tooltip:"View integration mapping",sequence:1},{permission:"save_integration_mapping",caption:"Save",tooltip:"Save integration mapping",sequence:2,dependencies:["save_integration_mapping"]}]}]},110629:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Integration Mapping",roles:["view_integration_mapping"],actions:["load","list","save_existing","save_new"],conditions:[]}).required({name:"Save integration mapping",roles:["save_integration_mapping"],actions:["save","save_existing","save_new"],conditions:[]}).required({name:"remove integration mapping",roles:["remove_integration_mapping"],actions:["remove"],conditions:[]}).value()},610473:(e,t,i)=>{"use strict";var n=i(730295),a=i(633392);e.exports=n.extend({model:a,url:"".concat($appData.globalConfig.apiRoot,"/search/sys_integrationmapping"),entity:{base:"sys",name:"integrationmapping"}})},459564:(e,t,i)=>{"use strict";i(962062),e.exports={entityCanon:function(e,t,i){i(null,t.map((function(e){return"sys/".concat(e.entityId__name)})))}}},494516:e=>{"use strict";e.exports={"main-integrationmappings":{sortColumn:"name",sortOrder:"asc",columns:[{field:"name"},{field:"lastUpdatedDate"},{field:"lastUpdatedBy"}]}}},318577:e=>{"use strict";e.exports=[{from:[],to:"/settings/workflow/integration-mappings"}]},513685:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",search:!0,configurationExport:!0,importTransformer:"integrationmapping",table:"sys_integration_mapping",entity:{base:"sys",name:"integrationmapping"},api:{useGenericApi:!0},view:function(){return i(461092)},model:function(){return i(633392)},collection:function(){return i(610473)},computeFunctions:i(459564),caption:"Integration Mapping",captionPlural:"Integration Mappings",addCaption:"Add Integration Mapping",newCaption:"New Integration Mapping",parents:[{entity:{base:"isight",name:"entity"},field:"entityId"}],acl:i(110629),aclHierarchy:i(951871),grids:i(494516),historyNav:i(318577),validation:i(852622),fields:[{field:"entityId",type:"entity",caption:"Entity",kind:"system"},{field:"name",type:"textbox",caption:"Name",kind:"system"},{field:"entityCanon",type:"textbox",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!0,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},computeFunction:"entityCanon"}},{field:"uniqueIdentifier",type:"mapping-unique-identifier",caption:"Unique Identifier",kind:"editable",typeOptions:{entityNameField:"entityCanon"}},{field:"specification",type:"json",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}}]})},633392:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:function(){return"".concat($appData.globalConfig.apiRoot,"/integrationmapping")},entity:{base:"sys",name:"integrationmapping"},idAttribute:"id"})},587071:(e,t,i)=>{"use strict";var n=i(666785),a=i(974859),r=i(637527),o=i(325425);e.exports=o.extend({Model:r,className:"specification-row",template:i(620997),onInit:function(e){this.entity=e.entity,this.model.set({field:e.field,externalField:e.externalField,entityName:this.entity.entityCanon}),this._onRemoveField=e.onRemoveField,this.fieldPicklistComponent=new n({field:"field",model:this.model,fields:[],fieldDef:{typeOptions:{field:"field",entityNameField:"entityName"}}}),this.textboxComponent=new a({field:"externalField",model:this.model,fieldDef:{}})},locals:function(){return this.model.get("field")?{field:this.entity.fields()[this.model.get("field")].caption,externalField:this.model.get("externalField")}:{field:"",externalField:""}},events:{"click .remove-field":"onRemoveField"},onRemoveField:function(){this._onRemoveField(this)},onRendered:function(){this.addSubView(this.fieldPicklistComponent).render(this.$(".field-component"),(function(){})),this.addSubView(this.textboxComponent).render(this.$(".external-field-component"),(function(){}))}})},932980:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500),i(202008),i(944114),i(879432);var o=i(939994),s=i(325425),l=i(587071);e.exports=s.extend({template:i(111182),className:"integration-mapping-specification-view",onInit:function(){this.entity=o.get({base:"sys",name:this.model.get("entityId__name")}),this.model.on("reset",this.onReset.bind(this))},onReset:function(){var e=this;this.subViews.forEach((function(t){e.removeSubView(t)})),this.subViews=[],this.onRendered()},events:{"click .add-field":"onAddField"},onAddField:function(){this.addRow(null,null)},onRemoveField:function(e){var t=e.model.get("field"),i=r({},this.model.get("specification"));delete i[t],this.model.set("specification",i),this.removeSubView(e.handle),this.subViews=this.subViews.filter((function(t){return t!==e}))},addRow:function(e,t){var i=this,n=e,a=new l({entity:this.entity,field:e,externalField:t,onRemoveField:this.onRemoveField.bind(this)});this.subViews.push(a),a.model.on("change",(function(){var e=r({},i.model.get("specification"));delete e[n],e[a.model.get("field")]=a.model.get("externalField"),n=a.model.get("field"),i.model.set("specification",e)})),this.addSubView(a).render(this.$(".specification-rows"))},onRendered:function(){var e=this;this.subViews=[];var t=this.model.get("specification");Object.keys(t).forEach((function(i){e.addRow(i,t[i])}))}})},700643:(e,t,i)=>{"use strict";var n=i(325425),a=i(680553);e.exports=n.extend({template:i(351995),onInit:function(e){this._errors=e},locals:function(){return{errors:this._errors}},events:{"click button[name=close]":"onCloseClick"},onCloseClick:function(){a.remove(this)}})},852622:e=>{"use strict";e.exports={mandatory$:["uniqueIdentifier"]}},461092:(e,t,i)=>{"use strict";i(944114),i(428706),i(426099),i(703362);var n=i(402193),a=i(96190),r=i(40785),o=i(344427),s=i(896727),l=i(680553),d=i(267062),c=i(932980),u=i(700643);e.exports=d.extend({urlRoot:"/settings/workflow/integration-mappings",Model:i(633392),formConfigName:"integration-mapping-details",template:i(462949),crumbs:function(){var e=r.translateKey({groupName:"settings",subgroupName:"workflow",key:"integration_mappings"}),t=[{title:r.translateKey("settings"),url:"/settings"},{title:r.translateKey("workflow"),url:"/settings/workflow"},{title:e,url:"/settings/workflow/integration-mappings"}];return this.model.isNew()?t.push({title:r.translateKey("new")}):t.push({title:this.model.get("name")}),t},events:{"click #validate-mapping":"onValidate","change #validate-file":"onValidateFile","click #sample-csv":"onSampleCsv"},onSampleCsv:function(){window.location="".concat($appData.globalConfig.apiRoot,"/integrationmapping/").concat(this.model.id,"/sample")},onValidateFile:function(e){var t=n.create(this.$("#edit")[0]);t.start(),fetch("/api/1.0/integrationmapping/".concat(encodeURIComponent(this.model.id),"/validate"),{method:"POST",body:e.target.files[0]}).then((function(e){return e.json().then((function(t){return{body:t,response:e}}))})).then((function(e){var i=e.body,n=e.response;if(t.stop(),t.remove(),200===n.status){var a=r.translateKey({key:"success",subgroupName:"validate",groupName:"integrationmapping"});o.display(a,{type:"information",html:!0})}else{var s=Array.isArray(i)?i:[i],d=new u(s);l.add(d,{group:"displayed-errors"}),d.renderAsModal()}})).catch((function(e){var t=r.translateKey({key:"unexpected_error",subgroupName:"validate",groupName:"integrationmapping"});o.display(t,{type:"error"})}))},onValidate:function(){window._paq&&window._paq.push(["trackEvent","Integration Mapping","Valdate Clicked"]),this.$("#validate-file").click()},onSaveClickThrottled:a.throttle((function(e){var t=this,i=t.model.isNew(),n="save-and-copy"===e.currentTarget.id;window._paq&&window._paq.push(["trackEvent","Integration Mapping","Save Clicked"]),this.isSafeToLeaveDirtyInlines()&&this.model.save({sysSubmitted:!0},{success:function(e){var a=i?"created":"updated";s.info(s.getCrudMessage(t.model,a)),t.model.unlock(),n?t.onSaveAndCopy(e):t.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRendered:function(){var e=new c({model:this.model});this.addSubView(e).render(this.$("#specification-fields"))}})},865933:e=>{"use strict";e.exports={"portal-parties":{sortColumn:"firstName",sortOrder:"asc",columns:[{field:"firstName"},{field:"lastName"},{field:"partyType"}]}}},47131:(e,t,i)=>{"use strict";var n=i(279383);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(962010),i(523418),i(690906),i(428706),i(874423),i(21699),i(327495),i(725440),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var d=i(96190),c=i(963842),u=c.commonOpts,p=c.extractPath,f=c.commonMappings,h=c.generateFieldMappings,m=c.convertGender,g=n.env.PARTY_FILENAME_ER||"sys_party.csv",y=n.env.PARTY_FILENAME_ER2||"sys_party.csv",v=n.env.PARTY_FILENAME_EEO||"sys_party.csv";e.exports=function(e){return{migrationER:l(l({},u),{},{path:"".concat(p,"/").concat(g),transformOptions:{mapping:l(l(l({},h(e)),f()),{},{caseId:{path:"GRIEVANCE_ID",ref:{entity:"sys/case",lookupAttr:"historicalGrievanceId"}},lastName:{path:"EMPLOYEE LAST NAME"},firstName:{path:"EMPLOYEE FIRST NAME"},departmentName:{path:"DEPTID"},supervisorTitle:{path:"SUPERVISOR_ID"},supervisorName1:{path:"SUPERVISOR NAME"},partyType:{fn:function(e){return e.data,"Complainant"}},patronEmployeeOther:{fn:function(e){var t=e.data;if(!d.isEmpty(t))switch(d.get(t,"FILED BY")){case"other":case"Other":return"Other";case"employee/applicant":case"Employee/Applicant":return"Employee";default:return null}return null}},partyName:{fn:function(e){var t=e.data,i=d.get(t,"EMPLOYEE FIRST NAME"),n=d.get(t,"EMPLOYEE LAST NAME"),a="".concat(i," ").concat(n);return i&&!n?i:!i&&n?n:i&&n?a:null}},badgeNumber:{path:"A.EMPLID"}}),enableFieldTypeValidation:!0},bulkImportOptions:{performTransformation:!0,senecaRoleForTransformation:"migration"}}),migrationER2:l(l({},u),{},{path:"".concat(p,"/").concat(y),transformOptions:{mapping:l(l(l({},h(e)),f()),{},{caseId:{path:"GRIEVANCE_ID",ref:{entity:"sys/case",lookupAttr:"historicalGrievanceId"}},lastName:{path:"EMPLOYEE LAST NAME"},firstName:{path:"EMPLOYEE FIRST NAME"},departmentName:{path:"DEPTID"},supervisorTitle:{path:"SUPERVISOR_ID"},supervisorName1:{path:"SUPERVISOR NAME"},partyType:{fn:function(e){return e.data,"Complainant"}},patronEmployeeOther:{fn:function(e){return e.data,"Employee"}},partyName:{fn:function(e){var t=e.data,i=d.get(t,"EMPLOYEE FIRST NAME"),n=d.get(t,"EMPLOYEE LAST NAME"),a="".concat(i," ").concat(n);return i&&!n?i:!i&&n?n:i&&n?a:null}},badgeNumber:{path:"EMPLID"}}),enableFieldTypeValidation:!0},bulkImportOptions:{performTransformation:!0,senecaRoleForTransformation:"migration"}}),migrationEEOParty1:l(l({},u),{},{path:"".concat(p,"/").concat(v),transformOptions:{mapping:l(l(l({},h(e)),f()),{},{caseId:{path:"File No.",ref:{entity:"sys/case",lookupAttr:"historicalGrievanceId"}},partyName:{path:"Complainant(s)"},partyType:{fn:function(e){return e.data,"Complainant"}},lastName:{fn:function(e){var t=e.data,i=d.get(t,"Complainant(s)");return i.includes('"')?r(i.replace(/"/g,"").split(", "),1)[0]:null}},firstName:{fn:function(e){var t=e.data,i=d.get(t,"Complainant(s)");return i.includes('"')?r(i.replace(/"/g,"").split(", "),2)[1]:i}},patronEmployeeOther:{fn:function(e){return e.data,"Employee"}},primaryEntity:{fn:function(e){return e.data,!0}},badgeNumber:{path:"Employee ID #"},gender1:{fn:function(e){var t=e.data;return m(t.Sex)}},raceEthnic:{path:"Race"},employeeClassification:{path:"Job Classification"},workExt:{path:"Group"},divisionNoCostCenter:{path:"Work Loc"}}),enableFieldTypeValidation:!0},bulkImportOptions:{performTransformation:!0,senecaRoleForTransformation:"migration"}})}}},726780:(e,t,i)=>{"use strict";var n=i(648160)(i(786317),{grids:i(865933),rules:i(468651),allowOnPortal:!0,allowExternalSearch:!0,importTransformer:"child-import",fields:[{field:"partyType",kind:"editable-external"},{field:"firstName",kind:"editable-external"},{field:"lastName",kind:"editable-external"},{field:"middleInitial",kind:"editable-external"},{field:"dateOfBirth",kind:"editable-external"},{field:"address",kind:"editable-external"},{field:"city",kind:"editable-external"},{field:"stateProvince",kind:"editable-external"},{field:"country",kind:"editable-external"},{field:"zipCodePostalCode",kind:"editable-external"},{field:"homePhone",kind:"editable-external"},{field:"workPhone",kind:"editable-external"},{field:"emailAddress",kind:"editable-external"}]});n.importTypes=i(47131)(n.fields),e.exports=n},468651:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(327495),i(690906);var r=i(219554),o=i(96190).mapValues({},(function(e){var t=r(e);return function(e){return t.test(e)}}));e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({isEmployee:function(e){return"Employee"===e.employeeOther},isOther:function(e){return"Other"===e.employeeOther},partyTypeExternalAgency:function(e){return"External Agency"===e.partyType}},o)},979541:(e,t,i)=>{"use strict";var n=i(648160),a=i(601746);e.exports=n(a,{staticFieldWorkflows:[i(261469)],fields:[{caption:"Employee ID",field:"badgeNumber",kind:"editable-external",type:"textbox"},{field:"hireDate",caption:"Initial Hire Date",kind:"editable-external",type:"date"},{field:"lastHireDate",caption:"Last Hire Date",kind:"editable-external",type:"date"},{field:"address1",type:"textbox",caption:"Address 1",kind:"editable"},{field:"address21",type:"textbox",caption:"Address 2",kind:"editable"},{field:"jobCode",type:"textbox",caption:"Job Code",kind:"editable"},{field:"otherPhoneNumber",type:"textbox",caption:"Other Phone Number",kind:"editable"},{field:"mobilePhoneNumber",type:"textbox",caption:"Mobile Phone Number",kind:"editable"},{field:"metNetNumberFullNumber",type:"textbox",caption:"Business Phone",kind:"editable"},{caption:"Business Email",field:"businessEmail",kind:"editable-external",type:"email"},{caption:"Personal Email",field:"personalEmail1",kind:"editable-external",type:"email"},{field:"preferredFirstName",type:"textbox",caption:"Preferred First Name",kind:"editable"},{field:"gender1",type:"textbox",caption:"Gender",kind:"editable"},{field:"raceEthnic",type:"textbox",caption:"Ethnicity",kind:"editable"},{field:"birthDate",type:"textbox",caption:"Birthdate",kind:"editable"},{field:"regularOrTemp",type:"textbox",caption:"Regular Or Temp",kind:"editable"},{caption:"Full Or Part Time",type:"textbox",field:"fullOrPartTime",kind:"editable"},{caption:"Employee Type",type:"textbox",field:"employeeType",kind:"editable"},{caption:"Employment Status",type:"textbox",field:"statusOfEmployment1",kind:"editable"},{field:"unionEmployee",type:"yesno",caption:"Union Employee?",kind:"editable"},{field:"union",type:"textbox",caption:"Union",kind:"editable"},{field:"employeeClassification",type:"textbox",caption:"Employee Classification",kind:"editable"},{field:"supervisorTitle",type:"textbox",caption:"Supervisor Title",kind:"editable"},{field:"supervisorName1",type:"textbox",caption:"Supervisor Name",kind:"editable"},{field:"team",type:"textbox",caption:"Team",kind:"editable"},{field:"section",type:"textbox",caption:"Section",kind:"editable"},{field:"workExt",type:"textbox",caption:"Group",kind:"editable"},{field:"departmentName",type:"textbox",caption:"Department ID",kind:"editable"},{field:"divisionNoCostCenter",type:"textbox",caption:"Location",kind:"editable"},{field:"terminationDate",type:"date",caption:"Termination Date",kind:"editable"},{field:"unit",type:"textbox",caption:"Unit",kind:"editable"}]})},261469:e=>{"use strict";e.exports={name:"person-purge-flag-status-workflow",field:"excludeFromPurge",entity:{zone:void 0,base:"sys",name:"person"},values:[{value:null},{value:void 0},{value:!1},{value:!0,indicator:"danger"}],strict:!1,transitions:[],conditions:[]}},625576:(e,t,i)=>{"use strict";var n=i(648160),a=i(374807);e.exports=n(a,{staticFieldWorkflows:[i(977376)]})},977376:e=>{"use strict";e.exports={name:"todo-status-workflow",field:"status",entity:{zone:void 0,base:"sys",name:"todo"},values:[{value:"pending",indicator:"warning"},{value:"purged",indicator:"danger"},{value:"closed",onSet:{dateCompleted:"{now}",closedBy:"{user.id}"},indicator:"success"}],strict:!0,transitions:[{id:"todo-create",from:[null,void 0],to:"pending"},{id:"complete-todo",caption:"todo_closed",from:"pending",to:"closed"}]}},658487:(e,t,i)=>{"use strict";var n=i(648160),a=i(462912);e.exports=n(a,{staticFieldWorkflows:[i(709824),i(803634)],rules:i(744968),fields:[{field:"caseType",type:"picklist[]",caption:"Case Type",typeOptions:{picklistName:"case_types"},kind:"editable"},{field:"caseSubType",type:"picklist[]",caption:"Case Sub Types",typeOptions:{picklistName:"case_sub_types"},kind:"editable"}]})},744968:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(327495),i(690906),i(874423),i(21699);var o=i(219554),s=i(96190),l=s.mapValues({},(function(e){var t=o(e);return function(e){return t.test(e)}}));e.exports=r(r({},l),{},{caseTypeIncludesEmployeeRelations:function(e){return s.includes(e.caseType,"Employee Relations")}})},803634:e=>{"use strict";e.exports={name:"user-password-expired-status",entity:{zone:void 0,base:"sys",name:"user"},field:"isPasswordExpired",flagSequence:2,strict:!1,transitions:[],conditions:[],displayRule:"isLocalUser",values:[{value:!0,indicator:"danger"}]}},709824:e=>{"use strict";e.exports={name:"user-status",entity:{zone:void 0,base:"sys",name:"user"},field:"status",flagSequence:1,strict:!1,transitions:[],conditions:[],values:[{value:"online",indicator:"success"},{value:"offline",indicator:"default"},{value:"inactive",indicator:"danger"}]}},132573:(e,t,i)=>{"use strict";var n=i(617640),a=i(447578);e.exports=a.extend(n,{db:{join:["caseType","caseSubType"]}})},200170:(e,t,i)=>{"use strict";var n=i(447578),a=i(656409);e.exports=n.extend(a,{name:"entity",db:{foreign:"isight_entity",defaultJoinAttribute:"name",join:["name"]},ui:{formComponent:function(){return i(27498)},component:function(){return i(974859)}},format:function(e,t){if(!e)return"";var i=t.fieldDef,n=t.data["".concat(i.field,"__name")];return t.translateKey(n)}})},404450:(e,t,i)=>{"use strict";i(202008),i(426099),i(962062),i(879432);var n=i(666785);e.exports=n.extend({getFilteredFields:function(e){var t=this.model.get("specification"),i=this.getEntDef().fields();return e(null,Object.keys(t).map((function(e){return i[e]})).filter((function(e){return!!e})))},_onSpecificationChange:function(){var e=this.model.get(this.field);e&&(this.model.get("specification")[e]||this.model.set(this.field,null)),this.selectize.clearOptions(),this.refreshData()},onRendered:function(e){this.model.on("change:specification",this._onSpecificationChange.bind(this)),n.prototype.onRendered.call(this,e)}})},903537:(e,t,i)=>{"use strict";var n=i(890056);e.exports=n.extend({Component:i(404450)})},235225:(e,t,i)=>{"use strict";var n=i(447578),a=i(835498);e.exports=n.extend(a,{name:"mapping-unique-identifier",ui:{component:function(){return i(404450)},formComponent:function(){return i(903537)}}})},256804:(e,t,i)=>{"use strict";i(962062);var n=i(274692),a=i(96190),r=i(40785),o=i(267062),s=i(637527),l=i(344427),d=i(680553);i(570022),e.exports=o.extend({caption:r.translateKey("configure"),className:function(){return"configure-layout-item-tmpl bb-view".concat("section"===this.model.get("type")||"tombstone"===this.model.get("type")?" section-group":"")},attributes:function(){return{"element-type":this.model.get("type")}},features:{errorParameter:!0},events:{mouseover:"onHover",mouseleave:"onHoverLeave","click #edit":"onEditClick","click #hide":"onHideClick","click #show":"onShowClick"},rules:{hasSectionCaption:function(){return!!this.model.get("caption")},isSection:function(){return"section"===this.model.get("type")},isPicklist:function(){if(this.rules.isSection.call(this))return!1;var e=this.getField();return!(!e||"picklist"!==e.get("type"))},isFocused:function(){return!0===this.model.get("focused")},isNew:function(){return this.model.isNew()},isHidden:function(){return!0===this.model.get("hidden")}},locals:function(){return{parentModel:a.get(this,"model.parentModel.attributes"),model:this.model.attributes,entityModel:this.model.entityModel.attributes}},onHover:function(e){n(".configure-layout-item-tmpl.hover").removeClass("hover"),this.$el.addClass("hover"),e.stopImmediatePropagation()},onHoverLeave:function(e){this.$el.removeClass("hover")},onEditClick:function(e){this.layoutView.editElement(this.model),e.stopImmediatePropagation()},onHideClick:function(e){this.model.set("hidden",!0),e.stopImmediatePropagation()},onShowClick:function(e){this.model.set("hidden",!1),e.stopImmediatePropagation()},onInit:function(e){var t=this;this.model=e.model||this.model,this.layoutView=e.layoutView,this.model&&this.model.on("change:displayRule",(function(){t.updateDisplayRuleTooltip()}))},updateDisplayRuleTooltip:function(){this.$("#hide").first().attr("title",this.model.get("displayRule")).tooltip("fixTitle")},changeFieldType:function(){this.$el.attr("class",this.className())},getField:function(){var e=this.model.get("field"),t=null;return this.model.entityModel.fields.each((function(i){i.get("name")===e&&(t=i)})),t},onRendered:function(){return this.renderComponent()},setOuterWidth:function(){this.$el.removeClass("col-xs-4 col-xs-12"),"tombstone"===a.get(this,"model.parentModel.attributes.type")?this.$el.addClass("col-xs-4"):this.$el.addClass("col-xs-12")},getEntityFieldsMapping:function(){var e=a.map(this.model.entityModel.fields.models,"attributes");return a.keyBy(e,"field")},getSampleEntityModel:function(){var e={base:this.model.entityModel.get("base"),name:this.model.entityModel.get("name")},t=new s;return t.entity=e,t},insertElementBefore:function(e,t){var i=this.model.layoutItemCollection.length;t&&(i=t.model.get("sequence"),a.each(this.model.layoutItemCollection.models,(function(e){e.get("sequence")>=i&&e.set("sequence",e.get("sequence")+1)}))),e.model.parentModel=this.model,e.model.set("parent",this.model.get("id")),e.model.set("sequence",i),this.model.layoutItemCollection.add(e.model,{at:i})},removeElement:function(e){this.model.layoutItemCollection.remove(e.model),e.model.set("parent",null),a.each(this.model.layoutItemCollection.models,(function(t){t.get("sequence")>=e.model.get("sequence")&&t.set("sequence",t.get("sequence")-1)}))},onDeleteClick:function(e){var t=this;l.display(r.translateKey("delete_confirmation"),{type:"confirm",callback:function(e){e&&(d.getParentView(t).removeElement(t),t.model.layoutModel.orphanedLayoutItems.add(t.model),d.remove(t))}}),e.stopImmediatePropagation()}})},899554:(e,t,i)=>{"use strict";var n=i(274692),a=i(256804);e.exports=a.extend({template:i(872240),onInit:function(){var e=this;this.model.on("change:divId",(function(){e.renderComponent().then((function(){}))}));for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return a.prototype.onInit.apply(this,i)},renderComponent:function(){this.setOuterWidth();var e=n.Deferred(),t=this.$("#inline-component");if(t.empty(),!this.model.get("divId"))return e.resolve();var a=i(748191).get("inline").ui.formComponent(),r=this.model.attributes;r.parentElement=this.model.parentModel.attributes;var o=new a(r);return t.html(o.$el),this.addSubView(o).render((function(t){e.resolve()})),e.promise()}})},715030:(e,t,i)=>{"use strict";var n=i(96190),a=i(504542),r=i(608758);e.exports=a.View.extend({template:i(808962),className:"form-group col-xs-12 inline-form-component-tmpl",$readOnly:null,Component:null,initialize:function(e){n.extend(this,e),this.id=this.cid,this.handle=this.cid,this.$el.attr("data-handle",this.handle),this.displayRule&&this.$el.attr("data-display-rule",this.displayRule),this.onInit&&this.onInit(e)},locals:function(){return{divId:this.divId,model:n.get(this,"model.attributes"),parentElement:this.parentElement}},render:function(e){var t=this,i=this.locals?this.locals():{};r.render(this.template,i,(function(i,n){return i?e.call(t,i):setTimeout((function(){return t.$el.html(n),t.onRendered?t.onRendered((function(i){e.call(t,i)})):e.call(t)}),0)}))},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.View.prototype.remove.apply(this,t)}})},593024:(e,t,i)=>{"use strict";e.exports={name:"inline",ui:{formComponent:function(){return i(715030)},configureComponent:function(){return i(899554)}}}},284402:(e,t,i)=>{"use strict";var n=i(274692),a=i(256804);e.exports=a.extend({template:i(114914),onInit:function(){var e=this;this.model.on("change:label",(function(){e.renderComponent().then((function(){}))}));for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return a.prototype.onInit.apply(this,i)},renderComponent:function(){this.setOuterWidth();var e=n.Deferred(),t=this.$("#integration-person-search-component");if(t.empty(),!this.model.get("label"))return e.resolve();var a=i(748191).get("integration-person-search").ui.formComponent(),r=this.model.attributes;r.parentElement=this.model.parentModel.attributes;var o=new a(r);return t.html(o.$el),this.addSubView(o).render((function(t){e.resolve()})),e.promise()}})},818726:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){a=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function p(e,t,i,n){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),s=new B(n||[]);return o(r,"_invoke",{value:S(e,i,s)}),r}function f(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function A(){}var C={};u(C,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(T([])));x&&x!==i&&r.call(x,l)&&(C=x);var _=A.prototype=b.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(a,o,s,l){var d=f(e[a],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==n(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(d.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(r,r):r()}})}function S(t,i,n){var a=h;return function(r,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===r)throw o;return{value:e,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var l=D(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var d=f(t,i,n);if("normal"===d.type){if(a=n.done?y:m,d.arg===v)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=y,n.method="throw",n.arg=d.arg)}}}function D(t,i){var n=i.method,a=t.iterator[n];if(a===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,D(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var r=f(a,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,v;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var i=t[l];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function i(){for(;++a<t.length;)if(r.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=A,o(_,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(I.prototype),u(I.prototype,d,(function(){return this})),t.AsyncIterator=I,t.async=function(e,i,n,a,r){void 0===r&&(r=Promise);var o=new I(p(e,i,n,a),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),u(_,c,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,a){return s.type="throw",s.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(l&&d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function r(e,t,i,n,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}i(752675),i(489463),i(802259),i(747764),i(366412),i(978125),i(704731),i(960479),i(240875),i(16280),i(944114),i(423500),i(962010),i(134782),i(123792),i(426099),i(962953),i(703362);var o=i(517970),s=i(274692),l=i(504542),d=i(96190),c=i(535300),u=i(40785),p=i(608758),f=i(680553),h=i(278717),m=i(610473);i(322860),e.exports=l.View.extend({className:"form-group col-xs-12 integration-person-search-tmpl",template:i(515908),events:{"click .lookup-control > button":"lookupControlClicked"},initialize:function(e){d.extend(this,e),this.id=this.cid,this.handle=this.cid,this.buttonId="".concat(this.id,"-person-search-button"),this.$el.attr("data-handle",this.handle),this.$el.attr("data-readonly","false"),this.label=this.label||"Search Profiles",this.displayRule&&this.$el.attr("data-display-rule",this.displayRule),this.onInit&&this.onInit(e),this.getIntegrationMapping()},getIntegrationMapping:function(e){var t,i=this;return(t=a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.promisify(i.fetchIntegrationMappings).bind(i),e.next=3,t();case 3:n=e.sent,d.isEmpty(n.models)||(r=n.models[0].get("specification"),i.personMapping=d.keys(r),s("#".concat(i.buttonId)).removeAttr("disabled"));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,i=arguments;return new Promise((function(n,a){var o=t.apply(e,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))})()},fetchIntegrationMappings:function(e){if(this.collection=new m,this.integrationName){var t={bool:{must:[{match:{name:this.integrationName}}]}};this.collection.setFilter({query:t})}this.collection.fetch({success:function(t){e(null,t)},error:function(t){e(t)}})},locals:function(){var e=o(this.label);return{label:u.sanitizeHtml(e),model:d.get(this,"model.attributes"),parentElement:this.parentElement,buttonId:this.buttonId}},lookupControlClicked:function(){var e=this;this._renderSearchView((function(t){d.each(e.personMapping,(function(i){e.model.set(i,t.get(i))}))}))},_renderSearchView:function(e){d.isFunction(e)&&(this.searchView=new h({onSearchResultClick:e}),f.add(this.searchView,{parent:this.handle}).renderAsModal())},render:function(e){var t=this,i=this.locals?this.locals():{};p.render(this.template,i,(function(i,n){return i?e.call(t,i):setTimeout((function(){return t.$el.html(n),t.onRendered&&t.onRendered((function(i){e.call(t,i)})),e.call(t)}),0)}))},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.View.prototype.remove.apply(this,t)}})},937200:(e,t,i)=>{"use strict";e.exports={name:"integration-person-search",ui:{formComponent:function(){return i(818726)},configureComponent:function(){return i(284402)}}}},710572:e=>{"use strict";e.exports=$appData.layouts},450863:e=>{"use strict";e.exports=[]},501768:e=>{"use strict";e.exports={startStatus:"in-progress",endStatus:"completed",successStatus:"success",errorStatus:"error"}},903745:(e,t,i)=>{"use strict";var n=i(96190),a={editable:{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0},"submit-only":{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!0,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0},"editable-external":{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0},system:{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0},hidden:{audit:!1,schema:!0,search:!1,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},"hidden-searchable":{audit:!1,schema:!0,search:!0,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},computed:{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!0,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0},"computed-search":{audit:!0,schema:!1,search:!0,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!0,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1},"computed-read":{audit:!0,schema:!1,search:!1,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!0,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!0,reportable:!1},join:{audit:!1,schema:!1,search:!1,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},virtual:{audit:!1,schema:!1,search:!1,readable:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},"virtual-external":{audit:!1,schema:!0,search:!1,readable:!0,apiWritable:!1,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},dynamic:{audit:!0,schema:!1,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0,toJSONB:!0}};a["dynamic-external"]=n.extend({},a.dynamic,{apiExternalWritable:!0}),a["hidden-editable"]={audit:!1,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},a["form-only"]={audit:!1,schema:!1,search:!1,readable:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,submitOnly:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1},e.exports=a},786641:e=>{"use strict";e.exports={external:{name:"External",permissionCodeFn:function(e){return"".concat(e,"_external")},conditions:[{attributes:{externalRecord:!0}}]},external_not_created_by:{name:"External Not Created By",permissionCodeFn:function(e){return"".concat(e,"_external_not_created_by")},conditions:[{attributes:{externalRecord:!0,createdBy:"{!user.id}",reportedBy:"{!user.id}"}}]},external_case_not_created_by:{name:"External Case Not Created By",permissionCodeFn:function(e){return"".concat(e,"_external_case_not_created_by")},conditions:[{attributes:{externalRecord:!0,caseId__createdBy:"{!user.id}",caseId__reportedBy:"{!user.id}",caseId__createdBySession:"{!user.authenticatedBySession}"}}]}}},541369:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(874423),i(21699),i(944114);var a=i(96190);function r(e,t,i,n){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null==t||null===(r=t.entDef)||void 0===r?void 0:r.fields(),l={};return a.each(s,(function(e){(!0===e[n]||o&&"system"===e.kind)&&(l[e.field]=!0)})),a.isArray(i)&&!a.isEmpty(i)&&a.each(i,(function(e){l[e]=!0})),l}e.exports={requireCaseLoadInheritance:function(){return{name:"Inherit case load acl",roles:["agent"],control:"required",actions:["load","list"],conditions:[{attributes:{"!caseId":null}},"sys/case::{caseId}::load"]}},requireCaseSaveInheritance:function(){return{name:"Inherit case save acl",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!caseId":null}},{fn:function(e,t){var i,n=a.includes(null==t||null===(i=t.user)||void 0===i||null===(i=i.perm)||void 0===i?void 0:i.roles,"bypass_case_save_inheritance_external"),r=!(null!=e&&e.id),o=!0===(null==e?void 0:e.externalRecord);return{ok:!(n&&r&&o)}},selectedFields:function(e,t){return t(null,["id","externalRecord"])}},"sys/case::{caseId}::save"]}},requireWorkflowLoadInheritance:function(){return{name:"Inherit workflow load acl",roles:["agent"],control:"required",actions:["load","list"],conditions:[{attributes:{"!workflowId":null}},"sys/workflow::{workflowId}::load"]}},requireWorkflowSaveInheritance:function(){return{name:"Inherit workflow save acl",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!workflowId":null}},"sys/workflow::{workflowId}::save"]}},requireRuleLoadInheritance:function(){return{name:"Inherit rule load acl",roles:["agent"],control:"required",actions:["load","list"],conditions:[{attributes:{"!ruleId":null}},"sys/rule::{ruleId}::load"]}},requireRuleSaveInheritance:function(){return{name:"Inherit rule save acl",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!ruleId":null}},"sys/rule::{ruleId}::save"]}},filterMarkForPurge:function(){return{name:"mark for purge",roles:["mark_purge"],control:"filter",actions:["save_new","save_existing"],conditions:[],filters:{pendingPurgeDate:!1}}},filterPurge:function(){return{name:"purge",roles:["purge"],control:"filter",actions:["save_new","save_existing"],conditions:[],filters:{datePurged:!1}}},filterPortalFields:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).joinFieldsWhitelist;return{name:"View non portal fields",roles:["view_non_portal_fields"],control:"filter",actions:["list","load","remove"],conditions:[],filters:{fn:function(t,i){return r(t,i,e,"showOnPortal")}}}},filterChildPortalFields:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=["caseId__caseNumber","caseId__sysActive","caseId__sysSubmitted","caseId__createdDate","caseId__externalRecord"];return a.isArray(t.joinFieldsWhitelist)&&!a.isEmpty(t.joinFieldsWhitelist)&&i.push.apply(i,function(e){if(Array.isArray(e))return n(e)}(e=t.joinFieldsWhitelist)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),{name:"View non portal fields",roles:["view_non_portal_fields"],control:"filter",actions:["list","load","remove"],conditions:[],filters:{fn:function(e,t){return r(e,t,i,"showOnPortal")}}}},filterHotlineFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.joinFieldsWhitelist,i=e.allowSystemFields,n=void 0===i||i;return{name:"Save non hotline fields",roles:["save_non_hotline_fields"],control:"filter",actions:["save_new"],conditions:[],filters:{fn:function(e,i){return r(e,i,t,"showOnHotline",n)}}}},filterChildHotlineFields:function(){var e=["caseId__caseNumber","caseId__sysActive","caseId__sysSubmitted","caseId__createdDate","caseId__externalRecord"];return{name:"Save non hotline fields",roles:["save_non_hotline_fields"],control:"filter",actions:["save_new"],conditions:[],filters:{fn:function(t,i){return r(t,i,e,"showOnHotline",!0)}}}},filterRestrictEditFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roles,i=e.conditions;return{name:"Save Restricted Fields",roles:t,control:"filter",actions:e.actions,conditions:i,features:e.features,filters:{fn:function(e,t){var i,n=null==t||null===(i=t.entDef)||void 0===i?void 0:i.fields(),r={};return a.each(n,(function(e){e.restrictEdit&&(r[e.field]=!1)})),r}}}},filterViewSourceData:function(){return{name:"View Source Data of any Record",roles:["view_source_data"],actions:["list","load"],filters:{sourceTag:!1,sourceData:!1,sourceId:!1},control:"filter"}}}},348174:(e,t,i)=>{"use strict";var n=i(893979).ui;e.exports=new n({getDynamicEntitiesAndFields:function(){return{dynamicEntities:$appData.dynamicEntities||[],dynamicEntityFields:$appData.dynamicEntityFields||[]}}})},252957:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Action History",permission:"action_history",disabled:!0,options:[{permission:"view_action_history",caption:"View",tooltip:"View Action History",disabled:!0,sequence:2},{permission:"create_action_history",caption:"Create",tooltip:"Add Action History",disabled:!0,sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("action_history"),caption:"Edit",sequence:3,dependencies:["view_action_history"],options:[{permission:"edit_action_history",caption:"Save",tooltip:"Edit Action History",disabled:!0,dependencies:["view_action_history"]}]},{permission:"remove_action_history",caption:"Remove",tooltip:"Delete Action History",sequence:4,disabled:!0,dependencies:["view_action_history"]}]}]},584703:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Action History",roles:["view_action_history"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Action History",roles:["create_action_history"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Action History",roles:["edit_action_history"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Action History",roles:["remove_action_history"],actions:["remove"],conditions:[]}).required({name:"Inherit ACL of Case to which the action was done",roles:["view_case_history"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{objectType:"sys/case"}},"sys/case::{objectId}::load"]}).required({name:"Access Action History of actions done to non-Case entities",roles:["view_non_case_action_history"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!objectType":"sys/case"}}]}).value()},200374:e=>{"use strict";e.exports={"case-action-history":{sortColumn:"triggeredOn",sortOrder:"desc",columns:[{field:"triggeredOn"},{field:"eventName"},{field:"actionType"},{field:"ruleId"},{field:"summary"}]}}},107175:(e,t,i)=>{"use strict";var n=i(648160),a=i(785310);e.exports=n(a,{db:"default",table:"sys_action_history",entity:{base:"sys",name:"action_history"},caption:"Action History",captionPlural:"Action History Items",addCaption:"Add Action History",newCaption:"New Action History",gridDescriptorField:"triggeredOn",allowPurge:!0,audit:!1,acl:i(584703),aclHierarchy:i(252957),grids:i(200374),model:function(){return i(77720)},collection:function(){return i(247564)},joins:[{referenceField:"ruleId",table:"sys_rule",fields:["name"]}],gridFilterExcludeFields:["actionType"],fields:[{field:"actionType",type:"entityName",kind:"system",caption:"Action"},{field:"ruleId",type:"id",kind:"system",caption:"Rule",cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/rule-id-cell-tmpl.dust"),"utf8")}},{field:"triggeredOn",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Triggered On"},{field:"triggeredBy",type:"user",kind:"system",caption:"Triggered By"},{field:"eventName",type:"code",kind:"system",caption:"Event"},{field:"summary",type:"textarea",caption:"Summary",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/summary-cell-tmpl.dust"),"utf8")}},{field:"flag",type:"textbox",kind:"system",caption:"Flag"},{field:"targetUser",type:"user",kind:"hidden",caption:"Target User"},{field:"distribution",type:"textbox[]",kind:"system",caption:"Distribution"},{field:"recordContext",type:"json",kind:"hidden",caption:"Record Context",alwaysInApiSelectedFields:!0},{field:"triggerType",type:"picklist",kind:"system",caption:"Trigger Type",default:"Immediate",typeOptions:{picklistName:"trigger_types"}},{field:"targetUser",type:"user",kind:"system",caption:"Target User"}]})},653270:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Appointments",parentPermission:"case",permission:"appointment",options:[{permission:"view_appointment",caption:"View",tooltip:"View Appointments",sequence:2},{permission:"create_appointment",caption:"Create",tooltip:"Add Appointments",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("appointment"),caption:"Edit",sequence:3,dependencies:["view_appointment"],options:[{permission:"edit_appointment",caption:"Save",tooltip:"Edit Appointments",dependencies:["view_appointment"]}]},{permission:"cancel_appointment",caption:"Cancel",tooltip:"Cancel Appointments",sequence:4,dependencies:["view_appointment"]},{permission:"remove_appointment",caption:"Remove",tooltip:"Delete Appointments",sequence:5,dependencies:["view_appointment","cancel_appointment"]}]}]},210928:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filter({name:"Cancel appointment",roles:["cancel_appointment"],actions:["save_new"],conditions:[{attributes:{status:"cancelled"}}],filters:{status:!1}}).filter({name:"Edit appointment",roles:["edit_appointment"],actions:["save_new"],conditions:[{attributes:{"!id":null}}],filters:{status:!0}}).required({name:"View Appointments",roles:["view_appointment"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Appointments",roles:["create_appointment"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Appointments",roles:["edit_appointment","cancel_appointment"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Edit Cancelled Appointments",roles:["edit_cancelled_appointment"],actions:["save_existing"],conditions:[{attributes:{"!id":null,status:"cancelled"}}]}).required({name:"Remove Appointments",roles:["remove_appointment"],actions:["remove"],conditions:[]}).requireCaseLoadInheritance().requireCaseSaveInheritance().value()},87583:(e,t,i)=>{"use strict";i(428706);var n=["subject","location","startDate","endDate"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:a}}},save:{created:{options:{reference:a}},updated:{options:{reference:a,changes:{excludeFields:["id","lastUpdatedBy","lastUpdatedDate"]}}}},remove:{deleted:{options:{reference:a}}}}}},450297:(e,t,i)=>{"use strict";i(962062);var n=i(96190);e.exports={setOrganizer:function(e,t,i){return i(null,n.map(t,(function(e){return e.createdBy})))}}},841969:e=>{"use strict";e.exports={"case-appointments":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"organizer"},{field:"invitees"},{field:"subject"},{field:"location"},{field:"startDate"},{field:"endDate"},{field:"status"},{field:"createdDate"}]},"advanced-search-result-appointments":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"organizer"},{field:"invitees"},{field:"subject"},{field:"location"},{field:"startDate"},{field:"endDate"},{field:"status"},{field:"createdDate"}]},"search-result-appointments-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"organizer"},{field:"invitees"},{field:"subject"},{field:"location"},{field:"startDate"},{field:"endDate"},{field:"status"},{field:"createdDate"}]},"search-result-appointments-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"organizer"},{field:"invitees"},{field:"subject"},{field:"location"},{field:"startDate"},{field:"endDate"},{field:"status"},{field:"pendingPurgeDate"},{field:"createdDate"}]}}},163004:e=>{"use strict";e.exports=[{from:[],to:"/case/{caseId}/activity/appointments"},{from:[],to:"/appointments"}]},484088:(e,t,i)=>{"use strict";var n=i(648160),a=i(878705);e.exports=n(a,{db:"default",table:"sys_appointment",entity:{base:"sys",name:"appointment"},api:{useGenericApi:!0,writableFields:["sendInvite"]},customForm:!1,ruleEvents:!0,caption:"Appointment",captionPlural:"Appointments",addCaption:"Add Appointment",newCaption:"New Appointment",gridDescriptorField:"childNumber",audit:i(87583),validation:i(345013),rules:i(231447),acl:i(210928),aclHierarchy:i(653270),grids:i(841969),historyNav:i(163004),computeFunctions:i(450297),icon:"fa-calendar",includeInDataDictionary:!0,backgroundColor:"#FAFAA5",usageStatistics:i(457187),model:function(){return i(258558)},collection:function(){return i(426491)},view:function(){return i(836975)},calendarView:function(){return i(668697)},rowTemplates:{small:function(){return i(347796)},medium:function(){return i(856038)},tiny:function(){return i(850415)}},calendarMapping:{title:"subject",subtitle:"location",description:"description",startDate:"startDate",endDate:"endDate",allDay:"allDayEvent"},fields:[{field:"organizer",type:"user",caption:"Organizer",kind:"computed",kindOptions:{computeFunction:"setOrganizer"}},{field:"invitees",type:"emailLookup[]",caption:"Invitees",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!0,gridExportable:!0,reportable:!0}}},{field:"subject",type:"textbox",caption:"Subject",kind:"editable",gridWidth:150},{field:"location",type:"textbox",caption:"Location",kind:"editable"},{field:"startDate",type:"datetime",caption:"Start Date",kind:"editable",typeOptions:{removeSeconds:!0,clearTimeWhenDisabled:!1}},{field:"endDate",type:"datetime",caption:"End Date",kind:"editable",typeOptions:{removeSeconds:!0,clearTimeWhenDisabled:!1}},{field:"allDayEvent",type:"checkbox",caption:"All Day",kind:"editable"},{field:"duration",type:"delay",caption:"Duration",kind:"editable"},{field:"description",type:"texteditor",caption:"Description",kind:"editable"},{field:"descriptionText",type:"textarea",kind:"hidden",caption:"Description Text",search:!1},{field:"failedInvitees",type:"code[]",kind:"system",caption:"Failed Invitees"},{field:"dateSent",type:"datetime",kind:"system",caption:"Date Sent"},{field:"sentAfterSave",type:"yesno",kind:"hidden",caption:"Sent After Save"},{field:"status",type:"picklist",caption:"Status",typeOptions:{picklistName:"appointment_statuses"},kind:"editable",excludeFromRedact:!0,excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/status-cell-tmpl.dust"),"utf8")}},{field:"cancelledDate",type:"datetime",caption:"Cancelled Date",kind:"system"},{field:"cancelledBy",type:"user",caption:"Cancelled By",kind:"system"}]})},231447:e=>{"use strict";e.exports={isAllDayEvent:function(e){return!0===e.allDayEvent},isNotAllDayEvent:function(e){return!0!==e.allDayEvent}}},457187:(e,t,i)=>{"use strict";var n=i(342141)("sys_appointment");e.exports=[{category:"appointment",key:"totalAppointments",query:n.countActiveEntity()},{category:"appointment",key:"appointmentsPerCase",query:n.countTotalAverageAndHighestByCase()}]},345013:e=>{"use strict";e.exports={mandatory$:["caseId","invitees","subject","startDate","endDate","description"],dateRange$:[{time:!0,date:"endDate",minimumDate:{date:"startDate"}}],invalidTemplate$:["subject","description"]}},799303:(e,t,i)=>{"use strict";i(428706);var n={displayFields:function(e,t){var i=["actionType"];return"Context"===e.userType?i.concat(["contextUsers"]):i.concat(["systemUsers"])}};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:n}}},save:{created:{options:{reference:n}},updated:{options:{changes:{excludeFields:["id"]},reference:n}}},remove:{deleted:{options:{reference:n}}}}}},451168:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{table:"sys_assignment_action",entity:{base:"sys",name:"assignment_action"},workflowActionConfig:{formName:"assignment-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},supportedEntities:["sys/case"]},caption:"Assignment",captionPlural:"Assignments",addCaption:"Add Assignment",newCaption:"New Assignment",audit:i(799303),rules:i(498879),usageStatistics:i(960571),model:function(){return i(125805)},fields:[{field:"assignmentField",type:"fieldPicklist",typeOptions:{entityNameField:"targetEntity",refreshOnFields:["targetEntity"],filterType:["user[]","user"],filterFlag:"apiWritable"},kind:"editable",caption:"Assignment Field"},{field:"userType",type:"radio",kind:"editable",caption:"Responsible User Type",typeOptions:{picklistName:"responsible_user_types",refreshOnFields:["assignmentField"]}},{field:"contextUsers",type:"fieldPicklist[]",typeOptions:{entityNameField:"targetEntity",filterType:["user","user[]"],filter:"filterAssignmentField",refreshOnFields:["assignmentField","targetEntity"]},caption:"Include Context Users",kind:"editable"},{field:"systemUsers",type:"user[]",caption:"Include System Users",kind:"editable"}]})},125805:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/assignment_action"),entity:{base:"sys",name:"assignment_action"},ignore:["targetEntity"],idAttribute:"id",save:function(e,t){return n.extend(t,{silent:!0}),a.prototype.save.call(this,e,t)}})},498879:e=>{"use strict";e.exports={isTypeContextUser:function(e){return"Context"===e.userType},isTypeSystemUser:function(e){return"System"===e.userType}}},960571:(e,t,i)=>{"use strict";var n=i(342141)("sys_assignment_action");e.exports=[{category:"workflows",key:"totalAssignmentAction",query:n.countActiveEntity()}]},254644:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"case",caption:"Files",permission:"attachment",options:[{permission:"view_attachment",caption:"View",tooltip:"View Files",sequence:2},{permission:"create_attachment",caption:"Create",sequence:1,tooltip:"Add Files"},{type:"group",permission:n.getEditGroupPermissionCode("attachment"),caption:"Edit",sequence:3,dependencies:["view_attachment"],options:[{permission:"edit_attachment",caption:"Save",tooltip:"Edit Files",dependencies:["view_attachment"]},{caption:"Set Reporter Access",permission:"mark_attachment_external",tooltip:'Set "Allow Reporter Access" on Files belonging to an external Case when the two-way portal is enabled',dependencies:["view_attachment","edit_attachment"]}]},{permission:"remove_attachment",caption:"Remove",sequence:4,tooltip:"Delete Files",dependencies:["view_attachment"]}]}]},749994:(e,t,i)=>{"use strict";i(202008),i(426099),i(874423),i(21699);var n=i(96190),a=i(553604);e.exports=a.initialize().filterMarkForPurge().filterPurge().filterChildPortalFields().filter({name:"Mark Attachments External",roles:["mark_attachment_external"],actions:["save_new","save_existing"],conditions:[],filters:{externalRecord:!1}}).filterViewSourceData().required({name:"View Attachments",roles:["view_attachment"],actions:["load","list","save_existing","remove"],conditions:[a.conditionForInternalRecord,{attributes:{sysActive:!0}}],generatePermissions:["external"]}).required({name:"Create Attachments",roles:["create_attachment"],actions:["save_new"],conditions:[a.conditionForInternalRecord,{attributes:{id:null}}],generatePermissions:["external","external_case_not_created_by"]}).required({name:"Edit Attachments",roles:["edit_attachment"],actions:["save_new"],conditions:[a.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!0}}],generatePermissions:["external"]}).required({name:"Remove Attachments",roles:["remove_attachment"],actions:["remove"],conditions:[a.conditionForInternalRecord,{attributes:{sysActive:!0}}],generatePermissions:["external"]}).required({name:"Access Draft Attachments",roles:["access_others_draft_children"],actions:["load","list","save_existing","remove"],conditions:[a.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!1,createdBy:"{!user.id}"}}]}).required({name:"Inherit Note Load ACL",roles:["agent"],actions:["load","list"],conditions:[{attributes:{parentType:"note"}},{fn:function(e,t){var i,a=n.includes(null==t||null===(i=t.user)||void 0===i||null===(i=i.perm)||void 0===i?void 0:i.roles,"bypass_note_load_inheritance_external"),r=!0===(null==e?void 0:e.externalRecord);return{ok:!(a&&r)}},selectedFields:function(e,t){return t(null,["id","externalRecord"])}},"sys/note::{parentId}::load"]}).required({name:"Inherit Note ACL",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{parentType:"note"}},"sys/note::{parentId}::save"]}).required({name:"Inherit Todo Load ACL",roles:["agent"],actions:["load","list"],conditions:[{attributes:{parentType:"todo"}},{fn:function(e,t){var i,a=n.includes(null==t||null===(i=t.user)||void 0===i||null===(i=i.perm)||void 0===i?void 0:i.roles,"bypass_todo_load_inheritance_external"),r=!0===(null==e?void 0:e.externalRecord);return{ok:!(a&&r)}},selectedFields:function(e,t){return t(null,["id","externalRecord"])}},"sys/todo::{parentId}::load"]}).required({name:"Inherit Todo Save ACL",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{parentType:"todo"}},"sys/todo::{parentId}::save"]}).requireCaseLoadInheritance().required({name:"Inherit Case Save ACL when Parent is not Note/Todo",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!caseId":null,"!parentType":["todo","note"]}},{fn:function(e,t){var i,a=n.includes(null==t||null===(i=t.user)||void 0===i||null===(i=i.perm)||void 0===i?void 0:i.roles,"bypass_case_save_inheritance_external"),r=!(null!=e&&e.id),o=!0===(null==e?void 0:e.externalRecord);return{ok:!(a&&r&&o)}},selectedFields:function(e,t){return t(null,["id","externalRecord"])}},"sys/case::{caseId}::save"]}).value()},179269:(e,t,i)=>{"use strict";i(428706);var n=["files","description"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,navigateToType:"file",cmd:{load:{viewed:{options:{reference:a}}},save:{created:{options:{reference:a}},updated:{options:{changes:{excludeFields:["files","id"]},reference:a}}},remove:{deleted:{options:{reference:a}}}}}},966927:(e,t,i)=>{"use strict";i(962062),i(752675),i(489463),i(962010);var n=i(96190),a=i(122268);e.exports={setAttachmentDescriptions:function(e,t,i){i(null,n.map(t,(function(e){var t=e.files;return!t||n.isEmpty(t)?"":1===t.length?t[0].description:n.map(t,(function(e){return{name:e.name,description:e.description}}))})))},hasActiveShare:function(e,t,i){a.mapLimit(t,5,(function(t,i){return t&&t.id?e.make$("sys/shared_link_receipt").list$({fn$:function(){this.where("sys_shared_link_receipt.attachment_id",t.id).andWhere("shared_link_id_sys_shared_link.status","Active")},limit:1},(function(e,t){return e?i(e):i(null,0!==t.length)})):i(null,!1)}),i)}}},772707:e=>{"use strict";var t=["kind","createdDate","lastUpdatedDate"];e.exports={"main-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"}],defaultDynamicDataFilters:t},"main-files-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"createdDate"},{field:"files"},{field:"description"}]},"case-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"fileShared"}],defaultDynamicDataFilters:t,default:!0},"case-files-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"createdDate"},{field:"files"},{field:"description"}]},"case-files-file-upload":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"files"},{field:"description"},{field:"fileType"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"fileShared"}]},"case-files-generated-template":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"files"},{field:"templateId"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"fileShared"}]},"case-files-url":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"url"},{field:"description"},{field:"createdBy"},{field:"createdDate"}]},"case-files-packet":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"files"},{field:"packetId"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"fileShared"}]},"case-files-custom-packet":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"fileShared"}]},"case-capture-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"files"},{field:"createdBy"},{field:"createdDate"}]},"todo-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"files"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"}]},"note-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"files"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"}]},"advanced-search-result-files":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"}]},"search-result-files-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"}]},"search-result-files-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"},{field:"contentSearchable"},{field:"pendingPurgeDate"}]},"file-selector":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"files"},{field:"description"},{field:"createdBy"},{field:"createdDate"}]}}},293374:e=>{"use strict";e.exports=[{from:["/external/file/new"],to:"/external/files"},{from:["/external/case/{caseId}/file/new"],to:"/external/case/{caseId}/files"},{from:[],to:"/case/{parentId}/files",criterias:{parentType:"case"}},{from:["/to-do/{parentId}/edit",null],to:"/to-do/{parentId}/edit",criterias:{parentType:"todo"}},{from:["/to-do/{parentId}/edit","/file/{id}",null],to:"/to-do/{parentId}/edit",criterias:{parentType:"todo"}},{from:[],to:"/to-do/{parentId}",criterias:{parentType:"todo"}},{from:["/note/{parentId}/edit",null],to:"/note/{parentId}/edit",criterias:{parentType:"note"}},{from:["/note/{parentId}/edit","/file/{id}",null],to:"/note/{parentId}/edit",criterias:{parentType:"note"}},{from:[],to:"/note/{parentId}",criterias:{parentType:"note"}},{from:[],to:"/files"}]},27162:(e,t,i)=>{"use strict";var n=i(648160),a=n(i(878705),i(835141));e.exports=n(a,{db:"default",table:"sys_attachment",entity:{base:"sys",name:"attachment"},api:{useGenericApi:!0,useGenericApiExternal:!0,mainFileField:"files"},allowExternalFlag:!0,allowExternalSearch:!0,customForm:!1,ruleEvents:!0,report:!1,enablePortalUserNotifications:!0,caption:"File",captionPlural:"Files",addCaption:"Add File",newCaption:"New File",gridDescriptorField:"fileNames",acl:i(749994),aclHierarchy:i(254644),audit:i(179269),rules:i(657525),grids:i(772707),computeFunctions:i(966927),validation:i(785555),historyNav:i(293374),icon:"fa-file-o",includeInDataDictionary:!0,enableRecordSourceView:!0,usageStatistics:i(484181),staticFieldWorkflows:[i(313179)],model:function(){return i(516713)},collection:function(){return i(789694)},view:function(){return i(982509)},rowTemplates:{small:function(){return i(106044)},medium:function(){return i(384094)},tiny:function(){return i(600615)}},parents:[{entity:{base:"sys",name:"case"},field:"parentId",reportable:!0,filter:{parentType:"case"}},{entity:{base:"sys",name:"note"},field:"parentId",filter:{parentType:"note"}},{entity:{base:"sys",name:"todo"},field:"parentId",filter:{parentType:"todo"}}],fields:[{field:"url",type:"url",caption:"URL",kind:"editable",showOnPortal:!0},{field:"files",type:"file[]",kind:"editable-external",caption:"Attachments",excludeFromSaveAndCopy:!0,showOnPortal:!0},{field:"parentId",type:"id",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Parent Id",dbIndex:!0,excludeFromRedact:!0,showOnPortal:!0},{field:"parentType",type:"code",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Parent Type",dbIndex:!0,excludeFromRedact:!0,showOnPortal:!0},{field:"kind",type:"picklist",caption:"Kind",typeOptions:{picklistName:"file_kinds"},kind:"editable-external",showOnPortal:!0},{field:"generatedFileType",type:"picklist",caption:"File Type",typeOptions:{picklistName:"attachment_generated_file_types"},kind:"editable"},{field:"packetId",type:"picklistSelectizeApi",typeOptions:{picklistName:"packets"},caption:"Packet",kind:"editable",dbIndex:!0},{field:"description",type:"texteditor",caption:"Summary",kind:"editable-external",showOnPortal:!0},{field:"fileShared",type:"yesno",typeOptions:{allowNull:!0},caption:"File Shared",kind:"editable",excludeFromSaveAndCopy:!0},{field:"hasActiveShare",caption:"Is there an Active Shared Link against this File record?",type:"yesno",kind:"computed-read",kindOptions:{computeFunction:"hasActiveShare"},excludeFromSaveAndCopy:!0},{field:"sharedLinks",type:"code[]",caption:"Shared Links",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},excludeFromSaveAndCopy:!0},{field:"templateId",type:"picklistApi",caption:"Template Name",typeOptions:{picklistName:"templates",picklistDependencies:["templateLocale"]},kind:"editable",dbIndex:!0},{field:"templateLocale",type:"picklist",caption:"Locale",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable-external",showOnPortal:!0},{field:"contentSearchable",type:"checkbox",default:!1,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/attachment-contentsearchable-cell-tmpl.dust"),"utf8")},kind:"system",caption:"Content Searchable",typeOptions:{allowNull:!0},gridWidth:210,dbIndex:!0},{field:"attachmentDescriptions",type:"textarea",kind:"computed",kindOptions:{computeFunction:"setAttachmentDescriptions"},caption:"Description",cellTemplate:function(e){return e.readFileSync("//cell-templates/attachment-descriptions-cell-tmpl.dust","utf8")}},{field:"name",kind:"hidden"},{field:"tableOfContentsTemplateKind",kind:"hidden"},{field:"tableOfContentsTemplate",kind:"hidden",typeOptions:{supportedFormats:[]}},{field:"didSomeCaseFilesExceedMaxSize",caption:"Were some case files too large",type:"yesno",default:!1,kind:"hidden"},{field:"didSomeTemplateBasedFilesExceedMaxSize",caption:"Were some template-based files too large",type:"yesno",default:!1,kind:"hidden"},{field:"wereSomeCaseFilesTruncated",caption:"Were some case files truncated",type:"yesno",default:!1,kind:"hidden"},{field:"wereSomeTemplateBasedFilesTruncated",caption:"Were some template-based files truncated",type:"yesno",default:!1,kind:"hidden"},{field:"wasTableOfContentsTruncated",caption:"Were the table of contents truncated",type:"yesno",default:!1,kind:"hidden"},{field:"externalRecord",type:"checkbox",caption:"External",kind:"editable",typeOptions:{allowNull:!1},showOnPortal:!0},{field:"documentGenerationMethod",default:null},{field:"caseFilesInclusionKind",default:null}],joins:[{referenceField:"templateId",table:"sys_template",fields:["name"]},{referenceField:"packetId",table:"sys_packet",fields:["name","caseFilesInclusionKind"]},{referenceField:"parentId",table:"sys_todo",fields:["responsible"]},{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}]})},657525:e=>{"use strict";e.exports={isPacket:function(e){return"packet"===e.kind},isCustomPacket:function(e){return"custom_packet"===e.kind},isManualSelectionOfCaseFilesForPacketRequired:function(e){return"manual_selection"===e.packetId__caseFilesInclusionKind},wasManualSelectionOfCaseFilesForPacketRequired:function(e){return"manual_selection"===e.caseFilesInclusionKind},isManualSelectionOfCaseFilesForCustomPacketRequired:function(e){return"manual_selection"===e.caseFilesInclusionKind},isGeneratedTemplate:function(e){return"generated_template"===e.kind},isFileUpload:function(e){return"file_upload"===e.kind},isUrl:function(e){return"url"===e.kind},hasActiveShare:function(e){return!!e.hasActiveShare}}},484181:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_attachment"),r=i(522609)();e.exports=[{category:"attachment",key:"totalAttachments",query:a.countActiveEntity()},{category:"attachment",key:"attachmentsByKind",query:a.countActiveEntityByPicklistGroup(),options:{groupingField:"kind",picklistName:"file_kinds",datasetTranslation:function(e,t){return a.getPicklistDatasetTrans(this,e,t)}}},{category:"storage",key:"sizeOfFileUploads",query:function(e,t,i){e.select("sys_attachment.files").from("sys_attachment").whereIn("sys_attachment.kind",r.getFileUsageKinds()).where("sys_attachment.sys_active",!0).whereNotNull("sys_attachment.files").asCallback((function(e,t){if(e)return i(e);var a=0;return n.each(t,(function(e){n.each(e.files,(function(e){var t=e.sizeBytes||0;a+=t}))})),i(null,a)}))}},{category:"attachment",key:"totalFileAttachmentCount",query:a.countActiveEntity({where:function(){this.whereNotNull("files[1]")}})},{category:"attachment",key:"totalFileShared",query:a.countActiveEntity({where:function(){this.where((function(){return this.whereNotNull("files[1]").whereNotNull("shared_links")}))}})},{category:"attachment",key:"attachmentsPerCase",query:a.countTotalAverageAndHighestByCase()}]},785555:e=>{"use strict";e.exports={mandatory$:["caseId","kind"],dependentMandatory$:[{condition:"isCustomPacket",fields:["documentGenerationMethod","caseFilesInclusionKind"]},{condition:"isGeneratedTemplate",fields:["templateId","generatedFileType"]},{condition:"isPacket",fields:["packetId"]}]}},68072:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"History",permission:"audit",disabled:!0,options:[{caption:"View",sequence:6,disabled:!0,permission:"view_audit_log"},{caption:"Create",sequence:7,disabled:!0,permission:"create_audit_log"},{type:"group",caption:"Edit",sequence:8,disabled:!0,permission:n.getEditGroupPermissionCode("log"),options:[{caption:"Save",disabled:!0,permission:"edit_audit_log"}]},{caption:"Remove",sequence:9,disabled:!0,permission:"remove_audit_log"}]}]},263902:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604),a=["sys/case","sys/user","sys/user_role"];e.exports=n.initialize().entity({name:"Clean audit log entity fields",actions:["load","list"],conditions:[],entityFields:[{name:"diff",typeObjectAttributeName:"entity",type:"objectType"},{name:"entity",type:"objectType"}]}).filter({name:"View Audit Ip",roles:["view_audit_ip"],actions:["load","list"],conditions:[],filters:{loginIp:!1}}).filter({name:"View Audit Login",roles:["view_audit_login"],actions:["load","list"],conditions:[],filters:{loginId:!1}}).required({name:"View Case Audit Logs",roles:["view_case_history"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/case"}}]}).required({name:"View Case Children Audit Logs",roles:["view_case_history"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{parentType:"sys/case","!objectType":"sys/case"}}]}).required({name:"View Shared Link Access Audit Logs",roles:["view_shared_link_access_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/shared_link_access"}}]}).required({name:"View Shared Link Receipt Audit Logs",roles:["view_shared_link_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/shared_link_receipt"}}]}).required({name:"View Shared Link Audit Logs",roles:["view_shared_link_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/shared_link"}}]}).required({name:"View User Profile Audit Logs",roles:["view_user_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/user"}}]}).required({name:"View User Profile Children Audit Logs",roles:["view_user_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{parentType:"sys/user","!objectType":"sys/user"}}]}).required({name:"View User Role Audit Logs",roles:["view_user_role_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{objectType:"sys/user_role"}}]}).required({name:"View User Role Children Audit Logs",roles:["view_user_role_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{parentType:"sys/user_role","!objectType":"sys/user_role"}}]}).required({name:"View User Activity Audit Logs",roles:["view_user_activity_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!userId":"0","!objectType":a,"!parentType":a}}]}).required({name:"View System Audit Logs",roles:["view_system_audit_log"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{userId:"0","!objectType":a,"!parentType":a}}]}).required({name:"View Export Audit Logs",roles:["view_export_audit_log"],actions:["load","list"],conditions:[{attributes:{action:"export"}}]}).required({name:"View Import Audit Logs",roles:["view_import_audit_log"],actions:["load","list"],conditions:[{attributes:{action:"import"}}]}).required({name:"View Audit Logs",roles:["view_audit_log"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Audit Log",roles:["create_audit_log"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Audit Log",roles:["edit_audit_log"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Audit Log",roles:["remove_audit_log"],actions:["remove"],conditions:[]}).value()},76421:e=>{"use strict";e.exports={users:{aggs:{users:{terms:{field:"userId"}}}},actions:{aggs:{actions:{terms:{field:"action"}}}}}},269262:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"audit",table:"audit_log",entity:{base:"audit",name:"log"},caption:"Audit Log",captionPlural:"Audit Logs",addCaption:"Add Audit Log",newCaption:"New Audit Log",allowPurge:!0,acl:i(263902),esAggregates:i(76421),aclHierarchy:i(68072),model:function(){return i(509896)},collection:function(){return i(783118)},esDefaultFilters:function(){return this.query("es").is_not("hidden",!0).toQuery()},queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0===i.filterSharedLinkAccess$&&t.is_not("objectType","sys/shared_link_access"),!0===i.filterMessage$&&t.is_not("objectType","sys/message"),!0===i.filterUnknown$&&t.is_not("userId","unknown"),!0===i.filterLinkMatch$&&t.is_not("objectType","sys/link_match"),!0===i.filterGrid$&&t.not(t.or([t.and([t.is("objectType","sys/gridFilter"),t.and([t.is_not("action","export"),t.is_not("action","import")])]),t.is("parentType","sys/gridFilter")])),!0===i.filterSystemLoad$&&t.not(t.and([t.is("userId","0"),t.is("action","load")]))])},gridFilterExcludeFields:["differences","loginIp"],fields:[{field:"id",type:"primary",kind:"system",excludeFromRedact:!0,caption:"ID",alwaysInApiSelectedFields:!0},{field:"createdBy",type:"id",kind:"system",caption:"Created By"},{field:"createdDate",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Created Date"},{field:"lastUpdatedBy",type:"id",kind:"system",caption:"Last Updated By"},{field:"lastUpdatedDate",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Last Updated Date"},{field:"timestamp",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Date"},{field:"userId",type:"id",kind:"system",caption:"User ID",alwaysInApiSelectedFields:!0},{field:"loginId",type:"id",kind:"system",caption:"Login ID"},{field:"loginIp",type:"loginIp",kind:"system",caption:"Login IP"},{field:"objectType",type:"code",kind:"system",excludeFromRedact:!0,caption:"Object Type",alwaysInApiSelectedFields:!0},{field:"objectId",type:"id",kind:"system",excludeFromRedact:!0,caption:"Object ID",alwaysInApiSelectedFields:!0},{field:"parentId",type:"id",kind:"system",excludeFromRedact:!0,caption:"Parent ID",alwaysInApiSelectedFields:!0},{field:"parentType",type:"code",kind:"system",excludeFromRedact:!0,caption:"Parent Type",alwaysInApiSelectedFields:!0},{field:"action",type:"code",kind:"custom",cellTemplate:function(e){return e.readFileSync("//cell-templates/history-action-cell-tmpl.dust","utf8")},caption:"Action",excludeFromRedact:!0,kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!0,gridExportable:!0,reportable:!0}},alwaysInApiSelectedFields:!0},{field:"actionTranslationKey",type:"code",kind:"hidden",excludeFromRedact:!0,caption:"Action",alwaysInApiSelectedFields:!0},{field:"entity",type:"json",kind:"hidden",caption:"Entity",alwaysInApiSelectedFields:!0},{field:"diff",type:"json",kind:"hidden",caption:"Diff",alwaysInApiSelectedFields:!0},{field:"deletedBy",type:"id",kind:"hidden",caption:"Deleted By"},{field:"reference",type:"textbox",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},cellTemplate:function(e){return e.readFileSync("//cell-templates/history-reference-cell-tmpl.dust","utf8")},caption:"Reference"},{field:"differences",type:"textbox",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Differences",cellTemplate:function(e){return e.readFileSync("//cell-templates/history-changes-cell-tmpl.dust","utf8")}},{field:"hidden",type:"yesno",kind:"hidden-searchable",caption:"Hidden Audit Record",excludeFromRedact:!0}]})},659054:(e,t,i)=>{"use strict";i(428706);var n={displayFields:function(e,t){var i=["actionType","todoType"];return"Context"===e.responsibleUserType?i.concat(["contextUser"]):i.concat(["systemUser"])}};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:n}}},save:{created:{options:{reference:n}},updated:{options:{changes:{excludeFields:["id"]},reference:n}}},remove:{deleted:{options:{reference:n}}}}}},146369:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{table:"sys_automated_todo_action",entity:{base:"sys",name:"automated_todo_action"},caption:"Automated To-Do",captionPlural:"Automated To-Dos",addCaption:"Add Automated To-Do",newCaption:"New Automated To-Do",rules:i(434102),validation:i(512538),audit:i(659054),usageStatistics:i(254152),model:function(){return i(511381)},workflowActionConfig:{formName:"automated-todo-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},unsupportedEntities:["sys/person"],unsupportedEvents:{"sys/email":["unassigned-incoming-mail"]}},fields:[{caption:"Responsible User Type",field:"responsibleUserType",type:"radio",typeOptions:{orientation:"vertical",picklistName:"responsible_user_types"},kind:"editable"},{caption:"Context User",field:"contextUser",type:"fieldPicklist",typeOptions:{entityNameField:"targetEntity",refreshOnFields:["targetEntity"],filterType:["user"],excludeKind:[]},kind:"editable"},{caption:"System User",field:"systemUser",type:"user",typeOptions:{roleFilter:"todo_owner"},kind:"editable"},{caption:"Details",field:"details",type:"texteditor",kind:"editable"},{caption:"To-Do Type",field:"todoType",type:"picklist",typeOptions:{picklistName:"todo_types"},kind:"editable"},{caption:"Set Due Date",field:"setDueDate",type:"checkbox",typeOptions:{allowNull:!1},kind:"editable"},{caption:"Send Email Reminder",field:"emailReminder",type:"numberRangePicklist",typeOptions:{startValue:0,endValue:30},kind:"editable"},{caption:"Date Type",field:"dateType",type:"radio",typeOptions:{picklistName:"date_types"},kind:"editable"},{caption:"Number Of Days",field:"numberOfDays",type:"number",typeOptions:{precision:2,scale:0},kind:"editable"}]})},434102:(e,t,i)=>{"use strict";var n=i(96190);e.exports={hasEmailReminder:function(e){return n.isNumber(e.emailReminder)&&e.emailReminder>0},isResponsibleUserTypeContext:function(e){return"Context"===e.responsibleUserType},isResponsibleUserTypeSystem:function(e){return"System"===e.responsibleUserType},isSetDueDate:function(e){return!0===e.setDueDate}}},254152:(e,t,i)=>{"use strict";var n=i(342141)("sys_automated_todo_action");e.exports=[{category:"workflows",key:"totalAutomatedTodoAction",query:n.countActiveEntity()}]},512538:e=>{"use strict";e.exports={mandatory$:["triggerType","responsibleUserType","todoType","details"],dependentMandatory$:[{condition:"isTriggerTypeDelayed",fields:["delay"]},{condition:"isResponsibleUserTypeContext",fields:["contextUser"]},{condition:"isResponsibleUserTypeSystem",fields:["systemUser"]},{condition:"isSetDueDate",fields:["numberOfDays","dateType"]}],numberOfDays:{min$:0,max$:1095}}},610:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"view_system_settings",caption:"Canceled Cases",permission:"case_settings",options:[{permission:"view_canceled_cases",caption:"View",tooltip:"View canceled Cases"},{permission:"restore_a_case",caption:"Restore",tooltip:"Restore a Case",dependencies:["view_canceled_cases"]}]},{type:"group",caption:"Case",permission:"case",sequence:1,options:[{permission:"create_case",caption:"Create",tooltip:"Submit a new Case",sequence:1},{permission:"create_case_restricted_fields",caption:"Create Restricted Fields",tooltip:"Submit restricted fields",dependencies:["create_case"]},{caption:"Remove",disabled:!0,permission:"remove_case"},{caption:"History",permission:"view_case_history",tooltip:"View Case Audit and Workflow and Action History"},{caption:"View Source Data",permission:"view_source_data",tooltip:"View Source Data of any Record",features:["recordSourceView"]},{caption:"Set Reporter Access",permission:"mark_case_external",disabled:!0},{type:"group",caption:"View",sequence:2,tooltip:"View a Case",permission:"view_case",options:[{permission:"view_active_cases",caption:"All",tooltip:"View active Case",sequence:1},{type:"group",caption:"Flags",sequence:2,permission:"view_case_flags",dependencies:["view_active_cases"],options:[{permission:"view_confidential_cases",caption:"Confidential",tooltip:"View a confidential Case",dependencies:["view_active_cases"]},{permission:"view_purged_cases",caption:"Purged",tooltip:"View purged Cases",dependencies:["view_active_cases"]}]},{type:"group",permission:"view_case_team",caption:"Team",tooltip:"View the Manage Team section",dependencies:["view_active_cases"],options:[{permission:"view_investigative_team",caption:"Investigative Team",tooltip:"View the Investigation Team section",dependencies:["view_active_cases"]},{permission:"view_blacklist",caption:"Access Denied List",tooltip:"View the Access Denied section",dependencies:["view_active_cases"]}]}]},{type:"group",permission:n.getEditGroupPermissionCode("case"),caption:"Edit",tooltip:"Update a Case",sequence:3,dependencies:["view_active_cases"],options:[{permission:"edit_case_form",caption:"Save",tooltip:"Edit unrestricted fields",dependencies:["view_active_cases"]},{permission:"cancel_a_case",caption:"Cancel a Case",tooltip:"Cancel a Case",dependencies:["view_active_cases"]},{permission:"assign_a_case",caption:"Assign a Case",tooltip:"Assign a Case to a Case Owner",dependencies:["view_active_cases"]},{permission:"edit_confidential_case_field",caption:"Mark Case confidential",tooltip:"Set Case confidentiality flag",dependencies:["view_active_cases"]},{permission:"edit_exclude_from_purge",caption:"Do Not Purge",tooltip:"Mark Case as Do Not Purge",dependencies:["view_active_cases"]},{permission:"edit_closed_case",caption:"Edit a Closed Case",tooltip:"Edit & action a closed Case, and its children",dependencies:["view_active_cases","edit_case_form"]},{permission:"save_case_restricted_fields",caption:"Save Restricted Fields",tooltip:"Edit restricted fields",dependencies:["view_active_cases","edit_case_form"]},{permission:"submit_case_for_translation",caption:"Submit for Translation",tooltip:"Submit case for translation",dependencies:["view_active_cases"],features:["intakeTranslation"]},{permission:"generate_summary",caption:"Generate Summary",tooltip:"Generate case summary",dependencies:["view_active_cases"],features:["outcomeAssistant"],warningMessage:{title:"Summaries include all case data",confirm:"Grant permission",cancel:"Cancel",message:'Granting "Generate case summary" permissions allows a user role to download generated summaries, which include all case information.'}},{type:"group",permission:"manage_case_team",caption:"Team",tooltip:"Update the Manage Team section",dependencies:["view_active_cases"],options:[{permission:"edit_investigative_team",caption:"Investigative Team",tooltip:"Add users to the Investigative Team",dependencies:["view_investigative_team"]},{permission:"edit_blacklist",caption:"Access Denied List",tooltip:"Add users to the Denied List",dependencies:["view_blacklist","view_investigative_team"]},{permission:"edit_case_roles",caption:"Case Roles",disabled:!0,dependencies:["view_active_cases"]}]}]},{type:"group",sequence:4,caption:"Ownership",permission:"case_ownership",options:[{permission:"case_owner",caption:"Case Owner",type:"group",options:[{caption:"View",sequence:1,permission:"view_case_owner",type:"group",options:[{permission:"view_case_as_owner",caption:"All",tooltip:"Case owner can view their Case"},{type:"group",caption:"Flags",sequence:2,permission:"view_case_flags_as_owner",dependencies:["view_case_as_owner"],options:[{permission:"view_confidential_cases_as_owner",dependencies:["view_case_as_owner"],caption:"Confidential",tooltip:"Case owner can view their confidential Cases"}]},{type:"group",permission:"view_case_team_as_owner",dependencies:["view_case_as_owner"],tooltip:"Case owner can view Manage Team section",caption:"Team",options:[{permission:"view_investigative_team_as_owner",dependencies:["view_case_as_owner"],caption:"Investigative Team",tooltip:"Case owner can view the Investagtive Team"},{permission:"view_blacklist_as_owner",dependencies:["view_case_as_owner"],caption:"Access Denied List",tooltip:"Case owner can view the Denied List"}]}]},{caption:"Edit",tooltip:"Case owner can update their Case",sequence:2,type:"group",permission:"edit_case_as_owner",dependencies:["view_case_as_owner"],options:[{permission:"edit_case_form_as_owner",caption:"Save",tooltip:"Case owner can Edit unrestricted fields",dependencies:["view_case_as_owner"]},{permission:"cancel_a_case_as_owner",caption:"Cancel A Case",tooltip:"Case owner can cancel their Case",dependencies:["view_case_as_owner"]},{permission:"assign_a_case_as_owner",caption:"Assign A Case",tooltip:"Case owner can reassign their Case",dependencies:["view_case_as_owner"]},{permission:"edit_confidential_case_field_as_owner",caption:"Mark Case confidential",tooltip:"Case owner can mark their Case confidential",dependencies:["view_case_as_owner"]},{permission:"edit_exclude_from_purge_as_owner",caption:"Do Not Purge",tooltip:"Case owner can mark their case as Do Not Purge",dependencies:["view_case_as_owner"]},{permission:"edit_closed_case_as_owner",caption:"Edit a Closed Case",tooltip:"Case Owner can edit & action a closed Case, and its children",dependencies:["view_case_as_owner","edit_case_form_as_owner"]},{permission:"save_case_restricted_fields_as_owner",caption:"Save Restricted Fields",tooltip:"Case owner can Edit restricted fields",dependencies:["view_case_as_owner","edit_case_form_as_owner"]},{permission:"submit_case_for_translation_as_owner",caption:"Submit for Translation",tooltip:"Case owner can Submit a case for translation",dependencies:["view_case_as_owner"],features:["intakeTranslation"]},{permission:"generate_summary_as_owner",caption:"Generate Summary",tooltip:"Generate case summary",dependencies:["view_case_as_owner"],features:["outcomeAssistant"],warningMessage:{title:"Summaries include all case data",confirm:"Grant permission",cancel:"Cancel",message:'Granting "Generate case summary" permissions allows a user role to download generated summaries, which include all case information.'}},{type:"group",permission:"manage_case_team_as_owner",caption:"Team",tooltip:"Case owner can update the Manage Team section",dependencies:["view_case_team_as_owner"],options:[{permission:"edit_investigative_team_as_owner",caption:"Investigative Team",tooltip:"Case owner can add users to the Investigative Team",dependencies:["view_investigative_team_as_owner"]},{permission:"edit_blacklist_as_owner",caption:"Access Denied List",tooltip:"Case owner can add users to the Access Denied list",dependencies:["view_blacklist_as_owner","view_investigative_team_as_owner"]},{permission:"edit_case_roles_as_owner",caption:"Case Roles",disabled:!0,dependencies:["view_case_as_owner"]}]}]}]},{permission:"investigative_team_member",caption:"Investigative Team Member",type:"group",options:[{caption:"View",sequence:1,permission:"view_case_investigative_team_member",type:"group",options:[{permission:"view_case_as_investigative_team_member",caption:"All",tooltip:"Investigative Team members can view their Case"},{type:"group",caption:"Flags",sequence:2,permission:"view_case_flags_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],options:[{permission:"view_confidential_cases_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],caption:"Confidential",tooltip:"Investigative Team members can view their confidential Cases"}]},{type:"group",permission:"view_case_team_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],caption:"Team",tooltip:"Investigative Team members can view Manage Team section",options:[{permission:"view_investigative_team_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],caption:"Investigative Team",tooltip:"Investigative Team members can view the Investigative Team"},{permission:"view_blacklist_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],caption:"Access Denied List",tooltip:"Investigative Team members can view the Access Denied list"}]}]},{caption:"Edit",tooltip:"Investigative Team members can update their Case",sequence:2,type:"group",permission:"edit_case_as_investigative_team_member",dependencies:["view_case_as_investigative_team_member"],options:[{permission:"edit_case_form_as_investigative_team_member",caption:"Save",tooltip:"Investigative Team members can Edit unrestricted fields",dependencies:["view_case_as_investigative_team_member"]},{permission:"cancel_a_case_as_investigative_team_member",caption:"Cancel a Case",tooltip:"Investigative Team members can cancel their Case",dependencies:["view_case_as_investigative_team_member"]},{permission:"assign_a_case_as_investigative_team_member",caption:"Assign a Case",tooltip:"Investigative Team members can assign their Case",dependencies:["view_case_as_investigative_team_member"]},{permission:"edit_confidential_case_field_as_investigative_team_member",caption:"Mark Case Confidential",tooltip:"Investigative Team members can mark their Case confidential",dependencies:["view_case_as_investigative_team_member"]},{permission:"edit_exclude_from_purge_as_investigative_team_member",caption:"Do Not Purge",tooltip:"Investigative Team members can mark their Case as Do Not Purge",dependencies:["view_case_as_investigative_team_member"]},{permission:"edit_closed_case_as_investigative_team_member",caption:"Edit a Closed Case",tooltip:"Investigative Team members can edit & action a closed Case, and its children",dependencies:["view_case_as_investigative_team_member","edit_case_form_as_investigative_team_member"]},{permission:"save_case_restricted_fields_as_investigative_team_member",caption:"Save Restricted Fields",tooltip:"Investigative Team members can Edit restricted fields",dependencies:["view_case_as_investigative_team_member","edit_case_form_as_investigative_team_member"]},{permission:"submit_case_for_translation_as_investigative_team_member",caption:"Submit for Translation",tooltip:"Investigative Team members can Submit a case for translation",dependencies:["view_case_as_investigative_team_member"],features:["intakeTranslation"]},{permission:"generate_summary_as_investigative_team_member",caption:"Generate Summary",tooltip:"Generate case summary",dependencies:["view_case_as_investigative_team_member"],features:["outcomeAssistant"],warningMessage:{title:"Summaries include all case data",confirm:"Grant permission",cancel:"Cancel",message:'Granting "Generate case summary" permissions allows a user role to download generated summaries, which include all case information.'}},{type:"group",permission:"manage_case_team_as_investigative_team_member",caption:"Team",tooltip:"Investigative Team members can update the Manage Team section",dependencies:["view_case_team_as_investigative_team_member"],options:[{permission:"edit_investigative_team_as_investigative_team_member",caption:"Investigative Team",tooltip:"Investigative Team members can add users to Investigative Team",dependencies:["view_investigative_team_as_investigative_team_member"]},{permission:"edit_blacklist_as_investigative_team_member",caption:"Access Denied List",tooltip:"Investigative Team members can add users to the Denied List",dependencies:["view_blacklist_as_investigative_team_member","view_investigative_team_as_investigative_team_member"]},{permission:"edit_case_roles_as_investigative_team_member",caption:"Case Roles",disabled:!0,dependencies:["view_case_as_investigative_team_member"]}]}]}]}]}]}]},499847:(e,t,i)=>{"use strict";i(428706),e.exports=function(e,t){var i=t.select("filter_operator").from("sys_user_role").whereNull("sys_user_role.deleted_date").where("sys_user_role.sys_active",!0).whereRaw("?? = ??",["sys_user_role.id","u.user_role_id"]),n=t.count("*").from("sys_role_filter").whereNull("sys_role_filter.deleted_date").where("sys_role_filter.sys_active",!0).whereRaw("?? = ??",["sys_role_filter.user_role_id","u.user_role_id"]),a="vw_sys_case_pivot",r="vw_sys_user_pivot",o=t.count("*").from("sys_role_filter").leftJoin(a,"sys_role_filter.case_field_yf","".concat(a,".column_name")).leftJoin(r,"sys_role_filter.user_field_yf","".concat(r,".column_name")).whereNull("sys_role_filter.deleted_date").where("sys_role_filter.sys_active",!0).where("".concat(a,".id"),t.raw("sys_case.id")).where("".concat(r,".id"),t.raw("u.id")).whereRaw("?? = ??",["sys_role_filter.user_role_id","u.user_role_id"]).where((function(e){e.orWhere((function(e){e.whereRaw("sys_role_filter.operator = ?",["="]),e.where((function(e){e.orWhere((function(e){e.where("".concat(a,".value_column"),"text_value").where("".concat(r,".value_column"),"text_value").whereRaw("(".concat(a,".text_value != ").concat(r,".text_value OR (").concat(a,".text_value IS NULL AND ").concat(r,".text_value IS NOT NULL) OR (").concat(a,".text_value IS NOT NULL AND ").concat(r,".text_value IS NULL) OR (").concat(a,".text_value IS NULL AND ").concat(r,".text_value IS NULL))"))})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_value").where("".concat(r,".value_column"),"text_array_value").whereRaw("(NOT ? OR (".concat(a,".text_value IS NULL AND ").concat(r,".text_array_value IS NOT NULL) OR (").concat(a,".text_value IS NOT NULL AND ").concat(r,".text_array_value IS NULL) OR (").concat(a,".text_value IS NULL AND ").concat(r,".text_array_value IS NULL))"),[t.custom.arrayContainsQuery("".concat(a,".text_value"),"".concat(r,".text_array_value"),!0)])})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_array_value").where("".concat(r,".value_column"),"text_value").whereRaw("(NOT ? OR (".concat(a,".text_array_value IS NULL AND ").concat(r,".text_value IS NOT NULL) OR (").concat(a,".text_array_value IS NOT NULL AND ").concat(r,".text_value IS NULL) OR (").concat(a,".text_array_value IS NULL AND ").concat(r,".text_value IS NULL))"),[t.custom.arrayContainsQuery("".concat(r,".text_value"),"".concat(a,".text_array_value"),!0)])})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_array_value").where("".concat(r,".value_column"),"text_array_value").whereRaw("(NOT ? OR (".concat(a,".text_array_value IS NULL AND ").concat(r,".text_array_value IS NOT NULL) OR (").concat(a,".text_array_value IS NOT NULL AND ").concat(r,".text_array_value IS NULL) OR (").concat(a,".text_array_value IS NULL AND ").concat(r,".text_array_value IS NULL))"),[t.custom.arrayIntersectionQuery("".concat(r,".text_array_value"),"".concat(a,".text_array_value"),!0)])}))}))})).orWhere((function(e){e.whereRaw("sys_role_filter.operator = ?",["!="]),e.where((function(e){e.orWhere((function(e){e.where("".concat(a,".value_column"),"text_value").where("".concat(r,".value_column"),"text_value").whereRaw("(".concat(a,".text_value = ").concat(r,".text_value AND NOT (").concat(a,".text_value IS NULL AND ").concat(r,".text_value IS NULL))"))})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_value").where("".concat(r,".value_column"),"text_array_value").whereRaw("(? AND NOT (".concat(a,".text_value IS NULL AND ").concat(r,".text_array_value IS NULL))"),[t.custom.arrayContainsQuery("".concat(a,".text_value"),"".concat(r,".text_array_value"),!0)])})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_array_value").where("".concat(r,".value_column"),"text_value").whereRaw("(? AND NOT (".concat(a,".text_array_value IS NULL AND ").concat(r,".text_value IS NULL))"),[t.custom.arrayContainsQuery("".concat(r,".text_value"),"".concat(a,".text_array_value"),!0)])})).orWhere((function(e){e.where("".concat(a,".value_column"),"text_array_value").where("".concat(r,".value_column"),"text_array_value").whereRaw("(? AND NOT (".concat(a,".text_array_value IS NULL AND ").concat(r,".text_array_value IS NULL))"),[t.custom.arrayIntersectionQuery("".concat(r,".text_array_value"),"".concat(a,".text_array_value"),!0)])}))}))}))}));e.whereRaw("? > CASE WHEN ? = 'any' THEN (? - 1) ELSE 0 END",[o,i,n])}},219308:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604),a=i(414348),r=n.getEditGroupPermissionCode("case"),o={attributes:{owner:"{!user.id}",investigativeTeamMembers:"{!user.id}"}},s={attributes:{owner:"{user.id}",investigativeTeamMembers:"{!user.id}"}},l={attributes:{owner:"{!user.id}",investigativeTeamMembers:"{user.id}"}},d={attributes:{owner:"{user.id}",investigativeTeamMembers:"{user.id}"}},c={attributes:{id:null}},u={attributes:{"!id":null,sysSubmitted:!0,"!dateClosed":null}},p={attributes:{"!id":null,sysSubmitted:!0}},f={attributes:{"!canceled":!0}},h={id:!0,owner:!0,userBlacklist:!0,investigativeTeamMembers:!0,caseNumber:!0,parent:!0,dateRecorded:!0,assignedBy:!0,dateAssigned:!0,createdBySession:!0,pendingPurgeDate:!0,datePurged:!0,purgeReason:!0,apiType:!0,confidential:!0,cancelReason:!0,cancelDate:!0,excludeFromPurge:!0,userLists:!0,canceled:!0,copiedToId:!0,copiedFromId:!0};e.exports=n.initialize().filterMarkForPurge().filterPurge().filterPortalFields().filterHotlineFields().filterRestrictEditFields({roles:["create_case_restricted_fields"],conditions:[c],actions:["save_new"]}).filterRestrictEditFields({roles:["create_case_restricted_fields"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}],actions:["save_existing"]}).filterRestrictEditFields({roles:["save_case_restricted_fields"],conditions:[p,o],actions:["save_existing"]}).filterRestrictEditFields({roles:["save_case_restricted_fields","save_case_restricted_fields_as_owner"],conditions:[p,s],actions:["save_existing"]}).filterRestrictEditFields({roles:["save_case_restricted_fields","save_case_restricted_fields_as_investigative_team_member"],conditions:[p,l],actions:["save_existing"]}).filterRestrictEditFields({roles:["save_case_restricted_fields","save_case_restricted_fields_as_owner","save_case_restricted_fields_as_investigative_team_member"],conditions:[p,s,l],actions:["save_existing"]}).filter({name:"Edit Case Portal Submission Fields On Creation",roles:["edit_case_portal_submission_fields_on_creation"],actions:["save_existing"],conditions:[n.conditionForInternalRecord,{attributes:{"!sysSubmitted":!0,"!id":null}}],filters:{reportedAnonymously:!1},generatePermissions:["external"]}).filter({name:"Edit Case Portal Submission Fields On Creation",roles:["edit_case_portal_submission_fields_on_creation"],actions:["save_new"],conditions:[n.conditionForInternalRecord,{attributes:{id:null,sysSubmitted:!0}}],filters:{reportedAnonymously:!1},generatePermissions:["external"]}).filter({name:"Edit Case Portal Submission Fields After Creation",roles:["edit_case_portal_submission_fields_after_creation"],actions:["save_existing"],conditions:[{attributes:{sysSubmitted:!0,"!id":null}}],filters:{reportedAnonymously:!1}}).filter({name:"Mark Case External",roles:["mark_case_external"],actions:["save_new","save_existing"],conditions:[],filters:{externalRecord:!1}}).filter({name:"View Primary Party Field",roles:["view_party"],actions:["list","load","save_new","save_existing"],conditions:[],filters:{primaryPartyId:!1}}).filter({name:"Edit Do Not Purge Field",roles:["edit_exclude_from_purge"],actions:["save_new","save_existing"],conditions:[o],filters:{excludeFromPurge:!1}}).filter({name:"Edit Do Not Purge As Owner",roles:["edit_exclude_from_purge","edit_exclude_from_purge_as_owner"],actions:["save_new","save_existing"],conditions:[s],filters:{excludeFromPurge:!1}}).filter({name:"Edit Do Not Purge As Investigative Team Member",roles:["edit_exclude_from_purge","edit_exclude_from_purge_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[l],filters:{excludeFromPurge:!1}}).filter({name:"Edit Do Not Purge As Owner And Investigative Team Member",roles:["edit_exclude_from_purge","edit_exclude_from_purge_as_owner","edit_exclude_from_purge_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[d],filters:{excludeFromPurge:!1}}).filter({name:"View Investigative Team",roles:["view_investigative_team"],actions:["list","save_new","save_existing"],conditions:[o],filters:{investigativeTeamMembers:!1}}).filter({name:"View Investigative Tean As Owner",roles:["view_investigative_team","view_investigative_team_as_owner"],actions:["list","save_new","save_existing"],conditions:[s],filters:{investigativeTeamMembers:!1}}).filter({name:"View Investigative Team As Investigative Team Member",roles:["view_investigative_team","view_investigative_team_as_investigative_team_member"],actions:["list","save_new","save_existing"],conditions:[l],filters:{investigativeTeamMembers:!1}}).filter({name:"View Investigative Team As Owner And Investigative Team Member",roles:["view_investigative_team","view_investigative_team_as_owner","view_investigative_team_as_investigative_team_member"],actions:["list","save_new","save_existing"],conditions:[d],filters:{investigativeTeamMembers:!1}}).filter({name:"Edit Investigative Team",roles:["edit_investigative_team"],actions:["save_new","save_existing"],conditions:[o],filters:{investigativeTeamMembers:!1}}).filter({name:"Edit Investigative Team As Owner",roles:["edit_investigative_team","edit_investigative_team_as_owner"],actions:["save_new","save_existing"],conditions:[s],filters:{investigativeTeamMembers:!1}}).filter({name:"Edit Investigative Team As Investigative Team Member",roles:["edit_investigative_team","edit_investigative_team_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[l],filters:{investigativeTeamMembers:!1}}).filter({name:"Edit Investigative Team As Owner And Investigative Team Member",roles:["edit_investigative_team","edit_investigative_team_as_owner","edit_investigative_team_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[d],filters:{investigativeTeamMembers:!1}}).filter({name:"View Blacklist",roles:["view_blacklist"],actions:["load","list","save_new","save_existing"],conditions:[o],filters:{userBlacklist:!1}}).filter({name:"View Blacklist As Owner",roles:["view_blacklist","view_blacklist_as_owner"],actions:["load","list","save_new","save_existing"],conditions:[s],filters:{userBlacklist:!1}}).filter({name:"View Blacklist As Investigative Team Member",roles:["view_blacklist","view_blacklist_as_investigative_team_member"],actions:["load","list","save_new","save_existing"],conditions:[l],filters:{userBlacklist:!1}}).filter({name:"View Blacklist As Owner And Investigative Team Member",roles:["view_blacklist","view_blacklist_as_owner","view_blacklist_as_investigative_team_member"],actions:["load","list","save_new","save_existing"],conditions:[d],filters:{userBlacklist:!1}}).filter({name:"Edit Blacklist",roles:["edit_blacklist"],actions:["save_new","save_existing"],conditions:[o],filters:{userBlacklist:!1}}).filter({name:"Edit Blacklist As Owner",roles:["edit_blacklist","edit_blacklist_as_owner"],actions:["save_new","save_existing"],conditions:[s],filters:{userBlacklist:!1}}).filter({name:"Edit Blacklist As Investigative Team Member",roles:["edit_blacklist","edit_blacklist_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[l],filters:{userBlacklist:!1}}).filter({name:"Edit Blacklist As Owner And Investigative Team Member",roles:["edit_blacklist","edit_blacklist_as_owner","edit_blacklist_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[d],filters:{userBlacklist:!1}}).filter({name:"Assign A Case",roles:["assign_a_case"],actions:["save_new"],conditions:[o,c],filters:{owner:!1}}).filter({name:"Assign A Case",roles:["assign_a_case"],actions:["save_existing"],conditions:[o,{attributes:{"!id":null}}],filters:{owner:!1}}).filter({name:"Assign A Case As Owner",roles:["assign_a_case","assign_a_case_as_owner"],actions:["save_existing"],conditions:[s],filters:{owner:!1}}).filter({name:"Assign A Case As Investigative Team Member",roles:["assign_a_case","assign_a_case_as_investigative_team_member"],actions:["save_existing"],conditions:[l],filters:{owner:!1}}).filter({name:"Assign A Case As Owner And Investigative Team Member",roles:["assign_a_case","assign_a_case_as_owner","assign_a_case_as_investigative_team_member"],actions:["save_existing"],conditions:[d],filters:{owner:!1}}).filter({name:"Edit Confidential Case Field",roles:["edit_confidential_case_field"],actions:["save_new","save_existing"],conditions:[o],filters:{confidential:!1}}).filter({name:"Edit Confidential Case Field As Owner",roles:["edit_confidential_case_field","edit_confidential_case_field_as_owner"],actions:["save_new","save_existing"],conditions:[s],filters:{confidential:!1}}).filter({name:"Edit Confidential Case Field As Investigative Team Member",roles:["edit_confidential_case_field","edit_confidential_case_field_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[l],filters:{confidential:!1}}).filter({name:"Edit Confidential Case Field As Owner And Investigative Team Member",roles:["edit_confidential_case_field","edit_confidential_case_field_as_owner","edit_confidential_case_field_as_investigative_team_member"],actions:["save_new","save_existing"],conditions:[d],filters:{confidential:!1}}).filter({name:"Edit Case Form",roles:["edit_case_form"],actions:["save_existing"],conditions:[o,{attributes:{"!id":null,sysSubmitted:!0}}],filters:h}).filter({name:"Edit Case Form As Owner",roles:["edit_case_form","edit_case_form_as_owner"],actions:["save_existing"],conditions:[s,{attributes:{"!id":null,sysSubmitted:!0}}],filters:h}).filter({name:"Edit Case Form As Investigative Team Member",roles:["edit_case_form","edit_case_form_as_investigative_team_member"],actions:["save_existing"],conditions:[l,{attributes:{"!id":null,sysSubmitted:!0}}],filters:h}).filter({name:"Edit Case Form As Owner And Investigative Team Member",roles:["edit_case_form","edit_case_form_as_owner","edit_case_form_as_investigative_team_member"],actions:["save_existing"],conditions:[d,{attributes:{"!id":null,sysSubmitted:!0}}],filters:h}).filter({name:"Edit Date Submitted After Submit",roles:["edit_date_submitted_after_submit"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}],filters:{dateSubmitted:!1}}).filterViewSourceData().required({name:"Manual Blacklist",roles:["bypass_case_manual_blacklist"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{userBlacklist:"{user.id}"}}]}).required({name:"System Blacklist",roles:["bypass_case_system_blacklist"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{systemBlacklist:"{user.id}"}}]}).required({name:"View Draft Cases",roles:["view_draft_cases"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,{attributes:{sysSubmitted:!1,createdBy:"{!user.id}"}}]}).required({name:"View External Draft Cases",roles:["view_external_draft_cases"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{externalRecord:!0,sysSubmitted:!1,createdBy:"{!user.id}",createdBySession:"{!user.authenticatedBySession}"}}]}).required({name:"View Cross Session Draft Cases",roles:["view_cross_session_draft_cases"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,{attributes:{sysSubmitted:!1,createdBySession:"{!user.loginId}"}}]}).required({name:"View Cross Session External Draft Cases",roles:["view_cross_session_external_draft_cases"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{externalRecord:!0,sysSubmitted:!1}},{attributes:{createdBySession:"{!user.loginId}"}},{attributes:{createdBySession:"{!user.authenticatedBySession}"}}]}).required({name:"View Purged Cases",roles:["view_purged_cases"],actions:["load","list","save_existing","remove"],conditions:[o,{attributes:{"!datePurged":null}}]}).required({name:"View Canceled Cases",roles:["view_canceled_cases"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{canceled:!0}}]}).required({name:"View External Draft Cases as Created By",roles:["view_external_draft_cases_as_created_by"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{createdBy:"{user.id}",externalRecord:!0,sysSubmitted:!1}}]}).required({name:"View Confidential Cases",roles:["view_confidential_cases"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,o,{attributes:{confidential:!0}}],generatePermissions:["external","external_not_created_by"]}).required({name:"View Confidential Cases As Owner",roles:["view_confidential_cases","view_confidential_cases_as_owner"],actions:["load","list","save_existing","remove"],conditions:[s,{attributes:{confidential:!0}}]}).required({name:"View Confidential Cases As Investigative Team Member",roles:["view_confidential_cases","view_confidential_cases_as_investigative_team_member"],actions:["load","list","save_existing","remove"],conditions:[l,{attributes:{confidential:!0}}]}).required({name:"View Confidential Cases As Owner And Investigative Team Member",roles:["view_confidential_cases","view_confidential_cases_as_owner","view_confidential_cases_as_investigative_team_member"],actions:["load","list","save_existing","remove"],conditions:[d,{attributes:{confidential:!0}}]}).required({name:"View Case",roles:["view_case"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,o,f,{attributes:{sysSubmitted:!0}}],generatePermissions:["external","external_not_created_by"]}).required({name:"View Case As Owner",roles:["view_case","view_case_as_owner"],actions:["load","list","save_existing","remove"],conditions:[s,f,{attributes:{sysSubmitted:!0}}]}).required({name:"View Case As Investigative Team Member",roles:["view_case","view_case_as_investigative_team_member"],actions:["load","list","save_existing","remove"],conditions:[l,f,{attributes:{sysSubmitted:!0}}]}).required({name:"View Case As Owner And Investigative Team Member",roles:["view_case","view_case_as_owner","view_case_as_investigative_team_member"],actions:["load","list","save_existing","remove"],conditions:[d,f,{attributes:{sysSubmitted:!0}}]}).required({name:"User Role Filter",roles:["bypass_user_role_filter"],actions:["load","list","save_existing","remove"],conditions:[o,{attributes:{sysSubmitted:!0}},a]}).required({name:"Create Cases",roles:["create_case"],actions:["save_new"],conditions:[n.conditionForInternalRecord,{attributes:{id:null}}],generatePermissions:["external"]}).required({name:"Create Cases",roles:["create_case"],actions:["save_existing"],conditions:[n.conditionForInternalRecord,{attributes:{"!id":null,sysSubmitted:!1}}],generatePermissions:["external"]}).required({name:"Edit Cases",roles:[r],actions:["save_existing"],conditions:[o,{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Edit Closed Cases",roles:["edit_closed_case"],actions:["save_existing"],conditions:[o,u]}).required({name:"Edit Cases As Owner",roles:[r,"edit_case_as_owner"],actions:["save_existing"],conditions:[s,{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Edit Closed Cases As Owner",roles:["edit_closed_case","edit_closed_case_as_owner"],actions:["save_existing"],conditions:[s,u]}).required({name:"Edit Cases As Investigative Team Member",roles:[r,"edit_case_as_investigative_team_member"],actions:["save_existing"],conditions:[l,{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Edit Closed Cases As Investigative Team Member",roles:["edit_closed_case","edit_closed_case_as_investigative_team_member"],actions:["save_existing"],conditions:[l,u]}).required({name:"Edit Cases As Owner And Investigative Team Member",roles:[r,"edit_case_as_owner","edit_case_as_investigative_team_member"],actions:["save_existing"],conditions:[d,{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Edit Closed Cases As Owner And Investigative Team Member",roles:["edit_closed_case","edit_closed_case_as_owner","edit_closed_case_as_investigative_team_member"],actions:["save_existing"],conditions:[d,u]}).required({name:"Remove Cases",roles:["remove_case"],actions:["remove"],conditions:[]}).value()},414348:(e,t,i)=>{"use strict";i(426099),i(874423),i(21699),i(962062),i(428706),i(944114);var n=i(96190);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.entityObj,a=t.entityFields,r=t.fieldName,o=t.enabledFeatures,s=null!==(e=i[r])&&void 0!==e?e:null;return a[r]&&function(e){var t=e.enabledFeatures,i=e.entityFields[e.fieldName];return!(!i||!i.features)&&0===n.intersection(t,i.features).length}({fieldName:r,entityFields:a,enabledFeatures:o})?null:s}e.exports={fn:function(e,t){var i=n.get(t,"user.userRoleId__filters")||[],r=n.get(t,"user.userRoleId__filterOperator")||"all";if(0===i.length)return{ok:!1};var o=("any"===r?n.some:n.every)(i,(function(i){var r=!1,o=i.operator,s=function(e,t,i){return a({entityObj:e,entityFields:i.entDef.fields(),enabledFeatures:i.enabledFeatures,fieldName:t})}(e,i.caseField,t),l=function(e,t){return a({entityObj:t.user,entityFields:t.userEntDefFields,enabledFeatures:t.enabledFeatures,fieldName:e})}(i.userField,t);return r=n.isArray(s)&&n.isArray(l)?n.intersection(s,l).length>0:n.isArray(s)?n.includes(s,l):n.isArray(l)?n.includes(l,s):(null!==s||null!==l)&&s===l,"!="===o&&(r=!r),r}));return{ok:!o}},esFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i={exists:{field:"id"}},a=n.get(e,"user.userRoleId__filters")||[],r=n.get(e,"user.userRoleId__filterOperator")||"all",o=n.map(a,(function(a){var r={},o=a.operator,s=a.caseField,l=n.get(e,"user.".concat(a.userField));return r=n.isArray(l)&&0===l.length||!l?n.set(r,"bool.must_not[0]",i):n.isArray(l)?n.set(r,["terms","".concat(t).concat(s,"._exact")],l):n.set(r,["term","".concat(t).concat(s,"._exact")],l),"!="===o&&(r=n.set({},"bool.must_not[0]",r)),r}));return 0===o.length&&o.push(n.set({},"bool.must[0]",i)),"any"===r?n.set({},"bool.must_not[0].bool.should",o):n.set({},"bool.must_not[0].bool.must",o)},knexFilter:i(499847),selectedFields:i(803613)}},803613:(e,t,i)=>{"use strict";i(962062);var n=i(96190);e.exports=function(e,t){var i=e.entities;(0,e.knexEntity)(i.get("sys/role_filter")).list({q:{},distinct:["caseField"],fields:["caseField"],limit:-1},(function(e,i){return e?t(e):t(null,n.map(i,"case_field"))}))}},406604:e=>{"use strict";var t={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["caseNumber"]:[]}};e.exports={cmd:{load:{viewed:{options:{reference:t}}},purge:{purged:{options:{reference:t}}},links_purge:{purged_links:{options:{reference:t}}},save:{created:{options:{reference:t}},added_case_summary:{condition:{composite:"all",rules:[{path:"diff.caseSummary.updatedValue",comparator:"exists"},{path:"diff.caseSummary.originalValue",comparator:"nexists"}]},options:{changes:{displayFields:["caseSummary"]},reference:t}},updated_case_summary:{condition:{composite:"all",rules:[{path:"diff.caseSummary.updatedValue",comparator:"neq",value:"diff.caseSummary.originalValue"},{path:"diff.caseSummary.originalValue",comparator:"exists"},{path:"diff.caseSummary.updatedValue",comparator:"exists"}]},options:{changes:{displayFields:["caseSummary"]},reference:t}},removed_case_summary:{condition:{composite:"all",rules:[{path:"diff.caseSummary.updatedValue",comparator:"nexists"},{path:"diff.caseSummary.originalValue",comparator:"exists"}]},options:{changes:{displayFields:["caseSummary"]},reference:t}},updated:{options:{changes:{excludeFields:["caseNumber","lastUpdatedDate","lastUpdatedBy","id","owner","daysToClose","systemBlacklist"]},reference:t}},assigned:{condition:{composite:"all",rules:[{path:"diff.caseNumber",comparator:"nexists"},{path:"diff.owner",comparator:"exists"},{path:"diff.owner.originalValue",comparator:"nexists"},{path:"diff.owner.updatedValue",comparator:"exists"}]},options:{changes:{displayFields:["owner","reassignReason"]},reference:t}},reassigned:{condition:{composite:"all",rules:[{path:"diff.caseNumber",comparator:"nexists"},{path:"diff.owner",comparator:"exists"},{path:"diff.owner.originalValue",comparator:"exists"},{path:"diff.owner.updatedValue",comparator:"exists"}]},options:{changes:{displayFields:["owner","reassignReason"]},reference:t}},unassigned:{condition:{composite:"all",rules:[{path:"diff.caseNumber",comparator:"nexists"},{path:"diff.owner",comparator:"exists"},{path:"diff.owner.originalValue",comparator:"exists"},{path:"diff.owner.updatedValue",comparator:"nexists"}]},options:{changes:{displayFields:["owner","reassignReason"]},reference:t}},canceled:{condition:{composite:"all",rules:[{path:"diff.canceled.updatedValue",comparator:"eq",value:!0}]},options:{changes:{displayFields:["cancelReason"]},reference:t}},restored:{condition:{composite:"all",rules:[{path:"diff.canceled.originalValue",comparator:"eq",value:!0},{path:"diff.canceled.updatedValue",comparator:"eq",value:!1}]},options:{changes:{displayFields:["restoreReason"]},reference:t}}},translate_record:{status:{condition:{composite:"all",rules:[{path:"entity.intakeTranslationStatus",comparator:"exists"}]},options:{changes:{displayFields:["intakeTranslationStatus"]},reference:t}}}}}},830817:(e,t,i)=>{"use strict";e.exports=[{id:"overview",caption:"overview",view:function(){return i(605366)},default:!0,formConfigName:"external-case-overview"},{id:"dynamic-tabs-insertion-point",caption:"dynamic_tabs_insertion_point"}]},472785:(e,t,i)=>{"use strict";e.exports=[{id:"dynamic-tabs-insertion-point",caption:"dynamic_tabs_insertion_point"},{id:"related_cases",caption:"related_cases",view:function(){return i(10314)},model:function(){return i(556395)},navView:function(){return i(959279)},displayRule:"canViewRelatedCases"},{id:"related_people",caption:"related_people",view:function(){return i(361384)},model:function(){return i(556395)},displayRule:"canViewRelatedPeople"}]},758415:(e,t,i)=>{"use strict";i(962062),i(426099),i(423500),i(123792),i(962953);var n=i(96190),a=i(122268);e.exports={todosClosed:{caption:"to_dos_must_be_closed",fn:function(e,t){var i=e.seneca,a=e.data;i.make$("sys/todo").list$({limit$:1,caseId:a.id,status:"pending"},(function(e,i){return e?t(e):n.isEmpty(i)?t(null,!0):t(null,!1)}))}},caseOwnerAssigned:{caption:"case_owner_must_be_assigned",fn:function(e,t){return e.data.owner?t(null,!0):t(null,!1)}},caseChildFormsMustExist:{caption:"the_following_forms_must_be_added_to_the_case",requiresContextFields:["mustExistForms","mustMatchAll"],enableOnlyFor:["sys/transition"],getAlternateCaption:function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeData.mustMatchAll?e?"add_the_following_forms_to_the_case":"all_of_the_following_forms_have_been_added_to_the_case":e?"add_at_least_1_of_the_following_forms_to_the_case":"at_least_1_of_the_following_forms_has_been_added_to_the_case"},getContextInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conditionType.typeData.mustExistForms__canon;return n.map(e,(function(e){var t=n.isNil(e);return{entityCanon:e,translationInfo:{groupName:t?"errors":e,subgroupName:"general",key:t?"unknown_entity":"name"},inactiveEntity:t}}))},fn:function(e,t){var i=e.entityService,r=e.dynamicEntityService,o=e.knexEntity,s=e.data,l=e.includeInactive,d=void 0!==l&&l,c=e.rule,u=s.context,p=s.id,f=null==c?void 0:c.submissionType,h=u.mustMatchAll,m=u.mustExistForms__canon,g="Portal"===f,y={};if(!p)return n.forEach(m,(function(e){y[e]=!1})),t(null,!1,y);a.each(m,(function(e,t){if(null===e)return g?t():(y[e]=!1,t(null,!1));!function(e,t){var n=i.get(e);n?t(null,n):r.get({entityName:e},t)}(e,(function(i,n){if(i)return t(i);var a="custom"===n.type;if(g&&a&&!n.allowOnPortal)return t();var r=o(n),s={caseId:p,datePurged:null};n.isDynamicEntity()&&(s.entityId=n.dynamicEntityId),r.count({q:s,includeInactive:d},(function(i,n){if(i)return t(i);y[e]=n>0,t()}))}))}),(function(e){if(e)return t(e);var i=h?n.every(y,Boolean):n.some(y,Boolean);return t(null,i,y)}))}},automaticLinkedCasesClosed:{caption:"all_automatic_linked_cases_must_be_closed",fn:function(e,t){var i=e.entityService,r=e.knexEntity,o=e.data,s="sys/case";a.parallel({otherLinkedCaseIds:function(e){var t=i.get("sys/link");r(t).list({limit:-1,q:{entity1Id:o.id,type:"Automatic"},fields:["entity2Id"]},(function(t,i){return t?e(t):e(null,n.map(i,"entity2Id"))}))},entStatusNames:function(e){var t=i.get("sys/workflow");r(t).list({q:{entityName:s},fields:["entStatusField"]},(function(t,i){return t?e(t):e(null,n.map(i,"entStatusField"))}))}},(function(e,a){var o=a.otherLinkedCaseIds,l=a.entStatusNames;if(e)return t(e);if(n.isEmpty(o))return t(null,!0);if(n.isEmpty(l))return t(null,!0);var d=i.get(s);r(d).list({q:function(e){n.each(o,(function(t){e.orWhere("".concat(d.table,".id"),t)}))},fields:l},(function(e,a){if(e)return t(e);if(n.isEmpty(a))return t(null,!0);var o=n.flatMapDeep(a,(function(e){var t=n.pick(e,l);return n.values(t)})),s=i.get("sys/state");r(s).count({q:function(e){e.whereIn("".concat(s.table,".id"),n.uniq(o)).andWhere("".concat(s.table,".primary_state"),"Open")}},(function(e,i){return e?t(e):t(null,!(i>0))}))}))}))}}}},16650:e=>{"use strict";e.exports={"main-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"lastWorkflowStateId"},{field:"primaryPartyId"},{field:"owner"},{field:"createdDate"}],defaultDynamicDataFilters:["createdDate","owner","caseType"]},"main-cases-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"createdDate"}]},"default-grid-view-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseType"},{field:"status"},{field:"primaryPartyId"},{field:"owner"},{field:"createdDate"}],defaultDynamicDataFilters:[{fieldName:"owner",fieldValues:["currentUser"],selectedFilterOptions:["currentUser"],operator:"is_any"},"caseType","createdDate"],defaultOptionalStaticDataFilters:[{filterName:"case_status",selectedFilterOptions:["open"]}]},"favorite-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"}]},"canceled-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"cancelDate"},{field:"createdDate"}],defaultDynamicDataFilters:["owner","createdDate","lastUpdatedDate"]},"advanced-search-result-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"}]},"search-result-cases-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"}]},"search-result-cases-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"},{field:"pendingPurgeDate"}]},"cases-queue":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"}]},"list-cases":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseNumber"},{field:"caseType"},{field:"owner"},{field:"createdDate"}]}}},118799:e=>{"use strict";e.exports=[{from:["/external/case/{id}"],to:"/external/cases"},{from:["/external/cases"],to:"external/case/{id}"},{from:[],to:"/case/{id}"},{from:[],to:"/cases"}]},464099:(e,t,i)=>{"use strict";var n=i(648160),a=i(251416),r=i(963311),o=n(i(969987),r);e.exports=n(o,{db:"default",table:"sys_case",entity:{base:"sys",name:"case"},joins:[{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}],normalizeMultiValuePicklistEntries:!0,allowExternalSearch:!0===a.twoWayPortalEnabled,allowOnHotline:!0,caption:"Case",captionPlural:"Cases",addCaption:"Add Case",newCaption:"New Case",gridDescriptorField:"caseNumber",customWorkflows:!0,ruleEvents:!0,allowDataAggregation:!0,allowAdvancedSearch:!0,allowQuickSearch:!0,dataExport:!0,allowPurge:!0,report:!0,partiallyDynamic:!0,createPivotView:!0,enablePortalUserNotifications:!0,excludeFromAggregation:!0,acl:i(219308),aclHierarchy:i(610),audit:i(406604),rules:i(182228),grids:i(16650),validation:i(948872),historyNav:i(118799),workflowHistoryUrl:"/case/{id}/history/workflowHistory",icon:"fa-folder-o",identifierField:"caseNumber",includeInDataDictionary:!0,enableRecordSourceView:!0,usageStatistics:i(895930),staticFieldWorkflows:[i(683641),i(273630),i(599435),i(313179),i(713872)],entityEvaluators:i(758415),model:function(){return i(687895)},collection:function(){return i(205260)},view:function(){return i(766629)},caseDetailsTabs:i(472785),caseDetailsTabsExternal:i(830817),rowTemplates:{small:function(){return i(993313)},medium:function(){return i(275297)},tiny:function(){return i(883632)}},esDefaultFilters:function(){var e=this.query("es");return e.and([e.is_not("canceled",!0),e.is_not("sysActive",!1)]).toQuery()},fields:[{field:"caseNumber",type:"sequenceNumber",caption:"Case #",kind:"system",gridWidth:160,esBoost:3,excludeFromRedact:!0,dbIndex:!0,dbIndexType:"hash",cellTemplate:function(e){return e.readFileSync("//cell-templates/case-number-cell-tmpl.dust","utf8")},showOnPortal:!0},{field:"confidential",type:"yesno",typeOptions:{allowNull:!0},caption:"Confidential",kind:"editable"},{field:"cancelDate",type:"datetime",caption:"Case Cancel Date",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}}},{field:"cancelReason",type:"picklist",caption:"Case Cancel Reason",typeOptions:{picklistName:"cancel_reasons"},kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}}},{field:"caseType",type:"picklist",caption:"Case Type",typeOptions:{picklistName:"case_types",availableForCaseFiltering:!0},kind:"editable"},{field:"parent",type:"id",caption:"Case Parent",kind:"hidden"},{field:"dateRecorded",type:"datetime",caption:"Date Recorded",kind:"system"},{field:"dateClosed",type:"datetime",caption:"Date Closed",kind:"system"},{field:"reportedBy",type:"user",caption:"Reported By",kind:"system"},{field:"investigativeTeamMembers",type:"user[]",caption:"Investigative Team Members",kind:"editable"},{field:"userBlacklist",type:"user[]",caption:"User Denied Access",kind:"editable"},{field:"systemBlacklist",type:"user[]",caption:"System Blacklist",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,gridExportable:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,reportable:!1}}},{field:"assignedBy",type:"user",caption:"Assigned By",kind:"system"},{field:"owner",type:"user",caption:"Case Owner",kind:"editable",typeOptions:{roleFilter:"case_owner"},alwaysInApiSelectedFields:!0},{caption:"Assign Reason",field:"reassignReason",type:"picklist",typeOptions:{picklistName:"reassign_reasons"},kind:"editable",alwaysInApiSelectedFields:!0},{field:"caseEmail",type:"json",kind:"hidden",caption:"Case Email"},{field:"dateAssigned",type:"datetime",caption:"Date Assigned",kind:"system"},{field:"createdBySession",type:"id",caption:"Created By Session",kind:"hidden",showOnHotline:!0},{field:"lastSnapshotGenerationDate",type:"datetime",caption:"Last Snapshot Generation Date",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}},excludeFromRedact:!0,showOnHotline:!0},{field:"excludeFromPurge",kind:"editable"},{field:"acceptTermsAndConditions",caption:"Terms and Conditions",type:"checkbox",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!0,gridExportable:!1,reportable:!0}},showOnPortal:!0},{field:"primaryPartyId",type:"primaryParty",caption:"Primary Party",kind:"system"},{field:"canceled",type:"yesno",caption:"Canceled",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}},excludeFromRedact:!0,showOnHotline:!0},{field:"restoreReason",type:"picklist",caption:"Case Restore Reason",typeOptions:{picklistName:"restore_reasons"},kind:"editable"},{field:"openBusinessDays",type:"number",caption:"Open Business Days",kind:"system"},{field:"totalBusinessDays",type:"number",caption:"Total Business Days",kind:"system"},{field:"openCalendarDays",type:"number",caption:"Open Calendar Days",kind:"system"},{field:"totalCalendarDays",type:"number",caption:"Total Calendar Days",kind:"system"},{field:"lastCaseAgeSyncDate",caption:"Last Case Age Sync Date",type:"datetime",kind:"hidden",showOnHotline:!0},{field:"createdCalendarYear",type:"number",caption:"Created Calendar Year",kind:"system",typeOptions:{format:"0000"}},{field:"createdCalendarMonth",type:"number",caption:"Created Calendar Month",kind:"system"},{field:"createdCalendarWeek",type:"number",caption:"Created Calendar Week",kind:"system"},{field:"createdCalendarQuarter",type:"number",caption:"Created Calendar Quarter",kind:"system"},{field:"createdFiscalYear",type:"number",caption:"Created Fiscal Year",kind:"system",typeOptions:{format:"0000"}},{field:"createdFiscalMonth",type:"number",caption:"Created Fiscal Month",kind:"system"},{field:"createdFiscalWeek",type:"number",caption:"Created Fiscal Week",kind:"system"},{field:"createdFiscalQuarter",type:"number",caption:"Created Fiscal Quarter",kind:"system"},{field:"closedCalendarYear",type:"number",caption:"Closed Calendar Year",kind:"system",typeOptions:{format:"0000"}},{field:"closedCalendarMonth",type:"number",caption:"Closed Calendar Month",kind:"system"},{field:"closedCalendarWeek",type:"number",caption:"Closed Calendar Week",kind:"system"},{field:"closedCalendarQuarter",type:"number",caption:"Closed Calendar Quarter",kind:"system"},{field:"closedFiscalYear",type:"number",caption:"Closed Fiscal Year",kind:"system",typeOptions:{format:"0000"}},{field:"closedFiscalMonth",type:"number",caption:"Closed Fiscal Month",kind:"system"},{field:"closedFiscalWeek",type:"number",caption:"Closed Fiscal Week",kind:"system"},{field:"closedFiscalQuarter",type:"number",caption:"Closed Fiscal Quarter",kind:"system"},{field:"externalRecord",type:"checkbox",caption:"External",kind:"editable",typeOptions:{allowNull:!1},showOnPortal:!0,showOnHotline:!0},{field:"reportedAnonymously",type:"yesno",caption:"Reported Anonymously",kind:"editable-external",typeOptions:{allowNull:!0},showOnPortal:!0,showOnHotline:!0},{field:"intakeMethod",type:"picklist",typeOptions:{picklistName:"intake_methods"},caption:"Intake Method",kind:"system",showOnPortal:!0},{field:"reporterAccess",type:"yesno",caption:"Reporter Access",kind:"system",showOnPortal:!0},{field:"caseSummary",type:"texteditor",caption:"Case Summary",kind:"editable",features:["outcomeAssistant"]},{field:"caseState",type:"picklist",caption:"Case State",typeOptions:{picklistName:"case_states"},kind:"system"}],reportOptions:{virtualJoinFields:[{referenceField:"primaryPartyId",joinField:"partyName",canon:"sys/party",caption:"Primary Party Name"},{referenceField:"lastWorkflowStateId",joinField:"name",canon:"sys/state",caption:"Last Workflow Status Name",bypassAcl:!0}]},queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0),!0!==i.showCanceledCases$&&t.is_not("canceled",!0)])}})},182228:e=>{"use strict";e.exports={isExcludedFromPurge:function(e){return!0===e.excludeFromPurge},isMarkedOrPurged:function(e){return!!e.pendingPurgeDate||!!e.datePurged},isConfidential:function(e){return!0===e.confidential},isExternal:function(e){return!0===e.externalRecord},isNew:function(e){return!e.id},isDraft:function(e){return!!e.id&&!0!==e.sysActive},isHotlineIntakeMethod:function(e){return"hotline"===e.intakeMethod}}},683641:e=>{"use strict";e.exports={name:"case-cancel-static-workflow",field:"canceled",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:!0,onSet:{cancelDate:"{now}"},onUnset:{cancelDate:null,cancelReason:null},indicator:"default"},{value:!1,onUnset:{restoreReason:null}}],strict:!0,transitions:[{id:"case-create",from:[null,void 0],to:[!1,!0]},{id:"case-cancelled",caption:"case_canceled",from:!1,to:!0,roles:["cancel_a_case",{role:"cancel_a_case_as_owner",condition:{owner:"{user.id}"}},{role:"cancel_a_case_as_investigative_team_member",condition:{investigativeTeamMembers:"{user.id}"}}],conditions:["hasCancelReason","isNotScheduled"],displayRule:"(!isClosed || canEditWhenClosed) && !caseCanceled"},{id:"case-restored",caption:"case_restored",from:!0,to:!1,roles:["restore_a_case"],conditions:["hasRestoreReason","isNotScheduled","isNotPurged"],displayRule:"!isClosed || canEditWhenClosed"}],conditions:[{affectsUi:!1,name:"hasRestoreReason",message:"restoreReason not supplied",attributes:{restoreReason:"*!empty"}},{affectsUi:!1,name:"hasCancelReason",message:"cancelReason not supplied",attributes:{cancelReason:"*!empty"}},{affectsUi:!0,name:"isNotPurged",message:"Case is scheduled for purge or purged",attributes:{datePurged:"*empty"}},{affectsUi:!0,name:"isNotScheduled",message:"Case is scheduled for purge",attributes:{pendingPurgeDate:"*empty"}}]}},599435:e=>{"use strict";e.exports={name:"case-closed",field:"dateClosed",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:"*!empty",indicator:"success"}],transitions:[],conditions:[]}},713872:e=>{"use strict";e.exports={name:"case-intake-translation-status",field:"intakeTranslationStatus",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:"complete",indicator:"success"},{value:"pending",indicator:"warning"},{value:"error",indicator:"danger"},{value:null}],strict:!0,transitions:[{id:"case-intake-translation-status-blank",from:[null,void 0],to:[null,void 0]},{id:"case-intake-translation-status-initial",from:[null,void 0],to:"pending"},{id:"case-intake-translation-status-complete",from:"pending",to:"complete"},{id:"case-intake-translation-status-error",from:"pending",to:"error"},{id:"case-intake-translation-status-pending",from:["complete","error"],to:"pending"}],conditions:[],displayRule:"shouldShowTranslationStatusWorkflow"}},273630:e=>{"use strict";e.exports={name:"date-purged",field:"datePurged",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:"*!empty",indicator:"danger"}],transitions:[],conditions:[]}},313179:e=>{"use strict";e.exports={name:"external-record-workflow",field:"externalRecord",entity:{zone:void 0,base:"sys",name:"case"},values:[{value:!0,indicator:"default"},{value:!1},{value:null}],strict:!1,transitions:[],conditions:[],displayRule:"!signedInAsPortalUser && !signedInAsHotlineUser"}},895930:(e,t,i)=>{"use strict";var n=i(342141)("sys_case");e.exports=[{category:"case",key:"totalCases",query:n.countActiveEntity()},{category:"case",key:"casesBySource",query:n.countActiveEntityByPicklistGroup({listItemWhere:function(){this.whereNot("sys_listitem.value","appointment")}}),options:{groupingField:"record_source",picklistName:"record_sources",datasetTranslation:function(e,t){var i=n.getTranslationFilter(this.key),a=e;"web"===e?a={key:"internal"}:"external"===e?a={key:"external"}:"email"===e&&(a={key:"email_source"});var r=t(a,!0,{dataset:e},e);return t(i,!0,{dataset:r},r)}}},{category:"case",key:"casesByIntakeMethod",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"intake_method",picklistName:"intake_methods"}},{category:"case",key:"totalOpenWebCasesByCaseType",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("date_closed").andWhere("record_source","web")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalOpenWebCases",query:n.countActiveEntity({where:function(){this.whereNull("date_closed").andWhere("record_source","web")}})},{category:"case",key:"totalClosedWebCases",query:n.countActiveEntity({where:function(){this.whereNotNull("date_closed").andWhere("record_source","web")}})},{category:"case",key:"totalOpenExternalCasesByCaseType",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("date_closed").andWhere("record_source","external")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalOpenExternalCases",query:n.countActiveEntity({where:function(){this.whereNull("date_closed").andWhere("record_source","external")}})},{category:"case",key:"totalClosedExternalCases",query:n.countActiveEntity({where:function(){this.whereNotNull("date_closed").andWhere("record_source","external")}})},{category:"case",key:"totalOpenEmailCasesByCaseType",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("date_closed").andWhere("record_source","email")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalOpenEmailCases",query:n.countActiveEntity({where:function(){this.whereNull("date_closed").andWhere("record_source","email")}})},{category:"case",key:"totalClosedEmailCases",query:n.countActiveEntity({where:function(){this.whereNotNull("date_closed").andWhere("record_source","email")}})},{category:"case",key:"totalOpenOtherRecordCasesByCaseType",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("date_closed").whereNotIn("record_source",["email","external","web"])}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalOpenOtherRecordCases",query:n.countActiveEntity({where:function(){this.whereNull("date_closed").whereNotIn("record_source",["email","external","web"])}})},{category:"case",key:"totalClosedOtherRecordCases",query:n.countActiveEntity({where:function(){this.whereNotNull("date_closed").whereNotIn("record_source",["email","external","web"])}})},{category:"case",key:"draftCases",private:!0,query:n.countEntity({where:function(){this.where("sys_case.sys_submitted",!1)}})},{category:"case",key:"casesByType",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalClosedCases",query:n.countActiveEntity({where:function(){this.whereNotNull("date_closed")}})},{category:"case",key:"closedCasesToday",query:n.countActiveEntityByPicklistGroupToday({where:function(){this.whereNotNull("date_closed")}}),options:{dateField:"date_closed",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"openCasesToday",query:n.countActiveEntityByPicklistGroupToday({where:function(){this.whereNull("date_closed")}}),options:{dateField:"created_date",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"canceledCases",query:n.countActiveEntity({where:function(){this.where("canceled",!0)}})},{category:"case",key:"totalOpenCases",query:n.countActiveEntity({where:function(){this.whereNull("date_closed")}})},{category:"case",key:"assignedCases",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNotNull("owner")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"unassignedCases",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("owner")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"assignedOpenCases",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNotNull("owner").whereNull("date_closed")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"unassignedOpenCases",query:n.countActiveEntityByPicklistGroup({where:function(){this.whereNull("owner").whereNull("date_closed")}}),options:{groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"openBusinessDays",query:n.averageActiveEntityByPicklistGroup(),options:{averageField:"open_business_days",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"openCalendarDays",query:n.averageActiveEntityByPicklistGroup(),options:{averageField:"open_calendar_days",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalBusinessDays",query:n.averageActiveEntityByPicklistGroup(),options:{averageField:"total_business_days",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalCalendarDays",query:n.averageActiveEntityByPicklistGroup(),options:{averageField:"total_calendar_days",groupingField:"case_type",picklistName:"case_types"}},{category:"case",key:"totalCasesWithUserInInvestigativeTeam",query:n.countActiveEntity({where:function(){this.whereNotNull("investigative_team_members")}})},{category:"case",key:"totalCasesWithUserInBlacklist",query:n.countActiveEntity({where:function(){this.whereNotNull("user_blacklist")}})},{category:"case",key:"totalExternalCasesSubmittedAnonymously",query:n.countActiveEntity({where:function(e){e.where({reported_anonymously:!0,sys_submitted:!0}).andWhere((function(e){e.orWhere("external_record",!0).orWhere("intake_method","hotline")}))}})},{category:"case",key:"totalExternalCasesNotSubmittedAnonymously",query:n.countActiveEntity({where:function(e){e.where({reported_anonymously:!1,sys_submitted:!0}).andWhere((function(e){e.orWhere("external_record",!0).orWhere("intake_method","hotline")}))}})}]},948872:e=>{"use strict";e.exports={mandatory$:[],dependentMandatory$:[{condition:"isNew",fields:["intakeMethod"]},{condition:"(isExternal || isHotlineIntakeMethod) && (isNew || isDraft)",fields:["reportedAnonymously"],customTranslationKeys:{reportedAnonymously:"would_you_like_to_remain_anonymous"}},{condition:"isExternal && !isHotlineIntakeMethod",fields:["acceptTermsAndConditions"]}]}},75761:(e,t,i)=>{"use strict";var n=i(648160),a=i(878705);e.exports=n(a,{db:"default",table:"sys_case_summary",entity:{base:"sys",name:"caseSummary"},audit:{allowNavigateTo:!1,cmd:{load:{viewed:{options:{reference:{displayFields:["createdDate"]}}}},save:{created:{options:{reference:{displayFields:["createdDate"]}}},updated:{options:{changes:{excludeFields:["id"]},reference:{displayFields:["createdDate"]}}}},remove:{deleted:{options:{reference:{displayFields:["createdDate"]}}}}}},validation:{mandatory$:["content"]},search:!1,allowAdvancedSearch:!1,allowQuickSearch:!1,dataExport:!1,customForm:!1,report:!1,excludeFromAggregation:!0,caption:"Case Summary",captionPlural:"Case Summaries",addCaption:"Add Case Summary",newCaption:"New Case Summary",model:function(){return i(356182)},fields:[{field:"type",caption:"Summary Type",type:"textbox",kind:"system"},{field:"content",caption:"Summary Content",type:"texteditor",kind:"system"},{field:"publishedDate",caption:"Published Date",type:"datetime",kind:"system"},{field:"liked",caption:"Is Liked?",type:"yesno",kind:"editable",typeOptions:{allowNull:!0}},{field:"tokens",caption:"Token Usage",type:"number",kind:"system"}]})},180562:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"case",caption:"Comments",permission:"comment",options:[{permission:"view_comment",caption:"View",tooltip:"View Comments",sequence:2},{permission:"create_comment",caption:"Create",tooltip:"Add Comments",sequence:1},{type:"group",caption:"Edit",sequence:3,disabled:!0,permission:n.getEditGroupPermissionCode("comment"),options:[{caption:"Save",disabled:!0,permission:"edit_comment"}]},{permission:"remove_comment",caption:"Remove",tooltip:"Delete Comments",sequence:4,dependencies:["view_comment"]}]}]},647100:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Comments",roles:["view_comment"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Comments",roles:["create_comment"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Comments",roles:["edit_comment"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Comments",roles:["remove_comment"],actions:["remove"],conditions:[]}).requireCaseLoadInheritance().required({name:"Inherit case save acl when parent is not note/todo",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!caseId":null,"!parentType":["todo","note"]}},"sys/case::{caseId}::save"]}).required({name:"Inherit note load acl",roles:["agent"],actions:["load","list"],conditions:[{attributes:{parentType:"note"}},"sys/note::{parentId}::load"]}).required({name:"Inherit note save acl",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{parentType:"note"}},"sys/note::{parentId}::save"]}).required({name:"Inherit todo load acl",roles:["agent"],actions:["load","list"],conditions:[{attributes:{parentType:"todo"}},"sys/todo::{parentId}::load"]}).required({name:"Inherit todo save acl",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{parentType:"todo"}},"sys/todo::{parentId}::save"]}).value()},424859:e=>{"use strict";e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,navigateTo:{id:"parentId",type:"parentType"},cmd:{save:{created:{options:{changes:{displayFields:["details"]},reference:{displayFields:["parentType","parentNumber"]}}}},remove:{deleted:{options:{reference:{displayFields:["parentType","parentNumber"]}}}}}}},405973:e=>{"use strict";e.exports={"note-comments":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"createdBy"},{field:"details"},{field:"createdDate"}]},"todo-comments":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"createdBy"},{field:"details"},{field:"createdDate"}]}}},884292:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_comment",entity:{base:"sys",name:"comment"},caption:"Comment",captionPlural:"Comments",addCaption:"Add Comment",newCaption:"New Comment",gridDescriptorField:"details",acl:i(647100),aclHierarchy:i(180562),audit:i(424859),grids:i(405973),validation:i(129329),icon:"fa-comment-o",includeInDataDictionary:!0,dataExport:!0,allowPurge:!0,report:!1,excludeFromAggregation:!0,usageStatistics:i(482167),model:function(){return i(944366)},collection:function(){return i(161199)},view:function(){return i(383645)},parents:[{entity:{base:"sys",name:"note"},field:"parentId",filter:{parentType:"note"}},{entity:{base:"sys",name:"todo"},field:"parentId",filter:{parentType:"todo"}},{entity:{base:"sys",name:"case"},field:"caseId",reportable:!0}],esDefaultFilters:function(){var e=this.query("es");return e.and([e.is_not("caseId__canceled",!0),e.is_not("sysActive",!1),e.is_not("sysSubmitted",!1)]).toQuery()},rowTemplates:{small:function(){return i(591172)},tiny:function(){return i(236831)}},fields:[{field:"parentId",type:"id",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},dbIndex:!0,caption:"Parent Id"},{field:"parentType",type:"code",caption:"Parent Type",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},dbIndex:!0},{field:"parentNumber",type:"textbox",caption:"Parent #",kind:"editable"},{field:"details",type:"textarea",caption:"Comment",kind:"editable"},{field:"caseId",type:"case",caption:"Case",kind:"editable"}],joins:[{referenceField:"parentId",table:"sys_todo",fields:["responsible"]}]})},482167:(e,t,i)=>{"use strict";var n=i(342141)("sys_comment");e.exports=[{category:"comment",key:"totalComments",query:n.countActiveEntity()}]},129329:e=>{"use strict";e.exports={mandatory$:["details"]}},572956:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked Condition",roles:["save_delete_hard_locked_condition"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).value()},192292:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_condition",entity:{base:"sys",name:"condition"},search:!1,api:{useGenericApi:!0},caption:"Criteria",captionPlural:"Criteria",addCaption:"Add Criteria",newCaption:"New Criteria",acl:i(572956),validation:i(59153),customDependencies:["sys/workflow","sys/transition","sys/rule","sys/rule_entity_validation"],importTransformer:"condition",copyPostAction:"condition",copyTransformer:"condition",fields:[{field:"mustMatchAll",type:"yesno",caption:"Must match all filter items",kind:"system"},{field:"typesDenormalized",type:"json[]",caption:"Criteria Types",kind:"system"},{field:"entityId",type:"entityPicklist",caption:"Entity Name",kind:"editable"}]})},59153:e=>{"use strict";e.exports={mandatory$:["mustMatchAll"]}},836321:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked Condition Type",roles:["save_delete_hard_locked_condition_type"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).required({name:"Inherit Condition acl",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:["sys/condition::{conditionId}"]}).value()},230801:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_condition_type",entity:{base:"sys",name:"conditionType"},search:!1,parents:[{entity:{base:"sys",name:"condition"},field:"conditionId"}],acl:i(836321),validation:i(441002),caption:"Condition Type",captionPlural:"Condition Types",addCaption:"Add Condition Type",newCaption:"New Condition Type",importTransformer:"conditionType",copyPostAction:"conditionType",fields:[{field:"type",type:"textbox",caption:"Condition Type",kind:"system"},{field:"conditionId",type:"id",caption:"Condition Id",kind:"system"},{field:"typeDataId",type:"id",caption:"Condition Type Id",kind:"system"}]})},441002:e=>{"use strict";e.exports={mandatory$:["conditionId","type"]}},595687:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Manage Data Dictionary Snapshots",roles:["view_data_dictionary"],actions:["load","list","save_new","save_existing","remove"],conditions:[]}).value()},842063:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_data_dictionary_snapshot",entity:{base:"sys",name:"data_dictionary_snapshot"},caption:"Data Dictionary Snapshot",captionPlural:"Data Dictionary Snapshots",addCaption:"Add Data Dictionary Snapshot",newCaption:"New Data Dictionary Snapshot",acl:i(595687),dataExport:!1,allowPurge:!1,report:!1,search:!1,fields:[{field:"fileId",type:"code",kind:"system",caption:"File Id"},{field:"fileName",type:"textbox",kind:"system",caption:"File Name"}]})},333249:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Data Form Entries",permission:"view_data_form_entry_settings",parentPermission:"view_data_settings",options:[{permission:"create_data_form_entry",caption:"Create",tooltip:"Add Data Form Entries",sequence:1},{permission:"view_data_form_entry",caption:"View",tooltip:"View Data Form Entries",sequence:2},{type:"group",permission:n.getEditGroupPermissionCode("data_form_entry"),caption:"Edit",dependencies:["view_data_form_entry"],sequence:3,options:[{permission:"edit_data_form_entry",caption:"Save",tooltip:"Edit Data Form Entries",dependencies:["view_data_form_entry"]}]},{permission:"remove_data_form_entry",caption:"Remove",tooltip:"Delete Data Form Entries",sequence:4,dependencies:["view_data_form_entry"]}]}]},710563:(e,t,i)=>{"use strict";i(202008),i(426099),i(874423),i(21699),i(944114);var n=i(96190),a=i(553604);e.exports=a.initialize().filterMarkForPurge().filterPurge().filter({name:"View Static Data Form Entry Fields",roles:["view_static_data_form_entry_fields"],control:"filter",actions:["list","load"],conditions:[],filters:{fn:function(e,t){var i,a=["id","entityId","entityId__name"],r=null==t||null===(i=t.entDef)||void 0===i?void 0:i.fields(),o={};return n.each(r,(function(e){"dynamic"===e.kind||n.includes(a,e.field)||(o[e.field]=!1)})),o}}}).required({name:"View Data Form Entries",roles:["view_data_form_entry"],actions:["list","load","save_existing","remove"],conditions:[{attributes:{"!id":null,sysActive:!0}},{fn:function(e,t){var i,a=e.entityId,r=null===(i=t.user)||void 0===i||null===(i=i.perm)||void 0===i?void 0:i.roles;return r&&0!==r.length&&(n.includes(r,"dataForm-view:".concat(a))||n.includes(r,"external_user")&&!0===e.entityId__allowOnPortal||n.includes(r,"hotline_agent")&&!0===e.entityId__allowOnHotline)?{ok:!1}:{ok:!0}},esFilter:function(e){var t,i=null===(t=e.user)||void 0===t||null===(t=t.perm)||void 0===t?void 0:t.roles,a=[];if(n.includes(i,"external_user"))return{bool:{must_not:[{term:{entityId__allowOnPortal:!0}}]}};if(n.includes(i,"hotline_agent"))return{bool:{must_not:[{term:{entityId__allowOnHotline:!0}}]}};if(n.each(i,(function(e){null!=e&&e.includes("dataForm-view:")&&a.push(e.split(":")[1])})),0===a.length)return{bool:{must:[{exists:{field:"id"}}]}};var r={bool:{must_not:[]}};return n.each(a,(function(e){var t={term:{"entityId._exact":e}};r.bool.must_not.push(t)})),r},selectedFields:function(e,t){return t(null,["id","entityId"])}}]}).required({name:"Create Data Form Entries",roles:["create_data_form_entry"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Data Form Entries",roles:["edit_data_form_entry"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Data Form Entries",roles:["remove_data_form_entry"],actions:["remove"],conditions:[]}).value()},730907:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",search:!0,customForm:!1,table:"sys_data_form_entry",entity:{base:"sys",name:"data_form_entry"},validation:i(340656),allowAdvancedSearch:!1,allowQuickSearch:!1,allowExternalSearch:!0,allowPurge:!1,dataExport:!1,report:!1,dynamicDataStore:!0,caption:"Data Form Entry",captionPlural:"Data Form Entries",addCaption:"Add Data Form Entry",newCaption:"New Data Form Entry",acl:i(710563),aclHierarchy:i(333249),model:function(){return i(99503)},view:function(){return i(884964)},esDefaultFilters:function(){var e=this.query("es");return e.and([e.is_not("sysActive",!1),e.is_not("sysSubmitted",!1)]).toQuery()},historyNav:[{from:[],to:"/settings/data/data-form-entries"}],fields:[{field:"entityId",caption:"Entity Id",type:"id",kind:"hidden-editable",excludeFromRedact:!0}],joins:[{referenceField:"entityId",table:"isight_dynamic_entity",fields:["name","allowOnPortal","allowOnHotline"]}],queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0)])}})},340656:e=>{"use strict";e.exports={mandatory$:["entityId"]}},571914:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(428706),i(962062);var a=i(96190),r=i(648160),o=i(949545);e.exports=r(o,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"data-form-section",entity:{base:"sys",name:"data_form_section_layout_type"},caption:"Data Form Section",captionPlural:"Data Form Sections",addCaption:"Add Data Form Section",newCaption:"New Data Form Section",importTransformer:"data_form_section_layout_type",exportTransformer:"data_form_section_layout_type",customDependencies:function(e){return[].concat(function(e){if(Array.isArray(e))return n(e)}(t=a.map(e.getRootLayoutEntities(),"entityCanon"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["isight/entity","isight/dynamic_entity"]);var t},validation:i(456899),model:function(){return i(369783)}})},456899:e=>{"use strict";e.exports={mandatory$:["rootId","parentId","caption","dataForm"],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},635917:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",features:["dataImportsSftpProfiles"],caption:"Data Imports",permission:"view_data_import_settings",parentPermission:"view_system_settings",options:[{permission:"view_data_import",caption:"View data imports",features:["dataImportsSftpProfiles"],tooltip:"View the Data Import settings page",sequence:1},{permission:"create_data_import",caption:"Create",features:["dataImportsSftpProfiles"],tooltip:"Add Data Import",sequence:2,dependencies:["view_data_import"]},{type:"group",permission:n.getEditGroupPermissionCode("data_import"),caption:"Edit",features:["dataImportsSftpProfiles"],sequence:3,dependencies:["view_data_import"],options:[{permission:"edit_data_import",caption:"Save",features:["dataImportsSftpProfiles"],tooltip:"Edit Data Import",dependencies:["view_data_import"]}]},{permission:"remove_data_import",caption:"Remove",features:["dataImportsSftpProfiles"],tooltip:"Delete Data Import and/or its Statuses and Steps",sequence:4,dependencies:["view_data_import"]}]}]},99215:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Data Import Settings",features:["dataImportsSftpProfiles"],roles:["view_data_import"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Data Import",features:["dataImportsSftpProfiles"],roles:["create_data_import"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Data Import",features:["dataImportsSftpProfiles"],roles:["create_data_import"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).required({name:"Edit Data Import",features:["dataImportsSftpProfiles"],roles:["edit_data_import"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Data Import",features:["dataImportsSftpProfiles"],roles:["remove_data_import"],actions:["remove"],conditions:[]}).required({name:"Save/Delete Hard Locked Data Import",features:["dataImportsSftpProfiles"],roles:["save_delete_hard_locked_data_import"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).value()},264880:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{reference:t,changes:{excludeFields:["id"]}}},activated:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"neq",value:"active"},{path:"diff.status.updatedValue",comparator:"eq",value:"active"}]},options:{reference:t}},saved_as_inactive:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"eq",value:"draft"},{path:"diff.status.updatedValue",comparator:"eq",value:"inactive"}]},options:{reference:t}},deactivated:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"neq",value:"draft"},{path:"diff.status.updatedValue",comparator:"eq",value:"inactive"}]},options:{reference:t}}},remove:{deleted:{options:{reference:t}}}}}},31885:(e,t,i)=>{"use strict";i(962062),i(879432);var n=i(122268);e.exports={countMappingFields:function(e,t,i){return n.map(t,(function(e,t){if(!e.fieldMapping)return t(null,0);var i=e.fieldMapping;return t(null,Object.keys(i).length)}),i)}}},4358:e=>{"use strict";e.exports={"main-data-imports":{sortColumn:"name",sortOrder:"asc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"importEntity"},{field:"type"},{field:"importMethod"},{field:"lastUpdatedDate"},{field:"lastUpdatedBy"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},730035:e=>{"use strict";e.exports=[{from:[],to:"/settings/system/import/data"}]},483287:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_data_import",entity:{base:"sys",name:"data_import"},bypassValidationOnDraft:!0,caption:"Data Import",captionPlural:"Data Imports",addCaption:"Add Data Import",newCaption:"New Data Import",gridDescriptorField:"name",api:{useGenericApi:!0},acl:i(99215),aclRolesForCopy:["edit_data_import"],aclHierarchy:i(635917),audit:i(264880),grids:i(4358),validation:i(844940),historyNav:i(730035),rules:i(267688),importTransformer:"data_import",configurationExport:!1,exportTransformer:"data_import",copyPostAction:"data_import",computeFunctions:i(31885),model:function(){return i(29041)},staticFieldWorkflows:[],fields:[{field:"name",features:["dataImportsSftpProfiles"],type:"textbox",caption:"Name",kind:"editable"},{field:"importEntity",features:["dataImportsSftpProfiles"],type:"entityPicklist",caption:"Import Entity",kind:"editable",typeOptions:{valueField:"canon",canCreate:!1,filter:"dataImportsEntityFilter",entityCategory:2}},{field:"type",features:["dataImportsSftpProfiles"],type:"picklist",caption:"Type",kind:"editable",typeOptions:{picklistName:"data_import_types"}},{field:"importMethod",features:["dataImportsSftpProfiles"],type:"picklist",caption:"Import Method",kind:"editable",typeOptions:{picklistName:"data_import_methods"}},{field:"updateMethod",features:["dataImportsSftpProfiles"],type:"picklist",caption:"Update Method",kind:"editable",typeOptions:{picklistName:"data_import_update_methods"}},{field:"fieldMapping",features:["dataImportsSftpProfiles"],type:"json",caption:"Field Mapping",kind:"editable"},{field:"fieldsMappingCount",features:["dataImportsSftpProfiles"],type:"number",caption:"Fields Mapping Count",kind:"computed",kindOptions:{computeFunction:"countMappingFields"}},{field:"distributionList",features:["dataImportsSftpProfiles"],type:"email[]",caption:"Error Notification Recipients",kind:"editable"}]})},267688:e=>{"use strict";e.exports={isNotNew:function(e){return Boolean(e.id)},isScheduleBatchProcess:function(e){return Boolean("scheduled_batch"===e.type)}}},844940:e=>{"use strict";e.exports={mandatory$:["name","importEntity","type","importMethod","fieldMapping","updateMethod"],pattern$:[{fields:["name"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},684070:e=>{"use strict";var t={displayFields:["actionType"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},998041:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{db:"default",table:"sys_data_import_action",entity:{base:"sys",name:"data_import_action"},joins:[{referenceField:"dataImport",table:"sys_data_import",fields:["name"]}],workflowActionConfig:{formName:"data-imports-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},supportedRuleTypes:["Schedule Process"]},caption:"SFTP Data Import",captionPlural:"SFTP Data Imports",addCaption:"Add SFTP Data Import",newCaption:"New SFTP Data Import",audit:i(684070),validation:i(575874),rules:i(147278),usageStatistics:i(706416),model:function(){return i(259092)},view:function(){return i(300490)},fields:[{field:"dataImport",caption:"Data Import",type:"picklistSelectizeApi",typeOptions:{picklistName:"data_import",cachePicklist:!1,highlightMissingValue:!0,missingValueTranslation:"Unknown Data Import"},features:["dataImportsSftpProfiles"],kind:"editable"},{field:"uniqueFileName",caption:"Data file name preview",type:"textbox",kind:"editable",features:["dataImportsSftpProfiles"]},{field:"uniqueIdentifierFileName",features:["dataImportsSftpProfiles"],type:"textbox",caption:"Unique filename prefix",kind:"editable",typeOptions:{charMaxTextbox:40}}]})},259092:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/data_import_action"),entity:{base:"sys",name:"data_import_action"},idAttribute:"id"})},147278:(e,t,i)=>{"use strict";var n=i(96190);e.exports={isDataImportSet:function(e){return!n.isNil(e.dataImport)}}},706416:(e,t,i)=>{"use strict";var n=i(342141)("sys_data_import_action");e.exports=[{category:"workflows",key:"totalDataImportAction",query:n.countActiveEntity()}]},575874:e=>{"use strict";e.exports={mandatory$:["dataImport","uniqueFileName","uniqueIdentifierFileName"],pattern$:[{fields:["uniqueIdentifierFileName"],pattern:"^[a-z0-9]+$",code:"alphanumericNoSpecial$"}]}},37750:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Dialing Instruction",permission:"view_dialing_instruction_settings",parentPermission:"view_system_settings",options:[{caption:"View",sequence:2,disabled:!0,permission:"view_dialing_instruction"},{permission:"create_dialing_instruction",caption:"Create",tooltip:"Create dialing instructions",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("dialing_instructions"),caption:"Edit",sequence:3,options:[{permission:"edit_dialing_instruction",caption:"Save",tooltip:"Edit dialing instructions"}]},{permission:"remove_dialing_instruction",caption:"Remove",tooltip:"Delete dialing instructions",sequence:4}]}]},488400:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Dialing Instructions",roles:["view_dialing_instruction"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Dialing Instruction",roles:["create_dialing_instruction"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Dialing Instruction",roles:["edit_dialing_instruction"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Dialing Instruction",roles:["remove_dialing_instruction"],actions:["remove"],conditions:[]}).value()},103999:e=>{"use strict";var t={displayFields:["region","phoneNumber"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},866449:e=>{"use strict";e.exports={"dialing-instructions":{sortColumn:"region",sortOrder:"asc",columns:[{field:"region"},{field:"phoneNumber"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},179164:e=>{"use strict";e.exports=[{from:["/settings/system/dialing-instructions/new"],to:"/settings/system/dialing-instructions/{id}"},{from:[],to:"/settings/system/dialing-instructions"}]},904088:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_dialing_instruction",entity:{base:"sys",name:"dialing_instruction"},api:{useGenericApi:!0},allowExternalSearch:!0,caption:"Dialing Instruction",captionPlural:"Dialing Instructions",addCaption:"Add Dialing Instruction",newCaption:"New Dialing Instruction",gridDescriptorField:"region",acl:i(488400),aclHierarchy:i(37750),grids:i(866449),validation:i(910165),historyNav:i(179164),usageStatistics:i(624579),audit:i(103999),model:function(){return i(161820)},collection:function(){return i(298081)},view:function(){return i(336811)},fields:[{field:"region",type:"textbox",kind:"editable",caption:"Region"},{field:"phoneNumber",type:"phone-number",kind:"editable",caption:"Phone Number"}]})},624579:(e,t,i)=>{"use strict";var n=i(342141)("sys_dialing_instruction");e.exports=[{category:"settings_system",key:"totalDialingInstructions",query:n.countActiveEntity()}]},910165:e=>{"use strict";e.exports={mandatory$:["region","phoneNumber"],phoneNumber$:["phoneNumber"]}},673060:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Library",permission:"library",options:[{caption:"View",tooltip:"View the Library",permission:"documents",selectedByDefault:!0}]},{type:"group",caption:"Library",parentPermission:"view_data_settings",permission:"view_document_settings",options:[{permission:"view_document",caption:"View",tooltip:"View library documents",sequence:1},{permission:"create_document",caption:"Create",tooltip:"Add documents to library",sequence:2,dependencies:["view_document"]},{type:"group",permission:n.getEditGroupPermissionCode("document"),caption:"Edit",sequence:3,dependencies:["view_document"],options:[{permission:"edit_document",caption:"Save",tooltip:"Edit library documents",dependencies:["view_document"]}]},{permission:"remove_document",caption:"Remove",tooltip:"Delete library documents",sequence:4,dependencies:["view_document"]}]}]},639546:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Documents",roles:["view_document","documents"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Documents",roles:["create_document"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Documents",roles:["edit_document"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Documents",roles:["remove_document"],actions:["remove"],conditions:[]}).value()},6677:e=>{"use strict";var t={displayFields:["fileName"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},839967:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=n.curry((function(e,t,i,a){a(null,n.map(i,(function(t){return n.get(t,"file[0].".concat(e),null)})))}));e.exports={fileName:a("name"),description:a("description")}},470387:e=>{"use strict";e.exports={"main-documents":{sortColumn:"fileName",sortOrder:"asc",columns:[{field:"fileName"},{field:"description"},{field:"createdBy"},{field:"createdDate"}]},"data-documents":{sortColumn:"fileName",sortOrder:"asc",columns:[{field:"fileName"},{field:"description"},{field:"createdBy"},{field:"createdDate"}]}}},400814:e=>{"use strict";e.exports=[{from:[],to:"/settings/data/documents"}]},98698:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_document",entity:{base:"sys",name:"document"},api:{useGenericApi:!0,mainFileField:"file"},caption:"Document",captionPlural:"Documents",addCaption:"Add Document",newCaption:"New Document",gridDescriptorField:"fileName",acl:i(639546),exportTransformer:"document",configurationExport:!0,exportCaption:"Library",historyNav:i(400814),aclHierarchy:i(673060),grids:i(470387),validation:i(129347),computeFunctions:i(839967),audit:i(6677),usageStatistics:i(416645),model:function(){return i(359578)},collection:function(){return i(523581)},view:function(){return i(795342)},fields:[{field:"file",type:"file[]",kind:"editable",caption:"File",alwaysInApiSelectedFields:!0},{field:"fileName",type:"textbox",kind:"computed",kindOptions:{computeFunction:"fileName"},caption:"File Name"},{field:"description",type:"textarea",kind:"computed",kindOptions:{computeFunction:"description"},caption:"Description"}]})},416645:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_document");e.exports=[{category:"settings_data",key:"totalDocuments",query:a.countActiveEntity()},{category:"storage",key:"sizeOfLibraryDocuments",query:function(e,t,i){e.select("sys_document.file").from("sys_document").where("sys_document.sys_active",!0).whereNotNull("sys_document.file").asCallback((function(e,t){if(e)return i(e);var a=0;return n.each(t,(function(e){n.each(e.file,(function(e){var t=e.sizeBytes||0;a+=t}))})),i(null,a)}))}}]},129347:e=>{"use strict";e.exports={mandatory$:["file"]}},104261:e=>{"use strict";e.exports=[{type:"group",caption:"Custom Forms",parentPermission:"case",permission:"custom_form_data"},{permission:"view_custom_forms_external",caption:"View",tooltip:"View Custom Forms External",sequence:1,disabled:!0},{permission:"create_custom_forms_external",caption:"Create",tooltip:"Create Custom Forms External",sequence:2,dependencies:["view_custom_forms_external"],disabled:!0},{permission:"edit_custom_forms_external",caption:"Edit",tooltip:"Edit Custom Forms External",sequence:2,dependencies:["view_custom_forms_external"],disabled:!0},{permission:"remove_custom_forms_external",caption:"Remove",tooltip:"Remove Custom Forms External",sequence:2,dependencies:["view_custom_forms_external"],disabled:!0}]},178391:(e,t,i)=>{"use strict";i(874423),i(21699),i(428706),i(202008),i(426099),i(944114);var n=i(96190),a=i(553604);function r(e){return function(t,i){var a,r,o,s=t.entityId,l=i.entDef,d=null===(a=i.user)||void 0===a||null===(a=a.perm)||void 0===a?void 0:a.roles,c=null===(r=i.user)||void 0===r?void 0:r.id,u=null===(o=i.user)||void 0===o?void 0:o.authenticatedBySession;if(!d||0===d.length)return{ok:!0};if(n.includes(d,"customForm-".concat(e,":").concat(s)))return{ok:!1};if(t.externalRecord&&l.allowOnPortal&&n.includes(d,"".concat(e,"_custom_forms_external"))){var p=!0===t.caseId__sysActive;if("create"===e&&p)return{ok:!0};var f=t.createdBy===c,h=t.caseId__createdBy===c,m=t.caseId__reportedBy===c,g=t.caseId__createdBySession===u;if((h||g)&&f)return{ok:!1};if((h||g||m)&&"view"===e&&!0===t.externalRecord&&n.includes(d,"view_custom_forms_external"))return{ok:!1}}return{ok:!0}}}function o(e){return function(t,i){var a,r,o={},s=t.entityId,l=null==i||null===(a=i.entDef)||void 0===a?void 0:a.fields(),d=null===(r=i.user)||void 0===r||null===(r=r.perm)||void 0===r?void 0:r.roles;return d&&0!==d.length?(n.includes(d,"customForm-".concat(e,":").concat(s))||n.each(l,(function(e){e.restrictEdit&&(o[e.field]=!1)})),o):o}}e.exports=a.initialize().filterMarkForPurge().filterPurge().filterChildPortalFields({joinFieldsWhitelist:["entityId__name"]}).filter({name:"Create Form Data Restricted Fields",roles:["bypass_dynamic_form_acl","create_custom_forms_external"],actions:["save_new"],conditions:[{attributes:{id:null}}],filters:{fn:o("create_restricted_fields")}}).filter({name:"Create Form Data Restricted Fields",roles:["bypass_dynamic_form_acl","create_custom_forms_external"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysActive:!1}}],filters:{fn:o("create_restricted_fields")}}).filter({name:"Edit Form Data Restricted Fields",roles:["bypass_dynamic_form_acl","edit_custom_forms_external"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysActive:!0}}],filters:{fn:o("edit_restricted_fields")}}).required({name:"View Form Data",roles:["bypass_dynamic_form_acl"],actions:["list","load","save_existing","remove"],conditions:[{attributes:{"!id":null,sysActive:!0}},{fn:r("view"),esFilter:function(e){var t,i=e.entDef,a=null===(t=e.user)||void 0===t||null===(t=t.perm)||void 0===t?void 0:t.roles,r=[];if(n.each(a,(function(e){null!=e&&e.includes("customForm-view:")&&r.push(e.split(":")[1])})),i.allowOnPortal&&a.includes("view_custom_forms_external")&&r.push(i.entityId),0===r.length)return{bool:{must:[{exists:{field:"id"}}]}};var o={bool:{must_not:[]}};return n.each(r,(function(e){var t={term:{"entityId._exact":e}};o.bool.must_not.push(t)})),o},knexFilter:function(e,t){var i=t.select(t.raw("SUBSTRING(code, 17, 36)")).from("vw_user_permissions").where("user_id",t.raw("u.id")).andWhereRaw("code LIKE 'customForm-view:%'");e.whereNotIn("entity_id",i)},selectedFields:function(e,t){return t(null,["id","entityId"])}}]}).required({name:"Create Form Data",roles:["bypass_dynamic_form_acl"],actions:["save_new"],conditions:[{attributes:{id:null}},{fn:r("create"),selectedFields:function(e,t){return t(null,["id","entityId"])}}]}).required({name:"Edit Form Data",roles:["bypass_dynamic_form_acl"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysActive:!0}},{fn:r("edit"),selectedFields:function(e,t){return t(null,["id","entityId"])}}]}).required({name:"Remove Form Data",roles:["bypass_dynamic_form_acl"],actions:["remove"],conditions:[{attributes:{"!id":null,sysActive:!0}},{fn:r("remove"),selectedFields:function(e,t){return t(null,["id","entityId"])}}]}).required({name:"Access Draft Form Data on Intake",roles:["access_others_draft_children"],actions:["list","load","save_existing","remove"],conditions:[a.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!1,createdBy:"{!user.id}"}}]}).requireCaseLoadInheritance().requireCaseSaveInheritance().value()},481503:(e,t,i)=>{"use strict";var n=i(96190),a=i(648160),r=i(878705),o=a(i(969987),r);e.exports=a(o,{db:"default",search:!0,customForm:!1,table:"sys_dynamic_entity_data",entity:{base:"sys",name:"dynamic_entity_data"},normalizeMultiValuePicklistEntries:!0,validation:i(565028),allowAdvancedSearch:!1,allowQuickSearch:!1,allowPurge:!1,dataExport:!1,report:!1,dynamicDataStore:!0,enablePortalUserNotifications:!0,enableTranslation:!0,enableRecordSourceView:!0,caption:"Dynamic Entity Data",captionPlural:"Dynamic Entities Data",addCaption:"Add Dynamic Entity Data",newCaption:"New Dynamic Entity Data",acl:i(178391),aclHierarchy:i(104261),usageStatistics:i(196670),staticFieldWorkflows:[n.cloneDeep(i(313179)),i(601844)],model:function(){return i(99503)},view:function(){return i(263092)},fields:[{field:"entityId",caption:"Entity Id",type:"id",kind:"hidden-editable",showOnPortal:!0,excludeFromRedact:!0},{field:"externalRecord",type:"checkbox",caption:"External",kind:"editable",typeOptions:{allowNull:!1},showOnPortal:!0,showOnHotline:!0,excludeFromAutofill:!0}],joins:[{referenceField:"entityId",table:"isight_dynamic_entity",fields:["name"]},{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}]})},601844:e=>{"use strict";e.exports={name:"dynamic-entity-data-intake-translation-status",field:"intakeTranslationStatus",entity:{zone:void 0,base:"sys",name:"dynamic_entity_data"},values:[{value:"complete",indicator:"success"},{value:"pending",indicator:"warning"},{value:"error",indicator:"danger"},{value:null}],strict:!0,transitions:[{id:"dynamic-entity-data-intake-translation-status-blank",from:[null,void 0],to:[null,void 0]},{id:"dynamic-entity-data-intake-translation-status-initial",from:[null,void 0],to:"pending"},{id:"dynamic-entity-data-intake-translation-status-complete",from:"pending",to:"complete"},{id:"dynamic-entity-data-intake-translation-status-error",from:"pending",to:"error"},{id:"dynamic-entity-data-intake-translation-status-pending",from:["complete","error"],to:"pending"}],conditions:[],displayRule:"shouldShowTranslationStatusWorkflow"}},196670:(e,t,i)=>{"use strict";i(962010);var n=i(96190);e.exports=[{category:"dynamicEntityData",key:"numberOfCustomFormsByName",query:function(e,t,i){e.select("isight_dynamic_entity.id","isight_dynamic_entity.name").count().from("sys_dynamic_entity_data").innerJoin("isight_dynamic_entity","sys_dynamic_entity_data.entity_id","isight_dynamic_entity.id").where("sys_dynamic_entity_data.sys_active",!0).andWhere("isight_dynamic_entity.sys_active",!0).groupBy("isight_dynamic_entity.id").asCallback((function(e,t){if(e)return i(e);var a={};return n.each(t,(function(e){a[e.name]=parseInt(e.count,10)})),i(null,a)}))}}]},565028:e=>{"use strict";e.exports={mandatory$:["entityId","caseId"]}},998027:e=>{"use strict";e.exports=[{type:"group",caption:"Emails",parentPermission:"case",permission:"email",options:[{permission:"view_email",caption:"View",tooltip:"View Case emails",sequence:2},{permission:"create_email",caption:"Create",tooltip:"Send emails from a Case",sequence:1},{caption:"Edit",sequence:3,disabled:!0,permission:"edit_email"},{caption:"Remove",sequence:4,disabled:!0,permission:"remove_email"}]},{type:"group",caption:"Incoming Emails",parentPermission:"view_system_settings",permission:"email_settings",options:[{caption:"Create",sequence:1,disabled:!0,permission:"create_incoming_email_unassigned"},{permission:"view_incoming_email_unassigned",caption:"View",tooltip:"View incoming emails",sequence:2},{permission:"edit_incoming_email_unassigned",caption:"Edit",tooltip:"Route incoming emails to their appropriate case",sequence:3,dependencies:["view_incoming_email_unassigned"]},{permission:"remove_incoming_email_unassigned",caption:"Remove",tooltip:"Delete incoming emails",sequence:4,dependencies:["view_incoming_email_unassigned"]}]}]},727057:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filter({name:"View Bcc Recipients as Sender",roles:["view_bcc_as_sender"],actions:["load","list"],conditions:[{attributes:{createdBy:"{!user.id}"}}],filters:{bccRecipients:!1}}).required({name:"View Emails",roles:["view_email"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Unassigned Incoming Emails",roles:["view_incoming_email_unassigned"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{caseId:null,direction:"inbound"}}]}).required({name:"Create Emails",roles:["create_email"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Unassigned Incoming Emails",roles:["edit_incoming_email_unassigned"],actions:["save_existing"],conditions:[{attributes:{"!id":null,caseId:null,direction:"inbound"}}]}).required({name:"Edit Assigned Emails",roles:["edit_email_assigned"],actions:["save_existing"],conditions:[{attributes:{"!id":null,"!caseId":null}}]}).required({name:"Edit Outbound Emails",roles:["edit_email_outbound"],actions:["save_existing"],conditions:[{attributes:{"!id":null,direction:"outbound"}}]}).required({name:"Remove incoming mail without caseId",roles:["remove_incoming_email_unassigned"],actions:["remove"],conditions:[{attributes:{caseId:null,direction:"inbound"}}]}).required({name:"Remove assigned mail",roles:["remove_email_assigned"],actions:["remove"],conditions:[{attributes:{"!caseId":null}}]}).required({name:"Remove outbound mail",roles:["remove_email_outbound"],actions:["remove"],conditions:[{attributes:{direction:"outbound"}}]}).requireCaseLoadInheritance().requireCaseSaveInheritance().value()},670030:(e,t,i)=>{"use strict";i(428706);var n=["subject"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:a}}},save:{assigned_case:{condition:{composite:"all",rules:[{path:"diff.id.updatedValue",comparator:"nexists"},{path:"diff.caseId__caseNumber",comparator:"exists"}]},options:{reference:a}},outbound_email:{condition:{composite:"all",rules:[{path:"diff.direction",comparator:"exists"},{path:"diff.direction.updatedValue",comparator:"eq",value:"outbound"}]},options:{reference:a}},inbound_email:{condition:{composite:"all",rules:[{path:"diff.direction",comparator:"exists"},{path:"diff.direction.updatedValue",comparator:"eq",value:"inbound"}]},options:{reference:a}},updated:{options:{changes:{excludeFields:["id","skipWorkflows","latestSent"]}}}},remove:{deleted:{options:{reference:a}}}}}},284848:(e,t,i)=>{"use strict";i(962062),i(250113),i(426099);var n=i(96190),a=i(122268);e.exports={setSenderName:function(e,t,i){i(null,n.map(t,(function(e){return e.senderId__name||e.senderEmail})))},setThreadCount:function(e,t,i){a.mapLimit(t,5,(function(t,i){return t.latestSent&&t.emailThreadId?void e.make$("sys/email").list$({limit$:"ALL",emailThreadId:t.emailThreadId},(function(e,a){if(e)return i(e);var r=a.length;return t.id&&!!n.find(a,{id:t.id})||r++,i(null,r)})):i()}),i)}}},167720:e=>{"use strict";var t=["dateSent"];e.exports={"main-emails":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"caseId"},{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"},{field:"threadCount"}],defaultDynamicDataFilters:t},"case-emails":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"},{field:"threadCount"}],defaultDynamicDataFilters:t},"incoming-mail":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["threadCount","senderEmail"],columns:[{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]},"advanced-search-result-emails":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["threadCount"],columns:[{field:"caseId"},{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"},{field:"threadCount"}]},"search-result-emails-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["threadCount"],columns:[{field:"caseId"},{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"},{field:"threadCount"}]},"search-result-emails-purge":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["threadCount"],columns:[{field:"caseId"},{field:"senderName"},{field:"subject"},{field:"body"},{field:"createdDate"},{field:"threadCount"},{field:"pendingPurgeDate"}]}}},4397:e=>{"use strict";e.exports=[{from:[],to:"/case/{caseId}/activity/emails"},{from:[],to:"/emails"}]},864801:(e,t,i)=>{"use strict";var n=i(648160),a=i(878705);e.exports=n(a,{db:"default",table:"sys_email",entity:{base:"sys",name:"email"},api:{useGenericApi:!0,mainFileField:"attachments"},customForm:!1,ruleEvents:!0,report:!1,caption:"Email",captionPlural:"Emails",addCaption:"Add Email",newCaption:"New Email",gridDescriptorField:"subject",acl:i(727057),aclHierarchy:i(998027),audit:i(670030),rules:i(850966),grids:i(167720),validation:i(215034),computeFunctions:i(284848),historyNav:i(4397),icon:"fa-envelope-o",includeInDataDictionary:!0,enableRecordSourceView:!0,usageStatistics:i(581032),rowTemplates:{small:function(){return i(798601)},medium:function(){return i(507993)},tiny:function(){return i(592424)}},esDefaultFilters:function(){var e=this.query("es");return e.and([e.is_not_empty("caseId"),e.is_not("caseId__canceled",!0),e.is_not("sysActive",!1),e.is_not("sysSubmitted",!1)]).toQuery()},model:function(){return i(751123)},collection:function(){return i(427383)},gridFilterExcludeFields:["senderName"],fields:[{field:"parentId",type:"id",kind:"hidden",caption:"Parent ID",dbIndex:!0,excludeFromRedact:!0},{field:"forwardedEmailId",type:"id",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!0,gridExportable:!1,reportable:!1}},caption:"Forwarded Email ID",dbIndex:!0,excludeFromRedact:!0},{field:"emailThreadId",type:"id",kind:"custom",caption:"Email Thread ID",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},dbIndex:!0,excludeFromRedact:!0,alwaysInApiSelectedFields:!0},{field:"senderId",type:"user",caption:"From",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},alwaysInApiSelectedFields:!0},{field:"threadCount",type:"number",caption:"Count",kind:"custom",kindOptions:{computeFunction:"setThreadCount",flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!0,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!1,gridExportable:!0,reportable:!0}},cellTemplate:function(e){return e.readFileSync("//cell-templates/email-count-cell-tmpl.dust","utf8")},excludeFromRedact:!0},{field:"senderEmail",type:"code",caption:"Sender Email",kind:"system",alwaysInApiSelectedFields:!0},{field:"recipients",type:"emailLookup[]",caption:"Recipients",kind:"editable"},{field:"ccRecipients",type:"emailLookup[]",caption:"Cc",kind:"editable"},{field:"bccRecipients",caption:"Bcc",type:"emailLookup[]",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"subject",type:"textbox",caption:"Subject Line",kind:"editable",gridWidth:150},{field:"body",type:"texteditor",caption:"Body",kind:"editable"},{field:"bodyHtml",type:"texteditor",kind:"hidden",caption:"Body HTML",search:!1},{field:"bodyText",type:"textarea",kind:"hidden",caption:"Body Text",search:!1},{field:"dateSent",type:"datetime",kind:"system",caption:"Date Sent"},{field:"attachments",type:"file[]",kind:"editable",caption:"Attachments",typeOptions:{caseIdField:"caseId",hideCaption:!0,maxFileCount:5,maxTotalAttachmentSize:20971520}},{field:"direction",type:"picklist",kind:"system",caption:"Direction",typeOptions:{picklistName:"email_directions"}},{field:"emailSources",type:"picklist[]",kind:"editable",caption:"Email Sources",typeOptions:{picklistName:"email_sources"}},{field:"splitMessage",type:"textbox",kind:"hidden",caption:"Split Message"},{field:"highPriority",type:"checkbox",caption:"High Priority",kind:"editable"},{field:"latestSent",type:"checkbox",typeOptions:{allowNull:!0},caption:"Latest Sent",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,gridExportable:!1,searchVisible:!1,reportable:!0}},dbIndex:!0,excludeFromRedact:!0},{field:"failedRecipients",type:"code[]",kind:"system",caption:"Failed Recipients"},{field:"senderName",type:"textbox",kind:"custom",caption:"Sender",gridWidth:150,kindOptions:{computeFunction:"setSenderName",flags:{audit:!1,schema:!1,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!0,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!0,reportable:!1}},alwaysInApiSelectedFields:!0},{field:"parentEmailSender",type:"email",kind:"custom",caption:"Parent Email Sender",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!0,searchVisible:!1,gridExportable:!0,reportable:!1}}},{field:"number",kind:"hidden",caption:"Number"},{field:"childNumber",kind:"hidden",caption:"Child Number"}],joins:[{referenceField:"caseId",table:"sys_case",fields:["owner"]}]})},850966:e=>{"use strict";e.exports={actionUserCreateOrEdit:function(e){return"user_create"===e.action||"user_edit"===e.action},isNotAReply:function(e){return!0!==e.reply}}},581032:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_email");e.exports=[{category:"email",key:"totalEmails",query:a.countActiveEntity()},{category:"email",key:"emailReplies",query:a.countActiveEntity({where:function(){this.whereNotNull("sys_email.parent_id")}})},{category:"email",key:"emailThreads",query:a.countActiveDistinctField({where:{latest_sent:!0}}),options:{field:"email_thread_id"}},{category:"email",key:"emailsWithAttachments",query:a.countActiveEntity({where:function(){this.whereNotNull("sys_email.attachments")}})},{category:"settings_system",key:"incomingEmails",query:a.countEntity({where:function(){this.whereNull("sys_email.case_id")}})},{category:"storage",key:"sizeOfEmailAttachments",query:function(e,t,i){e.select("sys_email.attachments").from("sys_email").where("sys_email.sys_active",!0).whereNotNull("sys_email.attachments").asCallback((function(e,t){if(e)return i(e);var a=0;return n.each(t,(function(e){n.each(e.attachments,(function(e){var t=e.sizeBytes||0;a+=t}))})),i(null,a)}))}},{category:"email",key:"activeOutgoingEmailsWithAttachments",query:a.countActiveEntity({where:function(){this.whereNotNull("attachments").where("direction","outbound")}})},{category:"email",key:"activeIncomingEmailsWithAttachments",query:a.countActiveEntity({where:function(){this.whereNotNull("attachments").where("direction","inbound")}})},{category:"email",key:"activeOutgoingEmails",query:a.countActiveEntity({where:function(){this.where("direction","outbound")}})},{category:"email",key:"activeIncomingEmails",query:a.countActiveEntity({where:function(){this.where("direction","inbound")}})},{category:"email",key:"unassignedActiveIncomingEmails",query:a.countActiveEntity({where:function(){this.whereNull("case_id")}})},{category:"email",key:"emailsPerCase",query:a.countTotalAverageAndHighestByCase()}]},215034:e=>{"use strict";e.exports={dependentMandatory$:[{condition:"actionUserCreateOrEdit",fields:["caseId","subject","body","recipients"]}],invalidTemplate$:["subject","body"],email$:["recipients"]}},958817:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",permission:"view_email_rule_settings",caption:"Email Rules",parentPermission:"view_system_settings",options:[{permission:"view_email_rule",caption:"View",tooltip:"View email rules",sequence:1},{permission:"create_email_rule",caption:"Create",tooltip:"Create email rules",sequence:2,dependencies:["view_email_rule"]},{type:"group",permission:n.getEditGroupPermissionCode("email_rule"),caption:"Edit",sequence:3,dependencies:["view_email_rule"],options:[{permission:"edit_email_rule",caption:"Save",tooltip:"Edit email rules",dependencies:["view_email_rule"]}]},{permission:"remove_email_rule",caption:"Remove",tooltip:"Delete email rules",sequence:4,dependencies:["view_email_rule"]}]}]},944579:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Email Rules",roles:["view_email_rule"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Email Rules",roles:["create_email_rule"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Email Rules",roles:["edit_email_rule"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Email Rules",roles:["remove_email_rule"],actions:["remove"],conditions:[]}).value()},869796:e=>{"use strict";var t={displayFields:["ruleType","emailFrom","emailTo"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},19266:e=>{"use strict";e.exports={"main-email-rules":{sortColumn:"ruleType",sortOrder:"desc",columns:[{field:"ruleType"},{field:"emailFrom"},{field:"emailTo"},{field:"validRecipients"},{field:"caseAttributes"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},856055:e=>{"use strict";e.exports=[{from:[],to:"/settings/system/email-rules"}]},686651:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_emailrule",rules:i(687596),entity:{base:"sys",name:"emailRule"},caption:"Email Rule",captionPlural:"Email Rules",addCaption:"Add Email Rule",newCaption:"New Email Rule",gridDescriptorField:"ruleType",acl:i(944579),aclHierarchy:i(958817),grids:i(19266),historyNav:i(856055),configurationExport:!0,audit:i(869796),model:function(){return i(105522)},collection:function(){return i(988233)},view:function(){return i(272451)},fields:[{caption:"Rule Type",field:"ruleType",type:"picklist",typeOptions:{picklistName:"email_rule_types"},kind:"editable",gridWidth:250},{caption:"Sender Address(es)",field:"emailFrom",type:"email[]",typeOptions:{linkWithSystemUser:!1,disableWhitelist:!0},kind:"editable",gridWidth:250},{caption:"Recipient Address(es)",field:"validRecipients",type:"email[]",typeOptions:{linkWithSystemUser:!1,disableWhitelist:!0},kind:"editable",gridWidth:250},{caption:"System Inbox Address",field:"emailTo",type:"email",kind:"editable",gridWidth:250,typeOptions:{linkWithSystemUser:!1,disableWhitelist:!0}},{field:"caseAttributes",type:"json",kind:"editable",caption:"Case Values"},{caption:"Accept All Senders",field:"acceptAllSenders",type:"checkbox",kind:"editable"}]})},687596:(e,t,i)=>{"use strict";var n=i(96190);e.exports={notAcceptingAllSenders:function(e){return!1===e.acceptAllSenders},isOutgoingEmailFilter:function(e){return"Outgoing Email Filter"===e.ruleType},isNotOutgoingEmailFilter:function(e){return!n.isEmpty(e.ruleType)&&"Outgoing Email Filter"!==e.ruleType},isNotIncomingEmailFilter:function(e){return!n.isEmpty(e.ruleType)&&"Incoming Email Filter"!==e.ruleType},isIncomingEmailFilter:function(e){return"Incoming Email Filter"===e.ruleType}}},320916:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_entity_evaluator_context",entity:{base:"sys",name:"entityEvaluatorContext"},search:!1,caption:"Entity Evaluator Context",captionPlural:"Entity Evaluator Context",addCaption:"Add Entity Evaluator Context",newCaption:"New Entity Evaluator Context",importTransformer:"entity_evaluator_context",customDependencies:["sys/conditionType"],copyPostAction:"entity_evaluator_context",model:function(){return i(808785)},fields:[{field:"mustExistForms",type:"entityPicklist[]",kind:"editable",caption:"All these forms must be added",typeOptions:{entityCategory:2,childFormsOnly:!0,canCreate:!1,parentEntityName:"sys/case",filter:"mustExistFormsFilter"}},{field:"mustMatchAll",type:"toggle",caption:"Must Match All",kind:"editable",typeOptions:{greyOnOff:!1,allowNull:!0,showCaptionsOnButton:!0,checkedTranslation:{key:"all"},uncheckedTranslation:{key:"any"}}}]})},808785:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(939994),r=i(348174),o=i(637527);e.exports=o.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/entity_evaluator_context"),entity:{base:"sys",name:"entityEvaluatorContext"},defaults:{mustMatchAll:!0},rules:{isTypeCaseChildFormsMustExist:function(e){return"caseChildFormsMustExist"===e.type},hasMultipleForms:function(e){var t=e.mustExistForms;return n.size(t)>1},mustMatchAll:function(e){return!0===e.mustMatchAll}},idAttribute:"id",preinitialize:function(e,t){if(o.prototype.preinitialize.call(this,e,t),"Portal"===t.parentModel.get("submissionType")){var i=[];n.each(e.mustExistForms__canon,(function(e){if(a.get(e))i.push(e);else{if(r.get({entityName:e})&&r.get({entityName:e}).allowOnPortal)return void i.push(e);i.push(null)}})),e.mustExistForms__canon=i}}})},302995:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_entity_flags_data",search:!1,entity:{base:"sys",name:"entityFlagsData"},caption:"Entity Flag Data",captionPlural:"Entity Flags Data",addCaption:"Add Entity Flag Data",newCaption:"New Entity Flag Data",allowMetaDataHardDelete:!0,fields:[{field:"entityName",type:"textbox",caption:"Entity Name",kind:"system"},{field:"entityRecordId",type:"code",caption:"Entity Record Id",kind:"system"},{field:"flagId",type:"code",caption:"Flag Id",kind:"system"}]})},470534:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(428706),i(962062);var a=i(96190),r=i(648160),o=i(949545);e.exports=r(o,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"entity-grid",includeInElementCount:!0,entity:{base:"sys",name:"entity_grid_layout_type"},features:["entityGrids"],caption:"Entity Grid",captionPlural:"Entity Grids",addCaption:"Add Entity Grid",newCaption:"New Entity Grid",customDependencies:function(e){return[].concat(function(e){if(Array.isArray(e))return n(e)}(t=a.map(e.getRootLayoutEntities(),"entityCanon"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["isight/entity","isight/dynamic_entity"]);var t},validation:i(824271),model:function(){return i(867262)}})},824271:e=>{"use strict";e.exports={mandatory$:["rootId","parentId","caption","gridEntity"],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},825316:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit User List ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/user_list::{userListId}::load"]}).required({name:"Inherit Case ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{entityType:"-/sys/case"}},"sys/case::{entityId}::load"]}).value()},497196:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_entity_list",entity:{base:"sys",name:"entity_list"},api:{useGenericApi:!0},acl:i(825316),caption:"Entity List",captionPlural:"Entity Lists",addCaption:"Add Entity List",newCaption:"New Entity List",allowMetaDataHardDelete:!0,parents:[{entity:{base:"sys",name:"user_list"},field:"userListId"}],fields:[{field:"userListId",type:"id",caption:"List Id",kind:"editable",dbIndex:!0},{field:"entityId",type:"textbox",caption:"Entity ID",kind:"editable"},{field:"entityType",type:"textbox",caption:"Entity Type",kind:"editable"}],joins:[{referenceField:"userListId",table:"sys_user_list",fields:["name","createdBy"]}],audit:{child:!0,parentType:{base:"sys",name:"user_list"},parentFieldId:"userListId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},628795:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"view_system_settings",caption:"Integration Logs",permission:"event",options:[{permission:"view_event",caption:"View",tooltip:"View integration logs",sequence:2},{caption:"Create",sequence:1,disabled:!0,permission:"create_event"},{type:"group",caption:"Edit",sequence:3,disabled:!0,permission:n.getEditGroupPermissionCode("event"),options:[{caption:"Edit",disabled:!0,permission:"edit_event"}]},{caption:"Remove",sequence:4,disabled:!0,permission:"remove_event"}]}]},266337:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Events",roles:["view_event"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Events",roles:["create_event"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Events",roles:["edit_event"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Events",roles:["remove_event"],actions:["remove"],conditions:[]}).value()},876920:e=>{"use strict";e.exports={"main-events":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"createdDate"},{field:"eventType"},{field:"name"},{field:"status"},{field:"errorCount"}],defaultDynamicDataFilters:["eventType","createdDate","lastUpdatedDate"]},"event-details":{sortColumn:"createdDate",sortOrder:"asc",columns:[{field:"createdDate"},{field:"eventDetails"},{field:"status"}]}}},686353:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_event",entity:{base:"sys",name:"event"},caption:"Event",captionPlural:"Events",addCaption:"Add Event",newCaption:"New Event",acl:i(266337),aclHierarchy:i(628795),grids:i(876920),usageStatistics:i(333784),model:function(){return i(502675)},collection:function(){return i(969323)},view:function(){return i(198095)},fields:[{field:"jobId",type:"textbox",kind:"system",caption:"Job Id",dbIndex:!0,alwaysInApiSelectedFields:!0},{field:"child",type:"checkbox",typeOptions:{allowNull:!0},kind:"system",caption:"Child"},{field:"eventType",type:"picklist",kind:"system",caption:"Type",typeOptions:{allowGridFilter:!0,picklistName:"event_types"},dbIndex:!0},{field:"source",type:"code",kind:"system",caption:"Source"},{field:"status",type:"code",kind:"system",caption:"Status"},{field:"errorCount",type:"number",kind:"system",caption:"Errors"},{field:"errorDetails",type:"textarea",kind:"system",caption:"Error Details"},{field:"eventDetails",type:"textarea",kind:"system",caption:"Details"},{field:"name",type:"textbox",kind:"system",caption:"Name"}]})},333784:(e,t,i)=>{"use strict";var n=i(342141)("sys_event"),a=i(501768);e.exports=[{category:"event",key:"integrationLogEntries",query:n.countActiveEntity()},{category:"event",key:"uniqueIntegrationLogThreads",query:n.countActiveDistinctField({where:{child:!1}}),options:{field:"event_type"}},{category:"event",key:"integrationLogEntriesByJobType",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"event_type",picklistName:"event_types",datasetTranslation:function(e,t){return n.getPicklistDatasetTrans(this,e,t)}}},{category:"event",key:"integrationLogEntriesWithoutError",query:n.countActiveEntity({where:function(){this.whereNot("status",a.errorStatus)}})},{category:"event",key:"integrationLogEntriesWithError",query:n.countActiveEntity({where:function(){this.where("status",a.errorStatus)}})},{category:"event",key:"totalConfigurationExportWithErrors",query:n.countActiveEntity({where:function(){this.where("event_type","Configuration Export").whereNotNull("error_count").whereNot("error_count",0)}})},{category:"event",key:"totalConfigurationExportWithoutErrors",query:n.countActiveEntity({where:function(){this.where("event_type","Configuration Export").whereNotNull("error_count").andWhere("error_count",0)}})},{category:"event",key:"totalConfigurationImportWithErrors",query:n.countActiveEntity({where:function(){this.where("event_type","Configuration Import").whereNotNull("error_count").whereNot("error_count",0)}})},{category:"event",key:"totalConfigurationImportWithoutErrors",query:n.countActiveEntity({where:function(){this.where("event_type","Configuration Import").whereNotNull("error_count").andWhere("error_count",0)}})}]},648160:(e,t,i)=>{"use strict";i(250113),i(426099),i(16280),i(428706),i(944114),i(327495),i(5746),i(874423),i(21699),i(962010);var n=i(96190);e.exports=function(e,t){var i=n.cloneDeep(e);return n.has(t,"table")&&(i.table=t.table),n.has(t,"createTable")&&(i.createTable=t.createTable),n.has(t,"entity")&&(i.entity=t.entity),n.has(t,"esIndex")&&(i.esIndex=t.esIndex),n.has(t,"reuseEsIndex")&&(i.reuseEsIndex=t.reuseEsIndex),n.has(t,"search")&&(i.search=t.search),n.has(t,"esIndexRecordFilter")&&(i.esIndexRecordFilter=t.esIndexRecordFilter),n.has(t,"report")&&(i.report=t.report),n.has(t,"reportOptions")&&(i.reportOptions=t.reportOptions),n.has(t,"caption")&&(i.caption=t.caption),n.has(t,"captionPlural")&&(i.captionPlural=t.captionPlural),n.has(t,"addCaption")&&(i.addCaption=t.addCaption),n.has(t,"newCaption")&&(i.newCaption=t.newCaption),n.has(t,"gridDescriptorField")&&(i.gridDescriptorField=t.gridDescriptorField),n.has(t,"lockWithParent")&&(i.lockWithParent=t.lockWithParent),n.has(t,"customForm")&&(i.customForm=t.customForm),n.has(t,"dynamicDataStore")&&(i.dynamicDataStore=t.dynamicDataStore),n.has(t,"db")&&(i.db=t.db),n.has(t,"acl")&&(i.acl=t.acl),n.has(t,"queryFilter")&&(i.queryFilter=t.queryFilter),n.has(t,"audit")&&(i.audit=t.audit),n.has(t,"parents")&&(i.parents=t.parents),n.has(t,"validation")&&(i.validation=t.validation),n.has(t,"historyNav")&&(i.historyNav=t.historyNav),n.has(t,"workflowHistoryUrl")&&(i.workflowHistoryUrl=t.workflowHistoryUrl),n.has(t,"customWorkflows")&&(i.customWorkflows=t.customWorkflows),n.has(t,"dynamicFlags")&&(i.dynamicFlags=t.dynamicFlags),n.has(t,"ruleEvents")&&(i.ruleEvents=t.ruleEvents),n.has(t,"icon")&&(i.icon=t.icon),n.has(t,"includeInDataDictionary")&&(i.includeInDataDictionary=t.includeInDataDictionary),n.has(t,"enableRecordSourceView")&&(i.enableRecordSourceView=t.enableRecordSourceView),n.has(t,"customIselName")&&(i.customIselName=t.customIselName),n.has(t,"backgroundColor")&&(i.backgroundColor=t.backgroundColor),n.has(t,"textColor")&&(i.textColor=t.textColor),n.has(t,"aclHierarchy")&&(i.aclHierarchy=t.aclHierarchy),n.has(t,"esAggregates")&&(i.esAggregates=t.esAggregates),n.has(t,"identifierField")&&(i.identifierField=t.identifierField),n.has(t,"usageStatistics")&&(i.usageStatistics=t.usageStatistics),n.has(t,"usageRules")&&(i.usageRules=t.usageRules),n.has(t,"partiallyDynamic")&&(i.partiallyDynamic=t.partiallyDynamic),n.has(t,"createPivotView")&&(i.createPivotView=t.createPivotView),n.has(t,"pivotViewExtraColumns")&&(i.pivotViewExtraColumns=t.pivotViewExtraColumns),n.has(t,"allowDynamicFieldsOnPortal")&&(i.allowDynamicFieldsOnPortal=t.allowDynamicFieldsOnPortal),n.has(t,"enablePortalUserNotifications")&&(i.enablePortalUserNotifications=t.enablePortalUserNotifications),n.has(t,"includeInElementCount")&&(i.includeInElementCount=t.includeInElementCount),n.has(t,"type")&&(i.type=t.type),n.has(t,"importTransformer")&&(i.importTransformer=t.importTransformer),n.has(t,"customDependencies")&&(i.customDependencies=t.customDependencies),n.has(t,"exportTransformer")&&(i.exportTransformer=t.exportTransformer),n.has(t,"exportGridTransformer")&&(i.exportGridTransformer=t.exportGridTransformer),n.has(t,"copyTransformer")&&(i.copyTransformer=t.copyTransformer),n.has(t,"copyPostAction")&&(i.copyPostAction=t.copyPostAction),n.has(t,"allowAdvancedSearch")&&(i.allowAdvancedSearch=t.allowAdvancedSearch),n.has(t,"allowQuickSearch")&&(i.allowQuickSearch=t.allowQuickSearch),n.has(t,"allowExternalSearch")&&(i.allowExternalSearch=t.allowExternalSearch),n.has(t,"normalizeMultiValuePicklistEntries")&&(i.normalizeMultiValuePicklistEntries=t.normalizeMultiValuePicklistEntries),n.has(t,"allowOnPortal")&&(i.allowOnPortal=t.allowOnPortal),n.has(t,"allowOnHotline")&&(i.allowOnHotline=t.allowOnHotline),n.has(t,"enableTranslation")&&(i.enableTranslation=t.enableTranslation),n.has(t,"configurationExport")&&(i.configurationExport=t.configurationExport),n.has(t,"exportCaption")&&(i.exportCaption=t.exportCaption),n.has(t,"dataExport")&&(i.dataExport=t.dataExport),n.has(t,"configurationImport")&&(i.configurationImport=t.configurationImport),n.has(t,"esReverseJoinPriority")&&(i.esReverseJoinPriority=t.esReverseJoinPriority),n.has(t,"esDefaultFilters")&&(i.esDefaultFilters=t.esDefaultFilters),n.has(t,"autoGenerateNumber")&&(i.autoGenerateNumber=t.autoGenerateNumber),n.has(t,"automaticallyCreateCaseLink")&&(i.automaticallyCreateCaseLink=t.automaticallyCreateCaseLink),n.has(t,"autoCaseLinkReason")&&(i.autoCaseLinkReason=t.autoCaseLinkReason),n.has(t,"api.useGenericApi")&&n.set(i,"api.useGenericApi",t.api.useGenericApi),n.has(t,"api.useGenericApiExternal")&&n.set(i,"api.useGenericApiExternal",t.api.useGenericApiExternal),n.has(t,"api.writableFields")&&(i.api.writableFields=n.union(i.api.writableFields,t.api.writableFields)),n.has(t,"api.mainFileField")&&n.set(i,"api.mainFileField",t.api.mainFileField),n.has(t,"allowExternalFlag")&&(i.allowExternalFlag=t.allowExternalFlag),n.has(t,"rules")&&(i.rules=n.extend({},i.rules,t.rules)),n.has(t,"computeFunctions")&&(i.computeFunctions=n.extend({},i.computeFunctions,t.computeFunctions)),n.has(t,"defaultValueFunctions")&&(i.defaultValueFunctions=n.extend({},i.defaultValueFunctions,t.defaultValueFunctions)),n.has(t,"rowTemplates")&&(i.rowTemplates=n.extend({},i.rowTemplates,t.rowTemplates)),n.has(t,"importTypes")&&(i.importTypes=n.extend({},i.importTypes,t.importTypes)),n.has(t,"grids")&&(i.grids=n.assign({},i.grids,t.grids)),n.has(t,"relationshipFieldMappings")&&(i.relationshipFieldMappings=t.relationshipFieldMappings),n.has(t,"similarSearchConfig")&&(i.similarSearchConfig=t.similarSearchConfig),n.has(t,"allowPurge")&&(i.allowPurge=t.allowPurge),n.has(t,"calendarMapping")&&(i.calendarMapping=t.calendarMapping),n.has(t,"workflowActionConfig")&&(i.workflowActionConfig=t.workflowActionConfig),n.has(t,"primaryConfig")&&(i.primaryConfig=t.primaryConfig),n.has(t,"bypassValidationOnDraft")&&(i.bypassValidationOnDraft=t.bypassValidationOnDraft),n.has(t,"customGridQueries")&&(i.customGridQueries=t.customGridQueries),n.isArray(t.fields)&&n.each(t.fields,(function(e){var t=n.find(i.fields,{field:e.field});t?n.extend(t,e):i.fields.push(e)})),n.isArray(t.customExportColumns)&&n.each(t.customExportColumns,(function(e){n.includes(i.customExportColumns,e)||i.customExportColumns.push(e)})),n.isArray(t.joins)&&n.each(t.joins,(function(e){!function(e,t,a){var r=n.find(i.joins,{referenceField:e});if(r){if(r.table!==t)throw new Error("Multi table join defined");r.fields=n.uniq(r.fields.concat(a))}else i.joins.push({referenceField:e,table:t,fields:a})}(e.referenceField,e.table,e.fields)})),n.isArray(t.staticFieldWorkflows)&&n.each(t.staticFieldWorkflows,(function(e){var t=n.find(i.staticFieldWorkflows,{name:e.name});t?n.extend(t,e):i.staticFieldWorkflows.push(e)})),n.has(t,"model")&&(i.model=t.model),n.has(t,"view")&&(i.view=t.view),n.has(t,"calendarView")&&(i.calendarView=t.calendarView),n.has(t,"GridView")&&(i.GridView=t.GridView),n.has(t,"FormView")&&(i.FormView=t.FormView),n.has(t,"collection")&&(i.collection=t.collection),n.has(t,"allowMetaDataHardDelete")&&(i.allowMetaDataHardDelete=t.allowMetaDataHardDelete),n.has(t,"allowDataAggregation")&&(i.allowDataAggregation=t.allowDataAggregation),n.has(t,"externalMapping")&&(i.externalMapping=t.externalMapping),n.has(t,"entityEvaluators")&&(i.entityEvaluators=t.entityEvaluators),n.has(t,"cacheBustGroups")&&(i.cacheBustGroups=t.cacheBustGroups),n.has(t,"aclRolesForCopy")&&(i.aclRolesForCopy=t.aclRolesForCopy),n.has(t,"excludeFromDataExport")&&(i.excludeFromDataExport=t.excludeFromDataExport),n.has(t,"excludeFromAggregation")&&(i.excludeFromAggregation=t.excludeFromAggregation),n.has(t,"layoutType")&&(i.layoutType=t.layoutType),n.has(t,"rootLayoutType")&&(i.rootLayoutType=t.rootLayoutType),n.has(t,"caseDetailsTabs")&&(i.caseDetailsTabs=t.caseDetailsTabs),n.has(t,"caseDetailsTabsExternal")&&(i.caseDetailsTabsExternal=t.caseDetailsTabsExternal),n.has(t,"gridFilterExcludeFields")&&(i.gridFilterExcludeFields=t.gridFilterExcludeFields),n.has(t,"gridFilterExcludeFieldsByPerm")&&(i.gridFilterExcludeFieldsByPerm=t.gridFilterExcludeFieldsByPerm),n.has(t,"features")&&(i.features=t.features),i}},499827:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(962062),i(428706);var a=i(96190),r=i(648160),o=i(949545);e.exports=r(o,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"field",includeInElementCount:!0,entity:{base:"sys",name:"field_layout_type"},validation:i(31832),caption:"Field",captionPlural:"Fields",addCaption:"Add Field",newCaption:"New Field",importTransformer:"field_layout_type",exportTransformer:"field_layout_type",customExportColumns:["fieldId__originalId"],customDependencies:function(e){var t,i=a.map(e.getRootLayoutEntities(),"entityCanon");return["isight/field","isight/dynamic_entity_field"].concat(function(e){if(Array.isArray(e))return n(e)}(t=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},model:function(){return i(385668)}})},31832:e=>{"use strict";e.exports={mandatory$:["fieldId","rootId","parentId"]}},904415:e=>{"use strict";var t={displayFields:["actionType","fieldName","fieldValues"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},625336:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{table:"sys_field_value_action",entity:{base:"sys",name:"field_value_action"},workflowActionConfig:{formName:"set-field-value-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},unsupportedEntities:["sys/email"]},caption:"Set Field Value",captionPlural:"Set Field Values",addCaption:"Add Set Field Value",newCaption:"New Set Field Value",rules:i(167511),audit:i(904415),validation:i(36597),usageStatistics:i(39331),model:function(){return i(140741)},view:function(){return i(743004)},fields:[{field:"fieldName",type:"fieldPicklist",typeOptions:{ignoreAttributesNotInList:!0,entityNameField:"targetEntity",excludeType:["user","user[]","primaryParty","party","file[]","imageCropper"],filterFlag:["apiWritable","formVisible","searchVisible"],excludeDataFormFields:!0,excludedFields:["cancelDate","cancelReason","reassignReason","acceptTermsAndConditions","restoreReason","purgeReason","dateSubmitted","canceled","caseId","kind","templateId","templateLocale","status","primaryEntity","due","startDate","endDate","allDayEvent","duration","fileShared","generatedFileType","packetId"],excludedFieldsByEntityName:{"sys/appointment":["duration","allDayEvent"],"sys/attachment":["externalRecord","shouldAddPageNumbers","shouldAddTableOfContents","caseFilesInclusionKind","documentGenerationMethod"],"sys/case":["externalRecord","reportedAnonymously"],"sys/party":["externalRecord","portalReporterParty"],"sys/note":["externalRecord"]},excludedFieldsDynamicEntities:["externalRecord"],searchableFields:!1},kind:"editable",caption:"Field"},{field:"isExpression",type:"yesno",caption:"Set the value using an expression?",kind:"editable"},{field:"expression",type:"expression",typeOptions:{entityField:"targetEntity"},caption:"ISEL Expression",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"fieldType",type:"textbox",caption:"Field Type",kind:"hidden-editable"},{field:"fieldValues",type:"code[]",caption:"Value",kind:"hidden-editable"},{field:"fieldValuesFormatted",type:"code[]",caption:"Value",kind:"editable"},{field:"joinData",type:"json[]",caption:"Join Data",kind:"hidden-editable"}]})},140741:(e,t,i)=>{"use strict";var n=i(637527),a=i(291599);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/field_value_action"),entity:{base:"sys",name:"field_value_action"},idAttribute:"id",rules:{isExpressionDisabled:function(){return a.isDisabled}},defaults:{isExpression:!1}})},167511:e=>{"use strict";e.exports={isExpression:function(e){return!0===e.isExpression},isFieldValue:function(e){return!1===e.isExpression},isFieldNameSelected:function(e){return!!e.fieldName}}},39331:(e,t,i)=>{"use strict";var n=i(342141)("sys_field_value_action");e.exports=[{category:"workflows",key:"totalSetFieldValueAction",query:n.countActiveEntity()}]},36597:e=>{"use strict";e.exports={mandatory$:["targetEntity","triggerType","fieldName"],dependentMandatory$:[{condition:"isTriggerTypeDelayed",fields:["delay"]},{condition:"isFieldNameSelected",fields:["isExpression"]},{condition:"isExpression",fields:["expression"]},{condition:"isFieldNameSelected && isFieldValue",fields:["fieldValues"]}],expression$:["expression"]}},662282:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Filestore",roles:["view_filestore"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Filestore",roles:["create_filestore"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Filestore",roles:["edit_filestore"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Filestore",roles:["remove_filestore"],actions:["remove"],conditions:[]}).value()},869690:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"filestore",table:"file_uploads",entity:{base:"sys",name:"filestore"},search:!1,caption:"File Upload",captionPlural:"File Uploads",addCaption:"Add File Upload",newCaption:"New File Upload",acl:i(662282),fields:[{field:"id",type:"primary",kind:"system",caption:"ID"},{field:"createdBy",type:"id",kind:"system",caption:"Created By"},{field:"createdDate",type:"datetime",kind:"system",caption:"Created Date"},{field:"lastUpdatedBy",type:"id",kind:"system",caption:"Last Updated By"},{field:"lastUpdatedDate",type:"datetime",kind:"system",caption:"Last Updated Date"},{field:"fileName",type:"textbox",kind:"system",caption:"File Name"},{field:"relativePath",type:"textarea",kind:"system",caption:"Relative Path"},{field:"md5",type:"textbox",kind:"system",caption:"MD5"},{field:"size",type:"number",kind:"system",caption:"Size"},{field:"deletedBy",type:"id",kind:"system",caption:"Deleted By"},{field:"metaData",type:"json",kind:"system",caption:"Meta Data"}]})},668229:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked Filter",roles:["save_delete_hard_locked_filter"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).required({name:"Inherit Filter Group ACL when filterGroupId is not null",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!filterGroupId":null}},"sys/filter_group::{filterGroupId}::load"]}).value()},833269:(e,t,i)=>{"use strict";var n=i(648160),a=i(589079);e.exports=n(a,{table:"sys_filter",entity:{base:"sys",name:"filter"},caption:"Filter",captionPlural:"Filters",addCaption:"Add Filter",newCaption:"New Filter",acl:i(668229),validation:i(693294),importTransformer:"filter",copyTransformer:"filter",copyPostAction:"filter",customDependencies:["sys/filter_group","sys/conditionType"],api:{writableFields:["filterData","ruleData","entityName"]},fields:[{field:"type",type:"textbox",caption:"Condition Type",kind:"editable"},{field:"filterGroupId",type:"id",caption:"Filter Group",kind:"hidden-editable"}]})},693294:e=>{"use strict";e.exports={mandatory$:["type","mustMatchAll","entityId"]}},201045:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked Filter Child",roles:["save_delete_hard_locked_filter_child"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).required({name:"Inherit Filter acl",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:["sys/filter::{parentId}"]}).value()},838693:(e,t,i)=>{"use strict";var n=i(648160),a=i(383954);e.exports=n(a,{table:"sys_filter_child",entity:{base:"sys",name:"filter_child"},parents:[{entity:{base:"sys",name:"filter"},field:"parentId"}],caption:"Filter Item",captionPlural:"Filter Items",addCaption:"Add Filter Item",newCaption:"New Filter Item",acl:i(201045),rules:i(636538),validation:i(860062),importTransformer:"filter_child",exportTransformer:"filter_child",customExportColumns:["parentId__originalId"],customDependencies:["sys/flag","sys/packet","sys/packet_template"],copyTransformer:"filter_child"})},636538:e=>{"use strict";e.exports={shouldHaveFieldValues:function(e){return"is_empty"!==e.operator&&"is_not_empty"!==e.operator},isOperatorOfTypeBetween:function(e){return"between"===e.operator}}},860062:e=>{"use strict";e.exports={mandatory$:["parentId","fieldId","operator"],dependentMandatory$:[{condition:"shouldHaveFieldValues",fields:["fieldValues"]}],dependentMinLength$:[{condition:"isOperatorOfTypeBetween",name:"fieldValues",value:2}],dependentMaxLength$:[{condition:"isOperatorOfTypeBetween",name:"fieldValues",value:2}]}},36692:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Filter Group",roles:["form_builder"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Filter Group",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Filter Group",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Filter Group",roles:["form_builder"],actions:["remove"],conditions:[]}).value()},8726:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveLayoutRuleGroup",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(63821),query:null}]},63821:(e,t,i)=>{"use strict";var n=i(274692),a=i(522609)(),r=i(790097),o="layoutRuleGroups";e.exports=function(e){var t,s=i(40785),l=e.patchData;l?(s.patch({appDataCategory:o,data:l,identifierProperties:["id"]}),r.trigger("form-layout-rule-groups-updated",e)):(t=function(){return r.trigger("form-layout-rule-groups-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/active_layout_rule_groups"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){a.updateArray($appData[o],e),t()})))}},459365:(e,t,i)=>{"use strict";var n=i(405350);e.exports={entityName:n.getEntityNameFn("entityId")}},498364:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(962062);var a=i(96190),r=i(648160),o=i(783796);e.exports=r(o,{db:"default",table:"sys_filter_group",entity:{base:"sys",name:"filter_group"},search:!1,caption:"Filter Group",captionPlural:"Filter Groups",addCaption:"Add Filter Group",newCaption:"New Filter Group",acl:i(36692),validation:i(242329),computeFunctions:i(459365),customDependencies:function(e){return function(e){if(Array.isArray(e))return n(e)}(t=a.map(e.getLayoutEntities(),"entityCanon"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t},importTransformer:"filter_group",copyPostAction:"filter_group",cacheBustGroups:i(8726),fields:[{field:"type",caption:"Type",type:"textbox",kind:"hidden"},{field:"mustMatchAll",caption:"Must Match All",type:"yesno",kind:"editable"},{field:"entityName",type:"textbox",caption:"Entity Name",kind:"computed",kindOptions:{computeFunction:"entityName"}},{field:"entityId",type:"id",caption:"Entity Name",kind:"editable"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"restorable",caption:"Restorable",type:"yesno",kind:"hidden"}]})},242329:e=>{"use strict";e.exports={mandatory$:["mustMatchAll","entityId","type"]}},289383:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Flags",permission:"view_flag_settings",parentPermission:"view_data_settings",options:[{caption:"View Flag Settings",tooltip:"View the Flag settings page",sequence:2,permission:"view_flag"},{permission:"create_flag",caption:"Create",tooltip:"Create a flag",dependencies:["view_flag"],sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("flag"),caption:"Edit",dependencies:["view_flag"],sequence:3,options:[{permission:"edit_flag",caption:"Save",tooltip:"Edit a flag",dependencies:["view_flag"]}]},{permission:"remove_flag",caption:"Remove",tooltip:"Delete a flag",dependencies:["view_flag"],sequence:4}]}]},394333:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Flag Records",roles:["view_flag_records"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Flag Settings",roles:["view_flag"],actions:["save_new","save_existing","remove"],conditions:[]}).required({name:"Create Flag",roles:["create_flag"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Flag",roles:["edit_flag"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Flag",roles:["remove_flag"],actions:["remove"],conditions:[]}).value()},119959:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveFlags",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(980156),query:null}]},980156:(e,t,i)=>{"use strict";i(269479);var n=i(274692),a=i(522609)(),r=i(790097),o="flags";e.exports=function(e){var t,s=i(40785),l=e.patchData;l?(s.patch({appDataCategory:o,data:l,identifierProperties:["id"]}),r.trigger("flags-updated",e)):(t=function(){return r.trigger("flags-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/flags"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){a.updateObject($appData[o],e),t()})))}},620633:e=>{"use strict";e.exports=[{from:[],to:"/settings/data/flags"}]},890157:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_flag",entity:{base:"sys",name:"flag"},caption:"Flag",captionPlural:"Flags",addCaption:"Add Flag",newCaption:"New Flag",gridDescriptorField:"name",validation:i(434710),historyNav:i(620633),acl:i(394333),aclHierarchy:i(289383),configurationExport:!0,exportTransformer:"flag",configurationImport:!0,importTransformer:"flag",usageStatistics:i(437244),cacheBustGroups:i(119959),fields:[{field:"entityName",type:"entityPicklist",caption:"Record Type",kind:"editable",typeOptions:{filter:"customFlagEntitiesFilter",valueField:"name",canCreate:!1,defaultSorting:!1}},{field:"name",type:"textbox",caption:"Name",kind:"editable",typeOptions:{charMaxTextbox:30}},{field:"nameAsCode",type:"textbox",caption:"Name As Code",kind:"hidden"},{field:"description",type:"textarea",typeOptions:{charMaxTextArea:250},caption:"Description",kind:"editable"},{field:"color",type:"color",kind:"editable",caption:"Color",cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/flag-color-cell-tmpl.dust"),"utf8")}},{field:"entStatusField",caption:"Entity Status Field",type:"textbox",kind:"system"},{field:"entDateField",caption:"Entity Date Field",type:"textbox",kind:"system"},{field:"entSetByField",caption:"Entity Set By Field",type:"textbox",kind:"system"}]})},437244:(e,t,i)=>{"use strict";var n=i(342141)("sys_flag");e.exports=[{category:"flag",key:"activeFlags",query:n.countActiveEntity()}]},434710:e=>{"use strict";e.exports={mandatory$:["entityName","name","color"],pattern$:[{fields:["name"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},389021:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveLayout",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(232438),query:null}]},232438:(e,t,i)=>{"use strict";var n=i(274692),a=i(522609)(),r=i(790097),o="layouts";e.exports=function(e){var t,s=i(40785),l=e.patchData;l?(s.patch({appDataCategory:o,data:l,identifierProperties:["id","name"]}),r.trigger("form-layout-updated",e)):(t=function(){return r.trigger("form-layout-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/active_layouts"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){a.updateArray($appData[o],e),t()})))}},916399:(e,t,i)=>{"use strict";var n=i(648160),a=i(949545);e.exports=n(a,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},search:!0,rootLayoutType:!0,layoutType:"form",entity:{base:"sys",name:"form_layout_type"},caption:"Form",captionPlural:"Forms",addCaption:"Add Form",newCaption:"New Form",configurationExport:!0,importTransformer:"form_layout_type",exportTransformer:"form_layout_type",validation:i(836724),rules:i(932960),cacheBustGroups:i(389021),model:function(){return i(556500)}})},932960:(e,t,i)=>{"use strict";i(752675),i(489463),i(426099);var n=Symbol.for("PendingRequest");e.exports={isLocked:function(e){return!0===e.locked},isShowOnIntake:function(e){return!1===e.hideOnIntake&&!e[n]},isShowOnPortal:function(e){return!0===e.showOnPortal},isShowOnHotline:function(e){return!0===e.showOnHotline},canShowOnIntake:function(e){return!1!==e.allowShowOnIntake&&"data"!==e.entityType},isPartyForm:function(e){return"sys/party"===e.entityName},isCaseForm:function(e){return"sys/case"===e.entityName},isDataFormType:function(e){return"data"===e.entityType},isCustomFormType:function(e){return"custom"===e.entityType}}},836724:e=>{"use strict";e.exports={mandatory$:["caption","captionPlural","entityType"],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}],numberRange$:[{number:"sequence",minimumNumber:{number:1}}]}},73516:e=>{"use strict";var t={displayFields:["actionType"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},672835:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{db:"default",table:"sys_document_action",entity:{base:"sys",name:"document_action"},caption:"Generated Document",captionPlural:"Generate Documents",addCaption:"Add Generated Document",newCaption:"New Generated Document",workflowActionConfig:{formName:"generate-document-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},supportedEntities:["sys/case"]},validation:i(525736),audit:i(73516),usageStatistics:i(426330),model:function(){return i(670238)},fields:[{field:"generatedFileType",type:"picklist",caption:"File Type",typeOptions:{picklistName:"attachment_generated_file_types"},kind:"editable"},{field:"templateLocale",type:"picklist",caption:"Locale",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable"},{field:"templateId",type:"picklistApi",caption:"Template Name",typeOptions:{picklistName:"templates",picklistDependencies:["templateLocale"]},kind:"editable",dbIndex:!0}],joins:[{referenceField:"templateId",table:"sys_template",fields:["name"]}]})},670238:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/document_action"),entity:{base:"sys",name:"document_action"},idAttribute:"id",defaults:{templateLocale:$appData.user.locale},save:function(e,t){return n.prototype.save.call(this,e,t)}})},426330:(e,t,i)=>{"use strict";var n=i(342141)("sys_document_action");e.exports=[{category:"workflows",key:"totalGeneratedDocumentAction",query:n.countActiveEntity()}]},525736:e=>{"use strict";e.exports={mandatory$:["triggerType","generatedFileType","templateId"],dependentMandatory$:[{condition:"isTriggerTypeDelayed",fields:["delay"]}]}},505345:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{entity:{base:"sys",name:"graph"},search:!1,caption:"Graph",addCaption:"Add Graph",newCaption:"New Graph",captionPlural:"Graphs",icon:"fa-chart-bar-o",fields:[{field:"graphType",type:"picklist",caption:"Graph Type",kind:"system",typeOptions:{picklistName:"graph_types"}},{field:"dateFilter",type:"picklist",caption:"Date Filter",kind:"system",typeOptions:{picklistName:"date_filters"}},{field:"startDate",type:"date",caption:"Start Date",kind:"system"},{field:"endDate",type:"date",caption:"End Date",kind:"system"},{field:"categories",type:"picklistApi[]",caption:"Categories",kind:"system",typeOptions:{picklistName:"usage_stats_categories"}},{field:"sets",type:"picklistApi[]",caption:"Sets",kind:"system",typeOptions:{picklistName:"usage_stats_concatenated_sets_single_parent",picklistDependencies:["categories"]}}]})},32469:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit grid filter ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/gridFilter::{gridFilterId}::load"]}).value()},583845:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r="gridFilterId",o={base:"sys",name:"gridFilter"};e.exports=n(a,{db:"default",table:"sys_grid_column",entity:{base:"sys",name:"gridColumn"},search:!1,caption:"Grid Column",captionPlural:"Grid Columns",addCaption:"Add Grid Column",newCaption:"New Grid Column",acl:i(32469),configurationImport:!0,importTransformer:"gridcolumn",parents:[{entity:o,field:r}],fields:[{field:r,type:"id",kind:"editable",caption:"Filter",dbIndex:!0},{field:"field",type:"code",kind:"editable",caption:"Field",dbIndex:!0},{field:"previous",type:"id",kind:"editable",caption:"Previous"}],joins:[{referenceField:r,table:"sys_grid_filter",fields:["createdBy","gridName","userId"]}],audit:{child:!0,parentType:o,parentFieldId:r,allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},435641:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit grid filter ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/gridFilter::{gridFilterId}::load"]}).value()},418936:(e,t,i)=>{"use strict";var n=i(405350);e.exports={entityName:n.getEntityNameFn("entityId")}},471881:(e,t,i)=>{"use strict";var n=i(648160),a=i(589079),r="gridFilterId";e.exports=n(a,{table:"sys_grid_data_filter",entity:{base:"sys",name:"gridDataFilter"},search:!1,caption:"Grid Data Filter",captionPlural:"Grid Data Filters",addCaption:"Add Grid Data Filter",newCaption:"New Grid Data Filter",acl:i(435641),validation:i(321266),computeFunctions:i(418936),configurationImport:!0,importTransformer:"grid_data_filter",parents:[{entity:{base:"sys",name:"gridFilter"},field:r}],fields:[{field:r,type:"id",kind:"editable",caption:"Grid Filter",dbIndex:!0}],joins:[{referenceField:r,table:"sys_grid_filter",fields:["createdBy","gridName","userId"]}]})},321266:e=>{"use strict";e.exports={mandatory$:["mustMatchAll","entityName"]}},116673:(e,t,i)=>{"use strict";var n=i(648160),a=i(383954);e.exports=n(a,{table:"sys_grid_data_filter_child",entity:{base:"sys",name:"gridDataFilterChild"},parents:[{entity:{base:"sys",name:"gridDataFilter"},field:"parentId"}],caption:"Grid Data Filter Item",captionPlural:"Grid Data Filter Items",addCaption:"Add Grid Data Filter Item",newCaption:"New Grid Data Filter Item",validation:i(550426),fields:[{field:"selectedFilterOptions",type:"textbox[]",caption:"Selected Filter Options",kind:"editable"}]})},550426:e=>{"use strict";e.exports={mandatory$:["parentId","fieldId","operator"],dependentMandatory$:[{condition:"shouldHaveFieldValues",fields:["fieldValues"]}]}},810667:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Grids",permission:"view_grid_filter_settings",options:[{caption:"View Default Grids",sequence:2,disabled:!0,permission:"view_default_grid_filter"},{caption:"Create Default Grids",sequence:1,disabled:!0,permission:"create_grid_filter"},{type:"group",permission:n.getEditGroupPermissionCode("grid_filter"),sequence:3,caption:"Edit Default Grids",options:[{permission:"edit_default_grid_filter",caption:"Save",tooltip:"Configure the default column headers of grids"}]},{caption:"Remove Default Grids",sequence:4,disabled:!0,permission:"remove_grid_filter"},{caption:"Export Grid Data",sequence:5,disabled:!0,permission:"export_grid"}]}]},4785:(e,t,i)=>{"use strict";var n=i(553604),a={attributes:{userId:"{user.id}"}},r={attributes:{userId:"0"}};e.exports=n.initialize().required({name:"View Grid Filters",roles:["view_grid_filter"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Own Grid Filters",roles:["view_own_grid_filter"],actions:["load","list","save_existing","remove"],conditions:[a]}).required({name:"View Default Grid Filters",roles:["view_default_grid_filter"],actions:["load","list","save_existing","remove"],conditions:[r]}).required({name:"View Others Grid Filters",roles:["view_others_grid_filter"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!userId":"0"}},{attributes:{"!userId":"{user.id}"}}]}).required({name:"Create Grid Filters",roles:["create_grid_filter"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Own Grid Filters",roles:["create_own_grid_filter"],actions:["save_new"],conditions:[a,{attributes:{id:null}}]}).required({name:"Create Default Grid Filters",roles:["create_default_grid_filter"],actions:["save_new"],conditions:[r,{attributes:{id:null}}]}).required({name:"Create Others Grid Filters",roles:["create_others_grid_filter"],actions:["save_new"],conditions:[{attributes:{id:null}},{attributes:{"!userId":"0"}},{attributes:{"!userId":"{user.id}"}}]}).required({name:"Edit Grid Filters",roles:["edit_grid_filter"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Edit Own Grid Filters",roles:["edit_own_grid_filter"],actions:["save_new","save_existing"],conditions:[a,{attributes:{"!id":null}}]}).required({name:"Edit Default Grid Filters",roles:["edit_default_grid_filter"],actions:["save_new","save_existing"],conditions:[r,{attributes:{"!id":null}}]}).required({name:"Edit Others Grid Filters",roles:["edit_others_grid_filter"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null}},{attributes:{"!userId":"0"}},{attributes:{"!userId":"{user.id}"}}]}).required({name:"Remove Grid Filters",roles:["remove_grid_filter"],actions:["remove"],conditions:[]}).required({name:"Remove Own Grid Filters",roles:["remove_own_grid_filter"],actions:["remove"],conditions:[a]}).required({name:"Remove Default Grid Filters",roles:["remove_default_grid_filter"],actions:["remove"],conditions:[r]}).required({name:"Remove Others Grid Filters",roles:["remove_others_grid_filter"],actions:["remove"],conditions:[{attributes:{"!userId":"0"}},{attributes:{"!userId":"{user.id}"}}]}).required({name:"Inherit Grid View ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!gridViewId":null}},"sys/grid_view::{gridViewId}"]}).value()},226211:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveGrid",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(865047),query:null}]},865047:(e,t,i)=>{"use strict";i(123792),i(426099),i(531415),i(747764),i(962953),i(202008),i(423500);var n=i(96190),a=i(274692),r=i(522609)(),o=i(790097),s="gridsDefaultFilters",l="gridsFilters";e.exports=function(e){var t,d=e.patchData;if(d){var c=i(40785);c.patch({appDataCategory:s,data:d,identifierProperties:["gridName"]});var u={};n.forEach(d,(function(e,t){u[t]=null})),c.patch({appDataCategory:l,data:u,identifierProperties:["gridName"]})}else t=function(){o.trigger("add-remove-grid",e)},a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/grids/defaults"),method:"GET",dataType:"json",contnetType:"application/json"}).done((function(e){r.updateArray($appData[s],e);var i=new Set;n.each(e,(function(e){i.add(e.gridName)})),$appData[l]=n.filter($appData[l],(function(e){return i.has(e.gridName)})),t()}))}},186945:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_grid_filter",entity:{base:"sys",name:"gridFilter"},api:{writableFields:["columns","dataFilters"]},cacheBustGroups:i(226211),caption:"Grid",captionPlural:"Grids",addCaption:"Add Grid",newCaption:"New Grid",gridDescriptorField:"name",search:!0,acl:i(4785),aclHierarchy:i(810667),validation:i(985818),configurationExport:!0,configurationImport:!0,importTransformer:"gridfilter",model:function(){return i(595850)},collection:function(){return i(452251)},fields:[{field:"userId",type:"user",kind:"editable",caption:"User"},{field:"gridName",type:"code",kind:"editable",caption:"Grid Name",dbIndex:!0},{field:"selected",type:"checkbox",kind:"editable",caption:"Selected"},{field:"sortColumn",type:"code",kind:"editable",caption:"Sort Column"},{field:"sortOrder",type:"code",kind:"editable",caption:"Sort Order"},{field:"excludeColumns",type:"code[]",kind:"system",caption:"Exclude Columns"},{field:"gridViewId",type:"id",kind:"hidden",caption:"View",dbIndex:!0},{field:"dynamic",type:"yesno",kind:"system",caption:"Dynamically Created Grid"}]})},985818:e=>{"use strict";e.exports={mandatory$:["userId","gridName","sortColumn","sortOrder"]}},95563:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r="gridFilterId";e.exports=n(a,{db:"default",table:"sys_grid_static_filter",entity:{base:"sys",name:"gridStaticFilter"},search:!1,caption:"Grid Static Filter",captionPlural:"Grid Static Filters",addCaption:"Add Grid Static Filter",newCaption:"New Grid Static Filter",parents:[{entity:{base:"sys",name:"gridFilter"},field:r}],fields:[{field:r,type:"id",kind:"editable",caption:"Filter",dbIndex:!0},{field:"filterName",type:"code",kind:"editable",caption:"Field"},{field:"selectedFilterOptions",type:"code[]",kind:"editable",caption:"Selected Filter Option"}],joins:[{referenceField:r,table:"sys_grid_filter",fields:["createdBy","gridName","userId"]}]})},157848:e=>{"use strict";e.exports=[{type:"group",caption:"Views",permission:"grid_view",sequence:2,options:[{caption:"View",tooltip:"View the Views page",permission:"view_grid_views"}]}]},335598:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Grid Views",roles:["view_grid_views"],actions:["load","list","save_existing","save_new","remove"],conditions:[]}).required({name:"Access Others Grid Views",roles:["access_others_grid_views"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{createdBy:"{!user.id}"}}]}).value()},841305:e=>{"use strict";var t={displayFields:["name"]};e.exports={cmd:{save:{created:{options:{reference:t}},updated:{options:{reference:t,changes:{excludeFields:["id"]}}}},remove:{deleted:{options:{reference:t}}}}}},990590:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_grid_view",gridDescriptorField:"name",entity:{base:"sys",name:"grid_view"},caption:"View",captionPlural:"Views",addCaption:"Add Grid View",newCaption:"New Grid View",search:!0,acl:i(335598),aclHierarchy:i(157848),audit:i(841305),validation:i(801335),model:function(){return i(133485)},collection:function(){return i(390780)},fields:[{field:"name",type:"textbox",kind:"editable",caption:"Name",typeOptions:{charMaxTextbox:60,maxLengthCharacterCount:!0}},{field:"entityName",type:"entityPicklist",caption:"Entity",kind:"editable",typeOptions:{valueField:"canon"}},{field:"gridFilterIdDenormalized",type:"id",kind:"hidden",caption:"Grid Filter ID Denormalized"}]})},801335:e=>{"use strict";e.exports={mandatory$:["name","entityName"]}},945656:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",permission:"view_holiday_entry_settings",caption:"Holidays",parentPermission:"view_data_settings",options:[{caption:"View",tooltip:"View holiday calendar rules",sequence:2,disabled:!0,permission:"view_holiday_entry"},{permission:"create_holiday_entry",caption:"Create",tooltip:"Create holiday calendar rules",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("holiday_entry"),caption:"Edit",sequence:3,options:[{permission:"edit_holiday_entry",caption:"Save",tooltip:"Edit holiday calendar rules"}]},{permission:"remove_holiday_entry",caption:"Remove",tooltip:"Delete holiday calendar rules",sequence:4}]}]},450510:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Holiday Entries",roles:["view_holiday_entry"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Holiday Entries",roles:["create_holiday_entry"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Holiday Entries",roles:["edit_holiday_entry"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Holiday Entries",roles:["remove_holiday_entry"],actions:["remove"],conditions:[]}).value()},990585:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},245759:e=>{"use strict";e.exports={"main-holidays":{sortColumn:"name",sortOrder:"asc",columns:[{field:"name"},{field:"dateFrom"},{field:"dateTo"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},681154:e=>{"use strict";e.exports=[{from:"/settings/data/holiday-calendar/new",to:"/settings/data/holiday-calendar/{id}"},{from:[],to:"/settings/data/holiday-calendar"}]},660702:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_holiday_entry",entity:{base:"sys",name:"holiday_entry"},caption:"Holiday",captionPlural:"Holidays",addCaption:"Add Holiday Calendar",newCaption:"New Holiday Calendar",gridDescriptorField:"name",acl:i(450510),aclHierarchy:i(945656),configurationExport:!0,configurationImport:!0,importTransformer:"holiday_entry",grids:i(245759),validation:i(996951),historyNav:i(681154),usageStatistics:i(163153),audit:i(990585),model:function(){return i(65506)},collection:function(){return i(687974)},view:function(){return i(93569)},calendarView:function(){return i(315470)},api:{useGenericApi:!0,writableFields:["intersect","reduceBy","excludeDays"]},calendarMapping:{title:"name",startDate:"dateFrom",endDate:"dateTo",allDay:!0},fields:[{field:"dateFrom",type:"date",kind:"editable",caption:"Start Date",dbIndex:!0},{field:"dateTo",type:"date",kind:"editable",caption:"End Date"},{field:"name",type:"textbox",kind:"editable",caption:"Holiday Name"}]})},163153:(e,t,i)=>{"use strict";var n=i(342141)("sys_holiday_entry");e.exports=[{category:"settings_data",key:"totalHolidayEntries",query:n.countActiveEntity()}]},996951:e=>{"use strict";e.exports={mandatory$:["dateFrom","dateTo","name"],dateRange$:[{date:"dateTo",minimumDate:{date:"dateFrom"}}]}},945249:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(250113);var n=i(96190),a=i(433998),r=i(236229),o=i(303741),s=new r;n.each(a.keys(),(function(e){var t,i,r=a(e),l=new o({entDef:r,entities:s});l.setFields((t=l.entity,(i=n.find($appData.entityFields,{entity:t}))?i.fields:null)),s.add(l)})),e.exports=s},939994:(e,t,i)=>{"use strict";i(250113),i(426099),i(123792),i(962953);var n=i(96190),a=i(945249),r=i(303741),o=i(698023);n.each(o.keys(),(function(e){var t,i,s=o(e),l=new r({entDef:s,entities:a});l._fields=(t=l.entity,(i=n.find($appData.entityFields,{entity:t}))?i.fields:null),a.add(l)})),e.exports=a},111130:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(648160),r=i(949545);e.exports=a(r,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},includeInElementCount:!0,layoutType:"information-box",entity:{base:"sys",name:"information_box_layout_type"},caption:"Information Box",captionPlural:"Information Boxes",addCaption:"Add Information Box",newCaption:"New Information Box",importTransformer:"information_box_layout_type",exportTransformer:"information_box_layout_type",customDependencies:function(e){return n.map(e.getRootLayoutEntities(),"entityCanon")},validation:i(91923),fields:[{field:"caption",type:"textarea",caption:"Caption",kind:"editable",typeOptions:{placeholder:!1}}]})},91923:e=>{"use strict";e.exports={mandatory$:["rootId","parentId","caption","informationBoxType"],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},600412:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(648160),r=i(949545);e.exports=a(r,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"insertionPoint",entity:{base:"sys",name:"insertion_point_layout_type"},validation:i(426041),caption:"Insertion Point",captionPlural:"Insertion Points",addCaption:"Add Insertion Point",newCaption:"New Insertion Point",importTransformer:"insertion_point_layout_type",exportTransformer:"insertion_point_layout_type",customDependencies:function(e){return n.map(e.getRootLayoutEntities(),"entityCanon")}})},426041:e=>{"use strict";e.exports={mandatory$:["name","rootId","parentId"]}},618983:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().required({name:"View caseiq non-data dynamic entities",roles:["form_builder"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!type":"data"}}]}).required({name:"Create caseiq dynamic entities",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).filter({name:"Edit Dynamic Entity Flag",roles:["edit_dynamic_entity_flag"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,dynamic:!0}}],filters:{dynamic:!1}}).required({name:"Edit caseiq dynamic entities",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove caseiq dynamic entities",roles:["form_builder"],actions:["remove"],conditions:[]}).value()},843069:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveDynamicEntity",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(84326),query:null},{cacheKey:"addRemoveDynamicEntityTranslations",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(635256),query:null}]},84326:(e,t,i)=>{"use strict";var n=i(274692),a=i(522609)(),r=i(790097),o="dynamicEntities";e.exports=function(e){var t,s=i(40785),l=e.patchData;l?(s.patch({appDataCategory:o,data:l,identifierProperties:["id"]}),r.trigger("dynamic-entity-schema-updated",e)):(t=function(){return r.trigger("dynamic-entity-schema-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_entity_schema"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){a.updateArray($appData[o],e),t()})))}},65359:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(648160),r=i(549676);e.exports=a(r,{db:"default",search:!0,table:"isight_dynamic_entity",entity:{base:"isight",name:"dynamic_entity"},acl:i(618983),icon:"fa-list",cacheBustGroups:i(843069),importTransformer:"dynamic_entity",exportTransformer:"dynamic_entity",customDependencies:function(e){return n.map(e.getRootLayoutEntities(),"entityCanon")},customExportColumns:["layoutId__originalId","copiedLayoutId__originalId"],usageStatistics:i(392750),model:function(){return i(332520)},collection:function(){return i(537060)},fields:[{field:"activationInprogress",caption:"Activation Inprogress",type:"yesno",kind:"system"},{field:"deactivationInprogress",caption:"Deactivation Inprogress",type:"yesno",kind:"system"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"allowOnPortal",caption:"Allow on Portal",type:"yesno",kind:"editable"},{field:"allowOnHotline",caption:"Allow on Hotline",type:"yesno",kind:"editable"},{field:"enableTranslation",caption:"Automatic Translation",type:"yesno",kind:"editable",features:["intakeTranslation"]}]})},392750:(e,t,i)=>{"use strict";var n=i(342141)("isight_dynamic_entity");e.exports=[{category:"customForms",key:"dynamicFormsCount",query:n.countActiveEntity()}]},112789:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().required({name:"View Dynamic Fields",roles:["form_builder"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Dynamic Fields",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).filter({name:"Edit Dynamic Field Kind",roles:["edit_dynamic_field_kind"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,kind:"dynamic"}}],filters:{kind:!1}}).required({name:"Edit Dynamic Fields",roles:["form_builder"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Dynamic Fields",roles:["form_builder"],actions:["remove"],conditions:[]}).value()},161215:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveDynamicFields",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(942228),query:null}]},942228:(e,t,i)=>{"use strict";i(426099),i(423500);var n=i(274692),a=i(96190),r=i(522609)(),o=i(790097),s="dynamicEntityFields";e.exports=function(e){var t,l=i(40785),d=e.patchData;d?(a.forEach(d,(function(e){a.has(e,"fields.caseId")&&a.assign(e.fields.caseId,{editRule:"isNew && !isAddingToSpecificCase",clearOnHide:!1})})),l.patch({appDataCategory:s,data:d,identifierProperties:["entityId"]}),o.trigger("dynamic-fields-updated",e)):(t=function(){return o.trigger("dynamic-fields-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_entity_fields"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){r.updateArray($appData[s],e),t()})))}},324197:(e,t,i)=>{"use strict";var n=i(648160),a=i(42677);e.exports=n(a,{db:"default",search:!0,table:"isight_dynamic_entity_field",entity:{base:"isight",name:"dynamic_entity_field"},customDependencies:["isight/dynamic_entity","sys/user_role"],importTransformer:"dynamic_entity_field",exportTransformer:"dynamic_entity_field",copyTransformer:"dynamic_entity_field",copyPostAction:"dynamic_entity_field",usageStatistics:i(800836),parents:[{entity:{base:"isight",name:"dynamic_entity"},field:"entityId"}],acl:i(112789),cacheBustGroups:i(161215)})},800836:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("isight_dynamic_entity_field");e.exports=[{category:"customForms",key:"totalCustomFieldsForCustomForms",query:a.countEntityByGroup({where:function(){this.where("kind","dynamic").andWhere("sys_active",!0)}}),options:{groupingField:"entity_name"}},{category:"customForms",key:"computedFieldsForCustomForms",query:a.countActiveEntity({where:function(){this.where("dynamic_kind","isel-computed")}})},{category:"customForms",key:"aggregatedFieldsForCustomForms",query:a.countActiveEntity({where:function(){this.where("dynamic_kind","aggregate")}})},{category:"customForms",key:"coordinatesFieldsForCustomForms",query:a.countActiveEntity({where:function(){this.where("type","coordinate")}})},{category:"customForms",key:"totalDeletedFields",query:a.countEntity({where:function(){this.where("kind","dynamic").where("sys_active",!1).andWhere("restorable",!0)}})},{category:"customForms",key:"totalActiveFields",query:a.countActiveEntity({where:function(){this.where("kind","dynamic")}})},{category:"customForms",key:"totalActiveDateTimeFields",query:a.countActiveEntity({where:function(){this.where("kind","dynamic").where("type","datetime")}})},{category:"customForms",key:"totalRestrictEditFieldsForCustomForms",query:a.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("restrict_edit",!0)}})},{category:"customForms",key:"averageRestrictEditFieldsPerCustomForm",query:function(e,t,i){e.avg("average_func.count").from((function(){this.count().from("isight_dynamic_entity_field").where("restrict_edit",!0).where("sys_active",!0).whereNull("deleted_date").groupBy("entity_name").as("average_func")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).avg&&(a=parseInt(n.head(t).avg,10)),i(null,a)}))}}]},505444:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View caseiq entities",roles:["view_isight_entity"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create caseiq entities",roles:["create_isight_entity"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit caseiq entities",roles:["edit_isight_entity"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove caseiq entities",roles:["remove_isight_entity"],actions:["remove"],conditions:[]}).value()},570310:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemovePartiallyDynamicEntityTranslations",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(635256),query:null}]},635256:(e,t,i)=>{"use strict";i(426099),i(423500),i(202008);var n=i(274692),a=i(96190),r=i(522609)(),o=i(790097);function s(e){var t=r.convertTranslationArrayToObject(e);a.forEach(t,(function(e,i){a.isNil($appData.translations[i])&&($appData.translations[i]={}),r.updateObject($appData.translations[i],t[i])}))}e.exports=function(e){var t,i=e.patchData;if(i){var r=$appData.user.locale;s(a.filter(i,(function(e){return e.locale===r}))),o.trigger("dynamic-entity-translations-updated",e)}else t=function(){return o.trigger("dynamic-entity-translations-updated",e)},n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/list_dynamic_entity_translations"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){a.isEmpty(e)||s(e),t()}))}},913909:(e,t,i)=>{"use strict";i(962062),i(428706),i(962010);var n=i(96190);e.exports={computeEntityCanon:function(e,t,i){return i(null,n.map(t,(function(e){return"".concat(e.base,"/").concat(e.name)})))}}},926941:e=>{"use strict";e.exports={"settings-entities":{sortColumn:"name",sortOrder:"desc",columns:[{field:"name"}]}}},630352:e=>{"use strict";e.exports=[{from:["/settings/forms/new"],to:"/settings/forms/custom-form/{id}"},{from:[],to:"/settings/forms/custom-forms"}]},549676:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",search:!0,table:"isight_entity",entity:{base:"isight",name:"entity"},caption:"Form",captionPlural:"Forms",addCaption:"Add Form",newCaption:"New Form",acl:i(505444),computeFunctions:i(913909),model:function(){return i(142732)},collection:function(){return i(537060)},grids:i(926941),historyNav:i(630352),validation:i(893449),rules:i(344603),fields:[{field:"name",type:"textbox",caption:"Entity Name",kind:"system",dbIndex:!0},{field:"base",type:"code",caption:"Entity Base",kind:"system",dbIndex:!0},{field:"canon",type:"textbox",caption:"Entity Canon",kind:"computed",kindOptions:{computeFunction:"computeEntityCanon"}},{field:"es_index",type:"code",caption:"Elasticsearch Index",kind:"system"},{field:"caption",type:"textbox",caption:"Caption",kind:"system"},{field:"createdBy",type:"id",kind:"system"},{field:"lastUpdatedBy",type:"id",kind:"system"},{field:"deletedBy",type:"id",kind:"system"},{field:"caption",type:"textbox",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Caption",typeOptions:{charMaxTextbox:60}},{field:"captionPlural",type:"textbox",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Caption Plural",typeOptions:{charMaxTextbox:62}},{field:"layoutId",caption:"Layout Id",type:"id",kind:"system"},{field:"copiedLayoutId",caption:"Copied Layout Id",type:"id",kind:"system"},{field:"parentEntityId",caption:"Parent Form",type:"entityPicklist",kind:"editable",typeOptions:{canCreate:!1,defaultSorting:!1}},{field:"dynamic",caption:"Dynamic",type:"yesno",kind:"system"},{field:"type",type:"picklistSelectize",kind:"editable",caption:"Type",typeOptions:{picklistName:"entity_types"}}],cacheBustGroups:i(570310)})},344603:e=>{"use strict";e.exports={hasId:function(e){return!!e.id}}},893449:e=>{"use strict";e.exports={dependentMandatory$:[{condition:"!hasId",fields:["caption","captionPlural","type"]}]}},657093:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Fields",roles:["view_field"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Fields",roles:["create_field"],actions:["save_new"],conditions:[{attributes:{id:null,"!kind":"dynamic"}}]}).required({name:"Create Dynamic Fields",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null,kind:"dynamic"}}]}).required({name:"Edit Fields",roles:["edit_field"],actions:["save_existing"],conditions:[{attributes:{"!id":null,"!kind":"dynamic"}}]}).required({name:"Edit Dynamic Fields",roles:["form_builder"],actions:["save_existing","save_new"],conditions:[{attributes:{"!id":null,kind:"dynamic"}}]}).required({name:"Remove Fields",roles:["remove_field"],actions:["remove"],conditions:[{attributes:{"!kind":"dynamic"}}]}).required({name:"Remove Dynamic Fields",roles:["form_builder"],actions:["remove"],conditions:[{attributes:{kind:"dynamic"}}]}).required({name:"Inherit caseiq entity ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["isight/entity::{entityId}::load"]}).value()},172564:e=>{"use strict";e.exports={"main-fields":{sortColumn:"field",sortOrder:"desc",columns:[{field:"caption"},{field:"field"},{field:"type"}]}}},42677:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(962062),i(428706);var a=i(96190),r=i(648160),o=i(783796),s="entityId",l={base:"isight",name:"entity"},d={displayFields:["caption"]};e.exports=r(o,{db:"default",search:!0,table:"isight_field",entity:{base:"isight",name:"field"},caption:"Field",captionPlural:"Fields",addCaption:"Add Field",newCaption:"New Field",importTransformer:"field",exportTransformer:"field",customExportColumns:["entityId__originalId","userRoleIdFilter__name"],copyTransformer:"field",copyPostAction:"field",customDependencies:function(e){var t,i=a.map(e.getRootLayoutEntities(),"entityCanon");return["isight/entity","sys/user_role"].concat(function(e){if(Array.isArray(e))return n(e)}(t=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},acl:i(657093),grids:i(172564),rules:i(172554),validation:i(237294),usageStatistics:i(966996),parents:[{entity:l,field:s}],fields:[{field:"source",type:"code",caption:"Source",kind:"system"},{field:s,type:"code",caption:"Entity Id",kind:"editable",dbIndex:!0},{field:"field",type:"code",caption:"Field System Name",kind:"system",dbIndex:!0},{field:"caption",type:"textbox",caption:"Name",kind:"editable",translateData:!0,typeOptions:{charMaxTextbox:60}},{field:"formCaption",type:"textbox",caption:"Caption",kind:"editable",translateData:!0},{field:"default",type:"textbox",caption:"Default Value",kind:"editable",typeOptions:{bypassDefaultTypeValidation:!0}},{field:"type",type:"code",caption:"Field Type",kind:"editable",dbIndex:!0},{field:"typeOptions",type:"json",caption:"Type Options",kind:"editable"},{field:"cellTemplate",type:"textarea",caption:"Cell Template",kind:"editable"},{field:"kind",type:"code",caption:"Field Kind",kind:"editable"},{field:"kindOptions",type:"json",caption:"Kind Options",kind:"system"},{field:"customKindFlags",type:"json",caption:"Custom Kind Flags",kind:"system"},{field:"search",type:"toggle",caption:"Searchable",kind:"editable"},{field:"dbIndex",type:"checkbox",caption:"Database Index",kind:"editable"},{field:"dbIndexType",type:"textbox",caption:"Database Index Type",kind:"editable"},{field:"yfSourceFilter",type:"checkbox",caption:"Yellowfin Source Filter",kind:"editable"},{field:"createdBy",type:"id",kind:"system",caption:"Created By"},{field:"lastUpdatedBy",type:"user",kind:"system",caption:"Last Updated By"},{field:"deletedBy",type:"id",kind:"system",caption:"Deleted By"},{field:"excludeFromSaveAndCopy",type:"checkbox",kind:"editable",caption:"Exclude From Save and Copy"},{field:"excludeFromAutofill",type:"checkbox",kind:"editable",caption:"Exclude From Autofill"},{field:"gridWidth",type:"number",kind:"system",caption:"Grid Width"},{field:"minGridWidth",type:"number",kind:"system",caption:"Min Grid Width"},{field:"esSort",type:"code[]",kind:"system",caption:"ES Sort"},{field:"esBoost",type:"number",kind:"system",caption:"ES Boost"},{field:"mandatory",caption:"Required",type:"toggle",kind:"editable"},{field:"mandatoryWhen",caption:"Required When",type:"textarea",kind:"editable"},{field:"specialNotes",caption:"Special Notes",type:"texteditor",kind:"editable"},{field:"picklistName",type:"picklistName",caption:"Picklist Name",kind:"editable",typeOptions:{picklistName:"picklist_types"}},{field:"picklistDependencies",type:"fieldPicklist[]",caption:"Picklist Dependencies",kind:"editable",typeOptions:{entityNameField:"entityName"}},{field:"directPicklistDependency",type:"fieldPicklist[]",caption:"Dependent Picklist",kind:"editable",typeOptions:{translationGroup:"picklist_type"}},{field:"linkWithSystemUser",type:"toggle",caption:"Link With System User",typeOptions:{allowNull:!0},kind:"editable"},{field:"allowNull",caption:"Allow Null",type:"checkbox",kind:"editable"},{field:"hideCurrent",caption:"Hide Current",type:"checkbox",kind:"editable"},{field:"format",caption:"Format",type:"textbox",kind:"editable"},{field:"orientation",caption:"Orientation",type:"picklist",kind:"editable",typeOptions:{allowNull:!1,picklistName:"radio_button_orientations"}},{field:"blankText",caption:"Blank Text",type:"textbox",kind:"editable"},{field:"ignoreParents",caption:"Ignore Parents",type:"checkbox",kind:"editable"},{field:"mask",caption:"Mask",type:"textbox",kind:"editable"},{field:"startValue",caption:"Start Value",type:"number",typeOptions:{max:9999,min:-9999},kind:"editable"},{field:"endValue",caption:"End Value",type:"number",typeOptions:{max:9999,min:-9999},kind:"editable"},{field:"entityNameField",caption:"Entity Name Field",type:"textbox",kind:"editable"},{field:"entityName",caption:"Entity Name",type:"textbox",kind:"editable"},{field:"refreshOnFields",caption:"Refresh On Fields",type:"fieldType[]",kind:"editable"},{field:"hiddenValues",caption:"Hidden Values",type:"picklist[]",kind:"editable"},{field:"excludedFields",caption:"Excluded Fields",type:"picklist[]",kind:"editable"},{field:"excludeKind",caption:"Excluded Field Kinds",type:"picklist[]",kind:"editable"},{field:"showBeforeAfter",caption:"Show Before or After",type:"yesno",kind:"editable"},{field:"filterFlag",caption:"Filter Field Flag",type:"picklist",kind:"editable",typeOptions:{picklistName:"field_kind_flags"}},{field:"filterType",caption:"Filter Field Type",type:"fieldType[]",kind:"editable"},{field:"filterKind",caption:"Filter Field Kinds",type:"picklist[]",kind:"editable"},{field:"searchableFields",caption:"Searchable Fields",type:"checkbox",kind:"editable"},{field:"precision",caption:"Precision",type:"number",kind:"editable"},{field:"scale",caption:"Decimal Places",type:"number",kind:"editable"},{field:"max",caption:"Maximum Value",type:"number",kind:"editable"},{field:"min",caption:"Minimum Value",type:"number",kind:"editable"},{field:"maxItems",caption:"Maximum Items",type:"number",kind:"editable"},{field:"disableTimezoneTracking",caption:"Disable Timezone Tracking",type:"toggle",kind:"editable"},{field:"datePickerStartDate",caption:"Date Picker Start Date",type:"textbox",kind:"editable"},{field:"roleFilter",caption:"Role Filter",type:"textbox",kind:"editable"},{field:"userRoleIdFilter",caption:"User Role Filter",type:"picklistSelectizeApi",typeOptions:{picklistName:"user_roles"},kind:"editable"},{field:"relationshipWeight",caption:"Relationship Weight",type:"decimal",kind:"system"},{field:"excludeFromRedact",caption:"Exclude from Redact",type:"checkbox",kind:"system"},{field:"allowCreate",caption:"Allow Create",type:"yesno",kind:"editable"},{field:"maxFileCount",caption:"Max File Count",type:"number",kind:"editable"},{field:"maxTotalAttachmentSize",caption:"Max Total Attachment Size",type:"number",kind:"editable"},{field:"maxAttachmentSize",caption:"Max Attachment Size",type:"number",kind:"editable"},{field:"dragAndDrop",caption:"Drag And Drop",type:"yesno",typeOptions:{allowNull:!0},kind:"editable"},{field:"manualAttach",caption:"Manual Attach",type:"yesno",typeOptions:{allowNull:!0},kind:"editable"},{field:"caseIdField",caption:"Case Id Field",type:"textbox",kind:"editable"},{field:"supportedFormats",caption:"Supported Formats",type:"picklist[]",kind:"editable"},{field:"canDelete",caption:"Can Delete",type:"yesno",typeOptions:{allowNull:!0},kind:"editable"},{field:"hideCaption",caption:"Hide caption",type:"yesno",kind:"editable"},{field:"removeSeconds",caption:"Remove Seconds",type:"yesno",kind:"editable"},{field:"entity",caption:"Entity",type:"textbox",kind:"editable"},{field:"textField",caption:"Text Field",type:"textbox",kind:"editable"},{field:"showInactiveRecords",caption:"Show Inactive Records",type:"textbox",kind:"editable"},{field:"filterBy",caption:"Filter By",type:"textbox",kind:"editable"},{field:"filter",caption:"Filter",type:"textbox",kind:"editable"},{field:"showOnCapture",caption:"Show On Capture",type:"toggle",kind:"editable"},{field:"charMaxTextbox",caption:"Max Character Count",type:"number",kind:"editable"},{field:"charMaxTextArea",caption:"Max Character Count",type:"number",kind:"editable"},{field:"charMin",caption:"Min Character Count",type:"number",kind:"editable"},{field:"linkWithSystemParties",caption:"Link with System Parties",type:"toggle",typeOptions:{allowNull:!0},kind:"editable"},{field:"formatInternational",caption:"Format International",type:"toggle",kind:"editable"},{field:"postalCodeCountry",caption:"Select Country",type:"picklist",kind:"editable",typeOptions:{picklistName:"postal_code_countries"}},{field:"revealOnHoverAndFocus",caption:"Reveal on Hover and Focus",type:"toggle",kind:"editable"},{field:"timeFormat",caption:"Format",type:"picklist",kind:"editable",typeOptions:{picklistName:"time_formats"}},{field:"dateConstraint",caption:"Date Constraint",type:"picklist",kind:"editable",typeOptions:{picklistName:"date_constraints"}},{field:"dateRange",caption:"Date Range",type:"number",kind:"editable"},{field:"fixedCountry",caption:"Fixed Country Code",type:"number",kind:"editable"},{field:"hideOnIntake",caption:"Show on Intake",type:"toggle-inverted",kind:"editable",default:!0},{field:"options",caption:"Options",type:"textbox[]",kind:"editable",translateData:!0},{field:"excludeType",caption:"Excluded Field Types",type:"fieldType[]",kind:"editable"},{field:"restorable",caption:"Restorable Field",type:"yesno",kind:"editable"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"subText",caption:"Sub Text",type:"textbox",translateData:!0,kind:"editable"},{field:"placeholderText",caption:"Placeholder Text",type:"textbox",translateData:!0,kind:"editable"},{field:"helpText",caption:"Help Text",type:"textbox",translateData:!0,kind:"editable"},{field:"translateData",caption:"Translate Data",type:"yesno",kind:"hidden-searchable"},{field:"alwaysInApiSelectedFields",type:"checkbox",caption:"Always in Api Selected Fields",kind:"system"},{field:"dynamicKind",caption:"Dynamic Kind",type:"picklistSelectize",typeOptions:{picklistName:"dynamic_kinds"},kind:"editable"},{field:"iselExpression",caption:"ISEL Expression",type:"expression",kind:"editable"},{field:"showOnPortal",caption:"Show on Portal",type:"toggle",kind:"editable"},{field:"initialMapCenter",caption:"Initial Map Center",type:"coordinate",kind:"editable"},{field:"initialMapZoom",caption:"Initial Map Zoom",type:"numberRangePicklist",typeOptions:{startValue:0,endValue:28},kind:"editable"},{field:"defaultMapZoom",caption:"Default Map Zoom",type:"numberRangePicklist",typeOptions:{startValue:0,endValue:28},kind:"editable"},{field:"defaultMapLayer",caption:"Default Map Layer",type:"dropdown",typeOptions:{staticData:"geomapping.layerNames",useAppData:!0},kind:"editable"},{field:"dropMapPinOnSearch",caption:"Drop Map Pin on Search",type:"toggle",kind:"editable"},{field:"childRecordType",caption:"Child Record Type",type:"entityPicklist",kind:"editable",typeOptions:{filter:"aggregableChildEntitiesFilter",canCreate:!1,valueField:"canon",entityCategory:2}},{field:"aggregationMethod",caption:"Aggregation Method",type:"picklistSelectize",kind:"editable",typeOptions:{picklistName:"aggregation_methods",canCreate:!1,filter:"compatibleAggregationMethodFilter"}},{field:"targetField",caption:"Target Field",type:"fieldPicklist",kind:"editable",typeOptions:{entityNameField:"childRecordType",refreshOnFields:["aggregationMethod"],filter:"compatibleTargetFieldFilter"}},{field:"aggregateExpression",caption:"ISEL Expression",type:"expression",kind:"editable",typeOptions:{entityField:"childRecordType",refreshOnFields:["childRecordType"]}},{field:"aggregateFilterGroupId",caption:"Aggregate Filter Group ID",type:"code",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,readable:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0}}},{field:"esReverseJoinPriority",caption:"ES Reverse Join Priority",type:"textbox",kind:"hidden"},{field:"availableForCaseFiltering",caption:"Available For Case Filtering",type:"toggle",kind:"hidden-editable"},{field:"automaticallyCreateCaseLink",type:"checkbox",caption:"Case Linking",typeOptions:{allowNull:!0},kind:"editable"},{field:"autoCaseLinkReason",type:"textbox",caption:"Automatic Link Reason",kind:"editable"},{field:"showOnHotline",caption:"Show on Hotline",type:"toggle",kind:"editable"},{field:"dataForm",type:"entityPicklist",caption:"Data Form",kind:"editable",typeOptions:{filter:"dataFormFilter",valueField:"canon",entityCategory:1,canCreate:!1,inactiveCanon:"unknown_data_form"}},{field:"mappedField",caption:"Mapped Field",type:"fieldPicklist",kind:"editable",typeOptions:{entityNameField:"dataForm",filter:"compatibleDataFormFieldFilter",ignoreAttributesNotInList:!0}},{field:"restrictEdit",caption:"Restrict Edit",type:"toggle",kind:"editable"},{field:"readOnly",caption:"Read Only",type:"toggle",kind:"editable"},{field:"enableTranslation",caption:"Automatic Translation",type:"toggle",kind:"editable",features:["intakeTranslation"]},{field:"maxLengthCharacterCount",caption:"Max length character count",type:"toggle",kind:"editable"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"},{field:"customFieldDefField",type:"textbox",caption:"Custom Field Definition Field",kind:"editable"},{field:"preExistingDynamicField",type:"yesno",caption:"Pre-Existing Dynamic Field",kind:"hidden",default:!1},{field:"gridEntity",type:"entityPicklist",caption:"Entity",kind:"editable",typeOptions:{valueField:"canon",entityCategory:2,canCreate:!1},features:["entityGrids"]}],joins:[{referenceField:s,table:"isight_entity",fields:["base","name"]}],audit:{child:!0,parentType:l,parentFieldId:s,allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:{options:{reference:d}},updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:{options:{reference:d}}}}}})},172554:(e,t,i)=>{"use strict";i(874423);var n=i(809375);e.exports={hasDependentMandatoryRule:function(e){return!!e.mandatoryWhen},hasAlwaysMandatoryRule:function(e){return!!e.mandatory},hasType:function(e){return!!e.type},isBoolean:function(e){return"boolean"===e.type},isCheckbox:function(e){return"checkbox"===e.type},isDate:function(e){return"date"===e.type},isDatetime:function(e){return"datetime"===e.type},isDecimal:function(e){return"decimal"===e.type},isEmail:function(e){return"email"===e.type},isEmailMultiple:function(e){return"email[]"===e.type},isFieldPicklist:function(e){return"fieldPicklist"===e.type},isFieldPicklistMultiple:function(e){return"fieldPicklist[]"===e.type},isInteger:function(e){return"integer"===e.type},isMoney:function(e){return"money"===e.type},isNumber:function(e){return"number"===e.type},isNumberRangePicklist:function(e){return"numberRangePicklist"===e.type},isPicklist:function(e){return"picklist"===e.type},isPicklistApi:function(e){return"picklistApi"===e.type},isPicklistSelectize:function(e){return"picklistSelectize"===e.type},isPicklistSelectizeApi:function(e){return"picklistSelectizeApi"===e.type},isPicklistApiMultiple:function(e){return"picklistApi[]"===e.type},isPicklistMultiple:function(e){return"picklist[]"===e.type},isRadio:function(e){return"radio"===e.type},isTime:function(e){return"time"===e.type},istName:function(e){return"tName"===e.type},isUser:function(e){return"user"===e.type},isUserMultiple:function(e){return"user[]"===e.type},isYesNo:function(e){return"yesno"===e.type},isKindDynamic:function(e){return"dynamic"===e.kind},isPhoneNumber:function(e){return"phone-number"===e.type||"phone-number[]"===e.type},isIselComputed:function(e){return"isel-computed"===e.dynamicKind},isAggregateComputed:function(e){return"aggregate"===e.dynamicKind},isAggregateExpression:function(e){return"expression"===e.aggregationMethod},isEntityNameCase:function(e){return"sys/case"===e.entityName},isEntityNameParty:function(e){return"sys/party"===e.entityName},isEntityNamePerson:function(e){return"sys/person"===e.entityName},isAutoLinkCase:function(e){return!!e.automaticallyCreateCaseLink},displayLinkWithSystemParties:function(e){return!["sys/user","sys/person"].includes(e.entityName)&&"isel-computed"!==e.dynamicKind},aggregationMethodRequiresTarget:function(e){return!["atLeastOne","count"].includes(e.aggregationMethod)},isDataFormField:function(e){return!!e.dataForm},isNew:function(e){return!e.id},isSubmitOnly:function(e){return"submit-only"===e.dynamicKind},isTranslatableFieldType:function(e){var t;return!(null===(t=n[e.type])||void 0===t||!t.enableTranslation)}}},966996:(e,t,i)=>{"use strict";var n=i(342141)("isight_field");e.exports=[{category:"staticForms",key:"caseDynamicFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").whereNot("dynamic_kind","custom").andWhere("entity_name","sys/case")}})},{category:"staticForms",key:"profileDynamicFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("entity_name","sys/person")}})},{category:"staticForms",key:"partyDynamicFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("entity_name","sys/party")}})},{category:"staticForms",key:"computedFieldsPerForm",query:n.countActiveEntity({where:function(){this.where("dynamic_kind","isel-computed")}})},{category:"staticForms",key:"aggregatedFieldsPerForm",query:n.countActiveEntity({where:function(){this.where("dynamic_kind","aggregate")}})},{category:"staticForms",key:"coordinatesFieldsPerForm",query:n.countActiveEntity({where:function(){this.where("type","coordinate").whereNotIn("entity_name",["isight/field","isight/dynamic_entity_field"])}})},{category:"staticForms",key:"partyRestrictEditFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("entity_name","sys/party").andWhere("restrict_edit",!0)}})},{category:"staticForms",key:"personRestrictEditFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("entity_name","sys/person").andWhere("restrict_edit",!0)}})},{category:"staticForms",key:"caseRestrictEditFields",query:n.countActiveEntity({where:function(){this.where("kind","dynamic").andWhere("entity_name","sys/case").andWhere("restrict_edit",!0)}})}]},237294:(e,t,i)=>{"use strict";var n=i(405345);e.exports={mandatory$:["type","caption","kind"],dependentPattern$:[{fields:["caption"],pattern:"^[a-zA-Z].*$",code:"field_caption_pattern$",allowNull:!0,condition:"isKindDynamic"}],dependentMandatory$:[{condition:"isKindDynamic",fields:["entityId","search","dynamicKind"]},{condition:"isRadio",fields:["options"]},{condition:"isNumberRangePicklist",fields:["startValue","endValue"]},{condition:"isIselComputed",fields:["iselExpression"]},{condition:"isAggregateComputed",fields:["childRecordType","aggregationMethod"]},{condition:"isAggregateComputed && !isAggregateExpression && aggregationMethodRequiresTarget",fields:["targetField"]},{condition:"isAggregateComputed && isAggregateExpression",fields:["aggregateExpression"]}],maxLength$:[{name:"caption",value:60},{name:"default",value:n.getCharMaxLength}],minLength$:[{name:"default",value:n.getCharMinLength}],numberRange$:[{number:"max",minimumNumber:{number:"min"}},{number:"max",maximumNumber:{number:999999999999999}},{number:"charMaxTextbox",minimumNumber:{number:["charMin",0]},maximumNumber:{number:255}},{number:"charMaxTextArea",minimumNumber:{number:["charMin",0]},maximumNumber:{number:1e4}},{number:"charMin",maximumNumber:{number:["charMaxTextArea","charMaxTextbox",{textbox:255,textarea:1e4}]},minimumNumber:{number:[0,0]}},{number:"precision",minimumNumber:{number:["scale",2]},maximumNumber:{number:15}},{number:"scale",maximumNumber:{number:["precision",6]},minimumNumber:{number:0}},{number:"endValue",minimumNumber:{number:"startValue"}}],dependentPhoneNumber$:[{condition:"isKindDynamic && isPhoneNumber",fields:["default"],allowNull:!0}],dependentNumberRange$:[{number:"maxItems",minimumNumber:{number:1},customTranslationKey:"max_email_number",condition:"isEmailMultiple"}],expression$:[{field:"iselExpression",ignoreIdentifiers:!0},{field:"aggregateExpression",ignoreIdentifiers:!0}]}},997783:e=>{"use strict";e.exports=[{type:"group",caption:"Languages",parentPermission:"view_system_settings",permission:"view_language_settings",options:[{caption:"Create",permission:"create_language",tooltip:"Create languages",dependencies:["view_language"],sequence:1},{caption:"View",permission:"view_language",tooltip:"View languages",sequence:2},{caption:"Remove",permission:"remove_language",tooltip:"Remove languages",dependencies:["view_language"],sequence:3}]}]},266413:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Languages",roles:["view_language"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Language",roles:["create_language"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Languages",roles:["edit_language"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Languages",roles:["remove_language"],actions:["remove"],conditions:[]}).value()},265706:e=>{"use strict";var t={displayFields:["value"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},313287:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemoveLanguages",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(284556),query:null}]},284556:(e,t,i)=>{"use strict";var n=i(274692),a=i(522609)(),r=i(790097),o="languages";function s(e){r.trigger("languages-updated",e)}e.exports=function(e){var t=i(40785),r=e.patchData;r?(t.patch({appDataCategory:o,data:r,identifierProperties:["id"]}),s(e)):n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/languages"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){a.updateObject($appData[o],t),s(e)}))}},340796:e=>{"use strict";e.exports={"main-languages":{sortColumn:"value",sortOrder:"asc",columns:[{field:"value"}]}}},656457:e=>{"use strict";e.exports=[{from:[],to:"/settings/system/languages"}]},118877:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_language",entity:{base:"sys",name:"language"},caption:"Language",captionPlural:"Languages",addCaption:"Add Language",newCaption:"New Language",audit:i(265706),acl:i(266413),aclHierarchy:i(997783),grids:i(340796),validation:i(290502),historyNav:i(656457),cacheBustGroups:i(313287),report:!1,excludeFromAggregation:!0,configurationExport:!0,configurationImport:!0,importTransformer:"language",model:function(){return i(442877)},collection:function(){return i(175686)},view:function(){return i(145816)},fields:[{field:"value",type:"picklist",typeOptions:{picklistName:"supported_languages"},caption:"Language",kind:"system"}]})},290502:e=>{"use strict";e.exports={mandatory$:["value"]}},977433:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Layout",roles:["form_builder"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Layout",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Layout",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Layout",roles:["form_builder"],actions:["remove"],conditions:[]}).value()},949545:(e,t,i)=>{"use strict";var n=i(648160),a=i(275800);e.exports=n(a,{db:"default",table:"sys_layout",esIndex:"sys_layout",entity:{base:"sys",name:"layout"},api:{useGenericApi:!0},reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"layout",caption:"Layout",captionPlural:"Layouts",addCaption:"Add Layout",newCaption:"New Layout",acl:i(977433),staticFieldWorkflows:[i(775425)],usageStatistics:i(407936),model:function(){return i(170769)}})},775425:e=>{"use strict";e.exports={name:"layout-status-workflow",field:"status",entity:{zone:void 0,base:"sys",name:"layout"},values:[{value:"inactive",indicator:"default",content:[{condition:{entityType:"standard"},caption:"content_custom_form"},{condition:{entityType:"custom"},caption:"content_custom_form"},{condition:{entityType:"data"},caption:"content_data_form"}]},{value:"active",indicator:"success",content:[{condition:{entityType:"standard"},caption:"content_custom_form"},{condition:{entityType:"custom"},caption:"content_custom_form"},{condition:{entityType:"data"},caption:"content_data_form"}]},{value:"pending_changes",indicator:"warning",content:[{condition:{entityType:"standard"},caption:"content_custom_form"},{condition:{entityType:"custom"},caption:"content_custom_form"},{condition:{entityType:"data"},caption:"content_data_form"}]}],strict:!0,transitions:[{id:"layout-create",from:[null,void 0],to:["inactive","active","pending_changes"]},{id:"layout-activate",caption:"Publish Layout",from:["inactive"],to:"active"},{id:"layout-deactivate",caption:"Deactivate Layout",from:["active"],to:"inactive"},{id:"layout-edit",caption:"Edit Layout",from:"active",to:"pending_changes"},{id:"layout-publish-changes",caption:"Publish Changes",from:"pending_changes",to:"active"}]}},407936:(e,t,i)=>{"use strict";var n=i(342141)("sys_layout");e.exports=[{category:"customForms",key:"totalTabs",query:n.countActiveEntity({where:function(){this.where("layout_type","tab")}})}]},180873:e=>{"use strict";e.exports=[{type:"group",caption:"Links",permission:"link",sequence:5,options:[{type:"group",permission:"suggested_link",caption:"Suggested",options:[{permission:"view_suggested_link",caption:"View",tooltip:"View suggested Case links",sequence:2},{permission:"create_suggested_link",caption:"Create",tooltip:"Add suggested Case links",sequence:1},{permission:"edit_suggested_link",caption:"Edit",tooltip:"Edit suggested Case links",sequence:3,dependencies:["view_suggested_link"]},{permission:"remove_suggested_link",caption:"Remove",sequence:4,tooltip:"Delete suggested Case links",dependencies:["view_suggested_link"]}]},{type:"group",permission:"manual_link",caption:"Manual",options:[{permission:"view_manual_link",caption:"View",tooltip:"View manually added Case links",sequence:2},{permission:"create_manual_link",caption:"Create",tooltip:"Manually add a Case link",sequence:1},{permission:"edit_manual_link",caption:"Edit",tooltip:"Edit manually added Case links",sequence:3,dependencies:["view_manual_link"]},{permission:"remove_manual_link",caption:"Remove",tooltip:"Delete manually added Case links",sequence:4,dependencies:["view_manual_link"]}]},{type:"group",permission:"automatic_link",caption:"Automatic",options:[{permission:"view_automatic_link",caption:"View",tooltip:"View automatically added Case links",sequence:1}]}]}]},608283:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604),a={attributes:{"!type":["Manual","Suggested","Automatic"]}};e.exports=n.initialize().required({name:"View Manual Links",roles:["view_manual_link"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{type:"Manual"}}]}).required({name:"View Suggested Links",roles:["view_suggested_link"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{type:"Suggested"}}]}).required({name:"View Automatic Links",roles:["view_automatic_link"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{type:"Automatic"}}]}).required({name:"View Other Links",roles:["view_other_link"],actions:["load","list","save_existing","remove"],conditions:[a]}).required({name:"Create Manual Links",roles:["create_manual_link"],actions:["save_new","save_existing"],conditions:[{attributes:{id:null,type:"Manual"}}]}).required({name:"Create Suggested Links",roles:["create_suggested_link"],actions:["save_new","save_existing"],conditions:[{attributes:{id:null,type:"Suggested"}}]}).required({name:"Create Suggested Links",roles:["create_suggested_link"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,type:"Suggested",status:"Undecided"}}]}).required({name:"Create Other Links",roles:["create_other_link"],actions:["save_new","save_existing"],conditions:[a,{attributes:{id:null}}]}).required({name:"Edit Manual Links",roles:["edit_manual_link"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,type:"Manual"}}]}).required({name:"Edit Suggested Links",roles:["edit_suggested_link"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,type:"Suggested"}}]}).required({name:"Edit Other Links",roles:["edit_other_link"],actions:["save_new","save_existing"],conditions:[a,{attributes:{"!id":null}}]}).required({name:"Remove Manual Link",roles:["remove_manual_link"],actions:["remove"],conditions:[{attributes:{type:"Manual"}}]}).required({name:"Remove Suggested Link",roles:["remove_suggested_link"],actions:["remove"],conditions:[{attributes:{type:"Suggested"}}]}).required({name:"Remove Other Link",roles:["remove_other_link"],actions:["remove"],conditions:[a]}).required({name:"Inherit Linked Case 1 ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{entity1Type:"sys/case"}},"sys/case::{entity1Id}::load"]}).required({name:"Inherit Linked Case 2 ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{entity2Type:"sys/case"}},"sys/case::{entity2Id}::load"]}).required({name:"Inherit Linked Profile 1 ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{entity1Type:"sys/person"}},"sys/person::{entity1Id}::load"]}).required({name:"Inherit Linked Profile 2 ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{entity2Type:"sys/person"}},"sys/person::{entity2Id}::load"]}).filter({name:"Can modify entity on existing link",roles:["link_modify_entity"],actions:["save_new","save_existing"],filters:{entity1Id:!1,entity2Id:!1,type:!1},conditions:[{attributes:{"!id":null}}]}).value()},569660:e=>{"use strict";e.exports={child:!0,allowNavigateTo:!1,parentType:function(e){return e.entity1Type},parentFieldId:"entity1Id",cmd:{load:{viewed:{options:{reference:{displayFields:function(e,t){return[e.entity2Id?"entity2Id":"case2Id","reason"]}}}}},save:{created_manual:{condition:{composite:"all",rules:[{path:"diff.id.originalValue",comparator:"nexists"},{path:"diff.type.updatedValue",comparator:"eq",value:"Manual"}]},options:{reference:{displayFields:function(e,t){return[e.entity2Id?"entity2Id":"case2Id","reason","type","linkedBy"]}}}},created_automatic:{condition:{composite:"all",rules:[{composite:"any",rules:[{path:"diff.status.updatedValue",comparator:"eq",value:"Approved"},{path:"diff.status.updatedValue",comparator:"eq",value:"Dismissed"}]},{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"neq",value:"Approved"},{path:"diff.status.originalValue",comparator:"neq",value:"Dismissed"}]}]},options:{reference:{displayFields:function(e,t){return[e.entity2Id?"entity2Id":"case2Id","reason","type","status","linkedBy"]}}}},updated:{options:{changes:{displayFields:["status","linkedBy","reason","relevance"]},reference:{displayFields:function(e,t){return[e.entity2Id?"entity2Id":"case2Id","reason"]}}}}},remove:{deleted:{options:{reference:{displayFields:function(e,t){return[e.entity2Id?"entity2Id":"case2Id"]}}}}}}}},420154:e=>{"use strict";e.exports={"main-links":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"otherEntityId"},{field:"otherCaseType"},{field:"otherEntityFlags"},{field:"status"},{field:"type"},{field:"relevance"},{field:"summary"},{field:"reason"},{field:"createdDate"}]},"links-between-case-and-person":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"otherEntityId"},{field:"summary"},{field:"reason"},{field:"createdDate"}]},"links-between-person-and-case":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"otherEntityId"},{field:"summary"},{field:"reason"},{field:"createdDate"}]},"links-between-person-and-person":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"otherEntityId"},{field:"summary"},{field:"reason"},{field:"createdDate"}]}}},648243:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r=i(18063);e.exports=n(a,{db:"default",table:"sys_link",entity:{base:"sys",name:"link"},caption:"Link",captionPlural:"Links",addCaption:"Add Link",newCaption:"New Link",gridDescriptorField:"otherEntityId",validation:i(179416),audit:i(569660),acl:i(608283),aclHierarchy:i(180873),grids:i(420154),includeInDataDictionary:!0,rules:i(311844),dataExport:!0,report:!1,usageStatistics:i(334109),excludeFromAggregation:!0,fields:[{field:"latestSnapshotId",type:"id",kind:"hidden",caption:"Snapshot",dbIndex:!0},{field:"entity1Id",type:"linkEntityId",kind:"editable",caption:"Linked From",dbIndex:!0,typeOptions:{relatedEntityField:"entity1Type"}},{field:"entity2Id",type:"linkEntityId",kind:"editable",caption:"Linked To",dbIndex:!0,typeOptions:{relatedEntityField:"entity2Type"}},{field:"case1Id",type:"case",kind:"custom",caption:"Linked From",kindOptions:{flags:{audit:!0,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"case2Id",type:"case",kind:"custom",caption:"Linked To",kindOptions:{flags:{audit:!0,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"entity1Type",type:"code",kind:"editable",caption:"Entity From Type"},{field:"entity2Type",type:"code",kind:"editable",caption:"Entity To Type"},{field:"linkedBy",caption:"Linked By",type:"user",kind:"system"},{field:"otherEntityId",type:"linkEntityId",kind:"custom",caption:"Linked Entity",gridWidth:150,kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},typeOptions:{relatedEntityField:"otherEntityType"},cellTemplate:function(e){return e.readFileSync("//cell-templates/link-otherentityid-cell-tmpl.dust","utf8")}},{field:"otherCaseType",type:"caseType",kind:"custom",caption:"Case Type",dbIndex:!0,kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!1,gridExportable:!1,reportable:!1}},typeOptions:{relatedEntityField:"otherEntityId"}},{field:"currentEntityFlags",type:"flags",kind:"custom",caption:"Current Entity Flags",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"otherEntityFlags",type:"flags",kind:"custom",caption:"Flags",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"otherEntityType",type:"code",kind:"custom",caption:"Linked Entity Type",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"status",type:"picklist",caption:"Status",kind:"editable",typeOptions:{picklistName:"link_statuses"},cellTemplate:function(e){return e.readFileSync("//cell-templates/link-status-cell-tmpl.dust","utf8")},dbIndex:!0},{field:"type",type:"picklist",caption:"Type",kind:"editable",typeOptions:{picklistName:"link_types"},dbIndex:!0},{field:"reason",type:"textarea",caption:"Reason",kind:"editable"},{field:"matches",type:"json[]",caption:"Matches",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"numberOfMatches",type:"number",caption:"Number of Matches",kind:"hidden"},{field:"relevance",type:"decimal",kind:"system",caption:"Relevance",typeOptions:{format:"0%"}},{field:"summary",type:"textarea",kind:"custom",caption:"Summary",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},cellTemplate:function(e){return e.readFileSync("//cell-templates/summary-tmpl.dust","utf8")}}],queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0),!0!==i.showCanceledCases$&&r.mustNot({term:{entity1Id__canceled:!0}}),!0!==i.showCanceledCases$&&r.mustNot({term:{entity2Id__canceled:!0}})])},parents:[{entity:{base:"sys",name:"case"},reportable:!0,field:"entity1Id",filter:{entity1Type:"sys/case"}},{entity:{base:"sys",name:"case"},reportable:!0,field:"entity2Id",filter:{entity2Type:"sys/case"}},{entity:{base:"sys",name:"person"},reportable:!0,field:"entity1Id",filter:{entity1Type:"sys/person"}},{entity:{base:"sys",name:"person"},reportable:!0,field:"entity2Id",filter:{entity2Type:"sys/person"}}]})},311844:e=>{"use strict";e.exports={isApproved:function(e){return"Approved"===e.status},isDismissed:function(e){return"Dismissed"===e.status}}},334109:(e,t,i)=>{"use strict";i(962010);var n=i(96190),a=i(342141)("sys_link");e.exports=[{category:"link",key:"suggestedLinks",query:a.countActiveEntity({where:{type:"Suggested"}})},{category:"link",key:"suggestedLinksByStatus",query:a.countActiveEntityByPicklistGroup({where:{type:"Suggested"}}),options:{groupingField:"status",picklistName:"link_statuses",datasetTranslation:function(e,t){return a.getPicklistDatasetTrans(this,e,t)}}},{category:"link",key:"manualLinks",query:a.countActiveEntity({where:{type:"Manual"}})},{category:"link",key:"manualCaseToCaseLinks",query:a.countActiveEntity({where:function(){this.where("type","Manual").andWhere((function(){this.where("entity_1_type","sys/case").andWhere("entity_2_type","sys/case")}))}})},{category:"link",key:"suggestedCaseToCaseLinks",query:a.countActiveEntity({where:function(){this.where("type","Suggested").andWhere((function(){this.where("entity_1_type","sys/case").andWhere("entity_2_type","sys/case")}))}})},{category:"link",key:"highestTotalManualCaseToCaseLinksForACase",query:function(e,t,i){e("sys_listitem").max("counts.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where("entity_1_type","sys/case").where("entity_2_type","sys/case").andWhere("type","Manual").groupBy("entity_1_id").as("counts")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).max&&(a=parseInt(n.head(t).max,10)),i(null,a)}))}},{category:"link",key:"highestTotalSuggestedCaseToCaseLinksForACase",query:function(e,t,i){e("sys_listitem").max("counts.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where("entity_1_type","sys/case").where("entity_2_type","sys/case").andWhere("type","Suggested").groupBy("entity_1_id").as("counts")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).max&&(a=parseInt(n.head(t).max,10)),i(null,a)}))}},{category:"link",key:"averageManualCaseToCaseLinks",query:function(e,t,i){e.avg("average_func.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where("entity_1_type","sys/case").where("entity_2_type","sys/case").andWhere("type","Manual").groupBy("entity_1_id").as("average_func")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).avg&&(a=parseInt(n.head(t).avg,10)),i(null,a)}))}},{category:"link",key:"averageManualCaseToCaseLinks",query:function(e,t,i){e.avg("average_func.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where("entity_1_type","sys/case").where("entity_2_type","sys/case").andWhere("type","Suggested").groupBy("entity_1_id").as("average_func")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).avg&&(a=parseInt(n.head(t).avg,10)),i(null,a)}))}},{category:"link",key:"manualPersonToPersonLinks",query:a.countActiveEntity({where:function(){this.where("type","Manual").andWhere((function(){this.where("entity_1_type","sys/person").andWhere("entity_2_type","sys/person")}))}})},{category:"link",key:"manualCaseToPersonLinks",query:a.countActiveEntity({where:function(){this.where("type","Manual").andWhere((function(){this.where((function(){this.where("entity_1_type","sys/case").andWhere("entity_2_type","sys/person")})).orWhere((function(){this.where("entity_1_type","sys/person").andWhere("entity_2_type","sys/case")}))}))}})},{category:"link",key:"highestTotalManualCaseToPersonLinksForACase",query:function(e,t,i){e("sys_listitem").max("counts.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where((function(){this.where((function(){this.where("entity_1_type","sys/case").andWhere("entity_2_type","sys/person")})).orWhere((function(){this.where("entity_1_type","sys/person").andWhere("entity_2_type","sys/case")}))})).andWhere("type","Manual").groupBy("entity_1_id").as("counts")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).max&&(a=parseInt(n.head(t).max,10)),i(null,a)}))}},{category:"link",key:"averageManualCaseToPersonLinks",query:function(e,t,i){e.avg("average_func.count").from((function(){this.count().from("sys_link").where("sys_active",!0).where((function(){this.where((function(){this.where("entity_1_type","sys/case").andWhere("entity_2_type","sys/person")})).orWhere((function(){this.where("entity_1_type","sys/person").andWhere("entity_2_type","sys/case")}))})).andWhere("type","Manual").groupBy("entity_1_id").as("average_func")})).asCallback((function(e,t){if(e)return i(e);var a=0;return t&&n.head(t)&&n.head(t).avg&&(a=parseInt(n.head(t).avg,10)),i(null,a)}))}},{category:"link",key:"editedLinks",query:a.countActiveDistinctField({where:function(){this.whereNot("sys_link.last_updated_by",0)}}),options:{field:"last_updated_by"}},{category:"link",key:"editedLinksByRole",query:function(e,t,i){e.select("sys_user_role.name").countDistinct("sys_link.last_updated_by as count").from("sys_link").rightJoin("sys_user","sys_user.id","sys_link.last_updated_by").rightJoin("sys_user_role","sys_user.user_role_id","sys_user_role.id").whereNotNull("sys_user_role.name").where("sys_link.sys_active",!0).orWhereNull("sys_link.sys_active").andWhereNot("sys_user_role.name","Anonymous").groupBy("sys_user_role.name").asCallback((function(e,t){if(e)return i(e);var a={};return n.each(t,(function(e){var t=e.name||"notDefined";a[t]=parseInt(e.count,10)})),i(null,a)}))},options:{datasetTranslation:function(e,t){return a.getPicklistDatasetTrans(this,e,t)}}}]},179416:e=>{"use strict";e.exports={mandatory$:["entity1Id","entity2Id","entity1Type","entity2Type","type","status"]}},382545:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().required({name:"Inherit link",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:["sys/link::{linkId}"]}).required({name:"Inherit linked case acl",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:["{case1EntityType}::{case1EntityId}::load"]}).required({name:"Inherit linked case acl",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:["{case2EntityType}::{case2EntityId}::load"]}).filter({name:"Can modify entity on existing link match",roles:["link_match_modify_entity"],actions:["save_new","save_existing"],filters:{case1EntityId:!1,case2EntityId:!1,case1EntityType:!1,case2EntityType:!1,linkId:!1},conditions:[{attributes:{"!id":null}}]}).entity({name:"Clean link match entity fields",actions:["load","list"],conditions:[],entityFields:[{name:"case1Entity",type:"case1EntityType"},{name:"case2Entity",type:"case2EntityType"}]}).value()},926817:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r="linkId",o={base:"sys",name:"link"};e.exports=n(a,{db:"default",table:"sys_link_match",entity:{base:"sys",name:"link_match"},caption:"Link Match",captionPlural:"Link Matches",addCaption:"Add Link Match",newCaption:"New Link Match",validation:i(25018),acl:i(382545),search:!1,dataExport:!0,includeInDataDictionary:!0,usageStatistics:i(266216),fields:[{field:"latestSnapshotId",type:"id",kind:"hidden",caption:"Snapshot",dbIndex:!0},{field:r,type:"id",kind:"system",caption:"Link",dbIndex:!0},{field:"case1EntityId",type:"id",kind:"system",caption:"Case 1 Record Link Id",dbIndex:!0},{field:"case1Entity",type:"json",kind:"system",caption:"Case 1 Record",alwaysInApiSelectedFields:!0},{field:"case1EntityType",type:"code",kind:"system",caption:"Case 1 Record Link Type",dbIndex:!0,alwaysInApiSelectedFields:!0},{field:"case1MatchHighlight",type:"json",kind:"system",caption:"Case 1 Match Highlight"},{field:"case2EntityId",type:"id",kind:"system",caption:"Case 2 Record Link Id",dbIndex:!0},{field:"case2Entity",type:"json",kind:"system",caption:"Case 2 Record",alwaysInApiSelectedFields:!0},{field:"case2EntityType",type:"code",kind:"system",caption:"Case 2 Record Link Type",dbIndex:!0,alwaysInApiSelectedFields:!0},{field:"case2MatchHighlight",type:"json",kind:"system",caption:"Case 2 Match Highlight"},{field:"status",type:"picklist",kind:"editable",caption:"Status",typeOptions:{picklistName:"link_match_statuses"},dbIndex:!0},{field:"relevance",type:"decimal",kind:"system",caption:"Relevance",typeOptions:{format:"0%"}},{field:"weightedHitFieldCount",type:"decimal",kind:"system",caption:"Weighted Hit Field Count"}],parents:[{entity:o,field:r}],audit:{child:!0,parentType:o,parentFieldId:r,allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},266216:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_link_match");e.exports=[{category:"link_match",key:"suggestedMatches",query:function(e,t,i){e("sys_link_match").leftJoin("sys_link","sys_link.id","sys_link_match.link_id").count("* as count").where("sys_link.type","Suggested").where("sys_link_match.sys_active",!0).asCallback((function(e,t){return e?i(e):i(null,parseInt(n.first(t).count,10))}))}},{category:"link_match",key:"suggestedMatchesByStatus",query:function(e,t,i){e("sys_link_match").leftJoin("sys_link","sys_link.id","sys_link_match.link_id").rightJoin("sys_listitem","sys_link_match.status","sys_listitem.value").count("sys_link_match.id as count").select("sys_listitem.value as groupName").where("sys_link.type","Suggested").orWhereNull("sys_link.type").andWhere((function(e){e.where("sys_link_match.sys_active",!0).orWhereNull("sys_link_match.sys_active")})).andWhere((function(e){e.where("sys_listitem.sys_active",!0).orWhereNull("sys_listitem.sys_active")})).andWhere("sys_listitem.name","link_match_statuses").groupBy("sys_listitem.value").orderBy("sys_listitem.value").asCallback((function(e,t){if(e)return i(e);var a={};return n.each(t,(function(e){var t=e.groupName||"notDefined";a[t]=parseInt(e.count,10)})),i(null,a)}))},options:{picklistName:"link_match_statuses",datasetTranslation:function(e,t){return a.getPicklistDatasetTrans(this,e,t)}}}]},25018:e=>{"use strict";e.exports={mandatory$:["linkId","case1EntityId","case1EntityType","case2EntityId","case2EntityType","status","case1Entity","case2Entity"]}},834852:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().requireCaseLoadInheritance().requireCaseSaveInheritance().required({name:"Create Link Snapshot",roles:["create_link_snapshot"],actions:["save_new","save_existing"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Link Snapshot",roles:["edit_link_snapshot"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Link Snapshot",roles:["remove_link_snapshot"],actions:["remove"],conditions:[]}).required({name:"Remove Link Snapshot",roles:["view_link_snapshot"],actions:["load","list"],conditions:[]}).value()},695276:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r="caseId",o={base:"sys",name:"case"};e.exports=n(a,{db:"default",table:"sys_link_snapshot",entity:{base:"sys",name:"link_snapshot"},search:!1,caption:"Link Snapshot",captionPlural:"Link Snapshots",addCaption:"Add Link Snapshot",newCaption:"New Link Snapshot",validation:i(774345),acl:i(834852),excludeFromAggregation:!0,fields:[{field:r,type:"case",kind:"system",caption:"Linked From"},{field:"status",type:"picklist",caption:"Status",kind:"system",typeOptions:{picklistName:"link_snapshot_status"},dbIndex:!0},{field:"userId",type:"user",kind:"system",caption:"User"}],parents:[{entity:o,field:r}],audit:{child:!0,parentType:o,parentFieldId:r,allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},774345:e=>{"use strict";e.exports={mandatory$:["caseId"]}},33349:e=>{"use strict";e.exports=[{type:"group",parentPermission:"view_system_settings",caption:"Link Statistics",permission:"link_statistic",options:[{permission:"view_links_statistics",caption:"View",tooltip:"View Case link statistics"}]}]},630751:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{entity:{base:"sys",name:"link_statistics"},acl:{accessControls:[],allowedProperties:[]},aclHierarchy:i(33349),search:!1,caption:"Link Statistics",addCaption:"Add Link Statistics",newCaption:"New Link Statistics",captionPlural:"Link Statistics",icon:"fa-sticky-note-o",fields:[{field:"activeSuggestedCaseLinks",type:"number",caption:"Total Suggested Case Links",kind:"system"},{field:"activeSuggestedCaseLinksByStatus",type:"json",caption:"Suggested Case Links by Status",kind:"system"},{field:"activeSuggestedCaseLinksLastWeekByStatus",type:"json",caption:"Suggested Case Links in Last 7 Days",kind:"system"},{field:"activeSuggestedCaseLinksLastMonthByStatus",type:"json",caption:"Suggested Case Links in Last 30 Days",kind:"system"},{field:"activeManualCaseLinks",type:"number",caption:"Active Manual Links",kind:"system"},{field:"activeManualCaseLinksLastWeek",type:"number",caption:"Manual Case Links in Last 7 Days",kind:"system"},{field:"activeManualCaseLinksLastMonth",type:"number",caption:"Manual Case Links in Last 30 Days",kind:"system"},{field:"activeSuggestedMatches",type:"number",caption:"Total Suggested Matches",kind:"system"},{field:"activeSuggestedMatchesByStatus",type:"json",caption:"Suggested Matches By Status",kind:"system"},{field:"activeSuggestedMatchesLastWeekByStatus",type:"json",caption:"Suggested Matches in Last 7 Days",kind:"system"},{field:"activeSuggestedMatchesLastMonthByStatus",type:"json",caption:"Suggested Matches in Last 30 Days",kind:"system"},{field:"usersEditedCaseLinks",type:"number",caption:"Total Unique Users Who Last Edited Links ",kind:"system"},{field:"usersEditedCaseLinksByRole",type:"json",caption:"Unique Users Who Last Edited Links By Role",kind:"system"},{field:"usersEditedCaseLinksLastWeekByRole",type:"json",caption:"Unique Users Who Last Edited Links in Last 7 Days",kind:"system"},{field:"usersEditedCaseLinksLastMonthByRole",type:"json",caption:"Unique Users Who Last Edited Links in Last 30 Days",kind:"system"},{field:"editedCaseLinksLastWeekByStatus",type:"json",caption:"Edited Case Links in Last 7 Days",kind:"system"},{field:"editedCaseLinksLastMonthByStatus",type:"json",caption:"Edited Case Links in Last 30 Days",kind:"system"}]})},741031:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Picklist Type",roles:["view_picklist_item_settings"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Picklist Type",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Picklist Type",roles:["form_builder"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Picklist Type",roles:["form_builder"],actions:["remove"],conditions:[]}).value()},175869:(e,t,i)=>{"use strict";e.exports=[{cacheKey:"addRemovePicklistType",triggerOnSaveRemove:!1,condition:function(){return!0},cacheBustEventHandler:i(688654),query:null}]},688654:(e,t,i)=>{"use strict";i(962010),i(426099),i(423500);var n=i(274692),a=i(96190),r="picklistConfig";function o(e,t){var i=e[t];i&&delete $appData.picklists.data[i.id]}e.exports=function(e){var t=i(40785),s=t.getPicklistsConfig(),l=e.patchData;l?(t.patch({appDataCategory:r,data:l,identifierProperties:["name"]}),a.forEach(l,(function(e){if(e){var t=e.name;o(s,t)}}))):function(e){n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/picklist_type"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){var i=a.mapKeys(t,(function(e){return e.name}));a.each(i,(function(t,n){o(e,n),a.set(i,n,a.omitBy(t,(function(e){return null===e})))})),$appData[r]=i}))}(s)}},161329:e=>{"use strict";e.exports={"main-lists":{sortColumn:"name",sortOrder:"asc",columns:[{field:"caption"},{field:"url"}]}}},102415:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_list",entity:{base:"sys",name:"list"},caption:"Picklist Type",captionPlural:"Picklist Types",addCaption:"Add Picklist Type",newCaption:"New Picklist Type",acl:i(741031),grids:i(161329),validation:i(845524),rules:i(120512),importTransformer:"list",exportTransformer:"list",customDependencies:["isight/field","isight/dynamic_entity_field"],cacheBustGroups:i(175869),configurationExport:!0,exportCaption:"Picklists",model:function(){return i(137371)},collection:function(){return i(67263)},fields:[{field:"name",type:"textbox",kind:"editable",caption:"Name"},{field:"locked",type:"checkbox",kind:"editable",caption:"Locked"},{field:"external",type:"checkbox",kind:"editable",caption:"External"},{field:"parents",type:"picklistApi[]",kind:"editable",caption:"Parent Picklist Types",typeOptions:{picklistName:"picklist_types"}},{field:"parentAttributes",type:"textbox[]",kind:"editable",caption:"Parent Attributes"},{field:"url",type:"textbox",kind:"editable",caption:"Url"},{field:"text",type:"textbox",kind:"editable",caption:"Text"},{field:"value",type:"textbox",kind:"editable",caption:"Value"},{field:"filter",type:"textbox",kind:"editable",caption:"Filter"},{field:"dynamic",type:"checkbox",kind:"editable",caption:"Dynamic"},{field:"ttl",type:"number",kind:"editable",caption:"Time-to-live"},{field:"maxItems",type:"number",kind:"editable",caption:"Max-Items"},{field:"caption",type:"textbox",kind:"editable",caption:"Caption"},{field:"formConfigName",type:"textbox",kind:"editable",caption:"Form Config Name"},{field:"parentEntityCanon",type:"textbox",kind:"editable",caption:"Parent Entity Canon"},{field:"subText",type:"textbox",kind:"hidden",caption:"Sub text"},{field:"dataField",type:"textbox",kind:"editable",caption:"Data Field"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"}]})},120512:e=>{"use strict";e.exports={hasUrl:function(e){return!!e.url},hasCaption:function(e){return!!e.caption}}},845524:e=>{"use strict";e.exports={mandatory$:["text","value","name","caption"],dependentMandatory$:[{condition:"hasUrl",fields:["parentAttributes"]}]}},630858:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Picklist",permission:"picklist_item_settings",parentPermission:"view_forms_settings",options:[{caption:"View",tooltip:"View picklist values",sequence:1,permission:"view_picklist_item_settings"},{caption:"Create",tooltip:"Create picklist values",sequence:2,permission:"create_picklist_item",dependencies:["view_picklist_item_settings"]},{type:"group",caption:"Edit",tooltip:"Edit picklist values",sequence:3,permission:n.getEditGroupPermissionCode("list_item"),dependencies:["view_picklist_item_settings"],options:[{caption:"Save",tooltip:"Edit picklist values",permission:"edit_picklist_item",dependencies:["view_picklist_item_settings"]}]},{caption:"Remove",tooltip:"Delete picklist values",sequence:4,permission:"remove_picklist_item",dependencies:["view_picklist_item_settings"]}]}]},992900:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"view picklist items",roles:["view_picklist_item"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View/Edit External Picklist Item",roles:["view_external_picklist_item"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{external:!0}}]}).required({name:"View/Edit Internal Picklist Item",roles:["view_internal_picklist_item"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!external":!0}}]}).required({name:"Create picklist items",roles:["create_picklist_item"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit picklist items",roles:["edit_picklist_item"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove picklist items",roles:["remove_picklist_item"],actions:["remove"],conditions:[]}).value()},823395:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},410005:(e,t,i)=>{"use strict";i(962062),e.exports={form:function(e,t,i){i(null,t.map((function(e){return e.picklistTypeId__parentEntityCanon})))}}},539517:e=>{"use strict";e.exports={"main-listitems":{sortColumn:"name",sortOrder:"desc",columns:[{field:"name"},{field:"parents"},{field:"value"},{field:"form"},{field:"rank"}],defaultDynamicDataFilters:["createdBy","createdDate","lastUpdatedDate"]},"field-config-listitems":{sortColumn:"rank",sortOrder:"asc",columns:[{field:"rank"},{field:"parents"},{field:"value"}]}}},564912:e=>{"use strict";e.exports=[{from:["/settings/forms/picklists/new"],to:"/settings/forms/picklists/{name}"},{from:["/settings/forms/picklists/new"],to:"/settings/forms/picklists"},{from:["/settings/forms/picklists/{name}/new"],to:"/settings/forms/picklists/{name}"},{from:[],to:"/settings/forms/picklists/{name}"}]},109132:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_listitem",entity:{base:"sys",name:"listItem"},caption:"Picklist",captionPlural:"Picklists",addCaption:"Add Picklist",newCaption:"New Picklist",gridDescriptorField:"value",acl:i(992900),aclHierarchy:i(630858),computeFunctions:i(410005),historyNav:i(564912),grids:i(539517),validation:i(389865),rules:i(565563),configurationImport:!0,importTransformer:"listItem",copyTransformer:"list_item",customDependencies:["sys/list"],audit:i(823395),usageStatistics:i(847279),model:function(){return i(993816)},collection:function(){return i(277137)},view:function(){return i(635452)},joins:[{table:"sys_list",referenceField:"picklistTypeId",fields:["parentEntityCanon","locked"]}],gridFilterExcludeFields:["name"],fields:[{field:"picklistTypeId",type:"id",kind:"hidden-editable",caption:"Picklist Type ID",alwaysInApiSelectedFields:!0},{field:"name",type:"picklistName",kind:"custom",caption:"Picklist",dbIndex:!0,kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}}},{field:"form",type:"entityName",typeOptions:{excludeFullyStaticEntities:!0},caption:"Form",kind:"custom",kindOptions:{computeFunction:"form",flags:{aggregateField:!1,apiExternalWritable:!1,apiWritable:!1,audit:!0,computedOnRead:!0,computedOnSave:!1,formVisible:!0,gridExportable:!0,gridSortable:!0,gridVisible:!0,iselComputedOnSave:!1,readable:!0,reportable:!1,schema:!1,search:!0,searchVisible:!0}}},{field:"value",type:"picklistValue",kind:"editable",caption:"Value",dbIndex:!0},{field:"parents",type:"code[]",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!0,gridExportable:!0,reportable:!1}},caption:"Parent Values"},{field:"rank",type:"number",kind:"editable",caption:"Sequence",esSort:["rank","value"]},{field:"relatedData",type:"json",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Related Data"},{field:"external",type:"checkbox",typeOptions:{allowNull:!0},kind:"editable",caption:"External"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"}],customGridQueries:{locked:function(e){var t=e.value;return{bool:{must:[{term:{picklistTypeId__locked:void 0!==t&&t}}]}}}}})},565563:(e,t,i)=>{"use strict";i(962010),e.exports={isLanguageListItem:function(e){return"languages"===e.name},isBatchSave:function(e){return!e.id}}},847279:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_listitem");e.exports=[{category:"listItem",key:"picklistValues",query:a.countActiveEntity()},{category:"listItem",key:"picklistTypes",query:a.countActiveDistinctField(),options:{field:"name"}},{category:"listItem",key:"picklistValuesOfTypeWithHighestValue",query:function(e,t,i){e("sys_listitem").max("counts.count").from((function(){this.count().from("sys_listitem").groupBy("name").as("counts")})).asCallback((function(e,t){return e?i(e):i(null,parseInt(n.head(t).max,10))}))}},{category:"listItem",key:"picklistValuesByType",query:a.countActiveEntityByGroup(),options:{field:"value",groupingField:"name",datasetTranslation:function(e,t){var i=a.getTranslationFilter(this.key),n=t({groupName:"picklist_type",subgroupName:"caption",key:e},!0,{dataset:e},e);return t(i,!0,{dataset:n},n)}}}]},389865:e=>{"use strict";e.exports={mandatory$:["name","value","picklistTypeId"],dependentPattern$:[{fields:["value"],pattern:"^^[a-zA-Z0-9-_ ]*$",code:"languagePattern$",allowNull:!0,condition:"isLanguageListItem"}]}},952159:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Log",roles:["view_log"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Log",roles:["create_log"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Log",roles:["edit_log"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Log",roles:["remove_log"],actions:["remove"],conditions:[]}).value()},110919:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_log",entity:{base:"sys",name:"log"},search:!1,caption:"Log",captionPlural:"Logs",addCaption:"Add Log",newCaption:"New Log",acl:i(952159),model:function(){return i(416821)},fields:[{field:"msg",type:"textbox",kind:"editable",caption:"Message"},{field:"details",type:"textarea",kind:"editable",caption:"Details"},{field:"type",type:"code",kind:"editable",caption:"Type"},{field:"subtype",type:"textbox",kind:"editable",caption:"Subtype"},{field:"origin",type:"textbox",kind:"editable",caption:"Origin"},{field:"userId",type:"user",kind:"system",caption:"User"},{field:"loginid",type:"textbox",kind:"editable",caption:"Login ID"}]})},342006:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Message",roles:["view_message"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Own Message",roles:["view_own_message"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{userId:"{user.id}"}}]}).required({name:"View Others Message",roles:["view_others_message"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!userId":"{user.id}"}}]}).required({name:"Create Message",roles:["create_message"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Message",roles:["edit_message"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Message",roles:["remove_message"],actions:["remove"],conditions:[]}).value()},214343:e=>{"use strict";e.exports={"main-messages":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"subject"},{field:"html"},{field:"createdDate"},{field:"method"}]}}},407558:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_message",grids:i(214343),acl:i(342006),caption:"Message",captionPlural:"Messages",addCaption:"Add Message",newCaption:"New Message",gridDescriptorField:"subject",includeInDataDictionary:!0,entity:{base:"sys",name:"message"},fields:[{field:"userId",caption:"User Id",type:"id",kind:"hidden-searchable"},{field:"subject",caption:"Subject",type:"textbox",kind:"system"},{field:"html",caption:"Body",type:"texteditor",kind:"system"},{field:"text",type:"texteditor",caption:"Text",kind:"system"},{field:"targetId",caption:"Target Id",type:"id",kind:"hidden-searchable"},{field:"targetType",caption:"Target Type",type:"textbox",kind:"system"},{field:"redirectUrlKey",caption:"Redirect URL Key",type:"textbox",kind:"system"},{field:"viewed",caption:"Viewed",type:"checkbox",kind:"system"},{caption:"Method",field:"method",type:"textbox",kind:"system"}]})},814989:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Notes",parentPermission:"case",permission:"note",options:[{permission:"view_note",caption:"View",tooltip:"View Notes",sequence:2},{permission:"create_note",caption:"Create",tooltip:"Add Notes",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("note"),caption:"Edit",sequence:3,dependencies:["view_note"],options:[{permission:"edit_note",caption:"Save",tooltip:"Edit Notes",dependencies:["view_note"]},{caption:"Set Reporter Access",permission:"mark_note_external",tooltip:'Set "Allow Reporter Access" on Notes belonging to an external Case when the two-way portal is enabled',dependencies:["view_note","edit_note"]}]},{permission:"remove_note",caption:"Remove",tooltip:"Delete Notes",sequence:4,dependencies:["view_note"]}]}]},221327:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filterChildPortalFields().filter({name:"Mark Notes External",roles:["mark_note_external"],actions:["save_new","save_existing"],conditions:[],filters:{externalRecord:!1}}).filterViewSourceData().required({name:"View Notes",roles:["view_note"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,{attributes:{sysActive:!0}}],generatePermissions:["external"]}).required({name:"Create Notes",roles:["create_note"],actions:["save_new"],conditions:[n.conditionForInternalRecord,{attributes:{id:null}}],generatePermissions:["external","external_case_not_created_by"]}).required({name:"Edit Notes",roles:["edit_note"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0,sysActive:!0}}]}).required({name:"Remove Notes",roles:["remove_note"],actions:["remove"],conditions:[{attributes:{sysActive:!0}}]}).required({name:"Access Draft Notes",roles:["access_others_draft_children"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!id":null,sysActive:!1,createdBy:"{!user.id}"}}]}).requireCaseLoadInheritance().requireCaseSaveInheritance().value()},734256:(e,t,i)=>{"use strict";i(428706);var n=["details"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:a}}},save:{created:{options:{reference:a}},updated:{options:{reference:a,changes:{excludeFields:["id"]}}}},remove:{deleted:{options:{reference:a}}},translate_record:{status:{condition:{composite:"all",rules:[{path:"entity.intakeTranslationStatus",comparator:"exists"}]},options:{changes:{displayFields:["intakeTranslationStatus"]},reference:a}}}}}},473734:e=>{"use strict";var t=["noteType","createdDate","lastUpdatedDate"];e.exports={"main-notes":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"noteType"},{field:"details"},{field:"createdBy"},{field:"createdDate"}],defaultDynamicDataFilters:t},"main-notes-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"noteType"},{field:"details"},{field:"createdDate"}]},"case-notes":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"noteType"},{field:"details"},{field:"createdBy"},{field:"createdDate"}],defaultDynamicDataFilters:t,default:!0},"case-notes-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"noteType"},{field:"details"},{field:"createdDate"}]},"advanced-search-result-notes":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"noteType"},{field:"details"},{field:"createdBy"},{field:"createdDate"}]},"search-result-notes-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"noteType"},{field:"details"},{field:"createdBy"},{field:"createdDate"}]},"search-result-notes-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"noteType"},{field:"details"},{field:"createdBy"},{field:"createdDate"},{field:"pendingPurgeDate"}]}}},111347:e=>{"use strict";e.exports=[{from:["/external/note/new"],to:"/external/notes"},{from:["/external/case/{caseId}/note/new"],to:"/external/case/{caseId}/notes"},{from:[],to:"/case/{caseId}/activity/notes"},{from:[],to:"/notes"}]},469015:(e,t,i)=>{"use strict";var n=i(648160),a=i(357520),r=i(878705),o=n(i(969987),r);e.exports=n(o,{db:"default",table:"sys_note",entity:{base:"sys",name:"note"},joins:[{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}],api:{useGenericApiExternal:!0===a.twoWayPortalEnabled},normalizeMultiValuePicklistEntries:!0,allowExternalFlag:!0,allowExternalSearch:!0,customForm:!1,ruleEvents:!0,enablePortalUserNotifications:!0,caption:"Note",captionPlural:"Notes",addCaption:"Add Note",newCaption:"New Note",gridDescriptorField:"childNumber",acl:i(221327),aclHierarchy:i(814989),audit:i(734256),grids:i(473734),validation:i(673804),historyNav:i(111347),icon:"fa-sticky-note-o",includeInDataDictionary:!0,enableRecordSourceView:!0,usageStatistics:i(278598),staticFieldWorkflows:[i(313179),i(647760)],model:function(){return i(904143)},collection:function(){return i(975640)},view:function(){return i(181601)},rowTemplates:{small:function(){return i(278681)},medium:function(){return i(54409)},tiny:function(){return i(314808)}},fields:[{field:"details",type:"texteditor",caption:"Details",showOnPortal:!0,enableTranslation:!0,kind:"editable-external"},{field:"noteType",type:"picklist",caption:"Note Type",typeOptions:{picklistName:"note_types"},kind:"editable-external",showOnPortal:!0},{field:"externalRecord",type:"checkbox",caption:"External",kind:"editable",typeOptions:{allowNull:!1},showOnPortal:!0}]})},647760:e=>{"use strict";e.exports={name:"note-intake-translation-status",field:"intakeTranslationStatus",entity:{zone:void 0,base:"sys",name:"note"},values:[{value:"complete",indicator:"success"},{value:"pending",indicator:"warning"},{value:"error",indicator:"danger"},{value:null}],strict:!0,transitions:[{id:"note-intake-translation-status-blank",from:[null,void 0],to:[null,void 0]},{id:"note-intake-translation-status-initial",from:[null,void 0],to:"pending"},{id:"note-intake-translation-status-complete",from:"pending",to:"complete"},{id:"note-intake-translation-status-error",from:"pending",to:"error"},{id:"note-intake-translation-status-pending",from:["complete","error"],to:"pending"}],conditions:[],displayRule:"shouldShowTranslationStatusWorkflow"}},278598:(e,t,i)=>{"use strict";var n=i(342141)("sys_note");e.exports=[{category:"note",key:"totalNotes",query:n.countActiveEntity()},{category:"note",key:"notesByType",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"note_type",picklistName:"note_types",datasetTranslation:function(e,t){return n.getPicklistDatasetTrans(this,e,t)}}},{category:"note",key:"notesPerCase",query:n.countTotalAverageAndHighestByCase()}]},673804:e=>{"use strict";e.exports={mandatory$:["caseId","noteType"],caseId:{type$:"string"},details:{type$:"string"},noteType:{type$:"string"}}},312890:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Notifications",parentPermission:"view_system_settings",permission:"view_notification_settings",options:[{permission:"view_default_notification_details",caption:"View",tooltip:"View system notifications",sequence:2},{caption:"Create",sequence:1,disabled:!0,permission:"create_notification"},{type:"group",caption:"Edit",sequence:3,permission:n.getEditGroupPermissionCode("notification"),dependencies:["view_default_notification_details"],options:[{caption:"Save",tooltip:"Edit system notifications",permission:"edit_default_notification",dependencies:["view_default_notification_details"]}]},{caption:"Remove",sequence:4,disabled:!0,permission:"remove_notification",dependencies:["view_default_notification_details"]}]}]},421716:(e,t,i)=>{"use strict";i(874423),i(202008),i(426099),i(428706);var n=i(553604),a={attributes:{id:null}},r={attributes:{"!id":null}},o={attributes:{userId:"{user.id}"}},s={attributes:{userId:"0"}},l=["portal-case-submission-notify-reporter","portal-case-update-notify-reporter","portal-child-update-notify-reporter","portal-shared-child-notify-reporter","hotline-case-submission-notify-reporter"],d=[{fn:function(e,t){return{ok:l.includes(e.code)}},selectedFields:function(e,t){return t(null,["code"])}}];e.exports=n.initialize().filter({name:"View Default Notification Details",roles:["view_default_notification_details"],actions:["load","list","save_new","save_existing","remove"],conditions:[s],filters:{html:!1,subject:!1,text:!1,saveToInbox:!1}}).filter({name:"View Own Notification Details",roles:["view_own_notification_details"],actions:["load","list","save_new","save_existing","remove"],conditions:[o],filters:{html:!1,subject:!1,text:!1,saveToInbox:!1}}).filter({name:"Reassign Notification",roles:["edit_notification_reassign"],actions:["save_new","save_existing"],conditions:[r],filters:{userId:!1}}).filter({name:"Edit external saveToInbox notifications",roles:["edit_external_notification_save_to_inbox"],actions:["save_new","save_existing"],conditions:[].concat(d),filters:{saveToInbox:!1}}).required({name:"View Notification",roles:["view_notification"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Default Notification",roles:["view_default_notification"],actions:["load","list","save_existing","remove"],conditions:[s]}).required({name:"View Own Notification",roles:["view_own_notification"],actions:["load","list","save_existing","remove"],conditions:[o]}).required({name:"Create Notification",roles:["create_notification"],actions:["save_new"],conditions:[a]}).required({name:"Create Default Notification",roles:["create_default_notification"],actions:["save_new"],conditions:[s,a]}).required({name:"Create Own Notification",roles:["create_own_notification"],actions:["save_new"],conditions:[o,a]}).required({name:"Edit Notification",roles:["edit_notification"],actions:["save_new"],conditions:[r]}).required({name:"Edit Default Notification",roles:["edit_default_notification"],actions:["save_existing"],conditions:[s,r]}).required({name:"Edit Own Notification",roles:["edit_own_notification"],actions:["save_existing"],conditions:[o,r]}).required({name:"Own Locked Notification",roles:["own_locked_notification"],actions:["save_new","save_existing"],conditions:[o,{attributes:{locked:!0}}]}).required({name:"Others Notificatin",roles:["others_notification"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!userId":"{user.id}"}},{attributes:{"!userId":"0"}}]}).required({name:"Remove Notification",roles:["remove_notification"],actions:["remove"],conditions:[]}).required({name:"Remove Default Notification",roles:["remove_default_notification"],actions:["remove"],conditions:[s]}).required({name:"Remove Own Notification",roles:["remove_own_notification"],actions:["remove"],conditions:[o]}).value()},598131:e=>{"use strict";var t={displayFields:["subject"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},856781:e=>{"use strict";e.exports={"main-notifications":{sortColumn:"disabled",sortOrder:"desc",columns:[{field:"code"},{field:"subject"},{field:"disabled"}],defaultDynamicDataFilters:["disabled","locked","createdDate","lastUpdatedDate"]},"main-notifications-settings":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"code"}]}}},34848:e=>{"use strict";e.exports=[{from:[],to:"/settings/system/notifications"}]},717628:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",caption:"Notification",captionPlural:"System Notifications",addCaption:"Add System Notification",newCaption:"New System Notification",gridDescriptorField:"name",grids:i(856781),acl:i(421716),aclHierarchy:i(312890),historyNav:i(34848),validation:i(781785),rules:i(943147),audit:i(598131),table:"sys_notification",rowTemplates:{medium:function(){return i(497628)}},entity:{base:"sys",name:"notification"},fields:[{field:"userId",type:"user",caption:"User Id",kind:"system"},{field:"code",type:"textbox",caption:"Name",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!0,gridExportable:!0,reportable:!1}},cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/notification-name-cell-tmpl.dust"),"utf8")}},{field:"subject",type:"textbox",caption:"Subject",kind:"editable"},{field:"html",type:"texteditor",caption:"HTML Body",kind:"editable"},{field:"text",type:"textarea",caption:"Text Body",kind:"editable"},{field:"methods",type:"picklist[]",caption:"Methods",kind:"editable",typeOptions:{picklistName:"notify_methods"}},{field:"locked",type:"yesno",caption:"Locked",kind:"editable"},{field:"disabled",type:"yesno",caption:"Disabled",kind:"editable"},{field:"saveToInbox",type:"yesno",caption:"Save to Inbox",kind:"editable"}]})},943147:(e,t,i)=>{"use strict";i(874423);var n=["portal-case-submission-notify-reporter","portal-case-update-notify-reporter","portal-child-update-notify-reporter","portal-shared-child-notify-reporter","external-password-reset-requested","external-username-reminder","external-password-generated","external-user-expiring","external-password-expiring","external-password-expired","hotline-case-submission-notify-reporter","hotline-password-generated"];e.exports={isDefault:function(e){return"0"===e.userId},isNotExternalNotification:function(e){return!n.includes(e.code)}}},781785:e=>{"use strict";e.exports={mandatory$:["methods","disabled"],dependentMandatory$:[{condition:"isDefault",fields:["subject","html","text","locked"]}],invalidTemplate$:["subject","html","text"]}},865237:e=>{"use strict";var t={displayFields:["actionType","subject"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},592607:(e,t,i)=>{"use strict";i(962062);var n=i(96190);e.exports={setSummarizedTemplate:function(e,t,i){i(null,n.map(t,(function(e){return e.template||e.templateForSMS||e.templateForPhone||""})))}}},957258:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{table:"sys_notification_action",entity:{base:"sys",name:"notification_action"},workflowActionConfig:{formName:"notification-action-details",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},supportedRuleTypes:["Schedule Process","Schedule","Record Event","Workflow"]},caption:"Notification",captionPlural:"Notifications",addCaption:"Add Notification",newCaption:"New Notification",rules:i(251685),audit:i(865237),validation:i(607299),computeFunctions:i(592607),customDependencies:["sys/user_role"],usageStatistics:i(359621),model:function(){return i(64487)},fields:[{field:"contextUsers",type:"fieldPicklist[]",typeOptions:{entityNameField:"targetEntity",refreshOnFields:["targetEntity"],filterType:["user","user[]","emailLookup[]"],excludedFields:["userBlacklist"]},caption:"Include Context Users",kind:"editable"},{field:"partyType",type:"picklist[]",typeOptions:{picklistName:"party_types",placeholder:"search_party_types"},caption:"Include Parties",kind:"editable"},{field:"systemUsers",type:"user[]",caption:"Include System Users",kind:"editable"},{field:"systemUserRoles",caption:"Include System User Roles",kind:"editable",type:"picklistApi[]",typeOptions:{picklistName:"user_roles",filter:"filterUserRoles"}},{field:"contextEmails",type:"fieldPicklist[]",typeOptions:{entityNameField:"targetEntity",refreshOnFields:["targetEntity"],placeholder:"Search emails...",filterType:["email","email[]"]},caption:"Include Context Email",kind:"editable"},{field:"otherAddresses",type:"email[]",typeOptions:{linkWithSystemUser:!1},caption:"Include Other Addresses",kind:"editable"},{field:"systemTeams",caption:"Include Teams",type:"team[]",kind:"editable"},{caption:"High Priority",field:"highPriority",type:"checkbox",kind:"editable"},{field:"subject",type:"textbox",caption:"Subject",kind:"editable"},{field:"template",type:"texteditor",caption:"Template",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,apiWritable:!0,gridExportable:!1,formVisible:!0,search:!0,reportable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1}}},{field:"fields",type:"fieldPicklist[]",typeOptions:{entityNameField:"targetEntity",refreshOnFields:["targetEntity"],excludeType:["imageCropper"],excludeKind:[]},caption:"Include Fields",kind:"editable"},{field:"templateForSMS",type:"textarea",typeOptions:{charMaxTextArea:500},caption:"Template for SMS",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,apiWritable:!0,gridExportable:!1,formVisible:!0,search:!0,reportable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1}}},{field:"templateForPhone",type:"textarea",typeOptions:{charMaxTextArea:1e3},caption:"Template for Phone",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,apiWritable:!0,gridExportable:!1,formVisible:!0,search:!0,reportable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1}}},{field:"summarizedTemplate",type:"texteditor",caption:"Template",kind:"computed",kindOptions:{computeFunction:"setSummarizedTemplate"}},{caption:"Method",field:"method",type:"picklist",typeOptions:{picklistName:"custom_notification_methods"},kind:"editable"},{field:"otherPhoneNumbers",type:"phone-number[]",caption:"Include Other Phone Numbers",kind:"editable"}],joins:[{referenceField:"systemUserRoles",table:"sys_user_role",fields:["name"]}]})},64487:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/notification_action"),entity:{base:"sys",name:"notification_action"},idAttribute:"id"})},251685:e=>{"use strict";e.exports={isMethodEmail:function(e){return"email"===e.method},isMethodSMS:function(e){return"sms"===e.method},isMethodPhone:function(e){return"phone"===e.method},isRuleTypeScheduleProcess:function(e){return"Schedule Process"===e._ruleType},isUnassignedIncomingMail:function(e){return"unassigned-incoming-mail"===e._recordEvent},isRecordTypeCase:function(e){return"sys/case"===e.targetEntity},isRecordTypeEmail:function(e){return"sys/email"===e.targetEntity},isRecordTypeAppointment:function(e){return"sys/appointment"===e.targetEntity},isRecordTypeNote:function(e){return"sys/note"===e.targetEntity},isRecordTypeFile:function(e){return"sys/attachment"===e.targetEntity}}},359621:(e,t,i)=>{"use strict";var n=i(342141)("sys_notification_action");e.exports=[{category:"workflows",key:"totalNotificationAction",query:n.countActiveEntity()}]},607299:e=>{"use strict";e.exports={mandatory$:["triggerType","method"],dependentMandatory$:[{condition:"isMethodEmail",fields:["subject","template"]},{condition:"isMethodSMS",fields:["templateForSMS"]},{condition:"isMethodPhone",fields:["templateForPhone"]},{condition:"isTriggerTypeDelayed",fields:["delay"]}],invalidTemplate$:["subject","template","templateForPhone","templateForSMS"]}},512980:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"view_system_settings",caption:"Options",permission:"option",options:[{permission:"view_option",caption:"View",tooltip:"View Options",sequence:2},{permission:"create_option",caption:"Create",sequence:1,disabled:!0},{type:"group",permission:n.getEditGroupPermissionCode("option"),caption:"Edit",sequence:4,dependencies:["view_option"],options:[{permission:"edit_option",caption:"Save",tooltip:"Edit Options",dependencies:["view_option"]}]},{permission:"edit_static_option",caption:"Edit Static",sequence:5,disabled:!0},{permission:"remove_option",caption:"Remove",sequence:6,disabled:!0}]}]},608714:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Options",roles:["view_option"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Options",roles:["create_option"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Options",roles:["edit_option"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Edit Static Options",roles:["edit_static_option"],actions:["save_new"],conditions:[{attributes:{staticFlag:!0}}]}).required({name:"Remove Options",roles:["remove_option"],actions:["remove"],conditions:[]}).value()},821989:e=>{"use strict";var t={displayFields:["key"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},738155:(e,t,i)=>{"use strict";i(428706);var n=i(532365),a=i(55002);e.exports={baseUrl:function(){return n.baseUrl},samlAuthUrl:function(){var e=a.getAuthOptions();return"".concat(n.baseUrl,"/").concat(e.dynamicAuthRouteName,"/saml")}}},879811:e=>{"use strict";e.exports={"main-options":{sortColumn:"key",sortOrder:"asc",columns:[{field:"key"},{field:"description"},{field:"value"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},857658:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_option",entity:{base:"sys",name:"option"},caption:"Option",captionPlural:"Options",addCaption:"Add Option",newCaption:"New Option",configurationExport:!0,configurationImport:!0,importTransformer:"option",exportTransformer:"option",exportGridTransformer:"option",acl:i(608714),aclHierarchy:i(512980),grids:i(879811),audit:i(821989),defaultValueFunctions:i(738155),rules:i(78101),validation:i(792947),customDependencies:["sys/user_role"],model:function(){return i(278994)},collection:function(){return i(716453)},fields:[{field:"key",type:"textbox",kind:"system",caption:"Key"},{field:"subgroupName",type:"textbox",caption:"Subgroup",kind:"system"},{field:"groupName",type:"textbox",caption:"Group",kind:"system"},{field:"value",type:"textbox",kind:"editable",caption:"Value",minGridWidth:250,typeOptions:{bypassDefaultTypeValidation:!0,customFieldDefField:"fieldDef"}},{field:"secretValue",type:"secret",kind:"hidden",caption:"Secret Value",typeOptions:{revealOnHoverAndFocus:!0}},{field:"fieldDef",type:"json",kind:"hidden",caption:"Field Definition"},{field:"description",type:"textbox",kind:"system",caption:"Description",minGridWidth:150,typeOptions:{bypassDefaultTypeValidation:!0}},{field:"staticFlag",type:"yesno",kind:"system",caption:"Static Flag"},{field:"frontendFlag",type:"yesno",kind:"system",caption:"Frontend Flag"},{field:"secretValueWriteOnly",type:"secret",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!1,readable:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,iselComputedOnSave:!1,aggregateField:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Secret Value Write Only",typeOptions:{writeOnly:!0,revealOnHoverAndFocus:!0}},{field:"cellTemplate",type:"textarea",caption:"Cell Template",kind:"system"},{field:"importTransformerFn",type:"textbox",kind:"hidden",caption:"Import Transformer Function"},{field:"exportTransformerFn",type:"textbox",kind:"hidden",caption:"Export Transformer Function"},{field:"excludeFromImport",type:"yesno",kind:"hidden",caption:"Exclude From Import"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"}],joins:[{referenceField:"value",table:"sys_user_role",fields:["name"]}]})},78101:e=>{"use strict";e.exports={isSSOEnabled:function(e){return!0===e.ssoEnabled},isSSOAuthnContextEnabled:function(e){return!0===e.ssoEnableRequestedAuthnContext},isSSOAutoUserProvisionEnabled:function(e){return!0===e.ssoAutoUserProvisioningEnabled},isCaseNumberUsingISELEnabled:function(e){return!0===e.caseNumberISELEnabled}}},792947:(e,t,i)=>{"use strict";var n=i(405345),a={type:"textbox"};e.exports={dependentMandatory$:[{condition:"isSSOEnabled",fields:["ssoProtocol","ssoCert","ssoSPEntityId","ssoIdPUrl","ssoIdentifierMapping","ssoIdentifierDataMapping","ssoUrl"]},{condition:"isSSOAutoUserProvisionEnabled",fields:["ssoAutoUserProvisionUserRoleFallback"]},{condition:"isCaseNumberUsingISELEnabled",fields:["caseNumberExpression"]}],maxLength$:[{name:"value",value:function(e){var t;return n.getCharMaxLength(null!==(t=e.fieldDef)&&void 0!==t?t:a)}}],minLength$:[{name:"value",value:function(e){var t;return n.getCharMinLength(null!==(t=e.fieldDef)&&void 0!==t?t:a)}}],pattern$:[{fields:["caseNumberPrefix","caseNumberSeparator"],code:"noWhitespacesAllowed$",pattern:"^\\S*$"}],expression$:[{field:"caseNumberExpression",entityCanon:"sys/case",thisContextProperty:"caseNumber"}]}},979665:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Packets",parentPermission:"view_data_settings",permission:"packet_settings",options:[{caption:"View",sequence:2,permission:"view_packet_settings",tooltip:"View packets"},{permission:"create_packet",caption:"Create",tooltip:"Create packets",sequence:1,dependencies:["view_packet_settings"]},{type:"group",permission:n.getEditGroupPermissionCode("packet"),caption:"Edit",sequence:3,dependencies:["view_packet_settings"],options:[{permission:"edit_packet",caption:"Save",tooltip:"Edit packets"}]},{permission:"remove_packet",caption:"Remove",tooltip:"Delete packets",sequence:4,dependencies:["view_packet_settings"]}]}]},616659:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Packets",roles:["view_packet"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Packets",roles:["create_packet"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Packets",roles:["create_packet"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).required({name:"Edit Packets",roles:["edit_packet"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Packets",roles:["remove_packet"],actions:["remove"],conditions:[]}).value()},473204:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},530130:e=>{"use strict";e.exports={"main-packets":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"name"},{field:"createdBy"},{field:"createdDate"}]}}},232359:e=>{"use strict";e.exports=[{from:[],to:"/settings/data/packets"}]},513067:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r=i(835141);e.exports=n(n(a,r),{db:"default",table:"sys_packet",entity:{base:"sys",name:"packet"},api:{useGenericApi:!0},caption:"Packet",captionPlural:"Packets",addCaption:"Add Packet",newCaption:"New Packet",gridDescriptorField:"name",acl:i(616659),aclHierarchy:i(979665),grids:i(530130),validation:i(418048),historyNav:i(232359),configurationExport:function(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pdftronEnabled},configurationImport:function(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pdftronEnabled},exportTransformer:"packet",audit:i(473204),bypassValidationOnDraft:!0,rules:i(249628),usageStatistics:i(364146),model:function(){return i(17667)},collection:function(){return i(650668)},view:function(){return i(713013)},fields:[]})},249628:e=>{"use strict";e.exports={shouldAddTableOfContents:function(e){return Boolean(e.shouldAddTableOfContents)},isCustomTableOfContentsTemplateKindSelected:function(e){return"custom"===e.tableOfContentsTemplateKind}}},364146:(e,t,i)=>{"use strict";var n=i(342141)("sys_packet");e.exports=[{category:"packet",key:"activePackets",query:n.countActiveEntity()}]},418048:e=>{"use strict";e.exports={mandatory$:["name","documentGenerationMethod","caseFilesInclusionKind"],dependentMandatory$:[{condition:"shouldAddTableOfContents",fields:["tableOfContentsTemplateKind"]},{condition:"isCustomTableOfContentsTemplateKindSelected",fields:["tableOfContentsTemplate"]}],fileName$:["name"]}},696446:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit packet edit ACL",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:["sys/packet::{packetId}::save"]}).required({name:"Inherit packet view ACL",roles:["agent"],actions:["load","list"],conditions:["sys/packet::{packetId}"]}).value()},528239:e=>{"use strict";e.exports={"packet-template-grid":{sortColumn:"templateId",sortOrder:"desc",columns:[{field:"templateId"},{field:"order"}]}}},174894:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_packet_template",entity:{base:"sys",name:"packet_template"},customForm:!1,api:{useGenericApi:!0},validation:i(464103),configurationImport:function(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pdftronEnabled},caption:"Packet Template",captionPlural:"Templates",addCaption:"Add Packet Template",newCaption:"New Packet Template",acl:i(696446),model:function(){return i(282798)},grids:i(528239),parents:[{entity:{base:"sys",name:"template"},field:"templateId"},{entity:{base:"sys",name:"packet"},field:"packetId",filter:{parentType:"packet"}},{entity:{base:"sys",name:"attachment"},field:"packetId",filter:{parentType:"attachment"}}],fields:[{field:"locale",type:"picklist",caption:"Locale",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable"},{field:"templateId",type:"picklistSelectizeApi",caption:"Template",kind:"editable",typeOptions:{picklistName:"templates"},dbIndex:!0},{field:"packetId",type:"id",caption:"Packet Id",kind:"hidden-editable",dbIndex:!0},{field:"order",type:"number",caption:"Order",kind:"editable",dbIndex:!0},{field:"parentType",type:"code",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},caption:"Parent Type",dbIndex:!0,excludeFromRedact:!0}],joins:[{referenceField:"templateId",table:"sys_template",fields:["name"]},{referenceField:"packetId",table:"sys_packet",fields:["name"]}],audit:{child:!0,parentType:{base:"sys",name:"packet"},parentFieldId:"packetId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},464103:e=>{"use strict";e.exports={mandatory$:["templateId","packetId","order"],numberRange$:[{number:"order",minimumNumber:{number:0}}]}},640519:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Parties",parentPermission:"case",permission:"party",options:[{permission:"view_party",caption:"View",tooltip:"View Parties",sequence:3},{permission:"create_party",caption:"Create",tooltip:"Add Parties",sequence:1},{permission:"create_party_restricted_fields",caption:"Create Restricted Fields",tooltip:"Add restricted field values",dependencies:["create_party"],sequence:2},{type:"group",permission:n.getEditGroupPermissionCode("party"),caption:"Edit",sequence:4,dependencies:["view_party"],options:[{permission:"edit_party",caption:"Save",tooltip:"Edit unrestricted fields",dependencies:["view_party"]},{permission:"edit_party_restricted_fields",caption:"Save Restricted Fields",tooltip:"Edit restricted fields",dependencies:["view_party","edit_party"]},{caption:"Set Reporter Access",permission:"mark_party_external",tooltip:'Set "Allow Reporter Access" on Parties belonging to an external Case when the two-way portal is enabled',dependencies:["view_party","edit_party"]}]},{permission:"remove_party",caption:"Remove",tooltip:"Delete Parties",sequence:5,dependencies:["view_party"]}]}]},248957:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filterChildPortalFields().filterChildHotlineFields().filterRestrictEditFields({roles:["edit_party_restricted_fields"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysActive:!0}}]}).filterRestrictEditFields({roles:["create_party_restricted_fields"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).filterRestrictEditFields({roles:["create_party_restricted_fields"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysActive:!1}}]}).filter({name:"Edit Party Portal Submission Fields On Creation",roles:["edit_party_portal_submission_fields_on_creation"],actions:["save_new"],conditions:[n.conditionForInternalRecord,{attributes:{id:null}}],filters:{portalReporterParty:!1},generatePermissions:["external"]}).filter({name:"Edit Party Portal Submission Fields After Creation",roles:["edit_party_portal_submission_fields_after_creation"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}],filters:{portalReporterParty:!1}}).filter({name:"Mark Parties External",roles:["mark_party_external"],actions:["save_new","save_existing"],conditions:[],filters:{externalRecord:!1}}).filter({name:"Create Profile Link",roles:["create_manual_link"],actions:["save_new"],filters:{linkWithPersonMethod:!1}}).filter({name:"Edit Party Fields",roles:["edit_party"],actions:["save_existing"],conditions:[n.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!0}}],filters:{linkWithPersonMethod:!0},generatePermissions:["external"]}).filterViewSourceData().required({name:"View Parties",roles:["view_party"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,{attributes:{sysActive:!0}}],generatePermissions:["external"]}).required({name:"Create Parties",roles:["create_party"],actions:["save_new"],conditions:[n.conditionForInternalRecord,{attributes:{id:null}}],generatePermissions:["external","external_case_not_created_by"]}).required({name:"Party Create Manual Link",roles:["create_manual_link"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0,"!linkWithPersonMethod":null}}]}).required({name:"Edit Case Parties",roles:["edit_party"],actions:["save_existing"],conditions:[n.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!0}}],generatePermissions:["external"]}).required({name:"Remove Parties",roles:["remove_party"],actions:["remove"],conditions:[n.conditionForInternalRecord,{attributes:{sysActive:!0}}],generatePermissions:["external"]}).required({name:"Access Draft Parties",roles:["access_others_draft_children"],actions:["load","list","save_existing","remove"],conditions:[n.conditionForInternalRecord,{attributes:{"!id":null,sysActive:!1,createdBy:"{!user.id}"}}]}).requireCaseLoadInheritance().requireCaseSaveInheritance().value()},583674:(e,t,i)=>{"use strict";i(428706);var n=["partyName"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:a}}},save:{created:{options:{reference:a}},updated:{options:{changes:{excludeFields:["createdBy","caseId","id"]},reference:a}},party_cloned_from:{condition:{composite:"all",rules:[{path:"diff.id",comparator:"nexists"},{path:"diff.caseId__caseNumber",comparator:"exists"},{path:"diff.caseId__caseNumber.updatedValue",comparator:"matches",value:"/d{4}-d{2}-d{8}-d*$/"}]},options:{}}},remove:{deleted:{options:{reference:a}}},clone:{party_cloned_to:{}},translate_record:{status:{condition:{composite:"all",rules:[{path:"entity.intakeTranslationStatus",comparator:"exists"}]},options:{changes:{displayFields:["intakeTranslationStatus"]},reference:a}}}}}},273060:(e,t,i)=>{"use strict";i(962062),i(311927);var n=i(96190);e.exports={partyName:function(e,t,i){i(null,n.map(t,(function(e){return n.compact([e.firstName,e.lastName]).join(" ")})))}}},459532:e=>{"use strict";var t=["partyType","createdDate","lastUpdatedDate"];e.exports={"main-parties":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"partyType"},{field:"partyName"},{field:"createdDate"},{field:"primaryEntity"}],defaultDynamicDataFilters:t},"main-parties-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"createdDate"},{field:"partyName"},{field:"partyType"}]},"case-parties":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"partyType"},{field:"partyName"},{field:"createdDate"},{field:"primaryEntity"}],defaultDynamicDataFilters:t,default:!0},"case-parties-external":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"createdDate"},{field:"partyName"},{field:"partyType"}]},"case-capture-parties":{sortColumn:"partyName",sortOrder:"asc",columns:[{field:"partyType"},{field:"partyName"},{field:"primaryEntity"}]},"advanced-search-result-parties":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"partyType"},{field:"partyName"},{field:"createdDate"},{field:"primaryEntity"}]},"search-result-parties-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"partyType"},{field:"partyName"},{field:"createdDate"},{field:"primaryEntity"}]},"search-result-parties-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"partyType"},{field:"partyName"},{field:"createdDate"},{field:"pendingPurgeDate"},{field:"primaryEntity"}]},"hotline-parties":{sortColumn:"firstName",sortOrder:"asc",columns:[{field:"firstName"},{field:"lastName"},{field:"partyType"}]}}},481017:e=>{"use strict";e.exports=[{from:["/external/party/new"],to:"/external/parties"},{from:["/external/case/{caseId}/party/new"],to:"/external/case/{caseId}/parties"},{from:["/case/{caseId}/edit","/party/new"],to:"/case/{caseId}/parties"},{from:[],to:"/case/{caseId}/parties"},{from:[],to:"/parties"}]},786317:(e,t,i)=>{"use strict";var n=i(648160),a=i(987112),r=i(878705),o=n(i(969987),r);e.exports=n(o,{db:"default",table:"sys_party",entity:{base:"sys",name:"party"},joins:[{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}],api:{useGenericApiExternal:!0===a.twoWayPortalEnabled},normalizeMultiValuePicklistEntries:!0,allowExternalFlag:!0,allowExternalSearch:!0,allowOnHotline:!0,partiallyDynamic:!0,customForm:!1,enablePortalUserNotifications:!0,caption:"Party",captionPlural:"Parties",addCaption:"Add Party",newCaption:"New Party",gridDescriptorField:"partyName",allowDataAggregation:!0,ruleEvents:!0,rules:i(798082),acl:i(248957),aclHierarchy:i(640519),audit:i(583674),grids:i(459532),validation:i(382262),computeFunctions:i(273060),historyNav:i(481017),icon:"fa-user-o",includeInDataDictionary:!0,enableRecordSourceView:!0,primaryConfig:i(78702),usageStatistics:i(162780),staticFieldWorkflows:[i(313179),i(129064)],model:function(){return i(681127)},collection:function(){return i(335987)},view:function(){return i(337439)},rowTemplates:{small:function(){return i(416585)},medium:function(){return i(467545)},tiny:function(){return i(837800)},similarSearch:function(){return i(11394)}},similarSearchConfig:i(749532),relationshipFieldMappings:{"sys/party":{or:[{is:{firstName:["firstName"],lastName:["lastName"]}},{is:{address:["address"]}},{is:{homePhone:["homePhone"]}},{is:{homePhone:["workPhone"]}},{is:{workPhone:["workPhone"]}},{is:{workPhone:["homePhone"]}},{is:{emailAddress:["emailAddress"]}}]},"sys/note":{or:[{contains:{details:["firstName","lastName"]}},{contains:{details:["address"]}},{contains:{details:["emailAddress"]}},{contains:{details:["homePhone"]}},{contains:{details:["workPhone"]}}]},"sys/appointment":{or:[{contains:{description:["firstName","lastName"]}},{contains:{description:["address"]}},{contains:{description:["emailAddress"]}},{contains:{description:["homePhone"]}},{contains:{description:["workPhone"]}},{contains:{subject:["firstName","lastName"]}},{contains:{subject:["address"]}},{contains:{subject:["emailAddress"]}},{contains:{subject:["homePhone"]}},{contains:{subject:["workPhone"]}}]},"sys/todo":{or:[{contains:{details:["firstName","lastName"]}},{contains:{details:["address"]}},{contains:{details:["emailAddress"]}},{contains:{details:["homePhone"]}},{contains:{details:["workPhone"]}}]},"sys/comment":{or:[{contains:{details:["firstName","lastName"]}},{contains:{details:["address"]}},{contains:{details:["emailAddress"]}},{contains:{details:["homePhone"]}},{contains:{details:["workPhone"]}}]},"sys/attachment":{or:[{contains:{description:["firstName","lastName"]}},{contains:{description:["address"]}},{contains:{description:["homePhone"]}},{contains:{description:["workPhone"]}},{contains:{description:["emailAddress"]}},{contains:{"files.nameWithoutExtension._english":["firstName","lastName"],generateSearchNames:!1}},{contains:{"files.nameWithoutExtension._english":["address"],generateSearchNames:!1}},{contains:{"files.nameWithoutExtension._english":["emailAddress"],generateSearchNames:!1}},{contains:{"files.nameWithoutExtension._english":["homePhone"],generateSearchNames:!1}},{contains:{"files.nameWithoutExtension._english":["workPhone"],generateSearchNames:!1}},{attachmentContent:[{contains:{"file.content.content":["firstName","lastName"],generateSearchNames:!1}},{contains:{"file.content.content":["address"],generateSearchNames:!1}},{contains:{"file.content.content":["emailAddress"],generateSearchNames:!1}},{contains:{"file.content.content":["homePhone"],generateSearchNames:!1}},{contains:{"file.content.content":["workPhone"],generateSearchNames:!1}}]}]},"sys/email":{or:[{contains:{body:["firstName","lastName"]}},{contains:{subject:["firstName","lastName"]}},{contains:{body:["address"]}},{contains:{body:["emailAddress"]}},{contains:{body:["homePhone"]}},{contains:{body:["workPhone"]}},{contains:{subject:["address"]}},{contains:{subject:["emailAddress"]}},{contains:{subject:["homePhone"]}},{contains:{subject:["workPhone"]}}]}},fields:[{field:"primaryEntity",type:"yesno",caption:"Primary",kind:"editable",default:!1},{field:"partyType",type:"picklist",caption:"Party Type",typeOptions:{picklistName:"party_types"},kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"firstName",type:"textbox",caption:"First Name",kind:"editable",excludeFromSaveAndCopy:!0,showOnPortal:!0,showOnHotline:!0},{field:"lastName",type:"textbox",caption:"Last Name",kind:"editable",excludeFromSaveAndCopy:!0,showOnPortal:!0,showOnHotline:!0},{field:"middleInitial",type:"textbox",caption:"Middle Initial",kind:"editable",excludeFromSaveAndCopy:!0,showOnPortal:!0,showOnHotline:!0},{field:"dateOfBirth",type:"date",typeOptions:{datePickerEndDate:"0d"},caption:"Date of Birth",kind:"editable",excludeFromSaveAndCopy:!0,showOnPortal:!0,showOnHotline:!0},{field:"partyName",type:"textbox",caption:"Party Name",kind:"computed",kindOptions:{computeFunction:"partyName"},excludeFromSaveAndCopy:!0,showOnPortal:!0,showOnHotline:!0},{field:"address",type:"textbox",caption:"Address",kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"city",type:"textbox",caption:"City",kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"stateProvince",type:"picklist",caption:"State/Province",typeOptions:{picklistName:"states_and_provinces"},kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"country",type:"picklist",caption:"Country",typeOptions:{picklistName:"countries"},kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"zipCodePostalCode",type:"textbox",caption:"Zip Code/Postal Code",kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"homePhone",type:"phone-number",caption:"Home Phone #",kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"workPhone",type:"phone-number",caption:"Work Phone #",kind:"editable",showOnPortal:!0,showOnHotline:!0},{field:"emailAddress",type:"email",caption:"Email address",kind:"editable",excludeFromSaveAndCopy:!0,typeOptions:{linkWithSystemUser:!0,disableWhitelist:!0},showOnPortal:!0,showOnHotline:!0},{field:"person",type:"json",caption:"Related Profile",kind:"custom",excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"linkWithPersonMethod",caption:"Method of creating Link with Profile",type:"picklist",typeOptions:{picklistName:"link_party_with_person_methods"},kind:"custom",excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"portalReporterParty",type:"yesno",caption:"Portal Reporter Party",kind:"editable-external",showOnHotline:!0},{field:"externalRecord",type:"checkbox",caption:"External",kind:"editable",typeOptions:{allowNull:!1},showOnPortal:!0,showOnHotline:!0,excludeFromAutofill:!0}]})},78702:e=>{"use strict";e.exports={primaryFieldName:"primaryEntity",mandatoryPrimary:!1,primaryParentFieldName:"caseId"}},798082:e=>{"use strict";e.exports={isExternal:function(e){return!0===e.externalRecord},isPortalReporterParty:function(e){return!0===e.portalReporterParty},bypassCaseIdValidation:function(e){return!0===e.bypassCaseIdValidation},isExternalApi:function(e){return"external"===e.apiType}}},749532:e=>{"use strict";e.exports={mappings:{or:[{is:{firstName:["firstName"],lastName:["lastName"]}},{is:{address:["address"]}},{is:{homePhone:["homePhone"]}},{is:{homePhone:["workPhone"]}},{is:{workPhone:["workPhone"]}},{is:{workPhone:["homePhone"]}},{is:{emailAddress:["emailAddress"]}}]},titleField:"partyName",formConfigName:"party-similar"}},129064:e=>{"use strict";e.exports={name:"party-intake-translation-status",field:"intakeTranslationStatus",entity:{zone:void 0,base:"sys",name:"party"},values:[{value:"complete",indicator:"success"},{value:"pending",indicator:"warning"},{value:"error",indicator:"danger"},{value:null}],strict:!0,transitions:[{id:"party-intake-translation-status-blank",from:[null,void 0],to:[null,void 0]},{id:"party-intake-translation-status-initial",from:[null,void 0],to:"pending"},{id:"party-intake-translation-status-complete",from:"pending",to:"complete"},{id:"party-intake-translation-status-error",from:"pending",to:"error"},{id:"party-intake-translation-status-pending",from:["complete","error"],to:"pending"}],conditions:[],displayRule:"shouldShowTranslationStatusWorkflow"}},162780:(e,t,i)=>{"use strict";var n=i(342141)("sys_party");e.exports=[{category:"party",key:"totalParties",query:n.countActiveEntity()},{category:"party",key:"partiesByType",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"party_type",picklistName:"party_types",datasetTranslation:function(e,t){return n.getPicklistDatasetTrans(this,e,t)}}},{category:"party",key:"partiesPerCase",query:n.countTotalAverageAndHighestByCase()}]},382262:e=>{"use strict";e.exports={mandatory$:["partyType"],dependentMandatory$:[{condition:"!isPortalReporterParty || !bypassCaseIdValidation",fields:["caseId"]},{condition:"!isExternalApi",fields:["primaryEntity"]},{condition:"isPortalReporterParty",fields:["firstName","lastName"]}],phoneNumber$:["homePhone","workPhone"]}},874486:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Password History",roles:["view_password_history"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Password History",roles:["create_password_history"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Password History",roles:["edit_password_history"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Password History",roles:["remove_password_history"],actions:["remove"],conditions:[]}).value()},111814:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",search:!1,audit:!1,table:"sys_passwordhistory",entity:{base:"sys",name:"passwordhistory"},caption:"Password History",captionPlural:"Password History Items",addCaption:"Add Password History",newCaption:"New Password History",acl:i(874486),fields:[{field:"userId",type:"user",kind:"system",caption:"User"},{field:"salt",type:"textbox",kind:"hidden",caption:"Salt"},{field:"password",type:"textbox",kind:"hidden",caption:"Password"},{field:"iterations",type:"number",caption:"Password Iterations",kind:"hidden"},{field:"keyLength",type:"number",caption:"Password Key Length",kind:"hidden"},{field:"digest",type:"textbox",caption:"Password Digest",kind:"hidden"}]})},930516:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Permission",roles:["view_permission"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Permission",roles:["create_permission"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Permission",roles:["edit_permission"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Permission",roles:["remove_permission"],actions:["remove"],conditions:[]}).value()},600444:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_permission",caption:"Permission",captionPlural:"Permissions",addCaption:"Add Permission",newCaption:"New Permission",entity:{base:"sys",name:"permission"},acl:i(930516),importTransformer:"permission",search:!1,fields:[{field:"parentId",type:"id",caption:"Parent Id",kind:"system"},{field:"isGroup",type:"yesno",caption:"Is Group",kind:"system"},{field:"code",type:"textbox",caption:"Code",kind:"system",dbIndex:!0},{field:"disabled",type:"yesno",caption:"Disabled",kind:"system"},{field:"sequence",type:"number",caption:"Sequence",kind:"system"},{field:"selectedByDefault",type:"yesno",caption:"Selected By Default",kind:"system"},{field:"dependencies",type:"code[]",caption:"Dependencies",kind:"system"},{field:"dynamic",type:"yesno",caption:"Dynamic",kind:"system"},{field:"restricted",type:"yesno",caption:"Restricted",kind:"system"},{field:"onDemand",type:"yesno",caption:"On Demand",kind:"system"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"}],joins:[{referenceField:"parentId",table:"sys_permission",fields:["code","onDemand"]}]})},419452:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Profile",permission:"person",sequence:3,options:[{permission:"view_person",caption:"View",tooltip:"View profiles",sequence:1},{permission:"create_person",caption:"Create",tooltip:"Create profiles",sequence:2,dependencies:["view_person"]},{permission:"create_person_restricted_fields",caption:"Create Restricted Fields",tooltip:"Add restricted field values",dependencies:["create_person","view_person"],sequence:3},{type:"group",permission:n.getEditGroupPermissionCode("person"),caption:"Edit",tooltip:"Edit profiles",sequence:4,dependencies:["view_person"],options:[{permission:"edit_person",caption:"Save",tooltip:"Edit unrestricted fields",dependencies:["view_person"]},{permission:"edit_person_exclude_from_purge",caption:"Do Not Purge",tooltip:"Mark Profile as Do Not Purge",dependencies:["view_person"]},{permission:"edit_person_restricted_fields",caption:"Save Restricted Fields",tooltip:"Edit restricted fields",dependencies:["view_person","edit_person"]}]},{permission:"remove_person",caption:"Remove",tooltip:"Delete profiles",sequence:5,dependencies:["view_person"]}]}]},590242:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filterRestrictEditFields({name:"Save Restricted Fields",roles:["edit_person_restricted_fields"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).filterRestrictEditFields({name:"Create Restricted Fields",roles:["create_person_restricted_fields"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).filter({name:"Edit Do Not Purge Field",roles:["edit_person_exclude_from_purge"],actions:["save_new","save_existing"],filters:{excludeFromPurge:!1}}).filter({name:"Edit Person Form",roles:["edit_person"],actions:["save_existing"],filters:{id:!0,pendingPurgeDate:!0,datePurged:!0,purgeReason:!0,apiType:!0,excludeFromPurge:!0}}).filterViewSourceData().required({name:"People Search",roles:["view_person"],actions:["load","list"],conditions:[]}).required({name:"Create Person",roles:["create_person"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Person",roles:["edit_person_group"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Person",roles:["remove_person"],actions:["remove"],conditions:[]}).value()},143037:e=>{"use strict";var t={displayFields:["personName"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{reference:t,changes:{excludeFields:["id"]}}}},remove:{deleted:{options:{reference:t}}},links_purge:{purged_links:{options:{displayFields:[]}}}}}},145959:(e,t,i)=>{"use strict";i(962062),i(311927);var n=i(96190);e.exports={personName:function(e,t,i){i(null,n.map(t,(function(e){return n.compact([e.firstName,e.lastName]).join(" ")})))}}},379451:e=>{"use strict";e.exports={"main-people":{sortColumn:"lastName",sortOrder:"asc",columns:[{field:"lastName"},{field:"firstName"},{field:"address"},{field:"city"},{field:"stateProvince"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]},"search-result-people-schedule-purge":{sortColumn:"lastName",sortOrder:"asc",columns:[{field:"lastName"},{field:"firstName"},{field:"address"},{field:"city"},{field:"stateProvince"}]},"advanced-search-result-people":{sortColumn:"lastName",sortOrder:"asc",columns:[{field:"lastName"},{field:"firstName"},{field:"address"},{field:"city"},{field:"stateProvince"}]},"search-result-people-purge":{sortColumn:"lastName",sortOrder:"asc",columns:[{field:"lastName"},{field:"firstName"},{field:"address"},{field:"city"},{field:"stateProvince"}]},"search-result-person":{sortColumn:"lastName",sortOrder:"asc",columns:[{field:"lastName"},{field:"firstName"},{field:"city"},{field:"stateProvince"}]}}},626982:e=>{"use strict";e.exports=[{from:["/person/{id}/edit"],to:"/person/{id}"},{from:[],to:"/people"}]},601746:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_person",entity:{base:"sys",name:"person"},joins:[{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}],api:{useGenericApi:!0},partiallyDynamic:!0,dataExport:!0,caption:"Profile",captionPlural:"Profiles",addCaption:"Add Profile",newCaption:"New Profile",gridDescriptorField:"personName",acl:i(590242),aclHierarchy:i(419452),audit:i(143037),ruleEvents:!0,allowDataAggregation:!0,allowAdvancedSearch:!0,allowQuickSearch:!0,allowPurge:!0,grids:i(379451),rules:i(770733),validation:i(754587),computeFunctions:i(145959),usageStatistics:i(502237),historyNav:i(626982),identifierField:"personName",icon:"fa-address-book-o",includeInDataDictionary:!0,enableRecordSourceView:!0,model:function(){return i(922078)},collection:function(){return i(680240)},view:function(){return i(2799)},rowTemplates:{small:function(){return i(740276)},medium:function(){return i(717382)},tiny:function(){return i(298831)}},fields:[{field:"firstName",type:"textbox",caption:"First Name",kind:"editable",excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/person-first-name-cell-tmpl.dust"),"utf8")}},{field:"lastName",type:"textbox",caption:"Last Name",kind:"editable",excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/person-last-name-cell-tmpl.dust"),"utf8")}},{field:"middleInitial",type:"textbox",caption:"Middle Initial",kind:"editable",excludeFromSaveAndCopy:!0},{field:"dateOfBirth",type:"date",typeOptions:{datePickerEndDate:"0d"},caption:"Date of Birth",kind:"editable",excludeFromSaveAndCopy:!0},{field:"personName",type:"textbox",caption:"Name",kind:"computed",kindOptions:{computeFunction:"personName"},excludeFromSaveAndCopy:!0},{field:"address",type:"textbox",caption:"Address",kind:"editable"},{field:"city",type:"textbox",caption:"City",kind:"editable"},{field:"stateProvince",type:"picklist",caption:"State / Province",typeOptions:{picklistName:"states_and_provinces"},kind:"editable"},{field:"country",type:"picklist",caption:"Country",typeOptions:{picklistName:"countries"},kind:"editable"},{field:"zipCodePostalCode",type:"textbox",caption:"Zip Code / Postal Code",kind:"editable"},{field:"homePhone",type:"phone-number",caption:"Home Phone #",kind:"editable"},{field:"workPhone",type:"phone-number",caption:"Work Phone #",kind:"editable"},{field:"emailAddress",type:"email",caption:"Email address",kind:"editable",excludeFromSaveAndCopy:!0,typeOptions:{linkWithSystemUser:!0,disableWhitelist:!0}},{field:"lastSnapshotGenerationDate",type:"datetime",caption:"Last Snapshot Generation Date",kind:"system",excludeFromRedact:!0},{field:"picture",type:"imageCropper",typeOptions:{hideWhenReadOnly:!0},kind:"editable",search:!1,caption:"Profile Picture"},{field:"excludeFromPurge",kind:"editable"}]})},770733:e=>{"use strict";e.exports={isExcludedFromPurge:function(e){return!0===e.excludeFromPurge},isMarkedOrPurged:function(e){return!!e.pendingPurgeDate||!!e.datePurged}}},502237:(e,t,i)=>{"use strict";var n=i(342141)("sys_person");e.exports=[{category:"person",key:"totalPersons",query:n.countActiveEntity()}]},754587:e=>{"use strict";e.exports={mandatory$:["firstName","lastName"],phoneNumber$:["homePhone","workPhone"]}},961707:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{report:!1,db:"default",table:"sys_picklist_value_selection",caption:"Picklist Value Selection",captionPlural:"Picklist Value Selections",addCaption:"Add Picklist Value Selection",newCaption:"New Picklist Value Selection",allowPurge:!0,search:!1,excludeFromAggregation:!0,entity:{base:"sys",name:"picklistValueSelection"},fields:[{field:"parentId",type:"id",caption:"Parent Id",dbIndex:!0,kind:"system",excludeFromRedact:!0},{field:"parentCanon",type:"code",caption:"Parent Canon",kind:"system",excludeFromRedact:!0},{field:"entityCanon",type:"code",caption:"Entity Canon",kind:"system",excludeFromRedact:!0},{field:"field",type:"code",caption:"Field System Name",kind:"system",dbIndex:!0,excludeFromRedact:!0},{field:"value",type:"textbox",caption:"Value",kind:"system"}],parents:[{entity:{base:"sys",name:"dynamic_entity_data"},field:"parentId",filter:{parentCanon:"sys/dynamic_entity_data"}},{entity:{base:"sys",name:"case"},field:"parentId",filter:{parentCanon:"sys/case"}},{entity:{base:"sys",name:"party"},field:"parentId",filter:{parentCanon:"sys/party"}},{entity:{base:"sys",name:"todo"},field:"parentId",filter:{parentCanon:"sys/todo"}},{entity:{base:"sys",name:"note"},field:"parentId",filter:{parentCanon:"sys/note"}}]})},215086:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Standard Response",permission:"view_standard_response_settings",parentPermission:"view_data_settings",options:[{caption:"View",sequence:2,disabled:!0,permission:"view_standard_response"},{permission:"create_standard_response",caption:"Create",tooltip:"Create a standard email response",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("standard_response"),caption:"Edit",sequence:3,options:[{permission:"edit_standard_response",caption:"Save",tooltip:"Edit a standard email response"}]},{permission:"remove_standard_response",caption:"Remove",tooltip:"Delete a standard email response",sequence:4}]}]},851992:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Standard Responses",roles:["view_standard_response"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Standard Responses",roles:["create_standard_response"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Standard Responses",roles:["edit_standard_response"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Standard Responses",roles:["remove_standard_response"],actions:["remove"],conditions:[]}).value()},172455:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},68793:e=>{"use strict";e.exports={"main-responses":{sortColumn:"rank",sortOrder:"asc",columns:[{field:"rank"},{field:"name"},{field:"body"},{field:"locale"}],defaultDynamicDataFilters:["locale","createdDate","lastUpdatedDate"]}}},350036:e=>{"use strict";e.exports=[{from:["/settings/data/standard-responses/new"],to:"/settings/data/standard-responses/{id}"},{from:[],to:"/settings/data/standard-responses"}]},293568:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_response",entity:{base:"sys",name:"response"},caption:"Standard Response",captionPlural:"Standard Responses",addCaption:"Add Standard Response",newCaption:"New Standard Response",gridDescriptorField:"name",acl:i(851992),aclHierarchy:i(215086),grids:i(68793),validation:i(208365),historyNav:i(350036),usageStatistics:i(288347),audit:i(172455),configurationExport:!0,importTransformer:"response",model:function(){return i(50144)},collection:function(){return i(906093)},view:function(){return i(161648)},fields:[{field:"name",type:"textbox",kind:"editable",caption:"Response Name"},{field:"body",type:"texteditor",kind:"editable",caption:"Response Distribution"},{field:"type",type:"code",kind:"hidden",caption:"Type"},{field:"locale",type:"picklist",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable",caption:"Locale",dbIndex:!0},{field:"rank",type:"number",kind:"editable",caption:"List Sequence"}]})},288347:(e,t,i)=>{"use strict";var n=i(342141)("sys_response");e.exports=[{category:"settings_data",key:"totalResponses",query:n.countActiveEntity()}]},208365:e=>{"use strict";e.exports={mandatory$:["locale","name","body"],invalidTemplate$:["body"]}},230809:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit user role ACL",roles:["agent"],actions:["load","list","save_new","save_existing"],conditions:["sys/user_role::{userRoleId}"]}).required({name:"Remove role filter if user has edit access on user role",roles:["edit_user_role"],actions:["remove"]}).value()},257641:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r="userRoleId",o={base:"sys",name:"user_role"},s={displayFields:["userRoleId"]};e.exports=n(a,{db:"default",table:"sys_role_filter",entity:{base:"sys",name:"role_filter"},search:!1,validation:i(494162),importTransformer:"role_filter",caption:"Role Filter",captionPlural:"Role Filters",addCaption:"Add Role Filter",newCaption:"New Role Filter",acl:i(230809),usageStatistics:i(739776),parents:[{entity:o,field:r}],fields:[{field:r,type:"picklistApi",caption:"Role",kind:"editable",typeOptions:{picklistName:"user_roles"},dbIndex:!0},{field:"userField",type:"fieldPicklist",caption:"User Field",kind:"editable",typeOptions:{entityNameField:"userFieldEntity"},dbIndex:!0},{field:"caseField",type:"fieldPicklist",caption:"Case Field",kind:"editable",typeOptions:{entityNameField:"caseFieldEntity"},dbIndex:!0},{field:"userFieldYf",type:"fieldPicklist",caption:"User Field",kind:"editable",typeOptions:{entityNameField:"userFieldEntity"},dbIndex:!0},{field:"caseFieldYf",type:"fieldPicklist",caption:"Case Field",kind:"editable",typeOptions:{entityNameField:"caseFieldEntity"},dbIndex:!0},{field:"operator",type:"code",caption:"Operator",kind:"editable",dbIndex:!0}],joins:[{referenceField:r,table:"sys_user_role",fields:["name"]}],audit:{child:!0,parentType:o,parentFieldId:r,allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:s}}},save:{created:{options:{reference:s}},updated:{options:{changes:{excludeFields:["id"]},reference:s}}},remove:{deleted:{options:{reference:s}}}}}})},739776:(e,t,i)=>{"use strict";i(250113),i(426099),i(962010);var n=i(96190),a=i(122268),r=i(342141)("sys_role_filter");e.exports=[{category:"role_filter",key:"totalRoleFilters",query:r.countActiveEntity()},{category:"role_filter",key:"filtersPerRole",query:function(e,t,i){a.parallel({userRoles:function(t){e("sys_user_role").select("sys_user_role.id","sys_user_role.name").whereNot("sys_user_role.name","Anonymous").andWhere("sys_user_role.sys_active",!0).asCallback(t)},roleFilters:function(t){e("sys_role_filter").select("sys_role_filter.user_role_id").count("*").where("sys_role_filter.sys_active",!0).groupBy("sys_role_filter.user_role_id").orderBy("sys_role_filter.user_role_id").asCallback(t)}},(function(e,t){if(e)return i(e);var a=t.userRoles,r=t.roleFilters,o={};return n.each(a,(function(e){var t=n.find(r,{user_role_id:e.id});o[e.name]=t?t.count:0})),i(null,o)}))},options:{datasetTranslation:function(e,t){return t(r.getTranslationFilter(this.key),!0,{dataset:e},e)}}}]},494162:e=>{"use strict";e.exports={mandatory$:["userRoleId","userField","caseField","operator"]}},890520:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit user role ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/user_role::{userRoleId}"]}).value()},510208:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_role_permission",entity:{base:"sys",name:"role_permission"},validation:i(942509),customDependencies:["sys/transition"],importTransformer:"role_permission",caption:"Role Permission",captionPlural:"Role Permissions",addCaption:"Add Role Permission",newCaption:"New Role Permission",acl:i(890520),parents:[{entity:{base:"sys",name:"user_role"},field:"userRoleId"},{entity:{base:"sys",name:"permission"},field:"permissionId"}],fields:[{field:"userRoleId",type:"picklistApi",caption:"Role",kind:"editable",typeOptions:{picklistName:"user_roles"},dbIndex:!0},{field:"permissionId",type:"id",caption:"Permission Id",kind:"editable",dbIndex:!0}],joins:[{referenceField:"userRoleId",table:"sys_user_role",fields:["name"]},{referenceField:"permissionId",table:"sys_permission",fields:["code","dynamic"]}],audit:{child:!0,parentType:{base:"sys",name:"user_role"},parentFieldId:"userRoleId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},942509:e=>{"use strict";e.exports={mandatory$:["userRoleId","permissionId"]}},550791:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Rule",permission:"rule",parentPermission:"view_workflow_settings",sequence:3,options:[{permission:"view_rule",caption:"View",tooltip:"View Rule",sequence:1},{permission:"create_rule",caption:"Create",tooltip:"Create Rule",sequence:2,dependencies:["view_rule"]},{type:"group",permission:n.getEditGroupPermissionCode("rule"),caption:"Edit",sequence:3,dependencies:["view_rule"],options:[{permission:"edit_rule",caption:"Save",tooltip:"Edit Rule",dependencies:["view_rule"]}]},{permission:"remove_rule",caption:"Remove",tooltip:"Delete Rule",sequence:4,dependencies:["view_rule"]}]}]},7165:(e,t,i)=>{"use strict";i(202008),i(426099),i(874423),i(21699);var n=i(96190),a=i(553604);e.exports=a.initialize().filterMarkForPurge().filterPurge().filter({name:"Filter fields on existing rule",roles:["edit_rules_entity_and_event"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}],filters:{entityId:!1,recordEvent:!1}}).filter({name:"Filter fields on draft rule",roles:["edit_draft_rules_entity"],actions:["save_new","save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}],filters:{entityId:!1}}).required({name:"View Rules",roles:["view_rule"],actions:["load","list"],conditions:[]}).required({name:"Create Rule",roles:["create_rule"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Rule",roles:["create_rule"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).required({name:"Edit Rule",roles:["edit_rule"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Rule",roles:["remove_rule"],actions:["remove"],conditions:[]}).required({name:"Save/Delete Hard Locked Rule",roles:["save_delete_hard_locked_rule"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).required({name:"Inherit workflow acl",roles:["agent"],control:"required",actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!workflowId":null}},"sys/workflow::{workflowId}::load"]}).required({name:"Access disabled schedule process rule",roles:["access_disabled_schedule_process_rule"],actions:["load","list","save_new","save_existing"],conditions:[{attributes:{type:"Schedule Process"}},{fn:function(e,t){return"Schedule Process"!==e.type||n.includes(t.enabledFeatures,"dataImportsSftpProfiles")?{ok:!1}:{ok:!0}},esFilter:function(e){return n.includes(e.enabledFeatures,"dataImportsSftpProfiles")?{bool:{must_not:[{exists:{field:"id"}}]}}:{bool:{must:[{term:{type:"Schedule Process"}}]}}},selectedFields:function(e,t){return t(null,["id","type"])}}]}).value()},357434:e=>{"use strict";var t={displayFields:["name"]};e.exports={child:!0,parentType:{base:"sys",name:"workflow"},parentFieldId:"workflowId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},26401:(e,t,i)=>{"use strict";var n=i(730295),a=i(467633);e.exports=n.extend({model:a,entity:{base:"sys",name:"rule"}})},778316:e=>{"use strict";e.exports={"main-rules-grid":{sortColumn:"name",sortOrder:"desc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"type"},{field:"recordEvent"},{field:"transitionId"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]},"rules-step-grid":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"transitionId"}]}}},445581:(e,t,i)=>{"use strict";var n=i(648160),a=i(131607);e.exports=n(a,{table:"sys_rule",entity:{base:"sys",name:"rule"},bypassValidationOnDraft:!0,caption:"Rule",captionPlural:"Rules",addCaption:"Add Rule",newCaption:"New Rule",acl:i(7165),aclHierarchy:i(550791),validation:i(513590),grids:i(778316),rules:i(5570),audit:i(357434),usageStatistics:i(126940),copyPostAction:"rule",copyTransformer:"rule",historyNav:[{from:[],to:"/settings/workflow/custom-workflow/{workflowId}"},{from:[],to:"/settings/workflow/rules"}],configurationExport:!0,exportTransformer:"rule",importTransformer:"rule",customDependencies:["sys/transition","isight/dynamic_entity"],model:function(){return i(467633)},collection:function(){return i(26401)},fields:[{field:"type",type:"picklist",typeOptions:{picklistName:"rule_types"},caption:"Rule Type",kind:"editable"},{field:"entityId",type:"entityPicklist",caption:"Record Type",kind:"editable",typeOptions:{entityCategory:2,filter:"ruleEntitiesFilter",canCreate:!1}},{field:"workflowId",type:"workflowPicklist",caption:"Workflow",kind:"editable",typeOptions:{entity:"sys/workflow",textField:"name",filter:{bool:{must:[{bool:{must_not:[{exists:{field:"copiedToId"}}]}},{bool:{must_not:[{term:{status:"draft"}}]}},{bool:{must_not:[{term:{hardLocked:!0}}]}}]}}}},{field:"recordEvent",type:"picklist",caption:"Record Event",kind:"editable",typeOptions:{picklistName:"record_events",ignoreParents:!0,picklistDependencies:["entityId"]}},{field:"name",type:"textbox",kind:"editable",caption:"Name"},{field:"transitionId",type:"workflowTransition",caption:"Step",kind:"editable",typeOptions:{entity:"sys/transition",textField:"name",filterBy:"workflowId"}},{field:"conditionId",type:"id",kind:"hidden-editable",caption:"Condition",excludeFromSaveAndCopy:!0},{field:"scheduleField",type:"fieldPicklist",typeOptions:{entityNameField:"entityId__canon",filterType:["date","datetime"],refreshOnFields:["entityId"],excludedFields:["pendingPurgeDate","datePurged","deletedDate","lastSnapshotGenerationDate"],excludeDynamicKind:["aggregate"]},kind:"editable",caption:"Date Field"},{field:"scheduleDelay",type:"delay",typeOptions:{showBeforeAfter:!0,maxDuration:{years:10}},kind:"editable",caption:"Delay"},{field:"scheduleOccurrence",type:"radio",typeOptions:{picklistName:"schedule_occurrence",orientation:"horizontal"},kind:"editable",caption:"Occurrence"},{field:"frequency",type:"picklist",typeOptions:{picklistName:"rule_frequency"},caption:"Frequency",kind:"editable"},{field:"weekDays",type:"picklist[]",typeOptions:{picklistName:"rule_week_days"},kind:"editable",caption:"Weekdays"},{field:"monthDays",type:"picklist[]",typeOptions:{picklistName:"rule_month_days"},kind:"editable",caption:"Days of the Month"},{field:"triggerTime",type:"time",caption:"Trigger time",kind:"editable"},{field:"jobId",type:"textbox",kind:"hidden",caption:"jobId"}],parents:[{entity:{base:"sys",name:"workflow"},field:"workflowId"}]})},5570:e=>{"use strict";e.exports={isRecordEvent:function(e){return"Record Event"===e.type},isWorkflowStep:function(e){return"Workflow"===e.type},isSchedule:function(e){return"Schedule"===e.type},isScheduleEvent:function(e){return"Schedule Process"===e.type},isWeekly:function(e){return"weekly"===e.frequency},isMonthly:function(e){return"monthly"===e.frequency}}},126940:(e,t,i)=>{"use strict";var n=i(342141)("sys_rule");e.exports=[{category:"workflows",key:"totalAllRules",query:n.countActiveEntity()},{category:"workflows",key:"totalWorkflowRules",query:n.countActiveEntity({where:function(){this.where("type","Workflow")}})},{category:"workflows",key:"totalStandaloneRules",query:n.countActiveEntity({where:function(){this.whereNot("type","Workflow")}})}]},513590:e=>{"use strict";e.exports={mandatory$:["name","type"],dependentMandatory$:[{condition:"isRecordEvent",fields:["entityId","recordEvent"]},{condition:"isWorkflowStep",fields:["workflowId","transitionId"]},{condition:"isSchedule",fields:["entityId","scheduleField","scheduleDelay","scheduleOccurrence"]},{condition:"isScheduleEvent",fields:["frequency","triggerTime"]},{condition:"isWeekly",fields:["weekDays"]},{condition:"isMonthly",fields:["monthDays"]}]}},326057:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Rules",roles:["view_rule"],actions:["load","list"],conditions:[]}).required({name:"Create Rule",roles:["create_rule"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Rule",roles:["create_rule"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).required({name:"Edit Rule",roles:["edit_rule"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Rule",roles:["remove_rule"],actions:["remove"],conditions:[]}).value()},858982:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},396757:(e,t,i)=>{"use strict";var n=i(730295),a=i(434004);e.exports=n.extend({model:a,entity:{base:"sys",name:"rule_entity_validation"}})},993088:e=>{"use strict";e.exports={"main-rule-entity-validation":{sortColumn:"name",sortOrder:"desc",columns:[{field:"name"},{field:"submissionType"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},172953:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_rule_entity_validation",entity:{base:"sys",name:"rule_entity_validation"},api:{useGenericApi:!0},historyNav:[{from:[],to:"/settings/workflow/case-submission-rules"}],caption:"Rule Entity Validation",captionPlural:"Rule Entity Validation",addCaption:"Add Rule Entity Validation",newCaption:"New Rule Entity Validation",gridDescriptorField:"name",audit:i(858982),acl:i(326057),validation:i(285250),rules:i(322190),model:function(){return i(434004)},grids:i(993088),collection:function(){return i(396757)},exportCaption:"Case Submission Rules",configurationExport:!0,importTransformer:"rule_entity_validation",fields:[{field:"criteriaId",type:"id",caption:"Criteria ID",kind:"hidden-editable",excludeFromSaveAndCopy:!0},{field:"validationId",type:"id",caption:"Validation",kind:"hidden-editable",excludeFromSaveAndCopy:!0},{field:"entityId",caption:"Entity Id",type:"id",kind:"hidden-editable"},{field:"submissionType",caption:"Submission Type",type:"picklist",typeOptions:{picklistName:"rule_entity_submission_types"},kind:"editable"},{field:"name",caption:"Name",type:"textbox",kind:"editable"}],joins:[{referenceField:"entityId",table:"isight_entity",fields:["base","name"]}]})},434004:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/rule_entity_validation"),entity:{base:"sys",name:"rule_entity_validation"},idAttribute:"id"})},322190:e=>{"use strict";e.exports={submitted:function(e){return!0===e.sysSubmitted}}},285250:e=>{"use strict";e.exports={mandatory$:["name","entityId","submissionType"]}},148444:e=>{"use strict";var t={displayFields:["actionType"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},482003:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{db:"default",table:"sys_schedule_purge_action",entity:{base:"sys",name:"schedule_purge_action"},caption:"Schedule Purge",captionPlural:"Schedule Purges",addCaption:"Add Scheduled Purge",newCaption:"New Scheduled Purge",workflowActionConfig:{formName:"schedule-purge-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},unsupportedEvents:{"sys/email":["unassigned-incoming-mail"]}},validation:i(753336),audit:i(148444),usageStatistics:i(478314),model:function(){return i(406222)},fields:[{field:"targetPurgeReason",type:"picklist",caption:"Purge Reason",typeOptions:{picklistName:"purge_reasons"},kind:"editable"}]})},406222:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/schedule_purge_action"),entity:{base:"sys",name:"schedule_purge_action"},idAttribute:"id",save:function(e,t){return n.prototype.save.call(this,e,t)}})},478314:(e,t,i)=>{"use strict";var n=i(342141)("sys_schedule_purge_action");e.exports=[{category:"workflows",key:"totalScheduledPurgeAction",query:n.countActiveEntity()}]},753336:e=>{"use strict";e.exports={mandatory$:["targetPurgeReason"]}},930564:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_schedule_rule_jobs",entity:{base:"sys",name:"schedule_rule_jobs"},search:!1,caption:"Schedule Rule Job",captionPlural:"Schedule Rule Jobs",addCaption:"Add Schedule Rule Job",newCaption:"New Schedule Rule Job",fields:[{field:"ruleId",type:"id",caption:"Rule Id",kind:"editable"},{field:"recordId",type:"id",caption:"Record Id",kind:"editable"},{field:"jobId",type:"textbox",caption:"Job Id",kind:"editable"}]})},540999:(e,t,i)=>{"use strict";var n=i(553604),a={attributes:{createdBy:"{user.id}"}},r={attributes:{"!createdBy":"{user.id}"}};e.exports=n.initialize().required({name:"View Search",roles:["view_searches"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Own Search",roles:["view_own_searches"],actions:["load","list","save_existing","remove"],conditions:[a]}).required({name:"View Others Search",roles:["view_others_searches"],actions:["load","list","save_existing","remove"],conditions:[r]}).required({name:"Create Search",roles:["create_searches"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Own Search",roles:["create_own_searches"],actions:["save_new"],conditions:[a,{attributes:{id:null}}]}).required({name:"Create Others Search",roles:["create_others_searches"],actions:["save_new"],conditions:[r,{attributes:{id:null}}]}).required({name:"Edit Search",roles:["edit_searches"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Edit Own Search",roles:["edit_own_searches"],actions:["save_new","save_existing"],conditions:[a,{attributes:{"!id":null}}]}).required({name:"Edit Others Search",roles:["edit_others_searches"],actions:["save_new","save_existing"],conditions:[r,{attributes:{"!id":null}}]}).required({name:"Remove Search",roles:["remove_searches"],actions:["remove"],conditions:[]}).required({name:"Remove Own Search",roles:["remove_own_searches"],actions:["remove"],conditions:[a]}).required({name:"Remove Others Search",roles:["remove_others_searches"],actions:["remove"],conditions:[r]}).value()},258878:e=>{"use strict";e.exports={"saved-searches":{sortColumn:"searchName",sortOrder:"asc",columns:[{field:"searchName"}]},"recent-searches":{sortColumn:"searchName",sortOrder:"asc",columns:[{field:"searchName"}]}}},537135:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_searches",entity:{base:"sys",name:"searches"},caption:"Search",captionPlural:"Searches",addCaption:"Add Search",newCaption:"New Search",gridDescriptorField:"searchName",acl:i(540999),grids:i(258878),validation:i(278836),model:function(){return i(647623)},collection:function(){return i(797120)},fields:[{field:"filterQuery",type:"json",kind:"custom",caption:"Query",kindOptions:{flags:{audit:!0,schema:!0,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"searchName",type:"textbox",caption:"Name",kind:"editable",dbIndex:!0,typeOptions:{charMaxTextbox:100}},{field:"saved",type:"checkbox",typeOptions:{allowNull:!0},kind:"custom",dbIndex:!0,caption:"Saved",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!0}}}]})},278836:e=>{"use strict";e.exports={mandatory$:["searchName"],caseId:{type$:"string"}}},432704:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(648160),r=i(949545);e.exports=a(r,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"section",entity:{base:"sys",name:"section_layout_type"},caption:"Section",captionPlural:"Sections",addCaption:"Add Section",newCaption:"New Section",importTransformer:"section_layout_type",exportTransformer:"section_layout_type",customDependencies:function(e){return n.map(e.getRootLayoutEntities(),"entityCanon")},validation:i(427693),model:function(){return i(218067)}})},427693:e=>{"use strict";e.exports={mandatory$:["rootId","parentId","caption"],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},760230:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit attachment edit ACL",roles:["agent"],actions:["save_new","save_existing","remove"],conditions:["sys/attachment::{packetAttachmentId}::save"]}).required({name:"Inherit attachment view ACL",roles:["agent"],actions:["load","list"],conditions:["sys/attachment::{packetAttachmentId}"]}).value()},334547:(e,t,i)=>{"use strict";var n=i(96190),a=i(439862).file("/index.js");e.exports={getSelectedFileName:function(e,t,i){if(0===t.length)return a.warn('Expected the "rows" arg to be a non-empty array'),i(null,null);t.length>1&&a.warn('Expected the "rows" array to only contain one element, - found '.concat(t.length));var r=t[0].selectedAttachmentId;return e.make("sys/attachment").load$(r,(function(e,t){if(e)return i(e);var a=n.get(t,"files[0].name",null);return i(null,[a])}))}}},949559:e=>{"use strict";e.exports={"selected-file-for-packet-grid":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["selectedAttachmentId"],columns:[{field:"selectedFileName"}]}}},673174:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_selected_file_for_packet",entity:{base:"sys",name:"selected_file_for_packet"},customForm:!1,api:{useGenericApi:!0},validation:i(759327),computeFunctions:i(334547),caption:"File",captionPlural:"Included Files",addCaption:"Include File",newCaption:"Include File",gridDescriptorField:"fileNames",acl:i(760230),model:function(){return i(980452)},grids:i(949559),parents:[{entity:{base:"sys",name:"attachment"},field:"packetAttachmentId"}],fields:[{field:"selectedAttachmentId",type:"picklistSelectizeApi",caption:"File",kind:"editable",typeOptions:{picklistName:"selected-files-for-packet",cachePicklist:!1,ignoreParents:!0,maxOptions:30},dbIndex:!0},{field:"packetAttachmentId",type:"id",caption:"Parent Attachment Id",kind:"hidden-editable",dbIndex:!0},{field:"selectedFileName",type:"textbox",kind:"computed",kindOptions:{computeFunction:"getSelectedFileName"},caption:"File"}],joins:[{referenceField:"selectedAttachmentId",table:"sys_attachment",fields:["files"]},{referenceField:"packetAttachmentId",table:"sys_attachment",fields:["caseId"]}],audit:{child:!0,parentType:{base:"sys",name:"attachment"},parentFieldId:"packetAttachmentId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},759327:e=>{"use strict";e.exports={mandatory$:["packetAttachmentId","selectedAttachmentId"]}},483823:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Session",name:"session",permission:"session",parentPermission:"view_user_settings",options:[{permission:"view_session",caption:"View",tooltip:"View user sessions",sequence:2},{caption:"Create",sequence:1,disabled:!0,permission:"create_session"},{type:"group",caption:"Edit",sequence:3,disabled:!0,permission:n.getEditGroupPermissionCode("session"),options:[{caption:"Save",disabled:!0,permission:"edit_session"}]},{caption:"Remove",sequence:4,disabled:!0,permission:"remove_session"}]}]},231029:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Sessions",roles:["view_session"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Sessions",roles:["create_session"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Sessions",roles:["edit_session"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Sessions",roles:["remove_session"],actions:["remove"],conditions:[]}).value()},122180:e=>{"use strict";e.exports={"user-details-sessions":{sortColumn:"when",sortOrder:"desc",columns:[{field:"when"},{field:"loginIp"},{field:"loginId"}]}}},6789:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_session",entity:{base:"sys",name:"session"},acl:i(231029),aclHierarchy:i(483823),grids:i(122180),caption:"Session",captionPlural:"Sessions",addCaption:"Add Session",newCaption:"New Session",gridDescriptorField:"when",fields:[{field:"userId",type:"user",kind:"system",caption:"User"},{field:"userNick",type:"textbox",kind:"system",caption:"User ID",dbIndex:!0},{field:"userName",type:"textbox",kind:"system",caption:"Name"},{field:"userEmail",type:"textbox",kind:"system",caption:"Email"},{field:"userRole",type:"textbox",kind:"system",caption:"User Role"},{field:"loginId",type:"id",kind:"system",caption:"Session ID",dbIndex:!0},{field:"loginIp",type:"loginIp",kind:"system",caption:"Login IP",dbIndex:!0},{field:"when",type:"datetime",kind:"system",caption:"When",dbIndex:!0}]})},683358:e=>{"use strict";var t={displayFields:["actionType","flagId"]};e.exports={allowNavigateTo:!0,child:!0,parentType:{base:"sys",name:"rule"},parentFieldId:"ruleId",cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},415057:(e,t,i)=>{"use strict";var n=i(648160),a=i(224087);e.exports=n(a,{db:"default",table:"sys_set_flag_action",entity:{base:"sys",name:"set_flag_action"},caption:"Set Flag",captionPlural:"Set Flags",addCaption:"Add Set Flag",newCaption:"New Set Flag",workflowActionConfig:{formName:"set-flag-action",aclRoles:{createACLRole:"agent",editACLRole:"agent",deleteACLRole:"agent"},supportedEntities:["sys/case"]},audit:i(683358),model:function(){return i(911500)},usageStatistics:i(147992),fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable"},{field:"setUnset",type:"toggle",caption:"Set/Unset",kind:"editable",typeOptions:{showCaptionsOnButton:!0,checkedTranslation:{groupName:"sys/flag",subgroupName:"actions",key:"set"},uncheckedTranslation:{groupName:"sys/flag",subgroupName:"actions",key:"unset"}}},{field:"flagId",type:"flagName",caption:"Flag",kind:"editable",typeOptions:{entityField:"targetEntity"}}]})},911500:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/set_flag_action"),entity:{base:"sys",name:"set_flag_action"},idAttribute:"id",onInit:function(e,t){this.isNew()&&this.set("setUnset",!0)},save:function(e,t){return n.extend(t,{silent:!0}),a.prototype.save.call(this,e,t)}})},147992:(e,t,i)=>{"use strict";var n=i(342141)("sys_set_flag_action");e.exports=[{category:"workflows",key:"totalSetFlagAction",query:n.countActiveEntity()}]},110013:e=>{"use strict";e.exports=[{type:"group",parentPermission:"attachment",caption:"Shared Links",permission:"shared_link",options:[{permission:"view_shared_link",dependencies:["view_attachment"],caption:"View",tooltip:"View Shared Links",sequence:2},{permission:"create_shared_link",dependencies:["view_attachment"],caption:"Create",tooltip:"Create Shared Links",sequence:1},{permission:"edit_shared_link",dependencies:["view_attachment","view_shared_link"],caption:"Edit",tooltip:"Edit Shared Links",sequence:3},{permission:"remove_shared_link",dependencies:["view_attachment"],caption:"Remove",tooltip:"Remove Shared Links",sequence:4,disabled:!0},{permission:"view_shared_link_access_audit_log",caption:"Shared Link Access History",sequence:5,disabled:!0},{permission:"view_shared_link_audit_log",dependencies:["view_attachment","view_shared_link"],caption:"History",tooltip:"View history of Shared Files that you have access to",sequence:6}]}]},896863:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filter({name:"Edit Expiry Date",roles:["edit_shared_link_expiry_date"],actions:["save_existing","save_new"],conditions:[{attributes:{status:"Expired"}}],filters:{expiryDate:!1}}).required({name:"View Shared Link",roles:["view_shared_link"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Shared Link",roles:["create_shared_link"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Shared Link",roles:["edit_shared_link"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Shared Link",roles:["remove_shared_link"],actions:["remove"],conditions:[]}).requireCaseLoadInheritance().value()},748736:e=>{"use strict";var t={displayFields:["filesShared","sharedWith"]};e.exports={child:!0,parentFieldId:"caseId",allowNavigateTo:!1,parentType:{base:"sys",name:"case"},cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}},expired:{condition:{composite:"all",rules:[{path:"diff.status.updatedValue",comparator:"eq",value:"Expired"}]},options:{changes:{displayFields:["status"]},reference:t}},cancelled:{condition:{composite:"all",rules:[{path:"diff.status.updatedValue",comparator:"eq",value:"Cancelled"}]},options:{changes:{displayFields:["status"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},821514:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(184743);e.exports={daysLeft:function(e,t,r){var o=i(934828).getOptionsFile("options.global.js").defaultTimezone;return r(null,n.map(t,(function(e){if("Active"===e.status){var t=a.tz(e.expiryDate,o),i=a().tz(o);return t.diff(i,"days")}return"Expired"===e.status?0:null})))}}},649110:e=>{"use strict";e.exports={"main-shared-link":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"filesShared"},{field:"sharedWith"},{field:"createdBy"},{field:"expiryDate"},{field:"status"},{field:"daysLeft"},{field:"createdDate"}]},"file-shared-link":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"sharedWith"},{field:"createdBy"},{field:"expiryDate"},{field:"status"},{field:"daysLeft"},{field:"createdDate"}]},"search-result-shared-link-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"sharedWith"},{field:"createdBy"},{field:"expiryDate"},{field:"status"},{field:"daysLeft"},{field:"createdDate"}]},"search-result-shared-link-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"sharedWith"},{field:"createdBy"},{field:"expiryDate"},{field:"status"},{field:"daysLeft"},{field:"createdDate"}]}}},85127:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_shared_link",entity:{base:"sys",name:"shared_link"},caption:"Shared Link",captionPlural:"Shared Links",addCaption:"Add Shared Link",newCaption:"New Shared Link",acl:i(896863),aclHierarchy:i(110013),audit:i(748736),computeFunctions:i(821514),grids:i(649110),validation:i(836540),allowAdvancedSearch:!0,allowPurge:!0,dataExport:!0,excludeFromAggregation:!0,includeInDataDictionary:!0,api:{useGenericApi:!0,mainFileField:"filesShared"},model:function(){return i(658875)},collection:function(){return i(508611)},rowTemplates:{medium:function(){return i(594127)}},parents:[{entity:{base:"sys",name:"case"},field:"caseId"}],fields:[{field:"caseId",caption:"Associated Case",type:"case",kind:"editable",excludeFromRedact:!0},{field:"filesShared",caption:"File(s) shared",type:"file[]",typeOptions:{maxFileCount:-1},kind:"editable"},{field:"expiryDate",caption:"Expiry Date",type:"date",typeOptions:{datePickerStartDate:"0d"},kind:"editable"},{field:"sharedWith",caption:"Shared With",type:"emailLookup[]",kind:"editable"},{field:"daysLeft",caption:"Days Left",type:"number",kind:"computed-read",kindOptions:{computeFunction:"daysLeft"}},{field:"status",caption:"Status",type:"picklist",typeOptions:{picklistName:"shared_link_status"},kind:"editable",cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/shared-link-status-cell-tmpl.dust"),"utf8")}},{field:"message",caption:"Message",type:"texteditor",kind:"editable"},{field:"subject",caption:"Subject",type:"textbox",kind:"editable"},{field:"expirationJob",type:"textbox",kind:"hidden",caption:"Expiration Job"},{field:"provideDownloadLink",type:"toggle",kind:"editable",caption:"Provide Download Link"}],queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0),!0!==i.showCanceledCases$&&t.is_not("caseId__canceled",!0)])}})},836540:e=>{"use strict";e.exports={mandatory$:["expiryDate","sharedWith","subject"]}},787570:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Shared Link Access",roles:["view_shared_link_access"],actions:["load","list","save_new","save_existing","remove"],conditions:[]}).required({name:"Create Shared Link Access",roles:["create_shared_link_access"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Shared Link Access",roles:["edit_shared_link_access"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Shared Link Access",roles:["remove_shared_link_access"],actions:["remove"],conditions:[]}).required({name:"Inherit Shared Link ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/shared_link::{sharedLinkId}"]}).value()},693634:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_shared_link_access",entity:{base:"sys",name:"shared_link_access"},caption:"Shared Link Access",captionPlural:"Shared Links Access",addCaption:"Add Shared Link Access",newCaption:"New Shared Link Access",acl:i(787570),allowPurge:!0,api:{useGenericApi:!0},model:function(){return i(865742)},collection:function(){return i(148490)},parents:[{entity:{base:"sys",name:"shared_link"},field:"sharedLinkId"}],fields:[{field:"sharedLinkId",type:"id",caption:"Shared Link ID",kind:"editable",excludeFromRedact:!0},{field:"failedAccessAttempts",type:"number",caption:"Failed Access Attempts",kind:"editable"},{field:"locked",type:"yesno",caption:"Locked",kind:"editable"},{field:"recipient",type:"email",caption:"Recipient",kind:"editable"},{field:"verificationCode",type:"textbox",caption:"Verification Code",kind:"editable"}],joins:[{referenceField:"sharedLinkId",table:"sys_shared_link",fields:["status","filesShared","expiryDate","message","subject","provideDownloadLink"]}]})},574256:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit Shared Link ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/shared_link::{sharedLinkId}"]}).value()},487601:e=>{"use strict";e.exports={"main-shared-link-receipt":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["ipAddress"],columns:[{field:"file"},{field:"recipient"},{field:"receipt"},{field:"readOn"},{field:"originallyReadOn"}]}}},646072:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_shared_link_receipt",entity:{base:"sys",name:"shared_link_receipt"},caption:"Shared Link Receipt",captionPlural:"Shared Links Receipt",addCaption:"Add Shared Link Receipt",newCaption:"New Shared Link Receipt",acl:i(574256),grids:i(487601),allowPurge:!0,dataExport:!0,includeInDataDictionary:!0,api:{useGenericApi:!0,mainFileField:"file"},model:function(){return i(760258)},collection:function(){return i(348360)},parents:[{entity:{base:"sys",name:"shared_link"},field:"sharedLinkId"}],fields:[{field:"sharedLinkId",type:"id",caption:"Shared Link ID",kind:"editable",excludeFromRedact:!0},{field:"attachmentId",type:"id",caption:"Attachment ID",kind:"editable",excludeFromRedact:!0},{field:"file",type:"file[]",caption:"File",kind:"editable"},{field:"recipient",type:"email",caption:"Recipient",kind:"editable"},{field:"receipt",type:"picklist",typeOptions:{picklistName:"read_receipt_options"},caption:"Receipt",kind:"editable",cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/shared-link-receipt-cell-tmpl.dust"),"utf8")}},{field:"readOn",type:"datetime",caption:"Last Read On",kind:"editable"},{field:"ipAddress",type:"loginIp",caption:"IP Address",kind:"editable"},{field:"originallyReadOn",type:"datetime",caption:"Originally Read On",kind:"system"}],joins:[{referenceField:"sharedLinkId",table:"sys_shared_link",fields:["status"]}]})},224087:(e,t,i)=>{"use strict";i(962062),i(327495),i(725440);var n=i(96190),a=i(783796),r=i(648160),o=i(553604);e.exports=r(a,{db:"default",api:{useGenericApi:!0},allowMetaDataHardDelete:!0,workflowActionConfig:{},lockWithParent:!0,allowAdvancedSearch:!1,dataExport:!1,importTransformer:"action",report:!1,acl:o.initialize().filterMarkForPurge().filterPurge().requireRuleLoadInheritance().requireRuleSaveInheritance().value(),parents:[{entity:{base:"sys",name:"rule"},field:"ruleId"}],joins:[{referenceField:"ruleId",table:"sys_rule",fields:["conditionId"]}],rules:{isTriggerTypeDelayed:function(e){return"Delayed"===e.triggerType}},validation:{mandatory$:["triggerType"],dependentMandatory$:[{condition:"isTriggerTypeDelayed",fields:["delay"]}]},computeFunctions:{setActionType:function(e,t,i){i(null,n.map(t,(function(e){return e.entity$.replace("-/","")})))}},fields:[{field:"ruleId",type:"id",kind:"hidden-editable",caption:"Rule Id"},{field:"triggerType",type:"picklist",kind:"editable",caption:"Trigger Type",default:"Immediate",typeOptions:{picklistName:"trigger_types"}},{field:"targetEntity",type:"entityName",kind:"hidden-editable",caption:"Target Entity"},{field:"delay",type:"delay",kind:"editable",caption:"Delay"},{field:"actionType",type:"entityName",kind:"computed",kindOptions:{computeFunction:"setActionType"},caption:"Action Type"}]})},785310:(e,t,i)=>{"use strict";var n=i(783796),a=i(648160),r={audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!0,gridExportable:!1,reportable:!0};e.exports=a(n,{fields:[{caption:"Id",field:"id",type:"primary",kind:"custom",excludeFromRedact:!0,kindOptions:{flags:r},alwaysInApiSelectedFields:!0},{caption:"Created By",field:"createdBy",type:"user",kind:"system"},{caption:"Created Date",field:"createdDate",type:"datetime",kind:"system",excludeFromRedact:!0},{field:"lastUpdatedBy",type:"user",kind:"system",caption:"Last Updated By"},{field:"lastUpdatedDate",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Last Updated Date"},{caption:"Date Submitted",field:"dateSubmitted",type:"date",kind:"system",kindOptions:{computeFunction:"dateSubmitted"}},{field:"timestamp",type:"datetime",kind:"system",excludeFromRedact:!0,caption:"Date"},{field:"userId",type:"id",kind:"custom",caption:"User ID",kindOptions:{flags:r},alwaysInApiSelectedFields:!0},{field:"loginId",type:"id",kind:"custom",caption:"Login ID",kindOptions:{flags:r}},{field:"loginIp",type:"loginIp",kind:"custom",caption:"Login IP",kindOptions:{flags:r}},{field:"objectType",type:"code",kind:"custom",excludeFromRedact:!0,caption:"Object Type",kindOptions:{flags:r},alwaysInApiSelectedFields:!0},{field:"objectId",type:"id",kind:"custom",excludeFromRedact:!0,caption:"Object ID",kindOptions:{flags:r},alwaysInApiSelectedFields:!0},{field:"parentId",type:"id",kind:"custom",excludeFromRedact:!0,caption:"Parent ID",kindOptions:{flags:r},alwaysInApiSelectedFields:!0},{field:"parentType",type:"code",kind:"custom",excludeFromRedact:!0,caption:"Parent Type",kindOptions:{flags:r},alwaysInApiSelectedFields:!0}]})},878705:(e,t,i)=>{"use strict";i(962062),i(202008),i(426099);var n=i(96190),a=i(648160),r=i(783796),o={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"]:[]}};e.exports=a(r,{autoGenerateNumber:!0,allowAdvancedSearch:!0,allowQuickSearch:!0,allowPurge:!0,dataExport:!0,customForm:!0,report:!0,audit:{child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:o}}},save:{created:{options:{reference:o}},updated:{options:{changes:{excludeFields:["id"]},reference:o}}},remove:{deleted:{options:{reference:o}}}}},esDefaultFilters:function(){var e=this.query("es");return e.and([e.is_not("caseId__canceled",!0),e.is_not("sysActive",!1),e.is_not("sysSubmitted",!1)]).toQuery()},historyNav:[{from:[],to:"/case/{caseId}/activity/forms"},{from:[],to:"/forms"}],computeFunctions:{childNumber:function(e,t,i){var a=n.map(t,"caseId");e.delegate({user$:{id:0},perm$:null,noAudit$:!0,showInactiveRecords:!0}).make$("sys/case").list$({ids:a},(function(e,a){if(e)return i(e);var r=n.map(t,(function(e){var t,i=n.filter(a,{id:e.caseId})[0],r=parseInt(e.number,10);if(i){var o=i.caseNumber;n.isString(o)&&n.isNumber(r)&&(t=o+" / "+r)}else t=r&&n.isNumber(r)&&!n.isNaN(r)?r:null;return t}));i(null,r)}))}},rowTemplates:{small:function(){return i(676688)},medium:function(){return i(175018)}},parents:[{entity:{base:"sys",name:"case"},reportable:!0,field:"caseId"}],fields:[{field:"caseId",type:"case",caption:"Case",kind:"editable-external",excludeFromRedact:!0,excludeFromAutofill:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/../public/templates/cell-templates/child-case-id-cell-tmpl.dust"),"utf8")},showOnPortal:!0,showOnHotline:!0},{field:"number",type:"number",kind:"system",caption:"#",excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/../public/templates/cell-templates/child-standard-number-cell-tmpl.dust"),"utf8")},showOnPortal:!0,showOnHotline:!0},{field:"childNumber",type:"sequenceNumber",caption:"Item Number",kind:"computed-search",excludeFromRedact:!0,excludeFromAutofill:!0,kindOptions:{computeFunction:"childNumber"},showOnPortal:!0,showOnHotline:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/../public/templates/cell-templates/child-number-cell-tmpl.dust"),"utf8")},gridWidth:190}],queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0),!0!==i.showCanceledCases$&&t.is_not("caseId__canceled",!0)])}})},740209:(e,t,i)=>{"use strict";i(962062);var n=i(96190);e.exports={dateSubmitted:function(e,t,i){return i(null,n.map(t,(function(e){return e.dateSubmitted||new Date})))}}},783796:(e,t,i)=>{"use strict";e.exports={joins:[],grids:{},table:null,parents:[],entity:null,search:!0,dynamicDataStore:!1,staticFieldWorkflows:[],acl:{accessControls:[],allowedProperties:[]},aclRolesForCopy:[],api:{writableFields:["resetPrimaries"]},importTransformer:"default",customExportColumns:[],customDependencies:[],excludeFromDataExport:["dynamicData"],icon:"fa-file-o",customForm:!1,type:"standard",gridFilterExcludeFields:[],gridFilterExcludeFieldsByPerm:{},backgroundColor:"#EADCFA",textColor:"#484848",audit:{allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:{displayFields:["createdDate"]}}}},save:{created:{options:{reference:{displayFields:["createdDate"]}}},updated:{options:{changes:{excludeFields:["id"]},reference:{displayFields:["createdDate"]}}}},remove:{deleted:{options:{reference:{displayFields:["createdDate"]}}}}}},allowPurge:!1,fields:[{caption:"Id",field:"id",type:"primary",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,alwaysInApiSelectedFields:!0,showOnPortal:!0,showOnHotline:!0},{caption:"Created By",field:"createdBy",type:"user",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,showOnHotline:!0},{caption:"Created Date",field:"createdDate",type:"datetime",kind:"system",gridWidth:200,dbIndex:!0,excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,showOnPortal:!0,showOnHotline:!0},{caption:"Last Updated By",field:"lastUpdatedBy",type:"user",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,showOnHotline:!0},{caption:"Last Updated Date",field:"lastUpdatedDate",type:"datetime",kind:"system",gridWidth:200,dbIndex:!0,excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,showOnHotline:!0},{caption:"Deleted By",field:"deletedBy",type:"user",kind:"custom",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{caption:"Deleted Date",field:"deletedDate",type:"datetime",kind:"custom",dbIndex:!0,excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"sysActive",type:"yesno",kind:"custom",caption:"Active",dbIndex:!0,kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!0}},excludeFromRedact:!0,excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,alwaysInApiSelectedFields:!0,showOnPortal:!0,showOnHotline:!0},{field:"sysSubmitted",type:"yesno",kind:"custom",caption:"Submitted",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},excludeFromRedact:!0,excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,showOnPortal:!0,showOnHotline:!0},{field:"sysHidden",type:"yesno",kind:"hidden",caption:"Hidden",excludeFromRedact:!0,excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,showOnHotline:!0},{caption:"Computed Search",field:"computedSearch",type:"json",kind:"hidden",excludeFromSaveAndCopy:!0,excludeFromRedact:!0,excludeFromAutofill:!0,alwaysInApiSelectedFields:!0},{caption:"Pending Purge Date",field:"pendingPurgeDate",type:"datetime",kind:"system",excludeFromAutofill:!0,alwaysInApiSelectedFields:!0,typeOptions:{excludeFromAggregates:!0},showOnPortal:!0},{caption:"Date Purged",field:"datePurged",type:"datetime",kind:"system",excludeFromRedact:!0,excludeFromAutofill:!0,alwaysInApiSelectedFields:!0,typeOptions:{excludeFromAggregates:!0},showOnPortal:!0},{field:"purgeReason",type:"picklist",caption:"Purge Reason",typeOptions:{picklistName:"purge_reasons",excludeFromAggregates:!0},kind:"editable",excludeFromRedact:!0,excludeFromAutofill:!0},{caption:"Do Not Purge",field:"excludeFromPurge",type:"yesno",kind:"system",excludeFromAutofill:!0,showOnHotline:!0},{caption:"System Processing",field:"sysProcessing",type:"yesno",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}},excludeFromRedact:!0,excludeFromAutofill:!0,showOnHotline:!0},{caption:"Yellowfin Context User ID",field:"contextUserId",type:"id",kind:"custom",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},yfSourceFilter:!0},{field:"recordSource",type:"picklist",typeOptions:{picklistName:"record_sources"},caption:"Record Source",kind:"system",excludeFromAutofill:!0,excludeFromRedact:!0,showOnPortal:!0,showOnHotline:!0,alwaysInApiSelectedFields:!0},{field:"apiType",type:"textbox",caption:"API Type",kind:"custom",excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!0,search:!1,apiWritable:!0,apiExternalWritable:!0,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},showOnPortal:!0,showOnHotline:!0},{caption:"Exclude From Suggest Links",field:"excludeFromSuggestedLinks",type:"yesno",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!1}},excludeFromAutofill:!0,showOnHotline:!0},{caption:"Lists",field:"userLists",type:"code[]",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},excludeFromRedact:!0,excludeFromAutofill:!0},{caption:"Source Tag",field:"sourceTag",type:"textbox",kind:"hidden",excludeFromAutofill:!0},{caption:"Source Data",field:"sourceData",type:"script",kind:"hidden",excludeFromAutofill:!0},{caption:"Source Id",field:"sourceId",type:"textbox",kind:"hidden",excludeFromAutofill:!0},{caption:"Date Submitted",field:"dateSubmitted",type:"date",kind:"custom",excludeFromAutofill:!0,kindOptions:{computeFunction:"dateSubmitted",flags:{audit:!1,schema:!0,search:!0,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!0,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!0,searchVisible:!0,gridExportable:!0,reportable:!0}},showOnHotline:!0},{field:"transitions",type:"picklistApi",caption:"Transitions",kind:"custom",excludeFromAutofill:!0,kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,gridExportable:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,reportable:!1}},typeOptions:{picklistName:"entity_transitions"}},{field:"hardLocked",type:"yesno",caption:"Hard Locked",kind:"custom",kindOptions:{flags:{audit:!0,schema:!0,search:!0,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!1,gridSortable:!1,searchVisible:!0,gridExportable:!1,reportable:!1}},showOnHotline:!0},{field:"dynamicData",type:"jsonb",caption:"Dynamic Data",kind:"hidden",showOnHotline:!0},{field:"copiedFromId",type:"id",caption:"Copied From Id",kind:"hidden-searchable"},{field:"copiedToId",type:"id",caption:"Copied To Id",kind:"hidden-searchable"},{field:"sourceJob",caption:"Source Job",type:"id",kind:"system"}],esDefaultFilters:function(){return null},queryFilter:function(e){var t=e.query,i=e.args;return t.and([!0!==i.showInactiveRecords&&t.is("sysActive",!0)])},computeFunctions:i(740209)}},383954:(e,t,i)=>{"use strict";var n=i(783796),a=i(648160);e.exports=a(n,{db:"default",search:!1,fields:[{field:"parentId",type:"id",caption:"Parent Filter Id",kind:"hidden"},{field:"fieldId",type:"id",caption:"Field Id",kind:"editable"},{field:"fieldName",type:"textbox",caption:"Field Name",kind:"system"},{field:"fieldType",type:"textbox",caption:"Field Type",kind:"system"},{field:"operator",type:"textbox",caption:"Operator",kind:"hidden"},{field:"fieldValues",type:"code[]",caption:"Field Values",kind:"hidden"},{field:"joinData",type:"json[]",caption:"Join Data",kind:"editable"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"restorable",caption:"Restorable",type:"yesno",kind:"hidden"}]})},589079:(e,t,i)=>{"use strict";i(369085);var n=i(783796),a=i(648160),r=i(903745);e.exports=a(n,{db:"default",search:!1,api:{writableFields:["ruleData","entityName"]},fields:[{field:"entityId",type:"code",caption:"Entity Id",kind:"editable"},{field:"entityName",type:"textbox",caption:"Entity Name",kind:"editable"},{field:"isDynamicEntity",type:"yesno",caption:"Is Dynamic Entity",kind:"system"},{field:"filterDenormalized",type:"json[]",caption:"Filter",kind:"custom",kindOptions:{flags:Object.assign({},r.editable,{audit:!1})}},{field:"mustMatchAll",type:"yesno",caption:"Must match all filter items",kind:"editable"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"restorable",caption:"Restorable",type:"yesno",kind:"hidden"}]})},963311:(e,t,i)=>{"use strict";var n=i(783796),a=i(648160);e.exports=a(n,{dynamicFlags:!0,fields:[{field:"flagsData",caption:"Flag Data",type:"json",kind:"hidden",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0},{field:"lastFlagSet",caption:"Last Flag Set",type:"flagName",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0},{field:"lastFlagSetName",caption:"Last Flag Set Name",type:"textbox",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0},{field:"lastFlagSetBy",caption:"Last Flag Set By",type:"user",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0},{field:"lastFlagSetDate",caption:"Last Flag Set Date",type:"datetime",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0}]})},969987:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{enableTranslation:!0,fields:[{field:"submittedLanguage",type:"picklist",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},caption:"Submitted Language",kind:"system",features:["intakeTranslation"],showOnPortal:!0,showOnHotline:!0},{field:"intakeTranslationStatus",type:"picklist",caption:"Translation Status",typeOptions:{picklistName:"intake_translation_statuses"},kind:"system",features:["intakeTranslation"],showOnPortal:!0,showOnHotline:!0},{field:"translationData",type:"jsonb",caption:"Translation Data",kind:"hidden",showOnPortal:!0,showOnHotline:!0},{field:"translationLanguageByField",type:"jsonb",caption:"Translation Language By Field",kind:"virtual",features:["intakeTranslation"],showOnPortal:!0,showOnHotline:!0}]})},275800:(e,t,i)=>{"use strict";var n=i(641663),a=i(648160);e.exports=a(n,{db:"default",search:!1,allowAdvancedSearch:!1,dataExport:!1,customExportColumns:["rootId__originalId","parentId__originalId","previousId__originalId","nextId__originalId","displayRuleGroupId__originalId"],report:!1,includeInElementCount:!1,validation:{mandatory$:["layoutType"]},grids:{"main-layouts":{sortColumn:"caption",sortOrder:"desc",columns:[{field:"caption"},{field:"status"},{field:"entityType"},{field:"hideOnIntake"}],defaultDynamicDataFilters:["status","createdDate","lastUpdatedDate","entityType"]}},historyNav:[{from:[],to:"/settings/forms/custom-forms"}],fields:[{field:"rootId",type:"id",caption:"Root Id",kind:"hidden-editable",dbIndex:!0,dbIndexType:"hash"},{field:"parentId",type:"id",caption:"Parent Id",kind:"hidden-editable"},{field:"layoutType",type:"textbox",caption:"Layout Type",kind:"editable"},{field:"caption",type:"textbox",caption:"Caption",kind:"editable",typeOptions:{charMaxTextbox:60,placeholder:!0}},{field:"helpText",caption:"Help Text",type:"textbox",translateData:!0,kind:"editable"},{field:"captionPlural",type:"textbox",caption:"Caption Plural",kind:"editable",typeOptions:{charMaxTextbox:62,placeholder:!0}},{field:"fieldId",type:"id",caption:"Field Id",kind:"hidden-editable",dbIndex:!0,dbIndexType:"hash"},{field:"dynamicEntityId",type:"id",caption:"Dynamic Entity id",kind:"hidden-editable"},{field:"staticEntityId",type:"entityPicklist",caption:"Static Entity id",kind:"hidden-editable"},{field:"entityName",type:"textbox",caption:"Entity Name",kind:"system"},{field:"name",type:"textbox",caption:"Name",kind:"hidden-editable"},{field:"displayRuleGroupId",type:"id",caption:"Display Rule Group Id",kind:"hidden-editable",excludeFromSaveAndCopy:!0},{field:"status",type:"picklist",caption:"Status",typeOptions:{picklistName:"layout_statuses"},kind:"editable",excludeFromRedact:!0,excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/../public/templates/cell-templates/layout-status-cell-tmpl.dust"),"utf8")}},{field:"locked",type:"yesno",caption:"Locked",kind:"hidden"},{field:"aboveContextHint",type:"textbox",caption:"Above Context Hint",kind:"hidden"},{field:"belowContextHint",type:"textbox",caption:"Below Context Hint",kind:"hidden"},{field:"hasElementsAbove",type:"yesno",caption:"Has Elements Above",kind:"hidden"},{field:"hasElementsBelow",type:"yesno",caption:"Has Elements Below",kind:"hidden"},{field:"hideOnIntake",type:"toggle-inverted",caption:"Show on Intake",kind:"editable",default:!0},{field:"allowShowOnIntake",type:"yesno",caption:"Allow Show on Intake",kind:"hidden"},{field:"sequence",type:"number",caption:"Sequence",kind:"editable"},{field:"hasStaticAndDynamicTabs",type:"yesno",caption:"Has Static and Dynamic Tabs",kind:"hidden"},{field:"originalId",type:"id",caption:"Original Id",kind:"hidden"},{field:"informationBoxType",type:"picklist",typeOptions:{picklistName:"information_box_types"},caption:"Type",kind:"editable"},{field:"showOnPortal",type:"toggle",caption:"Show on Portal",kind:"editable"},{field:"allowShowOnPortal",type:"yesno",caption:"Allow Show on Portal",kind:"hidden"},{field:"showOnHotline",type:"toggle",caption:"Show on Hotline",kind:"editable"},{field:"allowShowOnHotline",type:"yesno",caption:"Allow Show on Hotline",kind:"hidden",features:["displayFormsOnHotline"]},{field:"entityType",type:"picklistSelectize",kind:"system",caption:"Form Type",typeOptions:{picklistName:"entity_types"}},{field:"dataForm",type:"entityPicklist",caption:"Data Form",kind:"editable",typeOptions:{filter:"dataFormFilter",valueField:"canon",entityCategory:1,canCreate:!1,inactiveCanon:"unknown_data_form"}},{field:"preExistingLayoutNode",type:"yesno",caption:"Pre-Existing Layout Node",kind:"hidden"},{field:"gridEntity",type:"entityPicklist",caption:"Entity",kind:"editable",typeOptions:{valueField:"canon",entityCategory:2,filter:"gridEntityFilter",canCreate:!1,renderWithIcons:!0}}]})},641663:(e,t,i)=>{"use strict";var n=i(783796),a=i(648160);e.exports=a(n,{fields:[{field:"nextId",type:"id",kind:"hidden-editable",caption:"Next Id"},{field:"previousId",type:"id",kind:"hidden-editable",caption:"Previous Id"}]})},835141:(e,t,i)=>{"use strict";var n=i(810874);e.exports={fields:[{field:"name",type:"textbox",caption:"Packet Name",kind:"editable"},{field:"shouldAddPageNumbers",type:"checkbox",caption:"Apply page numbering",default:!1,kind:"editable"},{field:"shouldAddTableOfContents",type:"checkbox",caption:"Generate a Table of Contents (ToC)",default:!1,kind:"editable"},{field:"tableOfContentsTemplateKind",caption:"ToC Template",type:"radio",default:null,typeOptions:{picklistName:"packet_table_of_contents_template_kinds",orientation:"horizontal"},kind:"editable"},{field:"tableOfContentsTemplate",caption:"Template file",type:"file[]",default:null,excludeFromSaveAndCopy:!0,kind:"editable",typeOptions:{supportedFormats:n(),maxFileCount:1}},{field:"caseFilesInclusionKind",caption:"Include Files attached to Case",type:"radio",default:"no",typeOptions:{picklistName:"case_file_inclusion_kinds",orientation:"horizontal"},subText:"value",kind:"editable"},{field:"documentGenerationMethod",type:"picklistSelectize",typeOptions:{picklistName:"packet_generation_methods"},caption:"Document generation method",default:"always_new",kind:"editable"}]}},131607:(e,t,i)=>{"use strict";var n=i(783796),a=i(648160);e.exports=a(n,{db:"default",gridDescriptorField:"name",lockWithParent:!0,api:{useGenericApi:!0},parents:[{entity:{base:"sys",name:"workflow"},field:"workflowId",reportable:!0}],fields:[{field:"workflowId",type:"id",caption:"Workflow Id",kind:"hidden-editable"}],joins:[{table:"sys_workflow",referenceField:"workflowId",fields:["name","conditionId","hardLocked","status","sysActive"]}]})},958724:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked State",roles:["save_delete_hard_locked_state"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).requireWorkflowLoadInheritance().requireWorkflowSaveInheritance().value()},281187:e=>{"use strict";var t={displayFields:["name"]};e.exports={child:!0,parentType:{base:"sys",name:"workflow"},parentFieldId:"workflowId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},638909:e=>{"use strict";e.exports={"main-states-grid":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"primaryState"},{field:"description"},{field:"default"}]},"states-step-grid":{sortColumn:"createdDate",sortOrder:"desc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"primaryState"},{field:"description"},{field:"default"}]}}},518348:(e,t,i)=>{"use strict";var n=i(648160),a=i(131607);e.exports=n(a,{db:"default",table:"sys_state",entity:{base:"sys",name:"state"},caption:"Status",captionPlural:"Statuses",addCaption:"Add Status",newCaption:"New Status",grids:i(638909),historyNav:[{from:[],to:"/settings/workflow/custom-workflow/{workflowId}"}],acl:i(958724),audit:i(281187),validation:i(974569),importTransformer:"state",copyPostAction:"state",usageStatistics:i(11375),model:function(){return i(293318)},collection:function(){return i(604925)},parents:[{entity:{base:"sys",name:"workflow"},field:"workflowId",reportable:!0}],fields:[{field:"entityId",type:"textbox",caption:"Entity Id",kind:"editable"},{field:"name",type:"textbox",typeOptions:{charMaxTextbox:30},caption:"Status Name",kind:"editable"},{field:"description",type:"textbox",caption:"Description",kind:"editable"},{field:"primaryState",type:"picklist",typeOptions:{picklistName:"primary_state_types"},caption:"Status Type",kind:"editable"},{field:"default",type:"checkbox",caption:"Default Status",kind:"editable"}]})},11375:(e,t,i)=>{"use strict";var n=i(342141)("sys_state");e.exports=[{category:"workflows",key:"totalStatuses",query:n.countActiveEntity()}]},974569:e=>{"use strict";e.exports={mandatory$:["name","workflowId","primaryState"]}},855508:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(648160),r=i(949545);e.exports=a(r,{createTable:!1,reuseEsIndex:{index:"sys_layout",typeField:"layoutType"},layoutType:"tab",entity:{base:"sys",name:"tab_layout_type"},caption:"Tab",captionPlural:"Tabs",addCaption:"Add Tab",newCaption:"New Tab",importTransformer:"tab_layout_type",exportTransformer:"tab_layout_type",customDependencies:function(e){return n.map(e.getRootLayoutEntities(),"entityCanon")},validation:i(152385),rules:i(447395),model:function(){return i(833347)}})},447395:e=>{"use strict";e.exports={isLocked:function(e){return!0===e.locked}}},152385:e=>{"use strict";e.exports={mandatory$:["rootId","parentId","caption"],dependentMandatory$:[{condition:"isLocked",fields:["name"]}],pattern$:[{fields:["caption"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},549184:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Team",parentPermission:"view_access_settings",permission:"view_team_settings",options:[{caption:"Create",permission:"create_team",tooltip:"Create Team",sequence:1},{caption:"View",permission:"view_team",tooltip:"View Team",sequence:2,selectedByDefault:!0},{type:"group",caption:"Edit",permission:n.getEditGroupPermissionCode("team"),tooltip:"Edit Team",sequence:3,dependencies:["view_team"],options:[{caption:"Details",permission:"edit_details",tooltip:"Edit Details",dependencies:["view_team"],sequence:1},{caption:"Add/Remove Members",permission:"add_remove_members",tooltip:"Add/Remove Members",dependencies:["view_team"],sequence:2}]},{caption:"Remove",permission:"remove_team",tooltip:"Delete Team",sequence:4,dependencies:["view_team"]}]}]},571750:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Teams",roles:["view_team"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Teams",roles:["create_team"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Teams",roles:[n.getEditGroupPermissionCode("team")],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Teams",roles:["remove_team"],actions:["remove"],conditions:[]}).filter({name:"Edit Details",roles:["edit_details"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}],filters:{name:!1,description:!1}}).filter({name:"Add/Remove Member",roles:["add_remove_members"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}],filters:{members:!1}}).value()},310929:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},25299:(e,t,i)=>{"use strict";i(962062);var n=i(96190);e.exports={teamSummary:function(e,t,i){i(null,n.map(t,(function(e){return e&&e.members&&n.isArray(e.members)&&e.members.length||0})))}}},595895:e=>{"use strict";e.exports={"main-teams":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"name"},{field:"summary"},{field:"members"},{field:"createdDate"}],defaultDynamicDataFilters:["members","createdDate","lastUpdatedDate"]}}},257770:e=>{"use strict";e.exports=[{from:["/settings/access/team/new"],to:"/settings/access/team/{id}"},{from:[],to:"/settings/access/teams"}]},77462:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_team",entity:{base:"sys",name:"team"},api:{useGenericApi:!0},caption:"Team",captionPlural:"Teams",addCaption:"Add Team",newCaption:"New Team",gridDescriptorField:"name",configurationExport:!0,importTransformer:"team",historyNav:i(257770),grids:i(595895),rules:i(616049),acl:i(571750),aclHierarchy:i(549184),validation:i(496671),computeFunctions:i(25299),audit:i(310929),usageStatistics:i(260281),model:function(){return i(902778)},collection:function(){return i(38745)},gridFilterExcludeFields:["summary"],fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable",typeOptions:{charMaxTextbox:64}},{field:"description",type:"textarea",caption:"Description",kind:"editable",typeOptions:{charMaxTextArea:250}},{field:"summary",type:"textbox",caption:"Summary",kind:"computed",kindOptions:{computeFunction:"teamSummary"}},{field:"members",type:"user[]",caption:"Members",kind:"editable",cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/team-members-cell-tmpl.dust"),"utf8")}}]})},616049:e=>{"use strict";e.exports={isNew:function(e){return!e.id}}},260281:(e,t,i)=>{"use strict";var n=i(342141)("sys_team");e.exports=[{category:"team",key:"totalTeams",query:n.countActiveEntity()}]},496671:e=>{"use strict";e.exports={mandatory$:["name"]}},468301:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"Inherit team ACL",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:["sys/team::{teamId}"]}).value()},37565:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_team_user",entity:{base:"sys",name:"team_user"},search:!1,validation:i(368934),caption:"Team User",captionPlural:"Team Users",addCaption:"Add Team User",newCaption:"New Team User",acl:i(468301),parents:[{entity:{base:"sys",name:"team"},field:"teamId"},{entity:{base:"sys",name:"user"},field:"userId"}],fields:[{field:"teamId",type:"picklistApi",caption:"Team",kind:"editable",typeOptions:{picklistName:"teams"},dbIndex:!0},{field:"userId",type:"id",caption:"User Id",kind:"editable",dbIndex:!0}],joins:[{referenceField:"teamId",table:"sys_team",fields:["name"]},{referenceField:"userId",table:"sys_user",fields:["name"]}],audit:{child:!0,parentType:{base:"sys",name:"team"},parentFieldId:"teamId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},368934:e=>{"use strict";e.exports={mandatory$:["teamId","userId"]}},633499:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Templates",parentPermission:"view_data_settings",permission:"view_template_settings",options:[{caption:"View",sequence:2,disabled:!0,permission:"view_template"},{permission:"create_template",caption:"Create",tooltip:"Create templates",sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("template"),caption:"Edit",sequence:3,options:[{permission:"edit_template",caption:"Save",tooltip:"Edit templates"}]},{permission:"remove_template",caption:"Remove",tooltip:"Delete templates",sequence:4}]}]},827649:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Templates",roles:["view_template"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Templates",roles:["create_template"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Templates",roles:["edit_template"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Templates",roles:["remove_template"],actions:["remove"],conditions:[]}).value()},150654:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},544472:e=>{"use strict";e.exports={"main-templates":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"name"},{field:"fileType"},{field:"createdBy"},{field:"createdDate"}],defaultDynamicDataFilters:["locale","createdDate","lastUpdatedDate"]},"template-files-grid":{sortColumn:"createdDate",sortOrder:"desc",columns:[]}}},25533:e=>{"use strict";e.exports=[{from:[],to:"/settings/data/templates"}]},933937:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_template",entity:{base:"sys",name:"template"},api:{useGenericApi:!0,mainFileField:"files"},caption:"Template",captionPlural:"Templates",addCaption:"Add Template",newCaption:"New Template",gridDescriptorField:"name",acl:i(827649),aclHierarchy:i(633499),grids:i(544472),validation:i(188618),rules:i(263782),historyNav:i(25533),exportTransformer:"template",configurationExport:!0,audit:i(150654),usageStatistics:i(696504),model:function(){return i(487805)},collection:function(){return i(254778)},view:function(){return i(186801)},fields:[{field:"name",type:"textbox",caption:"Template Name",kind:"editable"},{field:"files",type:"file[]",kind:"editable",caption:"Add File",typeOptions:{canDelete:!1,supportedFormats:[".docx"]},excludeFromSaveAndCopy:!0},{field:"locale",type:"picklist",caption:"Locale",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable",dbIndex:!0},{field:"fileType",type:"picklist",caption:"File Type",typeOptions:{picklistName:"template_file_types"},kind:"editable"},{field:"filesVersionHistory",type:"file[]",kind:"editable",caption:"Files Version History",excludeFromSaveAndCopy:!0}]})},263782:e=>{"use strict";e.exports={isNew:function(e){return!e.id}}},696504:(e,t,i)=>{"use strict";var n=i(96190),a=i(342141)("sys_template");e.exports=[{category:"settings_data",key:"totalTemplates",query:a.countActiveEntity()},{category:"settings_data",key:"templatesByType",query:a.countActiveEntityByPicklistGroup(),options:{groupingField:"file_type",picklistName:"template_file_types",datasetTranslation:function(e,t){return a.getPicklistDatasetTrans(this,e,t)}}},{category:"storage",key:"sizeOfTemplates",query:function(e,t,i){e.select("sys_template.files_version_history as files").from("sys_template").where("sys_template.sys_active",!0).whereNotNull("sys_template.files_version_history").asCallback((function(e,t){if(e)return i(e);var a=0;return n.each(t,(function(e){n.each(e.files,(function(e){var t=e.sizeBytes||0;a+=t}))})),i(null,a)}))}}]},188618:e=>{"use strict";e.exports={mandatory$:["name","locale","fileType"],fileName$:["name"]}},566890:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Themes",parentPermission:"view_system_settings",permission:"view_theme_settings",options:[{caption:"Create",permission:"create_theme",tooltip:"Create themes",sequence:1},{caption:"View",permission:"view_theme",tooltip:"View themes",sequence:2,disabled:!0},{type:"group",caption:"Edit",permission:n.getEditGroupPermissionCode("themes"),sequence:3,options:[{caption:"Save",permission:"edit_theme",tooltip:"Edit themes"}]},{caption:"Remove",permission:"remove_theme",tooltip:"Delete themes",sequence:4}]}]},981796:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Themes",roles:["view_theme"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Theme",roles:["create_theme"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Themes",roles:["edit_theme"],actions:["save_existing"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Themes",roles:["remove_theme"],actions:["remove"],conditions:[]}).value()},483203:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},773533:e=>{"use strict";e.exports={"main-themes":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"name"},{field:"description"},{field:"default"},{field:"readOnly"},{field:"createdBy"},{field:"createdDate"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},669200:e=>{"use strict";e.exports=[{from:[],to:"/settings/system/themes"}]},912620:(e,t,i)=>{"use strict";var n="/",a=i(648160),r=i(783796);e.exports=a(r,{db:"default",table:"sys_theme",entity:{base:"sys",name:"theme"},api:{useGenericApi:!0},caption:"Theme",captionPlural:"Themes",addCaption:"Add Theme",newCaption:"New Theme",gridDescriptorField:"name",acl:i(981796),aclHierarchy:i(566890),grids:i(773533),validation:i(740169),importTransformer:"theme",configurationExport:!0,exportTransformer:"theme",historyNav:i(669200),usageStatistics:i(907151),audit:i(483203),model:function(){return i(384366)},collection:function(){return i(911319)},view:function(){return i(216710)},primaryConfig:i(100793),fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable"},{field:"description",type:"textbox",caption:"Description",kind:"editable"},{field:"default",type:"checkbox",caption:"Default",kind:"editable"},{field:"logo",type:"imageCropper",kind:"editable",search:!1,caption:"Logo"},{field:"primary",type:"color",kind:"editable",caption:"Primary Color",cellTemplate:function(e){return e.readFileSync("".concat(n,"/cell-templates/theme-color-cell-tmpl.dust"),"utf8")}},{field:"accent",type:"color",kind:"editable",caption:"Accent Color",cellTemplate:function(e){return e.readFileSync("".concat(n,"/cell-templates/theme-color-cell-tmpl.dust"),"utf8")}},{field:"complementary1",type:"color",kind:"editable",caption:"Complementary Color 1",cellTemplate:function(e){return e.readFileSync("".concat(n,"/cell-templates/theme-color-cell-tmpl.dust"),"utf8")}},{field:"complementary2",type:"color",kind:"editable",caption:"Complementary Color 2",cellTemplate:function(e){return e.readFileSync("".concat(n,"/cell-templates/theme-color-cell-tmpl.dust"),"utf8")}},{field:"readOnly",type:"checkbox",caption:"Read Only",kind:"editable"},{field:"additionalCss",type:"textbox",caption:"Additional CSS",kind:"hidden"}]})},100793:e=>{"use strict";e.exports={primaryFieldName:"default",mandatoryPrimary:!0,primaryParentFieldName:null}},907151:(e,t,i)=>{"use strict";var n=i(342141)("sys_theme");e.exports=[{category:"settings_system",key:"totalThemes",query:n.countActiveEntity()}]},740169:e=>{"use strict";e.exports={mandatory$:["name","logo","primary","accent","complementary1","complementary2"]}},5133:e=>{"use strict";e.exports=[{type:"group",caption:"To-Dos",parentPermission:"case",permission:"todo",options:[{type:"group",permission:"view_todo",caption:"View",sequence:2,options:[{permission:"view_my_todos",caption:"My To-Dos",tooltip:"View owned To-Dos"},{permission:"view_others_todos",caption:"Others To-Dos",tooltip:"View To-Dos owned by other users"}]},{permission:"create_todo",caption:"Create",tooltip:"Add To-Dos",sequence:1},{type:"group",permission:"edit_todo",caption:"Edit",tooltip:"Update To-Dos",sequence:3,dependencies:["view_todo"],options:[{permission:"reassign_todo",caption:"Reassign",tooltip:"Reassign a To-Do",dependencies:["view_todo"]},{permission:"complete_others_todos",caption:"Complete Others To-Dos",tooltip:"Complete To-Dos owned by other users",dependencies:["view_todo"]},{permission:"complete_my_todos",caption:"Complete My To-Dos",tooltip:"Complete owned To-Dos",dependencies:["view_todo"]},{permission:"edit_others_todos",caption:"Edit Others To-Dos",tooltip:"Edit To-Dos owned by other users",dependencies:["view_todo"]},{permission:"edit_my_todos",caption:"Edit My To-Dos",tooltip:"Edit owned To-Dos",dependencies:["view_todo"]}]},{type:"group",permission:"remove_todo",caption:"Remove",sequence:4,dependencies:["view_todo"],options:[{permission:"remove_unassigned_todo",caption:"Unassigned To-Dos",tooltip:"Delete unassigned To-Dos",dependencies:["view_todo"]},{permission:"remove_assigned_todo",caption:"Assigned To-Dos",tooltip:"Delete assigned To-Do",dependencies:["view_todo"]}]},{permission:"todo_owner",caption:"To-Do Owner",tooltip:"Can own To-Dos",dependencies:["view_my_todos"]}]}]},597071:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().filterViewSourceData().required({name:"View My Todos",roles:["view_my_todos"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{responsible:"{user.id}"}}]}).required({name:"View Others Todos",roles:["view_others_todos"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{responsible:"{!user.id}"}}]}).required({name:"View Todos",roles:["view_todo"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Todos",roles:["create_todo"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Todos",roles:["create_todo"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).filter({name:"Reassign Todo",roles:["reassign_todo"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}],filters:{responsible:!1}}).filter({name:"Complete Others Todos",roles:["complete_others_todos"],actions:["save_new"],conditions:[{attributes:{"!id":null,responsible:"{!user.id}"}}],filters:{status:!1}}).filter({name:"Complete My Todos",roles:["complete_my_todos"],actions:["save_new"],conditions:[{attributes:{"!id":null,responsible:"{user.id}"}}],filters:{status:!1}}).filter({name:"Edit My Todos",roles:["edit_my_todos"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0,responsible:"{user.id}"}}],filters:{id:!0,status:!0,responsible:!0,dateCompleted:!0,closedBy:!0,apiType:!0}}).filter({name:"Edit Others Todos",roles:["edit_others_todos"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0,responsible:"{!user.id}"}}],filters:{id:!0,status:!0,responsible:!0,dateCompleted:!0,closedBy:!0,apiType:!0}}).required({name:"Edit Todos",roles:["edit_todo"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Unassigned Todos",roles:["remove_unassigned_todo"],actions:["remove"],conditions:[{attributes:{responsible:null}}]}).required({name:"Remove Assigned Todos",roles:["remove_assigned_todo"],actions:["remove"],conditions:[{attributes:{"!responsible":null}}]}).required({name:"Remove Todos",roles:["remove_todo"],actions:["remove"],conditions:[]}).requireCaseLoadInheritance().required({name:"Inherit case save acl for my todo save exisiting",roles:["agent"],control:"required",actions:["save_existing","remove"],conditions:[{attributes:{"!id":null,"!caseId":null,sysSubmitted:!0,responsible:"{user.id}"}},"sys/case::{caseId}::load"]}).required({name:"Inherit case save acl for my todo save new",roles:["agent"],control:"required",actions:["save_new"],conditions:[{attributes:{id:null,"!caseId":null,responsible:"{user.id}"}},"sys/case::{caseId}::save"]}).required({name:"Inherit case save acl for others todos",roles:["agent"],control:"required",actions:["save_new","save_existing","remove"],conditions:[{attributes:{"!caseId":null,responsible:"{!user.id}"}},"sys/case::{caseId}::save"]}).value()},182576:(e,t,i)=>{"use strict";i(428706);var n=["details"],a={displayFields:function(e,t){return!0!==t.hideCaseItemNumberReference()?["childNumber"].concat(n):n}};e.exports={child:!0,parentType:{base:"sys",name:"case"},parentFieldId:"caseId",allowNavigateTo:!0,navigateToType:"to-do",cmd:{load:{viewed:{options:{reference:a}}},save:{created:{options:{changes:{displayFields:["responsible"],excludeFields:["activeReminder"]},reference:a}},updated:{options:{changes:{excludeFields:["id","activeReminder"]},reference:a}},assigned:{condition:{composite:"all",rules:[{path:"diff.responsible",comparator:"exists"},{path:"diff.responsible.originalValue",comparator:"exists"},{path:"diff.responsible.originalValue",comparator:"neq",value:"diff.responsible.updatedValue"}]},options:{changes:{displayFields:["responsible"]},reference:a}},completed:{condition:{composite:"all",rules:[{path:"diff.status.updatedValue",comparator:"eq",value:"closed"}]},options:{reference:a}}},remove:{deleted:{options:{reference:a}}}}}},799302:e=>{"use strict";var t=["status","responsible","due","createdDate"];e.exports={"main-todos":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"responsible"},{field:"details"},{field:"todoType"},{field:"status"},{field:"due"},{field:"createdDate"}],defaultDynamicDataFilters:t},"case-todos":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"number"},{field:"responsible"},{field:"details"},{field:"todoType"},{field:"status"},{field:"due"},{field:"createdDate"}],defaultDynamicDataFilters:t,default:!0},"advanced-search-result-todos":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"responsible"},{field:"details"},{field:"todoType"},{field:"status"},{field:"due"},{field:"createdDate"}]},"search-result-todos-schedule-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"responsible"},{field:"details"},{field:"todoType"},{field:"status"},{field:"due"},{field:"createdDate"}]},"search-result-todos-purge":{sortColumn:"createdDate",sortOrder:"desc",columns:[{field:"childNumber"},{field:"responsible"},{field:"details"},{field:"todoType"},{field:"status"},{field:"due"},{field:"pendingPurgeDate"},{field:"createdDate"}]}}},665779:e=>{"use strict";e.exports=[{from:["/to-do/{id}"],to:"/case/{parentId}"},{from:[],to:"/case/{caseId}/activity/to-dos"},{from:[],to:"/to-dos"}]},374807:(e,t,i)=>{"use strict";var n=i(648160),a=i(878705);e.exports=n(a,{db:"default",table:"sys_todo",entity:{base:"sys",name:"todo"},joins:[{referenceField:"sourceJob",table:"sys_event",fields:["name","jobId"]}],customForm:!1,ruleEvents:!0,caption:"To-Do",captionPlural:"To-Dos",addCaption:"Add To-Do",newCaption:"New To-Do",gridDescriptorField:"childNumber",acl:i(597071),aclHierarchy:i(5133),audit:i(182576),rules:i(183528),grids:i(799302),validation:i(451404),historyNav:i(665779),icon:"fa-check-square-o",includeInDataDictionary:!0,enableRecordSourceView:!0,backgroundColor:"#FFF4E7",usageStatistics:i(560646),model:function(){return i(503363)},collection:function(){return i(153976)},view:function(){return i(536781)},calendarView:function(){return i(536123)},api:{writableFields:["needMoreInfo"]},rowTemplates:{small:function(){return i(411069)},medium:function(){return i(354901)},tiny:function(){return i(224156)}},calendarMapping:{title:"childNumber",subtitle:"todoType",description:"details",startDate:"due",endDate:"due",allDay:!0},fields:[{field:"assignedBy",type:"user",caption:"Assigned By",kind:"system",excludeFromSaveAndCopy:!0},{field:"responsible",type:"user",caption:"Responsible",kind:"editable",typeOptions:{roleFilter:"todo_owner"}},{field:"dateCompleted",type:"datetime",caption:"Date Completed",kind:"system",excludeFromSaveAndCopy:!0},{field:"closedBy",type:"user",caption:"Closed by",kind:"system",excludeFromSaveAndCopy:!0},{field:"details",type:"texteditor",caption:"Details",kind:"editable"},{field:"due",type:"date",caption:"Due Date",kind:"editable"},{field:"emailReminder",type:"numberRangePicklist",caption:"Email Reminder",kind:"editable",typeOptions:{startValue:0,endValue:30}},{field:"activeReminder",type:"textbox",caption:"Active Reminder",kind:"hidden",excludeFromSaveAndCopy:!0},{field:"todoType",type:"picklist",caption:"To-Do Type",typeOptions:{picklistName:"todo_types"},kind:"editable"},{field:"status",type:"picklist",caption:"Status",typeOptions:{picklistName:"todo_statuses"},kind:"editable",excludeFromRedact:!0,excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/todo-status-cell-tmpl.dust"),"utf8")}}]})},183528:(e,t,i)=>{"use strict";var n=i(96190);e.exports={hasEmailReminder:function(e){return n.isNumber(e.emailReminder)&&e.emailReminder>=0},isDueDateSet:function(e){return!n.isNil(e.due)},isClosed:function(e){return"closed"===e.status}}},560646:(e,t,i)=>{"use strict";var n=i(342141)("sys_todo");e.exports=[{category:"todo",key:"totalTodos",query:n.countActiveEntity()},{category:"todo",key:"todosByStatus",query:n.countActiveEntityByPicklistGroup(),options:{groupingField:"status",picklistName:"todo_statuses",datasetTranslation:function(e,t){return n.getPicklistDatasetTrans(this,e,t)}}},{category:"todo",key:"todosPerCase",query:n.countTotalAverageAndHighestByCase()}]},451404:e=>{"use strict";e.exports={mandatory$:["caseId","todoType","details"],dependentMandatory$:[{condition:"isTodoTypeOther",fields:["other"]},{condition:"hasEmailReminder",fields:["due"]}],dateRange$:[{date:"due",minimumDate:{date:"createdDate"}}],caseId:{type$:"string"},details:{type$:"string"},responsible:{type$:"string"},todoType:{type$:"string"}}},696068:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"Save/Delete Hard Locked Transition",roles:["save_delete_hard_locked_transition"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).requireWorkflowLoadInheritance().requireWorkflowSaveInheritance().value()},496355:e=>{"use strict";var t={displayFields:["name"]};e.exports={child:!0,parentType:{base:"sys",name:"workflow"},parentFieldId:"workflowId",allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},212477:e=>{"use strict";e.exports={"main-transitions-grid":{sortColumn:"sequence",sortOrder:"asc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"stateFromId"},{field:"stateToId"},{field:"description"},{field:"sequence"}]},"transitions-step-grid":{sortColumn:"sequence",sortOrder:"asc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"stateFromId"},{field:"stateToId"},{field:"description"},{field:"sequence"}]}}},782092:(e,t,i)=>{"use strict";var n=i(648160),a=i(131607);e.exports=n(a,{table:"sys_transition",entity:{base:"sys",name:"transition"},caption:"Step",captionPlural:"Steps",addCaption:"Add Step",newCaption:"New Step",gridDescriptorField:"name",bypassValidationOnDraft:!0,historyNav:[{from:[],to:"/settings/workflow/custom-workflow/{workflowId}"}],acl:i(696068),audit:i(496355),grids:i(212477),validation:i(572201),importTransformer:"transition",customDependencies:["sys/state"],copyPostAction:"transition",copyTransformer:"transition",usageStatistics:i(531375),model:function(){return i(217628)},collection:function(){return i(665153)},parents:[{entity:{base:"sys",name:"workflow"},field:"workflowId",reportable:!0}],fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable",typeOptions:{nameAttrValue:"transition-name",charMaxTextbox:30}},{field:"stateFromId",type:"workflowState",caption:"Status From",kind:"editable",typeOptions:{entity:"sys/state",textField:"name",showInactiveRecord:!0,filterBy:"workflowId"}},{field:"stateToId",type:"workflowState",caption:"Status To",kind:"editable",typeOptions:{entity:"sys/state",textField:"name",showInactiveRecord:!0,filterBy:"workflowId"}},{field:"description",type:"textbox",caption:"Description",kind:"editable"},{field:"reasons",type:"textbox[]",caption:"Reasons",kind:"editable",typeOptions:{blankText:"add"}},{field:"sequence",type:"number",caption:"Sequence",kind:"editable",esSort:["sequence","name"]},{field:"conditionId",type:"id",caption:"Condition ID",kind:"hidden-editable",excludeFromSaveAndCopy:!0},{field:"mandatoryFields",type:"fieldPicklist[]",caption:"Mandatory Fields",kind:"editable",typeOptions:{entityNameField:"workflowId__entityName",filterFlag:["apiWritable","formVisible","searchVisible"],displayFieldKind:!0}}],joins:[{table:"sys_workflow",referenceField:"workflowId",fields:["entityName"]}]})},531375:(e,t,i)=>{"use strict";var n=i(342141)("sys_transition");e.exports=[{category:"workflows",key:"totalSteps",query:n.countActiveEntity()}]},572201:e=>{"use strict";e.exports={mandatory$:["name","stateFromId","stateToId","workflowId"]}},202402:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Workflow History",permission:"transition_history",disabled:!0,options:[{permission:"view_transition_history",caption:"View",tooltip:"View Transition History",disabled:!0,sequence:2},{permission:"create_transition_history",caption:"Create",tooltip:"Add Transition History",disabled:!0,sequence:1},{type:"group",permission:n.getEditGroupPermissionCode("transition_history"),caption:"Edit",sequence:3,dependencies:["view_transition_history"],options:[{permission:"edit_transition_history",caption:"Save",tooltip:"Edit Transition History",disabled:!0,dependencies:["view_transition_history"]}]},{permission:"remove_transition_history",caption:"Remove",tooltip:"Delete Transition History",sequence:4,disabled:!0,dependencies:["view_transition_history"]}]}]},121068:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Transition History",roles:["view_transition_history"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Transition History",roles:["create_transition_history"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Transition History",roles:["edit_transition_history"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Transition History",roles:["remove_transition_history"],actions:["remove"],conditions:[]}).required({name:"Inherit ACL of Case to which the transition was done",roles:["view_case_history"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{objectType:"sys/case"}},"sys/case::{objectId}::load"]}).required({name:"Access Transition History of transitions done to non-Case entities",roles:["view_non_case_transition_history"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{"!objectType":"sys/case"}}]}).value()},208133:e=>{"use strict";e.exports={"case-workflow-history":{sortColumn:"dateOfTransition",sortOrder:"desc",columns:[{field:"user"},{field:"workflowId"},{field:"transition"},{field:"stateFrom"},{field:"stateTo"},{field:"dateOfTransition"},{field:"endDate"},{field:"durationBusinessDays"},{field:"durationCalendarDays"}]}}},943444:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_transition_history",entity:{base:"sys",name:"transition_history"},caption:"Transition History",captionPlural:"Transition History Items",addCaption:"Add Transition History",newCaption:"New Transition History",allowPurge:!0,gridDescriptorField:"createdDate",report:!0,reportOptions:{joins:[{parent:"id",child:"object_id"},{parent:"context_yellowfin_username",child:"context_yellowfin_username"}]},audit:!1,acl:i(121068),aclHierarchy:i(202402),grids:i(208133),model:function(){return i(279309)},collection:function(){return i(409511)},fields:[{field:"user",type:"user",caption:"User",kind:"system"},{field:"transition",type:"workflowTransition",caption:"Step",kind:"system",typeOptions:{entity:"sys/transition",textField:"name"}},{field:"transitionName",type:"textbox",caption:"Original Step",kind:"system"},{field:"stateFrom",type:"workflowState",caption:"Status From",kind:"system",typeOptions:{entity:"sys/state",textField:"name"}},{field:"stateFromName",type:"textbox",caption:"Status From Name",kind:"system"},{field:"stateFromDescription",type:"textbox",caption:"Status From Description",kind:"system"},{field:"stateFromPrimaryState",type:"picklist",typeOptions:{picklistName:"primary_state_types"},caption:"Status From Status Type",kind:"system"},{field:"stateFromDefault",type:"checkbox",caption:"Status From Default Status",kind:"system"},{field:"stateTo",type:"workflowState",caption:"Status To",kind:"system",typeOptions:{entity:"sys/state",textField:"name"}},{field:"stateToName",type:"textbox",caption:"Status To Name",kind:"system"},{field:"stateToDescription",type:"textbox",caption:"Status To Description",kind:"system"},{field:"stateToPrimaryState",type:"picklist",typeOptions:{picklistName:"primary_state_types"},caption:"Status To Status Type",kind:"system"},{field:"stateToDefault",type:"checkbox",caption:"Status To Default Status",kind:"system"},{field:"dateOfTransition",type:"datetime",caption:"Start Date",kind:"system",excludeFromRedact:!0},{field:"endDate",type:"datetime",caption:"End Date",kind:"system"},{field:"durationCalendarDays",type:"textbox",caption:"Duration Calendar Days",kind:"system"},{field:"transitionReason",type:"textbox",caption:"Reason",kind:"system"},{field:"objectType",type:"code",kind:"system",caption:"Object Type",excludeFromRedact:!0},{field:"objectId",type:"id",kind:"hidden-editable",caption:"Object ID",excludeFromRedact:!0},{field:"workflowId",type:"workflowName",caption:"Workflow Name",kind:"system"},{field:"workflowName",type:"textbox",caption:"Original Workflow Name",kind:"system"},{field:"durationBusinessDays",type:"textbox",caption:"Duration Business Days",kind:"system"},{field:"createdFiscalYear",type:"number",caption:"Start Fiscal Year",kind:"system",typeOptions:{format:"0000"}},{field:"createdFiscalMonth",type:"number",caption:"Start Fiscal Month",kind:"system"},{field:"createdFiscalWeek",type:"number",caption:"Start Fiscal Week",kind:"system"},{field:"createdFiscalQuarter",type:"number",caption:"Start Fiscal Quarter",kind:"system"},{field:"closedFiscalYear",type:"number",caption:"End Fiscal Year",kind:"system",typeOptions:{format:"0000"}},{field:"closedFiscalMonth",type:"number",caption:"End Fiscal Month",kind:"system"},{field:"closedFiscalWeek",type:"number",caption:"End Fiscal Week",kind:"system"},{field:"closedFiscalQuarter",type:"number",caption:"End Fiscal Quarter",kind:"system"}]})},546776:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"view_data_settings",caption:"Translations",permission:"translation",options:[{caption:"View",sequence:2,disabled:!0,permission:"view_translation"},{caption:"Create",sequence:1,disabled:!0,permission:"create_translation"},{type:"group",permission:n.getEditGroupPermissionCode("translation"),caption:"Edit",sequence:3,options:[{permission:"edit_translation",caption:"Save",tooltip:"Edit translations"}]},{caption:"Remove",sequence:4,disabled:!0,permission:"remove_translation"}]}]},641582:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Translations",roles:["view_translation"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"Create Translations",roles:["create_translation"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Translations",roles:["edit_translation"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Translations",roles:["remove_translation"],actions:["remove"],conditions:[]}).value()},544665:e=>{"use strict";var t={displayFields:["groupName","subgroupName","key"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{changes:{excludeFields:["id"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},792444:(e,t,i)=>{"use strict";i(874423),e.exports=[{cacheKey:"permCaptionTranslations",condition:function(e){return"captions"===e.subgroupName&&"sys/permission"===e.groupName},cacheBustEventHandler:i(11718),query:{groupName:"sys/permission",subgroupName:"captions"}},{cacheKey:"permTooltipTranslations",condition:function(e){return"tooltip"===e.subgroupName&&"sys/permission"===e.groupName},cacheBustEventHandler:i(444504),query:{groupName:"sys/permission",subgroupName:"tooltip"}},{cacheKey:"dynamicEntityGeneralTranslationsUpdate",condition:function(e){return!!e.id&&"general"===e.subgroupName},cacheBustEventHandler:i(738876),query:{subgroupName:"general"}},{cacheKey:"dynamicEntityActionTranslationsUpdate",condition:function(e){return!!e.id&&"actions"===e.subgroupName},cacheBustEventHandler:i(292420),query:{subgroupName:"actions"}},{cacheKey:"addRemovePicklistTranslations",condition:function(e){return["picklist_type","picklist"].includes(e.groupName)},triggerOnSaveRemove:!1,cacheBustEventHandler:i(80783),query:null},{cacheKey:"notificationTranslations",condition:function(e){return"sys/notification"===e.groupName},triggerOnSaveRemove:!1,cacheBustEventHandler:i(721421)}]},292420:(e,t,i)=>{"use strict";var n=i(96190),a=i(349451);e.exports=function(e){var t=e.dataFetched;n.isEmpty(t)||a.updateDynamicEntitySubgroupTranslations(t,"actions")}},738876:(e,t,i)=>{"use strict";var n=i(96190),a=i(349451);e.exports=function(e){var t=e.dataFetched;n.isEmpty(t)||a.updateDynamicEntitySubgroupTranslations(t,"general")}},721421:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(96190),a=i(522609)();e.exports=function(e){var t=e.patchData,i=void 0===t?[]:t,r=n.filter(i,{locale:$appData.locale});if(!n.isEmpty(r)){var o=a.convertTranslationArrayToObject(r);n.merge($appData.translations,o)}}},444504:(e,t,i)=>{"use strict";var n=i(96190),a=i(522609)();e.exports=function(e){var t=e.dataFetched;if(!n.isEmpty(t)){var i=a.convertTranslationArrayToObject(t);a.updateObject($appData.translations["sys/permission"].tooltip,i["sys/permission"].tooltip)}}},11718:(e,t,i)=>{"use strict";var n=i(96190),a=i(522609)();e.exports=function(e){var t=e.dataFetched;if(!n.isEmpty(t)){var i=a.convertTranslationArrayToObject(t);a.updateObject($appData.translations["sys/permission"].captions,i["sys/permission"].captions)}}},80783:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(962062),i(426099),i(423500);var o=i(96190),s=i(522609)();e.exports=function(e){var t=e.patchData,i=e.dataFetched;if(o.isEmpty(t)){if(!o.isEmpty(i)){var n=s.convertTranslationArrayToObject(i);o.forEach(n,(function(e,t){s.updateObject($appData.translations[t],e)}))}}else{var a=$appData.user.locale,l=o.map(t,(function(e){return r(r({},e),{},{locale:a})})),d=s.convertTranslationRecords(l),c=$appData.translations;o.forEach(d,(function(e,t){o.isNil(e)?o.unset(c,t):o.set(c,t,e)}))}}},349451:(e,t,i)=>{"use strict";i(962062),i(202008),i(426099),i(874423),i(21699),i(428706);var n=i(96190),a=i(522609)();e.exports={updateDynamicEntitySubgroupTranslations:function(e,t){var i=n.map(n.cloneDeep($appData.dynamicEntities),"canon"),r=n.filter(e,(function(e){return n.includes(i,e.groupName)})),o=a.convertTranslationArrayToObject(r);n.each(i,(function(e){var i=n.get(o,"".concat(e,".").concat(t),{});!n.isEmpty($appData.translations[e]&&$appData.translations[e][t])&&!n.isEmpty(i)&&a.updateObject($appData.translations[e][t],i)}))}}},207263:e=>{"use strict";e.exports={"main-translations":{sortColumn:"key",sortOrder:"asc",columns:[{field:"groupName"},{field:"subgroupName"},{field:"key"},{field:"description"},{field:"value"},{field:"locale"}],defaultDynamicDataFilters:["locale","value"]}}},693950:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_translation",entity:{base:"sys",name:"translation"},caption:"Translation",captionPlural:"Translations",addCaption:"Add Translation",newCaption:"New Translation",gridDescriptorField:"description",acl:i(641582),aclHierarchy:i(546776),grids:i(207263),configurationExport:!0,configurationImport:!0,importTransformer:"translation",audit:i(544665),allowMetaDataHardDelete:!0,model:function(){return i(576556)},collection:function(){return i(94065)},fields:[{field:"compositeId",type:"textbox",kind:"hidden",caption:"Composite Id",dbIndex:!0,dbIndexType:"hash"},{field:"locale",type:"picklist",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable",dbIndex:!0,caption:"Language"},{field:"key",type:"textbox",kind:"editable",caption:"Key",dbIndex:!0},{field:"subgroupName",type:"textbox",caption:"Subgroup",kind:"editable",dbIndex:!0},{field:"groupName",type:"textbox",caption:"Group",kind:"editable",dbIndex:!0},{field:"value",type:"textbox",kind:"editable",caption:"Translation",minGridWidth:400,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/translation-value-cell-tmpl.dust"),"utf8")}},{field:"description",type:"textbox",kind:"system",caption:"Description"},{field:"features",type:"textbox[]",caption:"Features",kind:"hidden-searchable"}],cacheBustGroups:i(792444)})},242980:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_usage_rule",entity:{base:"sys",name:"usage_rule"},caption:"Usage Rule",captionPlural:"Usage Rules",addCaption:"Add Usage Rule",newCaption:"New Usage Rule",validation:i(62545),fields:[{field:"startYear",type:"number",caption:"Start Year",kind:"editable"},{field:"startMonth",type:"number",caption:"Start Month",kind:"editable"},{field:"endYear",type:"number",caption:"End Year",kind:"editable"},{field:"endMonth",type:"number",caption:"End Month",kind:"editable"},{field:"seatLimit",type:"number",caption:"Seat Limit",kind:"editable"},{field:"storageLimit",type:"number",caption:"Storage Limit",kind:"editable"},{field:"overagePricePerSeat",type:"decimal",caption:"Overage Price Per Seat",kind:"editable"},{field:"overagePricePerGB",type:"decimal",caption:"Overage Price Per GB",kind:"editable"},{field:"reportingOveragePrice",type:"decimal",caption:"Overage Reporting Price Per Seat",kind:"editable"},{field:"reportingUserLimit",type:"number",caption:"Overage Reporting Seat Limit",kind:"editable"}]})},62545:e=>{"use strict";e.exports={mandatory$:["startYear","startMonth"]}},254458:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",parentPermission:"view_system_settings",caption:"Usage Statistics",permission:"usage_statistic",disabled:!0,options:[{permission:"view_usage_statistic",caption:"View",tooltip:"View Usage Statistics",sequence:2,disabled:!0},{permission:"create_usage_statistic",caption:"Create",sequence:1,disabled:!0},{type:"group",permission:n.getEditGroupPermissionCode("usage_statistic"),caption:"Edit",sequence:3,disabled:!0,dependencies:["view_usage_statistic"],options:[{permission:"edit_usage_statistic",caption:"Save",disabled:!0,dependencies:["view_usage_statistic"]}]},{permission:"remove_usage_statistic",caption:"Remove",sequence:4,disabled:!0},{permission:"view_private_usage_statistic",caption:"View Private Usage Statistics",tooltip:"View Private Usage Statistics",sequence:5,disabled:!0}]}]},573716:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Usage Statistics",roles:["view_usage_statistic"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View Private Usage Statistics",roles:["view_private_usage_statistic"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{private:!0}}]}).required({name:"Create Usage Statistics",roles:["create_usage_statistic"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Usage Statistics",roles:["edit_usage_statistic"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Remove Usage Statistics",roles:["remove_usage_statistic"],actions:["remove"],conditions:[]}).value()},499324:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_usage_statistic",entity:{base:"sys",name:"usage_statistic"},caption:"Usage Statistic",captionPlural:"Usage Statistics",addCaption:"Add Usage Statistic",newCaption:"New Usage Statistic",acl:i(573716),aclHierarchy:i(254458),validation:i(316313),usageStatistics:[],model:function(){return i(185787)},collection:function(){return i(430934)},fields:[{field:"recordedDate",type:"datetime",caption:"Recorded Date",kind:"system"},{field:"category",type:"textbox",caption:"Category",kind:"system"},{field:"key",type:"textbox",caption:"Key",kind:"system"},{field:"dataset",type:"textbox",caption:"Dataset",kind:"system"},{field:"value",type:"number",kind:"system",caption:"Value"},{field:"entity",type:"textbox",kind:"system",caption:"Entity"},{field:"private",type:"yesno",kind:"system",caption:"Private"}]})},316313:e=>{"use strict";e.exports={mandatory$:["key","dataset","category","recordedDate"]}},478062:e=>{"use strict";e.exports=[{type:"group",caption:"User",parentPermission:"view_access_settings",permission:"view_user_settings",options:[{tooltip:"View User Details",permission:"view_user_details",caption:"View",sequence:1},{permission:"create_user",caption:"Create",tooltip:"Create a user",sequence:2,dependencies:["view_user_details"]},{permission:"edit_other_users_profile",caption:"Edit",tooltip:"Edit a user",sequence:3,dependencies:["view_user_details"]},{caption:"Remove",disabled:!0,sequence:4,permission:"remove_user"},{permission:"view_user_audit_log",caption:"View History",tooltip:"View actions done to a user's profile",dependencies:["view_user_details"],sequence:5},{permission:"view_user_activity_log",caption:"View Activity",tooltip:"View user activity for individual profiles under Settings -> Access -> Users",dependencies:["view_user_details"],sequence:6},{permission:"view_export_audit_log",caption:"View User Export Activity",tooltip:"View user export activity",dependencies:["view_user_activity_log"],sequence:7},{permission:"view_import_audit_log",caption:"View User Import Activity",tooltip:"View user import activity",dependencies:["view_user_activity_log"],sequence:8}]}]},8024:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(202008);var o=i(783796).fields,s=i(553604),l=o.reduce((function(e,t){return"id"===t.field||(e[t.field]=!1),e}),{});e.exports=s.initialize().filterPortalFields({joinFieldsWhitelist:["themeId__name"]}).filter({name:"view users details",roles:["view_user_details"],actions:["load","list"],conditions:[{attributes:{id:"{user.id}"}}],filters:r({lastLoginDate:!1,yellowfinUsername:!1,dateJoined:!1,service:!1,status:!1,userSpecificPermissionCodes:!1,deactivateJob:!1,accountDeactivationReminderJob:!1,userRoleId__filters:!1,userRoleId__filterOperator:!1,themeId__deletedDate:!1,email__name:!1,isPasswordExpired:!1},l)}).filter({name:"view users details",roles:["view_user_details"],actions:["load","list"],conditions:[{attributes:{"!id":"{user.id}"}}],filters:r({locale:!1,password:!1,signature:!1,active:!1,perm:!1,type:!1,portalUserSubType:!1,authenticatedBySession:!1,caseCaptureRedirect:!1,lastLoginDate:!1,yellowfinUsername:!1,dateJoined:!1,service:!1,status:!1,userSpecificPermissionCodes:!1,deactivateJob:!1,accountDeactivationReminderJob:!1,gridRowCount:!1,passwordExpiry:!1,userRoleId__filters:!1,userRoleId__filterOperator:!1,themeId__deletedDate:!1,email__name:!1,isPasswordExpired:!1},l)}).filter({name:"Edit own non profile fields",roles:["edit_other_users_profile"],actions:["save_new","save_existing"],conditions:[{attributes:{id:"{user.id}"}}],filters:{locale:!0,themeId:!0,signature:!0,phoneNumber:!0,caseCaptureRedirect:!0,gridRowCount:!0,password:!0,passwordExpiry:!0,passwordResetCode:!0,passwordResetSession:!0,salt:!0}}).required({name:"View System Users",roles:["access_system_users"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{type:"system"}}]}).required({name:"View Guest Users",roles:["view_guest_users"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{type:"guest"}}]}).required({name:"View Non-Portal Users",roles:["view_user"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{"!type":"portal"}}]}).required({name:"View Portal Users",roles:["access_portal_users"],actions:["load","list","save_new","save_existing","remove"],conditions:[{attributes:{type:"portal"}}]}).required({name:"View Other Portal User",roles:["view_other_portal_user"],actions:["load","list"],conditions:[{attributes:{type:"portal",id:"{!user.id}"}}]}).required({name:"Create Users",roles:["create_user"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Edit Users",roles:["edit_user"],actions:["save_new"],conditions:[{attributes:{"!id":null,"!type":"portal"}}]}).required({name:"Edit Portal Users",roles:["edit_portal_user"],actions:["save_new"],conditions:[{attributes:{"!id":null,type:"portal"}}]}).required({name:"Edit Own User Profile",roles:["edit_own_user_profile"],actions:["save_existing"],conditions:[{attributes:{id:"{user.id}"}}]}).required({name:"Edit Other Users Profile",roles:["edit_other_users_profile"],actions:["save_existing"],conditions:[{attributes:{"!id":"{user.id}"}}]}).required({name:"Remove Users",roles:["remove_user"],actions:["remove"],conditions:[]}).value()},341799:e=>{"use strict";var t=["password","yellowfinHash","yellowfinSalt","roles","rounds","perm","passwordResetSession","passwordResetCode","passwordExpiry","passwordExpiryReminder","lastLoginDate","deactivateJob","accountDeactivationReminderJob","id","when","perm.roles","createdBy","lastUpdatedBy","lastUpdatedDate"],i={displayFields:["name"]};e.exports={hiddenLogFilter:{field:"type",value:"guest"},cmd:{load:{viewed:{options:{reference:i}}},save:{created:{condition:{composite:"all",rules:[{path:"diff.id.updatedValue",comparator:"exists"}]},options:{changes:{excludeFields:t},reference:i}},updated:{options:{changes:{excludeFields:t},reference:i}},changed_password:{condition:{composite:"all",rules:[{path:"diff.password",comparator:"exists"}]},options:{changes:{excludeFields:t},reference:i}}}}}},90529:(e,t,i)=>{"use strict";i(962062),i(311927);var n=i(96190);e.exports={userName:function(e,t,i){i(null,n.map(t,(function(e){return n.compact([e.firstName,e.lastName]).join(" ")})))}}},754489:e=>{"use strict";e.exports={"main-users":{sortColumn:"name",sortOrder:"asc",columns:[{field:"name"},{field:"userRoleId"},{field:"status"},{field:"email"},{field:"nick"}],defaultDynamicDataFilters:["active","userRoleId","createdDate","lastUpdatedDate"]}}},462912:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_user",entity:{base:"sys",name:"user"},caption:"User Profile",captionPlural:"User Profiles",addCaption:"Add User Profile",newCaption:"New User Profile",customIselName:"userProfile",partiallyDynamic:!0,createPivotView:!0,pivotViewExtraColumns:["user_role_id"],gridDescriptorField:"name",acl:i(8024),aclHierarchy:i(478062),audit:i(341799),rules:i(496543),grids:i(754489),validation:i(702189),computeFunctions:i(90529),icon:"fa-user-o",includeInDataDictionary:!0,report:!1,usageStatistics:i(166043),esIndexRecordFilter:function(e){return"portal"!==e.type},model:function(){return i(291428)},collection:function(){return i(288723)},view:function(){return i(421226)},fields:[{field:"ssoUser",type:"checkbox",caption:"SSO User",kind:"editable"},{field:"nick",type:"textbox",caption:"User ID",kind:"editable",excludeFromSaveAndCopy:!0,dbIndex:!0,showOnPortal:!0},{field:"type",type:"picklist",caption:"Type",kind:"editable",typeOptions:{picklistName:"user_types"},dbIndex:!0,showOnPortal:!0},{field:"email",type:"email",typeOptions:{disableWhitelist:!0},caption:"Email",kind:"editable",excludeFromSaveAndCopy:!0,showOnPortal:!0,dbIndex:!0,esSort:["email._exact"]},{field:"phoneNumber",type:"phone-number",caption:"Phone Number",kind:"editable",excludeFromSaveAndCopy:!0},{field:"name",type:"textbox",caption:"Name",kind:"computed",kindOptions:{computeFunction:"userName"},excludeFromSaveAndCopy:!0},{field:"firstName",type:"textbox",caption:"First Name",kind:"editable",excludeFromSaveAndCopy:!0},{field:"lastName",type:"textbox",caption:"Last Name",kind:"editable",excludeFromSaveAndCopy:!0},{field:"service",type:"json",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"Service"},{field:"active",type:"yesno",caption:"Active",kind:"editable",dbIndex:!0,alwaysInApiSelectedFields:!0,showOnPortal:!0},{field:"when",type:"datetime",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"When"},{field:"confirmed",type:"checkbox",typeOptions:{allowNull:!0},kind:"hidden",caption:"Confirmed"},{field:"confirmcode",type:"textbox",kind:"hidden",caption:"Confirm Code"},{field:"salt",type:"textbox",kind:"hidden",caption:"Salt"},{field:"password",type:"textbox",caption:"Password",kind:"custom",kindOptions:{flags:{audit:!1,schema:!0,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"dateregistered",type:"datetime",kind:"hidden",caption:"Date Registered",excludeFromSaveAndCopy:!0},{field:"perm",type:"json",kind:"hidden",caption:"Permission",excludeFromSaveAndCopy:!0,showOnPortal:!0},{field:"locale",type:"picklist",caption:"Language",typeOptions:{picklistName:"supported_languages",filter:"existingLanguagesFilter"},kind:"editable-external",showOnPortal:!0},{field:"iterations",type:"number",caption:"Password Iterations",kind:"hidden"},{field:"keyLength",type:"number",caption:"Password Key Length",kind:"hidden"},{field:"digest",type:"textbox",caption:"Password Digest",kind:"hidden"},{field:"yellowfinHash",type:"textbox",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"Yellowfin Hash"},{field:"yellowfinSalt",type:"textbox",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"Yellowfin Salt"},{field:"yellowfinUsername",type:"textbox",kind:"system",caption:"Yellowfin Username",excludeFromSaveAndCopy:!0},{field:"signature",type:"texteditor",caption:"Signature",kind:"editable"},{field:"userRoleId",type:"picklistSelectizeApi",typeOptions:{picklistName:"user_roles"},caption:"User Role",kind:"editable",dbIndex:!0,esSort:["userRoleId__name._exactKeywordLowercase"],showOnPortal:!0},{field:"passwordResetSession",type:"textbox",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"Password Reset Session"},{field:"passwordResetCode",type:"textbox",kind:"hidden",excludeFromSaveAndCopy:!0,caption:"Password Reset Code"},{field:"passwordExpiry",type:"datetime",kind:"hidden",caption:"Password Expiry",showOnPortal:!0},{field:"isPasswordExpired",caption:"Password Expired",type:"yesno",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"passwordExpiryReminder",type:"textbox",kind:"hidden",caption:"Password Expiry Reminder"},{field:"lastLoginDate",type:"datetime",kind:"system",caption:"Last Login Date"},{field:"deactivateJob",type:"textbox",kind:"hidden",caption:"Deactivate Job"},{field:"accountDeactivationReminderJob",type:"textbox",kind:"hidden",caption:"Account Deactivation Reminder"},{field:"status",caption:"Status",type:"picklist",typeOptions:{picklistName:"user_status"},kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}},cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/status.dust"),"utf8")}},{field:"gridRowCount",type:"dropdown",typeOptions:{staticData:"globalConfig.gridRowCountOptions",useAppData:!0},kind:"editable",caption:"User Default Grid Row Count",excludeFromSaveAndCopy:!0},{field:"themeId",type:"picklistSelectizeApi",typeOptions:{picklistName:"themes"},caption:"Theme",kind:"editable-external",showOnPortal:!0,dbIndex:!0,esSort:["themeId__name._exactKeywordLowercase"]},{field:"caseCaptureRedirect",type:"picklist",typeOptions:{picklistName:"case_capture_redirect_options"},kind:"editable",caption:"Case Capture Redirect Option"},{field:"portalUserSubType",type:"picklist",caption:"Sub Type",kind:"editable",typeOptions:{picklistName:"portal_user_sub_types"}},{field:"authenticatedBySession",type:"id",caption:"Authenticated By Session",kind:"hidden"},{field:"isReturningPortalUser",type:"yesno",typeOptions:{allowNull:!0},caption:"Are you a returning user?",kind:"form-only"},{field:"createPortalUserAccount",type:"yesno",typeOptions:{allowNull:!0},caption:"Would you like to receive updates?",kind:"form-only"},{field:"portalUserRemainAnonymous",type:"yesno",typeOptions:{allowNull:!0},caption:"Would you like to remain anonymous?",kind:"form-only"},{field:"portalUserProvideEmail",type:"radio",typeOptions:{picklistName:"portal_user_provide_email",orientation:"horizontal"},caption:"Would you like to confidentially provide your email address?",kind:"form-only"},{field:"portalUserEmail",type:"email",typeOptions:{linkWithSystemUser:!1},caption:"Email Address",kind:"form-only"},{field:"portalUserUsername",type:"textbox",caption:"Username",kind:"form-only"},{field:"portalUserNewPassword",type:"secret",caption:"Enter Your New Password",kind:"form-only",typeOptions:{hideShowButton:!0,revealOnHoverAndFocus:!1,disableEncrypt:!0}},{field:"portalUserConfirmedPassword",type:"secret",caption:"Confirm Your New Password",kind:"form-only",typeOptions:{hideShowButton:!0,revealOnHoverAndFocus:!1,disableEncrypt:!0}},{field:"portalLoginUsernameEmail",type:"textbox",caption:"Username",kind:"form-only",typeOptions:{nameAttrValue:"username"}},{field:"portalLoginPassword",type:"secret",caption:"Password",kind:"form-only",typeOptions:{hideShowButton:!0,revealOnHoverAndFocus:!1,disableEncrypt:!0,isPassword:!0,nameAttrValue:"password"}},{field:"hasReportAccess",type:"yesno",caption:"Reporting Access",kind:"system"}],joins:[{referenceField:"userRoleId",table:"sys_user_role",fields:["name","filterOperator"]},{referenceField:"themeId",table:"sys_theme",fields:["name","deletedDate"]}]})},496543:(e,t,i)=>{"use strict";var n=i(522609)();e.exports={actionIsChangePassword:function(e){return"change_password"===e.action},isSystemUser:function(e){return n.isSystemUserId(e.id)},isLocalUser:function(e){return"local"===e.type},isConfidentialPortalUser:function(e){return"portal"===e.type&&"confidential"===e.portalUserSubType},isHotlineUser:function(e){return"hotline"===e.type},isActive:function(e){return!0===e.active},needsUsernameAndPassword:function(e){return"local"===e.type&&e.active&&(e.isPasswordExpired||null===e.lastLoginDate&&!e.passwordExpiry)},isReturningPortalUser:function(e){return!0===e.isReturningPortalUser},isNotReturningPortalUser:function(e){return!1===e.isReturningPortalUser},createPortalUserAccount:function(e){return!0===e.createPortalUserAccount},portalUserRemainAnonymous:function(e){return!0===e.portalUserRemainAnonymous},portalUserNotRemainAnonymous:function(e){return!1===e.portalUserRemainAnonymous},portalUserProvideEmail:function(e){return"yes"===e.portalUserProvideEmail},portalUserNotProvideEmail:function(e){return"no"===e.portalUserProvideEmail},portalUserAuthenticatedDuringSubmission:function(e){return!0===e.portalUserAuthenticated}}},166043:(e,t,i)=>{"use strict";var n=i(342141)("sys_user"),a=i(522609)();e.exports=[{category:"user",key:"activeUsers",query:function(e,t,i){a.countUsers(!0,e,i)}},{category:"user",key:"inactiveUsers",query:function(e,t,i){a.countUsers(!1,e,i)}},{category:"user",key:"activeUsersByRole",query:function(e,t,i){a.countActiveUsersByRole(e,i)}},{category:"user",key:"reportAccessUsers",query:n.countEntity({where:function(){this.where("sys_user.has_report_access",!0).andWhere("sys_user.active",!0)}})}]},702189:e=>{"use strict";e.exports={mandatory$:["locale","active","nick","userRoleId","type"],dependentMandatory$:[{condition:"actionIsChangePassword",fields:["oldPassword","password","confirmedPassword"]},{condition:"isLocalUser",fields:["email","firstName","lastName"]},{condition:"isPortalUser",fields:["portalUserSubType"]},{condition:"isConfidentialPortalUser",fields:["email"]},{condition:"isHotlineUser",fields:["ssoUser"]}],phoneNumber$:["phoneNumber"]}},44800:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().filterMarkForPurge().filterPurge().required({name:"View Own User Lists",roles:["view_own_user_list"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{createdBy:"{user.id}"}}]}).required({name:"View Others User Lists",roles:["view_others_user_list"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{createdBy:"{!user.id}"}}]}).required({name:"Create Own User Lists",roles:["create_own_user_list"],actions:["save_new"],conditions:[{attributes:{id:null,createdBy:"{user.id}"}}]}).required({name:"Create Others User Lists",roles:["create_others_user_list"],actions:["save_new"],conditions:[{attributes:{id:null,createdBy:"{!user.id}"}}]}).required({name:"Edit Own User Lists",roles:["edit_own_user_list"],actions:["save_existing"],conditions:[{attributes:{"!id":null,createdBy:"{user.id}"}}]}).required({name:"Edit Others User Lists",roles:["edit_others_user_list"],actions:["save_existing"],conditions:[{attributes:{"!id":null,createdBy:"{!user.id}"}}]}).required({name:"Remove Own User Lists",roles:["remove_own_user_list"],actions:["remove"],conditions:[{attributes:{"!id":null,createdBy:"{user.id}"}}]}).required({name:"Remove Others User Lists",roles:["remove_others_user_list"],actions:["remove"],conditions:[{attributes:{"!id":null,createdBy:"{!user.id}"}}]}).required({name:"CRUD Access",roles:["agent"],actions:["load","list","save_new","save_existing","remove"],conditions:[]}).required({name:"Edit and Delete Favorites list",roles:["edit_and_delete_favorites_list"],actions:["save_existing","remove"],conditions:[{attributes:{name:"Favorites"}}]}).value()},873985:e=>{"use strict";e.exports={"main-user-lists":{sortColumn:"name",sortOrder:"asc",columns:[{field:"name"},{field:"itemsCount"},{field:"createdDate"}]}}},675116:e=>{"use strict";e.exports=[{from:[],to:"/lists"}]},76264:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796),r={displayFields:["name"]};e.exports=n(a,{db:"default",table:"sys_user_list",entity:{base:"sys",name:"user_list"},api:{useGenericApi:!0},grids:i(873985),validation:i(451109),acl:i(44800),caption:"List",captionPlural:"Lists",addCaption:"Add List",newCaption:"New List",gridDescriptorField:"name",historyNav:i(675116),fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable"},{field:"itemsCount",type:"number",caption:"Items",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!1,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!0,gridVisible:!0,gridSortable:!1,searchVisible:!1,gridExportable:!0,reportable:!1}}}],audit:{cmd:{load:{viewed:{options:{reference:r}}},save:{created:{options:{reference:r}},updated:{options:{changes:{excludeFields:["id"]},reference:r}}},remove:{deleted:{options:{reference:r}}}}}})},451109:e=>{"use strict";e.exports={mandatory$:["name"]}},398406:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{permission:"view_user_role_settings",type:"group",caption:"User Role",parentPermission:"view_access_settings",options:[{permission:"view_user_role",caption:"View",tooltip:"View User Role",disabled:!0,sequence:1},{permission:"create_user_role",caption:"Create",tooltip:"Create a user role",sequence:2},{type:"group",permission:n.getEditGroupPermissionCode("user_role"),caption:"Edit",sequence:3,options:[{permission:"edit_user_role",caption:"Save",tooltip:"Edit a user role"}]},{permission:"remove_user_role",caption:"Remove",tooltip:"Remove a user role",sequence:4},{permission:"view_user_role_audit_log",caption:"View User Role History",tooltip:"View actions done to a user role",sequence:5}]}]},49728:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View User Roles",roles:["view_user_role"],actions:["load","list","save_existing","remove"],conditions:[]}).required({name:"View System User Roles",roles:["view_system_user_role"],actions:["load","list","save_existing","remove"],conditions:[{attributes:{system:!0}}]}).required({name:"View Locked Disabled User Roles",roles:["view_locked_disabled_user_role"],actions:["load","list","save_existing","save_new","remove"],conditions:[{attributes:{enabled:!1,locked:!0}}]}).required({name:"Create User Roles",roles:["create_user_role"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Locked User Roles",roles:["create_locked_user_role"],actions:["save_new"],conditions:[{attributes:{id:null,locked:!0}}]}).required({name:"Edit User Roles",roles:["edit_user_role"],actions:["save_new"],conditions:[{attributes:{"!id":null}}]}).required({name:"Edit Locked User Roles",roles:["edit_locked_user_role"],actions:["save_new"],conditions:[{attributes:{"!id":null,locked:!0}}]}).required({name:"Remove User Roles",roles:["remove_user_role"],actions:["remove"],conditions:[]}).required({name:"Remove Locked User Roles",roles:["remove_locked_user_role"],actions:["remove"],conditions:[{attributes:{locked:!0}}]}).value()},152559:e=>{"use strict";var t={displayFields:["name"]};e.exports={cmd:{load:{viewed:{options:{reference:t}}},save:{created:!0,updated:{options:{changes:{displayFields:["name","filterOperator"]},reference:t}}},remove:{deleted:{options:{reference:t}}}}}},488641:e=>{"use strict";e.exports={"main-user-roles":{sortColumn:"name",sortOrder:"asc",columns:[{field:"name"},{field:"description"}],defaultDynamicDataFilters:["createdDate","lastUpdatedDate"]}}},461420:e=>{"use strict";e.exports=[{from:["/settings/access/user-role/new"],to:"/settings/access/user-roles"},{from:[],to:"/settings/access/user-roles"}]},690920:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_user_role",entity:{base:"sys",name:"user_role"},configurationExport:!0,importTransformer:"user_role",caption:"User Role",captionPlural:"User Roles",addCaption:"Add User Role",newCaption:"New User Role",gridDescriptorField:"name",acl:i(49728),aclHierarchy:i(398406),grids:i(488641),audit:i(152559),validation:i(369893),rules:i(705479),historyNav:i(461420),usageStatistics:i(149075),model:function(){return i(906165)},collection:function(){return i(40568)},api:{writableFields:["permissions"]},fields:[{field:"name",type:"textbox",caption:"Name",kind:"editable",excludeFromSaveAndCopy:!0},{field:"description",type:"textarea",typeOptions:{charMaxTextArea:140},caption:"Description",kind:"editable"},{field:"system",type:"checkbox",caption:"System",kind:"system",excludeFromSaveAndCopy:!0},{field:"filters",type:"json[]",caption:"Filters",kind:"custom",kindOptions:{flags:{audit:!1,schema:!1,search:!1,apiWritable:!0,apiExternalWritable:!1,computedOnSave:!1,computedOnRead:!1,formVisible:!1,gridVisible:!1,gridSortable:!1,searchVisible:!1,gridExportable:!1,reportable:!1}}},{field:"filterOperator",type:"code",caption:"Filter Operator",kind:"editable",dbIndex:!0},{field:"yellowfinRoleCode",type:"code",caption:"Yellowfin Role Code",kind:"system"},{field:"locked",type:"checkbox",caption:"Locked",kind:"system",excludeFromSaveAndCopy:!0},{field:"enabled",type:"checkbox",caption:"Enabled",kind:"system",default:!0,excludeFromSaveAndCopy:!0}]})},705479:e=>{"use strict";e.exports={isLocked:function(e){return!0===e.locked}}},149075:(e,t,i)=>{"use strict";var n=i(342141)("sys_user_role");e.exports=[{category:"user_role",key:"totalUserRoles",query:n.countActiveEntity({where:function(){this.whereNot("sys_user_role.name","Anonymous")}})}]},369893:e=>{"use strict";e.exports={mandatory$:["name","filterOperator"]}},322331:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_user_specific_permission",entity:{base:"sys",name:"user_specific_permission"},search:!1,validation:i(332656),caption:"User Specific Permission",captionPlural:"User Specific Permissions",addCaption:"Add User Specific Permission",newCaption:"New Uesr Specific Permission",parents:[{entity:{base:"sys",name:"user"},field:"userId"},{entity:{base:"sys",name:"permission"},field:"permissionId"}],fields:[{field:"userId",type:"user",caption:"User",kind:"editable",dbIndex:!0},{field:"permissionId",type:"id",caption:"Permission Id",kind:"editable",dbIndex:!0}],joins:[{referenceField:"permissionId",table:"sys_permission",fields:["code"]}],audit:{child:!0,parentType:{base:"sys",name:"permission"},parentFieldId:"permissionId",allowNavigateTo:!0,cmd:{load:{viewed:!0},save:{created:!0,updated:{options:{changes:{excludeFields:["id"]}}}},remove:{deleted:!0}}}})},332656:e=>{"use strict";e.exports={mandatory$:["userId","permissionId"]}},122888:(e,t,i)=>{"use strict";var n=i(553604);e.exports=[{type:"group",caption:"Workflows",permission:"view_workflow_settings",parentPermission:"settings",options:[{type:"group",caption:"Workflow",permission:"workflow",sequence:1,options:[{permission:"view_dynamic_workflow",caption:"View Workflow Settings",tooltip:"View the Workflow settings page",sequence:1},{permission:"create_dynamic_workflow",caption:"Create",tooltip:"Add Workflow",sequence:2,dependencies:["view_dynamic_workflow"]},{type:"group",permission:n.getEditGroupPermissionCode("workflow"),caption:"Edit",sequence:3,dependencies:["view_dynamic_workflow"],options:[{permission:"edit_dynamic_workflow",caption:"Save",tooltip:"Edit Workflow",dependencies:["view_dynamic_workflow"]}]},{permission:"remove_dynamic_workflow",caption:"Remove",tooltip:"Delete Workflow and/or its Statuses and Steps",sequence:4,dependencies:["view_dynamic_workflow"]}]}]}]},166846:(e,t,i)=>{"use strict";var n=i(553604);e.exports=n.initialize().required({name:"View Workflow Records",roles:["view_dynamic_workflow_records"],actions:["load","list"],conditions:[]}).required({name:"View Workflow Settings",roles:["view_dynamic_workflow"],actions:["save_new","save_existing","remove"],conditions:[]}).required({name:"Create Workflow",roles:["create_dynamic_workflow"],actions:["save_new"],conditions:[{attributes:{id:null}}]}).required({name:"Create Workflow",roles:["create_dynamic_workflow"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!1}}]}).required({name:"Edit Workflow",roles:["edit_dynamic_workflow"],actions:["save_existing"],conditions:[{attributes:{"!id":null,sysSubmitted:!0}}]}).required({name:"Remove Workflow",roles:["remove_dynamic_workflow"],actions:["remove"],conditions:[]}).required({name:"Save/Delete Hard Locked Workflow",roles:["save_delete_hard_locked_workflow"],actions:["save_new","save_existing","remove"],conditions:[{attributes:{hardLocked:!0}}]}).value()},646313:e=>{"use strict";var t={displayFields:["name"]};e.exports={allowNavigateTo:!0,cmd:{load:{viewed:{options:{reference:t}}},save:{created:{options:{reference:t}},updated:{options:{reference:t,changes:{excludeFields:["id"]}}},activated:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"neq",value:"active"},{path:"diff.status.updatedValue",comparator:"eq",value:"active"}]},options:{reference:t}},saved_as_inactive:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"eq",value:"draft"},{path:"diff.status.updatedValue",comparator:"eq",value:"inactive"}]},options:{reference:t}},deactivated:{condition:{composite:"all",rules:[{path:"diff.status.originalValue",comparator:"neq",value:"draft"},{path:"diff.status.updatedValue",comparator:"eq",value:"inactive"}]},options:{reference:t}}},remove:{deleted:{options:{reference:t}}}}}},152299:(e,t,i)=>{"use strict";var n=i(405350);e.exports={entityName:n.getEntityNameFn("entityId")}},25263:e=>{"use strict";e.exports={"main-workflows":{sortColumn:"name",sortOrder:"asc",excludeColumns:["datePurged","pendingPurgeDate","purgeReason","excludeFromSuggestedLinks"],columns:[{field:"name"},{field:"entityId"},{field:"description"},{field:"status"}],defaultDynamicDataFilters:["status","createdDate","lastUpdatedDate"]}}},938962:e=>{"use strict";e.exports=[{from:[],to:"/settings/workflow/custom-workflows"}]},829294:(e,t,i)=>{"use strict";var n=i(648160),a=i(783796);e.exports=n(a,{db:"default",table:"sys_workflow",entity:{base:"sys",name:"workflow"},bypassValidationOnDraft:!0,caption:"Workflow",captionPlural:"Workflows",addCaption:"Add Workflow",newCaption:"New Workflow",gridDescriptorField:"name",api:{useGenericApi:!0},acl:i(166846),aclRolesForCopy:["edit_dynamic_workflow"],aclHierarchy:i(122888),audit:i(646313),grids:i(25263),computeFunctions:i(152299),validation:i(487399),historyNav:i(938962),rules:i(921833),importTransformer:"workflow",configurationExport:!0,exportTransformer:"workflow",copyPostAction:"workflow",usageStatistics:i(197793),staticFieldWorkflows:[i(392041)],model:function(){return i(364894)},fields:[{field:"entityId",type:"entityPicklist",caption:"Record Type",kind:"editable",typeOptions:{filter:"workflowEntitiesFilter",canCreate:!1,defaultSorting:!1,defaultEntityCanon:"sys/case"}},{field:"entityName",type:"textbox",caption:"Entity Name",kind:"computed",kindOptions:{computeFunction:"entityName"}},{field:"conditionId",type:"id",caption:"Condition ID",kind:"hidden-editable",excludeFromSaveAndCopy:!0},{field:"name",type:"textbox",caption:"Name",kind:"editable"},{field:"description",type:"textarea",caption:"Description",kind:"editable",typeOptions:{charMaxTextArea:250}},{field:"defaultStateId",type:"workflowState",caption:"Status Type",kind:"system",excludeFromSaveAndCopy:!0,excludeFromAutofill:!0,typeOptions:{entity:"sys/state",textField:"name"}},{field:"status",type:"picklist",caption:"Status",typeOptions:{picklistName:"workflow_statuses"},kind:"editable",excludeFromRedact:!0,excludeFromSaveAndCopy:!0,cellTemplate:function(e){return e.readFileSync("".concat("/","/cell-templates/workflow-status-cell-tmpl.dust"),"utf8")}},{field:"entStatusField",caption:"Entity Status Field",type:"textbox",kind:"system"},{field:"entDateField",caption:"Entity Date Field",type:"textbox",kind:"system"},{field:"entSetByField",caption:"Entity Set By Field",type:"textbox",kind:"system"},{field:"entReasonField",caption:"Entity Reason Field",type:"textbox",kind:"system"}]})},921833:e=>{"use strict";e.exports={isSetEntityId:function(e){return!!e.entityId}}},392041:e=>{"use strict";e.exports={name:"workflow-status-workflow",field:"status",entity:{zone:void 0,base:"sys",name:"workflow"},values:[{value:"draft",indicator:"default"},{value:"inactive",indicator:"default"},{value:"active",indicator:"success"},{value:"pending_changes",indicator:"warning"}],strict:!0,transitions:[{id:"workflow-create",from:[null,void 0],to:["draft","inactive","active","pending_changes"]},{id:"workflow-activate",caption:"Activate Workflow",from:["draft","inactive"],to:"active"},{id:"workflow-deactivate",caption:"Deactivate Workflow",from:["draft","active"],to:"inactive"},{id:"workflow-edit",caption:"Edit Workflow",from:"active",to:"pending_changes"},{id:"workflow-publish-changes",caption:"Publish Changes",from:"pending_changes",to:"active"}]}},197793:(e,t,i)=>{"use strict";var n=i(342141)("sys_workflow");e.exports=[{category:"workflows",key:"totalActiveWorkflows",query:n.countActiveEntity({where:function(){this.where("status","active")}})},{category:"workflows",key:"totalInactiveWorkflows",query:n.countActiveEntity({where:function(){this.where("status","inactive")}})}]},487399:e=>{"use strict";e.exports={mandatory$:["name"],pattern$:[{fields:["name"],pattern:"[a-zA-Z0-9]",code:"atLeastOneLetterOrNumber$"}]}},58565:(e,t,i)=>{"use strict";var n=i(96190);e.exports={getOperators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"es";return n.get(this,"operators.".concat(e),{})},includeInDataForm:!0}},167590:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var s=i(96190),l=i(18063),d=i(447578),c=i(58565),u=i(703114),p=u.es,f=u.db;function h(e){var t=e.compareFn;return{getFieldName:function(e){return e.field},getFunc:function(e){var i=this;return function(n){var a=n[i.getFieldName(e)],r=!1!==e.value&&"false"!==e.value;return t(a,r)}}}}e.exports=d.extend(c,{db:{joiType:"boolean",type:function(e,t){var i=s.snakeCase(t.field);return e.boolean(i)},beforeSave:function(e,t,i){var n;return"string"==typeof t&&("true"===t?t=!0:"false"===t?t=!1:s.isUndefined(t)||(t=null)),!0!==(null==i||null===(n=i.fieldDef)||void 0===n?void 0:n.allowNull)&&!0!==t&&(t=!1),"oracledb"!==e?t:!0===t?1:!1===t?0:void 0},afterRead:function(e,t){return s.isString(t)?"true"===t||"1"===t?t=!0:"false"===t||"0"===t?t=!1:s.isUndefined(t)||(t=null):s.isNumber(t)&&(t=1===t),t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=s.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}}},es:{mapping:{type:"boolean",fields:{_exact:{type:"boolean"}}}},operators:{es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.must({term:o({},t,e.value)})}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({term:o({},t,e.value)})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({exists:{field:t}})}},contains:r(r({},p.containsFormatted),{},{ui:!1}),does_not_contain:r(r({},p.doesNotContainFormatted),{},{ui:!1})},obj:{is:h({compareFn:function(e,t){return!!e==!!t}}),is_not:h({compareFn:function(e,t){return!!e!=!!t}})},db:{is:f.is,is_not:f.isNot}},coerce:function(e){return d.coercion.anyToBoolean(e)},format:function(e,t){return!0===e?t.translateKey({key:"true"}):!1===e?t.translateKey({key:"false"}):""},yellowfin:{customDataType:"com.hof.mi.custom.format.BooleanFormatter",convertedDataType:"BOOLEAN",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"BIT"},aggregationMethods:function(e){var t=["and","or","expression","mostRecent","first","atLeastOne"];return e?t.concat([]):t}})},495689:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(842762),i(102892),i(428706);var o=i(96190),s=i(376806),l=i(182116),d=i(447578),c=i(58565),u=l.getOperators("es");e.exports=d.extend(c,{db:{joiType:function(e,t){var i=d.getScale(t);return e.number().precision(i).invalid(1/0,-1/0)},type:function(e,t){var i=d.getPrecision(t),n=d.getScale(t),a=o.snakeCase(t.field);return e.decimal(a,i,n)},afterRead:function(e,t){return o.isString(t)?""===t.trim()?null:parseFloat(t):t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=o.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}},dbViewCastType:"numeric(15,6)"},es:{mapping:{type:"double"}},operators:{es:r(r({},u),{},{contains:r(r({},u.contains),{},{ui:!1}),does_not_contain:r(r({},u.does_not_contain),{},{ui:!1})}),obj:l.getOperators("obj"),db:l.getOperators("db")},coerce:function(e){return d.coercion.anyToNumber(e)},format:function(e,t){if(o.isString(e)&&(e=Number(e)),!o.isNumber(e)||o.isNaN(e))return"";var i=null==t?void 0:t.fieldDef,n=null==i?void 0:i.format;return n||(n=d.compileNumeralFormat({fieldDef:i,defaultFormat:t.globalOptions.defaultNumberFormat,defaultScaleFormat:t.globalOptions.defaultNumberScaleFormat})),s(e).format(n)},yellowfin:function(e){var t=e.fieldDef;return{customDataType:"com.hof.mi.custom.format.NumericFormatter",convertedDataType:"NUMERIC",fieldTypeCode:"MEASURE",dataTypeCode:"BIGINT",decimalPlaces:d.getScale(t)}},aggregationMethods:function(e){var t=["sum","average","median","expression","mostRecent","first","max","min","count"];return e?t.concat([]):t}})},990973:e=>{"use strict";e.exports={charMaxLength:1e4,charMinLength:0}},927554:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(962062);var r=i(96190),o=i(447578),s=i(18063),l=i(58565),d=i(703114),c=d.es,u=d.db,p=i(489256).getOperators("obj");e.exports=o.extend(l,{normalizeMultiValuePicklistEntries:!0,db:{joiType:function(e){return e.array().items(e.string().allow("")).sparse()},type:function(e,t){var i=e.client.config.client,n=r.snakeCase(t.field);return"pg"===i?e.specificType(n,"character varying[]"):e.text(n)},beforeSave:function(e,t){return t?(r.isArray(t)||(t=[t]),o.prepareJSONForDb(e,t)):t},afterRead:function(e,t){return o.parseJSON(e,t)}},es:{mapping:{type:"text",fields:{_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exact")}},operators:{es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i=r.map(e.value,(function(e){return{term:a({},t,e)}}));return s.must(i)}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i=r.map(e.value,(function(e){return{term:a({},t,e)}}));return s.mustNot(i)}},contains_exact_words:c.containsExactWordsFormatted,does_not_contain_exact_words:c.doesNotContainExactWordsFormatted},obj:p,db:{is:u.is,is_not:u.isNot}},coerce:function(e,t){return o.coercion.anyToArray(e,o.coercion.anyToString.bind(o.coercion),t)},yellowfin:{convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"},includeInDataForm:!1})},810279:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(376806),l=i(182116),d=i(447578),c=i(58565),u=l.getOperators("es");function p(e){return Math.round(parseFloat(e))}var f=d.extend(c,{db:{joiType:function(e){return e.number().integer().invalid(1/0,-1/0)},type:function(e,t){var i=o.snakeCase(t.field);return e.bigInteger(i)},beforeSave:function(e,t,i){return o.isString(t)||o.isNumber(t)?p(t):(o.isUndefined(t)||o.isNumber(t)&&!o.isNaN(t)||o.isFunction(t)||(t=null),t)},afterRead:function(e,t){return o.isString(t)?t?p(t):null:t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=o.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}},dbViewCastType:"bigint"},es:{mapping:{type:"long"}},operators:{es:r(r({},u),{},{contains:r(r({},u.contains),{},{ui:!1}),does_not_contain:r(r({},u.does_not_contain),{},{ui:!1})}),obj:l.getOperators("obj"),db:l.getOperators("db")},export:{format:function(e,t){return".xlsx"===t.exportType?null==e||"number"==typeof e?e:p(e):f.format(e,t)}},coerce:function(e){return d.coercion.anyToInteger(e)},format:function(e,t){var i;if(!o.isNumber(e)||o.isNaN(e))return"";var n=t.globalOptions.defaultIntegerFormat,a=(null==t||null===(i=t.fieldDef)||void 0===i?void 0:i.format)||n;return s(e).format(a)},yellowfin:function(e){var t,i=e.fieldDef;return{customDataType:"com.hof.mi.custom.format.NumericFormatter",convertedDataType:"NUMERIC",fieldTypeCode:"MEASURE",dataTypeCode:"BIGINT",formatterParameterMap:{DECIMALPLACES:0,THOUSANDSEPARATOR:"0000"!==(null==i||null===(t=i.typeOptions)||void 0===t?void 0:t.format)}}},aggregationMethods:function(e){var t=["sum","average","median","expression","mostRecent","first","max","min","count"];return e?t.concat([]):t}});e.exports=f},550794:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(426099),i(938781),i(842762),i(428706);var r=i(96190),o=i(447578),s=i(703114),l=s.es,d=s.obj,c=s.db,u=i(58565),p=i(18063);e.exports=o.extend(u,{db:{joiType:function(e){return e.string().allow("")},type:function(e,t){var i=r.snakeCase(t.field);return e.text(i)},beforeSave:function(e,t){if(r.isNumber(t)&&(t=t.toString()),r.isArray(t)||r.isPlainObject(t))return o.prepareJSONForDb(e,t,!0);if(r.isString(t)){var i=r.trim(t);if(""!==i)return i}return null}},ui:{cellTemplate:function(){return i(664127)},gridConfiguration:{dataFilterComponent:function(){return i(883605)},dataFilterOperators:{contains_exact_words:{getCaption:function(e){return e.translateKey("contains")},getFilterData:function(e){return{operator:"contains_exact_words",fieldValues:[e.value]}}}}}},es:{mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_exactWords:{type:"text",analyzer:"standard"}}},highlight:{fragment_size:70,number_of_fragments:8},sort:function(e){return"".concat(e.fieldDef.field,"._exactKeywordLowercase")}},operators:{es:{is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return p.must({term:a({},t,(e.value||"").toLowerCase())})}},is_not:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return p.mustNot({term:a({},t,(e.value||"").toLowerCase())})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return p.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return p.must({exists:{field:t}})}},contains:l.containsLanguageFormatted,contains_exact_words:l.containsExactWordsFormatted,does_not_contain:l.doesNotContainLanguageFormatted,does_not_contain_exact_words:l.doesNotContainExactWordsFormatted},obj:{is:d.is,is_not:d.isNot,is_empty:d.isEmpty,is_not_empty:d.isNotEmpty},db:{is:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.where(t,"ilike",i)}}},is_not:c.isNot,is_empty:c.isEmpty,is_not_empty:c.isNotEmpty}},coerce:function(e,t){return o.coercion.anyToString(e,t)},yellowfin:{customDataType:"com.hof.mi.custom.format.TextFormatter",convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"},aggregationMethods:function(e){var t=["expression","mostRecent","first"];return e?t.concat([]):t}})},182116:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(962062),i(102892);var o=i(96190),s=i(18063),l=i(447578),d=i(58565),c=i(703114),u=c.es,p=c.db;function f(e){var t=e.compareFn;return{getFieldName:function(e){return e.field},getFunc:function(e){var i=this;return function(n){var a=n[i.getFieldName(e)],r=o.isArray(e.value)?o.map(e.value,Number):Number(e.value);return t(a,r)}}}}e.exports=l.extend(d,{operators:{es:{contains:u.containsFormatted,does_not_contain:u.doesNotContainFormatted,is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({term:r({},t,e.value)})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.mustNot({exists:{field:t}})}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.mustNot({term:r({},t,e.value)})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({exists:{field:t}})}},between:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({range:r({},t,{lte:e.value[1],gte:e.value[0]})})}},less_than_or_equals:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({range:r({},t,{lte:e.value})})}},less_than:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({range:r({},t,{lt:e.value})})}},greater_than_or_equals:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({range:r({},t,{gte:e.value})})}},greater_than:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return s.must({range:r({},t,{gt:e.value})})}}},obj:{is:f({compareFn:function(e,t){return e===t}}),is_not:f({compareFn:function(e,t){return e!==t}}),less_than_or_equals:f({compareFn:function(e,t){return!o.isNil(t)&&!o.isNil(e)&&e<=t}}),less_than:f({compareFn:function(e,t){return!o.isNil(t)&&!o.isNil(e)&&e<t}}),greater_than_or_equals:f({compareFn:function(e,t){return!o.isNil(t)&&!o.isNil(e)&&e>=t}}),greater_than:f({compareFn:function(e,t){return!o.isNil(t)&&!o.isNil(e)&&e>t}}),is_empty:f({compareFn:function(e){return o.isNil(e)}}),is_not_empty:f({compareFn:function(e){return!o.isNil(e)}}),between:f({compareFn:function(e,t){var i,n,r=(n=2,function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(i,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[0],l=r[1];return!(o.isNil(s)||o.isNil(l)||o.isNil(e))&&e>=s&&e<=l}})},db:{is:p.is,is_not:p.isNot,less_than_or_equals:p.lessThanOrEquals,less_than:p.lessThan,greater_than_or_equals:p.greaterThanOrEquals,greater_than:p.greaterThan,is_empty:p.isEmpty,is_not_empty:p.isNotEmpty,between:p.between}},coerce:function(e){return l.coercion.anyToNumber(e)}})},704567:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(426099),i(938781),i(842762),i(962062),i(428706);var r=i(96190),o=i(447578),s=i(58565),l=i(703114),d=l.es,c=l.obj,u=l.db,p=i(18063);e.exports=o.extend(s,{db:{joiType:function(e,t,i){return"oracledb"===i.client.config.client?e.string().allow("").max(4e3):e.string().allow("")},type:function(e,t){var i=e.client.config.client,n=r.snakeCase(t.field);return"oracledb"===i?e.string(n,4e3):e.text(n)},beforeSave:function(e,t){if(r.isNumber(t)||r.isBoolean(t))t=t.toString();else if(r.isArray(t)||r.isPlainObject(t))return o.prepareJSONForDb(e,t,!0);if(r.isString(t)){var i=r.trim(t);return""!==i?i:null}return r.isFunction(t)?t:null},afterRead:function(e,t){return""===t?null:t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=r.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}}},ui:{cellTemplate:function(){return i(664127)},gridConfiguration:{dataFilterComponent:function(){return i(883605)},dataFilterOperators:{contains_exact_words:{getCaption:function(e){return e.translateKey("contains")},getFilterData:function(e){return{operator:"contains_exact_words",fieldValues:[e.value]}}},contains:{getCaption:function(e){return e.translateKey("contains")},getFilterData:function(e){return{operator:"contains",fieldValues:[e.value]}}}}}},es:{mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"},_exactWords:{type:"text",analyzer:"standard"},_exact:{type:"keyword"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}},highlight:{fragment_size:140,number_of_fragments:4},sort:function(e){return"".concat(e.fieldDef.field,"._exactKeywordLowercase")}},operators:{es:{is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return p.must({term:a({},t,(e.value||"").toLowerCase())})}},is_not:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return p.mustNot({term:a({},t,(e.value||"").toLowerCase())})}},is_not_any:{conditionOperator:!0,ui:!1,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);Array.isArray(e.value)||(e.value=[e.value]);var i={terms:a({},t,e.value.map((function(e){return(e||"").toLowerCase()})))};return p.mustNot(i)}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return p.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return p.must({exists:{field:t}})}},contains:d.containsLanguageFormatted,contains_exact_words:d.containsExactWordsFormatted,does_not_contain:d.doesNotContainLanguageFormatted,does_not_contain_exact_words:d.doesNotContainExactWordsFormatted},obj:{is:c.is,is_not:c.isNot,is_empty:c.isEmpty,is_not_empty:c.isNotEmpty},db:{is:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.where(t,"ilike",i)}}},is_not:u.isNot,is_empty:u.isEmpty,is_not_empty:u.isNotEmpty}},coerce:function(e,t){return o.coercion.anyToString(e,t)},yellowfin:{customDataType:"com.hof.mi.custom.format.TextFormatter",convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"},aggregationMethods:function(e){var t=["expression","mostRecent","first"];return e?t.concat([]):t}})},428064:(e,t,i)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e){if(Array.isArray(e))return e}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(938781),i(523418),i(690906),i(16280),i(428706),i(327495),i(671761),i(962010),i(134782);var s=i(274692),l=i(96190),d=i(504542),c=i(40785),u=i(608758),p=i(680553),f=i(939994),h=i(93216),m=i(549373),g=c.getPicklistsConfig(),y=/^(\S+)\s*(.*)$/;e.exports=d.View.extend({model:null,template:null,initialize:function(e){var t=this;e=e||{},l.extend(this,e),this.templateName=this.template?this.template.templateName:null,this.handle="".concat(this.templateName,"-").concat(this.cid),this.id=this.handle,this.$el.attr("data-handle",this.handle),this.onInit&&this.onInit(e),this.model.on("readOnlyChange",(function(e){l.isFunction(t.onReadOnlyModeChange)&&t.onReadOnlyModeChange(e)}))},render:function(e,t){var i=this;t=t?t.bind(this):l.noop;var n=this.locals?this.locals():{};n.viewId=this.viewId||this.cid,u.render(this.template,n,(function(n,a){if(n)return t(n);setTimeout((function(){i.$el.html(a),s(e).html(i.$el),i.onRendered?i.onRendered(t):t()}),0)}))},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.View.prototype.remove.apply(this,t)},getValue:function(){return this.model.get(this.field)},getFormattedValue:function(e){return this.format?this.format(e,{data:this.model.attributes,globalOptions:$appData.globalConfig,fieldDef:this.fieldDef,translateKey:c.translateKey,picklistConfig:g,entityService:f}):e},addSubView:function(e,t){var i={parent:this.handle,reference:t?t.reference:null,group:t?t.group:null};return p.add(e,i)},removeSubViews:function(){return p.removeSubViews(this.handle),this},onEditableValueChange:function(){this.addToDirtyList()},addToDirtyList:function(){this.model.readOnly||this.model.addDirtyField(this.field)},removeFromDirtyList:function(){this.model.readOnly||this.model.removeDirtyField(this.field)},delegateEvents:function(e){if(e||(e=l.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),this.throttleEvents={},e)if(t){var i=(c=e[t].split(":"),u=2,o(c)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(c,u)||a(c,u)||n()),r=i[0],s=i[1];if(l.isFunction(r)||(r=this[r]),r){var d=t.match(y);this.delegate(d[1],d[2],r,s)}}var c,u;return this},delegate:function(e,t,i,n){var a=l.bind(i,this),r=n?this.getThrottleFunction(n,a):a;if(n){var o="".concat(e,"_").concat(i.name);this.throttleEvents[o]=r,this.$el.on("".concat(e,".delegateEvents").concat(this.cid),t,this.throttleEvents[o])}else this.$el.on("".concat(e,".delegateEvents").concat(this.cid),t,r);return this},getThrottleFunction:function(e,t){var i,r=o(i=e.split("--"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||a(i)||n(),s=r[0],d=r.slice(1),c="default"===s?$appData.globalConfig.defaultThrottle:s;if(!l.isEmpty(d)){var u={};return u.trailing=d.indexOf("trailing")>-1,u.leading=d.indexOf("leading")>-1,l.throttle(t,c,u)}return l.throttle(t,c)},getTypeOption:function(e,t){var i,n=l.get(this.fieldDef,"typeOptions.".concat(e));return i=n,l.isNil(i)||""===i||l.isPlainObject(i)&&l.isEmpty(i)||l.isArray(i)&&l.isEmpty(i)?l.isUndefined(t)?void 0:t:n},apiSearchEnabled:function(){return!h.hasRole("external_user")},getHideUserRolesQuery:function(){return f.get({base:"sys",name:"user"}).query("es").is_not_any("userRoleId__name",m)}})},101786:(e,t,i)=>{"use strict";var n=i(594013),a=i(509897),r=i(83119);e.exports=[{id:"properties",caption:"properties",View:n,default:!0},{id:"rules",caption:"rules",TabView:a,View:r,disableSave:!0,displayRule:"!isDataForm"}]},386859:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({features:{modelBindings:!0},className:"base-drag-component-tmpl",template:i(936941)})},794503:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(250113),i(426099),i(327495),i(725440),i(884864),i(757465),i(87745),i(938781);var o=i(96190),s=i(274692),l=i(122268),d=i(504542),c=i(610421),u=i(40785),p=i(608758),f=i(680553),h=i(809375),m=u.getPicklistsConfig();e.exports=d.View.extend({template:i(878337),className:"form-group base-form-component-tmpl",sizes:{medium:{labelWidth:"col-xs-12 col-sm-2",width:"col-xs-12 col-sm-3",readOnlyWidth:"col-xs-12 col-sm-7",hideCaptionOffset:"col-xs-offset-0 col-sm-offset-2",helpBlockOffset:"col-xs-offset-0 col-sm-offset-2"},large:{labelWidth:"col-xs-12 col-sm-4",width:"col-xs-12 col-sm-5",readOnlyWidth:"col-xs-12 col-sm-5",hideCaptionOffset:"col-xs-offset-0 col-sm-offset-4",helpBlockOffset:"col-xs-offset-0 col-sm-offset-4"}},features:{},$readOnly:null,Component:null,htmlWhiteList:["<br/>","<br />","<b>","</b>"],fieldIcons:i(448420),getCaption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.caption?e.caption:u.translateFieldCaption({fieldName:this.fieldDef.field,entCanon:this.model.dynamicEntityModel?this.model.dynamicEntityModel.get("canon"):this.model.getEntityCanon(),captionType:this.fieldDef.formCaption?"form-captions":"fields",escape:!1})},initialize:function(e){var t,i,n,a,r,s;e=e||{},o.extend(this,e),o.defaults(this,null===(t=this.parentElement)||void 0===t?void 0:t.defaultFieldsLayout,{size:"medium"}),this.entDef=this.model.getEntityDefinition(),this.fieldType=null===(i=this.fieldDef)||void 0===i?void 0:i.type,this.format=e.format||(null===(n=h[this.fieldType])||void 0===n?void 0:n.format),this.escape=null===(a=h[this.fieldType])||void 0===a?void 0:a.escape,this.size=this.fieldDef.size||this.size,this.field=this.fieldDef.field,this.templateName=this.template?this.template.templateName:null,this.handle="".concat(this.templateName,"-").concat(this.cid),this.id=this.handle,this.$el.attr("data-handle",this.handle),this.$el.attr("data-field-name",this.field),this.width=this.getWidth("width"),this.readOnlyWidth=this.getWidth("readOnlyWidth"),this.labelWidth=this.getWidth("labelWidth"),this.hideCaptionOffset=this.getWidth("hideCaptionOffset"),this.helpBlockOffset=this.getWidth("helpBlockOffset"),this.helpBlockWidth=this.getWidth("helpBlockWidth"),this.hideCaption=this.fieldDef.hideCaption||this.hideCaption,this.fieldDef.hideWhenReadOnly&&this.$el.attr("data-readonly","false"),this.shouldSetReadOnly()&&this.$el.addClass("readonly"),this.isSubmitOnly()&&this.$el.addClass("submit-only");var l=this.getDisplayRule();l&&(this.$el.attr("data-display-rule",l),!1===this.fieldDef.clearOnHide&&this.$el.data("clearOnHide",!1)),this.fieldDef.editRule&&this.$el.attr("data-edit-rule",this.fieldDef.editRule),u.hideByIntakeMethod({$el:this.$el,entDef:this.entDef,fieldDef:this.fieldDef,model:this.model,disableHideOnIntake:this.disableHideOnIntake});var d=this.getCaption(e);this.fieldDef.caption=d,this.fieldDef.ariaLabel=e.ariaLabel||d||null,this.hoverText=o.get(this,"fieldDef.typeOptions.helpText"),this.showOnPortal=o.isBoolean(null===(r=this.fieldDef)||void 0===r||null===(r=r.typeOptions)||void 0===r?void 0:r.showOnPortal)?this.fieldDef.typeOptions.showOnPortal:!(null===(s=this.fieldDef)||void 0===s||!s.showOnPortal);var c=this.model.get("translationLanguageByField");this.translationApplied=!(null==c||!c[this.field])&&this.fieldDef.enableTranslation,this.hideSubText=!!e.hideSubText,this.hideHelpText=!!e.hideHelpText,this.disableFieldIcons=this.fieldDef.disableFieldIcons,this.model.on("readOnlyChange",this.onModelReadOnlyChange,this),this.onInit&&this.onInit(e)},onModelReadOnlyChange:function(e){this.$el.hasClass("readonly")&&this.$el.find(".help-block").attr("data-readonly",!e)},restrictFieldEdit:function(){if(!o.isFunction(this.model.canEditRestrictedFields))return!1;var e=!0===this.fieldDef.restrictEdit&&!this.model.canEditRestrictedFields();return e&&this.$el.addClass("restrict-edit-field"),e},isSubmitOnly:function(){return!this.model.isNew()&&this.model.isActive()&&this.entDef.fieldHasFlag(this.fieldDef,"submitOnly")},shouldSetReadOnly:function(){var e=this.fieldDef.readOnly,t=this.entDef.fieldHasFlag(this.fieldDef,"iselComputedOnSave"),i=this.entDef.fieldHasFlag(this.fieldDef,"aggregateField"),n=this.isSubmitOnly(),a=this.restrictFieldEdit();return e||t||i||n||a},getHelpBlockText:function(){if(this.hideSubText)return null;var e;if(this.fieldDef.subText)e=u.escapedTranslateKey({groupName:o.replace(this.model.get("entity$"),"-/",""),subgroupName:"".concat(this.field,"-subText"),key:o.toLower(this.fieldDef.subText)});else if(this.fieldDef.helpBlock){var t=this.fieldDef.helpBlockContext||{};e=u.sanitizeHtml(u.translateKey(this.fieldDef.helpBlock,{context:r({entDef:this.entDef,fieldDef:this.fieldDef},t)}))}return e},locals:function(){var e=this.getFormattedValue({escape:!1}),t="".concat(this.width," ").concat(this.hideCaption?this.hideCaptionOffset:""),i=this.getHelpBlockText();i&&o.each(this.htmlWhiteList,(function(e){i=i.replace(new RegExp(o.escape(e)),e)}));var n=null;return this.hoverText&&!this.hideHelpText&&(n=o.isObject(this.hoverText)?u.translateKey(this.helpText,{missingTranslationValue:this.hoverText,context:this.hoverText.context}):u.translateKey({groupName:o.replace(this.model.get("entity$"),"-/",""),subgroupName:"".concat(this.field,"-helpText"),key:o.toLower(this.hoverText)},{missingTranslationValue:this.hoverText})),{entity:this.model.getEntityCanon(),model:this.model.attributes,isReadOnly:!this.Component,field:this.field,caption:this.fieldDef.caption,formCaption:this.fieldDef.formCaption,ariaLabel:this.fieldDef.ariaLabel,width:t,readOnlyWidth:this.readOnlyWidth,labelWidth:this.labelWidth,helpBlockText:i,helpBlockOffset:this.helpBlockOffset,helpBlockWidth:this.helpBlockWidth||t,translatedValue:e,value:this.model.get(this.field),parentElement:this.parentElement,hideCaption:this.hideCaption,hoverText:n,showOnPortal:this.showOnPortal,translationApplied:this.translationApplied}},onModelChange:function(){var e=this.getFormattedValue({escape:!0});this.$readOnly.html(e)},render:function(e,t){var i,n,a=this;o.isFunction(e)?i=e:o.isFunction(t)?(i=t,n=e):i=o.noop;var r=this.locals?this.locals():{};r.viewId=this.cid,this.setOuterWidth(),p.render(this.template,r,(function(e,t){if(e)return i.call(a,e);var r=function(e){a.enableFeatures(),n&&s(n).show(),i.call(a,e)};setTimeout((function(){a.$el.html(t),a.model.on("change:".concat(a.field),a.onModelChange,a),a.$readOnly=a.$('[name="read-only-value"]'),n&&(s(n).hide(),s(n).append(a.$el)),a.renderComponent((function(e){if(e)return i.call(a,e);a.onRendered?a.onRendered((function(e){if(e)return r(e);a.renderFieldIcons(r)})):a.renderFieldIcons(r)}))}),0)}))},renderFieldIcons:function(e){var t=this;if(this.disableFieldIcons)return e();var i=this.locals?this.locals():{};l.eachSeries(this.fieldIcons,(function(e,n){var a=e.locals?e.locals():{},s=r(r({},i),a);if(!o.isFunction(e.renderRule)||!e.renderRule(s,t.model,t.parentFormView))return n();p.render(e.template,s,(function(e,i){if(e)return n(e);t.$(".field-icon-container")&&t.$(".field-icon-container").append(i),t.$(".readonly-field-icon-container")&&t.$(".readonly-field-icon-container").append(i),n()}))}),(function(t){return e(t)}))},enableFeatures:function(){this.features=o.defaults({},this.features,{modelBindings:!1}),!0===this.features.modelBindings&&(this.features.modelBindings=c.modelBindings(this.$el,this.model))},setOuterWidth:function(){var e,t=this.componentWidth||"row";"tombstone"===(null===(e=this.parentElement)||void 0===e?void 0:e.type)&&(t="col-xs-4"),this.$el.addClass(t)},remove:function(){this.onRemove&&this.onRemove(),this.model.off("change:".concat(this.field),this.onModelChange,this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.View.prototype.remove.apply(this,t)},getComponentOpts:function(){return{field:this.field,model:this.model,fields:this.fields,format:this.format,escape:this.escape,fieldDef:this.fieldDef,viewId:this.cid,parentFormView:this.parentFormView,fetchOnRender:this.fetchOnRender,staticData:this.staticData,formComponent:this}},renderComponent:function(e){if(!this.Component)return e();var t=this.getComponentOpts();this.component=new this.Component(t);var i=this.$(".component-container");this.addSubView(this.component).render(i,e)},getFormattedValue:function(e){var t=this.model.get(this.field);return t=this.format?this.format(t,this.getFormatData()):t?o(t).toString():null,!0===e.escape&&(t=this.escape?this.escape(t):o.escape(t)),t},getFormatData:function(){return{data:this.model.attributes,globalOptions:$appData.globalConfig,fieldDef:this.fieldDef,translateKey:u.translateKey,picklistConfig:m}},addSubView:function(e,t){var i={parent:this.handle,reference:t?t.reference:null,group:t?t.group:null};return f.add(e,i)},getWidth:function(e){var t=this[e];"labelWidth"===e&&!0===this.labelOnTop&&(t="col-sm-12 label-top",this.helpBlockOffset="col-sm-offset-0");var i=this.fieldDef[e]||t;return i||(i=o.get(h[this.fieldType],["ui","sizes",this.size,e],o.get(this.sizes,[this.size,e]))),i},getDisplayRule:function(){var e,t;return void 0!==this.fieldDef.displayRule?t=this.fieldDef.displayRule:void 0!==this.fieldDef.displayRuleGroupId&&(t=this.fieldDef.displayRuleGroupId),void 0===t&&void 0!==(null===(e=this.parentElement)||void 0===e?void 0:e.defaultDisplayRule)&&(t=this.parentElement.defaultDisplayRule),t}})},810489:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280),i(428706),i(202008),i(426099),i(250113),i(423500),i(944114),i(962062),i(311927),i(196245);var o=i(96190),s=i(274692),l=i(122268),d=i(504542),c=i(450048),u=i(608758),p=i(680553),f=i(40785),h=i(98731),m=d.View.extend({template:i(521799),className:"base-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{},events:{"click .show-filter-options-btn":"onShowFilterOptionsMenuBtnClick","click .remove-filter-btn":"onRemoveFilterBtnClick"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.model,i=e.$filterOptionsMenuContainer,n=e.entDefs,a=void 0===n?[]:n,r=e.onRemoveFilterBtnClick,s=void 0===r?o.noop:r,l=e.disablePersistence,d=void 0!==l&&l,c=e.onMenuRemove,u=void 0===c?o.noop:c;if(!t)throw new Error("model required");if(!this.FilterOptionsMenuView)throw new Error("FilterOptionsMenuView required");this.model=t,this.$filterOptionsMenuContainer=i,this.disablePersistence=d,this.onMenuRemove=u,this.onRemoveFilterBtnClickFn=s,this.filterOptionContext={translateKey:f.translateKey,model:this.model},this.entDefs=a,this.templateName=this.template?this.template.templateName:null,this.handle="".concat(this.templateName,"-").concat(this.cid),this.id=this.handle,this.$el.attr("data-handle",this.handle),this.onInit&&this.onInit(e)},render:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.noop;l.series([function(i){var n=t.locals?t.locals():{};n.viewId=t.viewId||t.cid,u.render(t.template,n,(function(n,a){return n?i(n):setTimeout((function(){return t.$el.html(a),e&&s(e).append(t.$el),i()}))}))},function(e){t.loader=new c({showOnStart:!0,overlay:!0,hideIfParentLoaderShowing:!1}),t.addSubView(t.loader).render(t.$(".loader-container")).done(e)}],(function(e){return e?i(e):(t.selectedFilterOptions=t.getSelectedFilterOptions(),t.getAllFilterOptions((function(e,i){t.allFilterOptions=i,t.updateFilterSelection(),t.loader.hide()})),t.updateFilterLabel(),t.onRendered?t.onRendered(i):i())}))},addSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={parent:this.handle,reference:t.reference,group:t.group};return p.add(e,i)},removeSubViews:function(){return p.removeSubViews(this.handle),this},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.View.prototype.remove.apply(this,t)},onShowFilterOptionsMenuBtnClick:function(){this.showFilterOptionsMenu()},onRemoveFilterBtnClick:function(){this.onRemoveFilterBtnClickFn()},updateFilterLabel:function(){var e=this.model.get("caption");this.model.get("secondaryCaption")&&(e="".concat(e," (").concat(this.model.get("secondaryCaption"),")")),this.$(".filter-label").text(e)},updateFilterSelection:function(){this.$(".filter-selection").text(this.getSelectedFilterOptionsText())},onSelectedFilterOptionsChange:function(e){this.updateModelSelectedFilterOptions(e),this.updateFilterSelection();var t=this.disablePersistence||this.model.collection.isDefaultMode();this.model.save({},{disablePersistence:t,silent:!0}),this.model.collection.trigger("filter-options-change")},showFilterOptionsMenu:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,i=new this.FilterOptionsMenuView(r({template:this.filterOptionsTemplate,model:this.model,selectedOptions:this.selectedFilterOptions,allOptions:this.allFilterOptions,valueProperty:"value",textProperty:"caption",position:"left",parentTriggerElement:".show-filter-options-btn",onDoneClick:function(t){e.selectedFilterOptions=t,e.onSelectedFilterOptionsChange(t)},onRemove:function(t){e.onMenuRemove(t,{menuParentView:e})},toggleOptions:this.toggleOptions,onToggleChange:this.onToggleChange.bind(this)},this.customFilterOptionsMenuOpts)),n=this.$filterOptionsMenuContainer||this.$(".filter-options-menu-container");return n.css("visibility","hidden"),this.addSubView(i).render(n).done((function(){e.$filterOptionsMenuContainer&&f.positionOptionsMenu(e.$filterOptionsMenuContainer,e.$el),n.css("visibility",""),t()}))},getAllFilterOptions:function(){throw new Error("getAllFilterOptions not implemented")},getSelectedFilterOptions:function(){throw new Error("getSelectedFilterOptions not implemented")},addMissingFilterOptions:function(e){var t=this,i=o.filter(this.selectedFilterOptions,(function(t){return!o.find(e,{value:t})}));return o.forEach(i,(function(i){var n=o.isFunction(t.getMissingFilterCaption)?t.getMissingFilterCaption(i):i;e.push({caption:n,value:i})})),e},getNoSelectedFilterOptionsText:function(){return f.translateKey("all")},getSelectedFilterOptionsText:function(){var e=this;return o.isEmpty(this.allFilterOptions)?"":o.isEmpty(this.selectedFilterOptions)?this.getNoSelectedFilterOptionsText():o.map(this.selectedFilterOptions,(function(t){var i=e.getFilterOption(t);return i?i.caption:t})).join(", ")},getFilterOption:function(e){return o.find(this.allFilterOptions,{value:e})},updateModelSelectedFilterOptions:function(e){var t=this,i=this.model.getFilterData();o.each(i,(function(i){var n;if(o.isEmpty(e))n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[]});else{var a=t.model.getFilterOption(t.filterOptionName),s=r(r({},t.filterOptionContext),{},{values:e});n=r(r({},a.getFilterData(s)),{},{selectedFilterOptions:t.selectedFilterOptions})}o.assign(i,n)}))},getFieldDef:function(){var e,t=this.model.get("fieldName"),i=this.model.get("dataFilterUniqueId");if(o.each(this.entDefs,(function(n){var a=n.fields()[t];if(h.getDataFilterUniqueId(a)===i)return e=a,!1})),!e)throw new Error("No matching field def found for ".concat(t));return e},getSelectedFilterOptionName:function(){return this.model.getUniqueFilterData()[0].operator},onToggleChange:function(){throw new Error("onToggleChange not implemented")}}),g=m.extend;m.extend=function(e,t){var i=g.call(this,e,t);return i.prototype.className&&this.prototype.className&&(i.prototype.className="".concat(this.prototype.className," ").concat(i.prototype.className)),i},e.exports=m},295795:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(447578),r=i(955505);e.exports=a.extend(r,{name:"caseType",caption:"Case Type",db:{foreign:"sys_case",join:["caseType"]},escape:function(e){return n.escape(e)},format:function(e,t){var i=t.fieldDef.typeOptions.relatedEntityField||"otherEntityId",n=t.fieldDef.typeOptions.joinField||"caseType";return t.data["".concat(i,"__").concat(n)]||""}})},868167:(e,t,i)=>{"use strict";i(359809);var n=i(96190),a=i(325425),r=i(687895);e.exports=a.extend({Model:r,className:"case-card-tmpl",template:i(366293),onInit:function(){var e=arguments.length<=0?void 0:arguments[0];this.model=e.model||new r,this.formLocals=e.formLocals,this.automaticallyCreateCaseLink=e.automaticallyCreateCaseLink,this.isCaseUnavailable=e.isCaseUnavailable,this.isMissingLinkedCasePermissions=e.isMissingLinkedCasePermissions},locals:function(){var e=this.model,t=e&&e.getFormattedData(),i=(n.get(t,"datePurged")?"purged":n.get(t,"pendingPurgeDate")&&"scheduled-purge")||"Yes"===n.get(t,"canceled")&&"case-canceled",a=i||n.get(t,"status"),r=this.formLocals,o=this.automaticallyCreateCaseLink,s=this.isCaseUnavailable,l=this.isMissingLinkedCasePermissions,d=n.get(t,"caseNumber");n.assign(t,{isPurgedCancelled:i,caseSummaryFlag:a});var c={linkedCaseModel:e,linkedCaseData:t,entity$:"sys/case",caseNumber:d,automaticallyCreateCaseLink:o,isCaseUnavailable:s,viewAutomaticLinkRole:"view_automatic_link",isMissingLinkedCasePermissions:l};return n.assign(c,r),c}})},807361:(e,t,i)=>{"use strict";var n=i(883605);e.exports=n.extend({onInit:function(){this.filterOptionName="contains"}})},779031:(e,t,i)=>{"use strict";i(428706),i(962010),i(879432),i(533110),i(962062),i(580403),i(672890);var n=i(96190),a=i(274692),r=i(947432),o=i(608758),s=i(428064),l=i(40785),d=i(939994),c=i(250809),u=i(687895),p=i(370015),f=i(410403),h=i(621299),m=i(36742).create("field-type/case/component.js"),g=i(800030);e.exports=s.extend({field:null,selectize:null,fetchOnRender:!1,searchCaption:l.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_case"}),template:i(95947),className:"case-component-tmpl",onInit:function(e){this.caseNumberAttribute="".concat(e.field,"__caseNumber"),this.fetchOnRender=n.get(e,"fetchOnRender",this.fetchOnRender),this.showCanceledCases=n.get(e,"showCanceledRecords",!1),this.automaticallyCreateCaseLink=n.get(this,"fieldDef.typeOptions.automaticallyCreateCaseLink"),this.automaticallyCreateCaseLink&&(this.fetchOnRender=!0)},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel,automaticallyCreateCaseLink:this.automaticallyCreateCaseLink}},onSelectizeValueChange:function(e){if(n.isEmpty(e)&&(e=null),e!==this.model.get(this.field)){var t,i=this.selectize.options[e]||{},a=this.model.pickJoinData({attribute:this.field,joinedEntityData:i});a[this.field]=e,this.model.set(a);for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];(t=s.prototype.onEditableValueChange).call.apply(t,[this,e].concat(o))}},addSelectizeOption:function(e){this.selectize.addOption({id:e,caseNumber:this.model.get(this.caseNumberAttribute)||l.translateKey("missing_case_number"),createdDate:this.model.get("".concat(this.field,"__createdDate"))})},onReadOnlyModeChange:function(){this.selectize.clearOptions(!0);var e=this.model.get(this.field);this.addSelectizeOption(e)},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);n.isEmpty(t)&&this.addSelectizeOption(e),this.selectize.setValue(e,!0),this.fetchAndSetJoinData(n.noop)},buildTypeahead:function(){var e=this.$element.selectize(this.getSelectizeOptions());this.selectize=e[0].selectize,this.selectize.clearOptions();var t=this.model.get(this.field);t&&(this.addSelectizeOption(t),this.selectize.setValue(t,!0))},getIsCaseUnavailable:function(){return this.isCaseUnavailable},getIsMissingLinkedCasePermissions:function(){return this.isMissingLinkedCasePermissions},fetchAndSetJoinData:function(e){var t=this,i=t.model.get(t.field);return t.isCaseUnavailable=!1,i&&l.isGuid(i)?(t.linkedCaseModel=new u({id:i}),t.linkedCaseModel.fetch({success:function(i){t.model.set(t.caseNumberAttribute,i.get("caseNumber")),t.model.set("".concat(t.field,"__createdDate"),i.get("createdDate")),t.trigger("updated"),e()},error:function(i,n){403===n.status&&(t.isMissingLinkedCasePermissions=!0),t.isCaseUnavailable=!0,n.weAlreadyPreviouslyHandledThis=!0,m.error("Failed to load model:",n),e()}})):e()},onRendered:function(e){var t=this;this.$element=this.$('input[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this);var i=function(i){if(t.buildTypeahead(),t.selectize.on("change",t.onSelectizeValueChange.bind(t)),i)return e(i);e()};this.fetchOnRender||this.model.isNew()?this.fetchAndSetJoinData(i):i()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},buildQuery:function(e){var t=d.get({base:"sys",name:"case"}),i="case"===g.getEntityFromCanon(this.model.get("entity$")).name&&this.model.id,a=t.query("es"),r=a.and([c.getEntitiesAnyTermsMatchQuery({entities:t,searchText:e,applyDefaultFilters:!1}),i&&a.is_not("id",i),a.is_empty("pendingPurgeDate"),a.is_empty("datePurged")]),o=n.get(this,"fieldDef.filter");n.isString(o)&&(o=JSON.parse(o));var s={search:{query:a=a.and([r,o]).toQuery(),size:20,from:0},showInactiveRecords:!1,showCanceledCases$:this.showCanceledCases,highlightOperator$:"contains",lang:$appData.intakeTranslationLanguage};return this.fullQuery=s,s},loadFn:function(e,t){var i=this;if(e.length<1)return t();var r=i.buildQuery(e);a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/sys_case"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(r)}).done((function(a){var r=n.map(a.hits.hits,(function(t){var i=t._source,a=h.getHighlights(t,e);return n.assign(i,{highlightedFields:a}),i}))||[];i.selectize.clearOptions(),i.selectize.close(),t(r)}))},renderTemplate:function(e,t){var i="<div></div>";if(n.isEmpty(t))return i;var a=new u({id:t.id}),s=r(t.createdDate).fromNow();a.set(t);var l=a.getHighlightedData({escape:!0}),d={model:a.attributes,entity$:a.getEntityCanon(),formattedData:a.getFormattedData({attributes:t,escape:!0}),highlightedFields:l,item:t,ago:s,isCaseUnavailable:this.isCaseUnavailable,id:"".concat(this.field,":").concat(t.id)};return o.render(e,d,(function(e,t){if(e)return m.error(e.message),i;i=t})),i},getSelectizeOptions:function(){var e=this;return{valueField:"id",loadThrottle:"300",searchField:"caseNumber",dontFilter:!0,sortField:"caseNumber",preload:!1,create:!1,plugins:["remove_button"],placeholder:n.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,load:this.apiSearchEnabled()?this.loadFn.bind(this):null,highlight:!1,render:{item:e.renderTemplate.bind(this,p),option:function(t){return e.renderTemplate.call(e,f,t)}},onDropdownOpen:function(e){l.scrollTo(e)},onDropdownClose:function(){n.isEmpty(e.selectize.getValue())||e.selectize.clearOptions()}}}})},709242:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(779031)})},559518:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(794503),o=i(868167),s=i(680553);e.exports=r.extend({template:i(979154),Component:i(779031),onInit:function(){this.automaticallyCreateCaseLink=a.get(this,"fieldDef.typeOptions.automaticallyCreateCaseLink")},renderCardView:function(){var e=n.Deferred(),t=this,i=t.model.get(t.field);if(t.cardView&&s.remove(t.cardView),!i)return e.resolve();var a=t.component.getIsCaseUnavailable(),l=t.component.getIsMissingLinkedCasePermissions();return this.cardView=new o({fieldValue:i,field:t.field,model:i&&t.component.linkedCaseModel,isCaseUnavailable:a,isMissingLinkedCasePermissions:l,automaticallyCreateCaseLink:t.automaticallyCreateCaseLink,formLocals:r.prototype.locals.call(t)}),this.addSubView(t.cardView).render(t.$(".case-card-container")).done((function(){return e.resolve()})),e.promise()},onModelChange:function(){this.renderCardView()},onRendered:function(e){return this.component.on("updated",this.renderCardView,this),this.renderCardView(),e()}})},617640:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(656409);e.exports=a.extend(r,{name:"case",caption:"Case Selection",description:"Search for Case Numbers and select one to display. Only Case Numbers the editing user has access to will be returned.",includeInFormBuilder:!0,availableOnPortal:!1,db:{foreign:"sys_case",defaultJoinAttribute:"caseNumber",join:["owner","caseNumber","userBlacklist","pendingPurgeDate","datePurged","sysActive","sysSubmitted","createdDate","excludeFromPurge","confidential","createdBy","systemBlacklist","investigativeTeamMembers","createdDate","createdBySession","canceled","apiType","externalRecord","intakeMethod","reportedBy","reporterAccess","dateClosed","recordSource"],additionalJoinFilter:{availableForCaseFiltering:!0}},ui:{component:function(){return i(779031)},formComponent:function(){return i(559518)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(779031)}},image:function(){return i(738485)},dragComponent:function(){return i(709242)},configurationTabs:function(){return i(101786)},gridConfiguration:{dataFilterComponent:function(){return i(807361)},dataFilterOperators:{contains:{getCaption:function(e){return e.translateKey("contains")},getFilterData:function(e){return{operator:"contains",fieldValues:[e.value]}}}}},defaultValueOnPropertiesForm:!1,createForm:"case-properties-form",propertiesForm:"case-properties-form",icon:"fa-folder-o"},es:{esReverseJoinPriority:"high",mapping:{type:"keyword",fields:{_exact:{type:"keyword"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_sequenceNumber:{type:"text",analyzer:"sequence_number",search_analyzer:"standard"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(989597),escape:function(e){return n.escape(e)},format:function(e,t){var i;if(!e)return"";var n=t.fieldDef.field,a="editable"!==t.fieldDef.dynamicKind;return(null===(i=t.data)||void 0===i||null===(i=i.typeOptions)||void 0===i?void 0:i["".concat(n,"__caseNumber")])||t.data["".concat(n,"__caseNumber")]||a&&e||""}})},989597:(e,t,i)=>{"use strict";var n=i(96190),a=i(656409),r=i(494629).getOperators("es");e.exports={es:n.extend({},a.getOperators("es"),{contains:r.contains,does_not_contain:r.does_not_contain,contains_exact_words:r.contains_exact_words,does_not_contain_exact_words:r.does_not_contain_exact_words}),obj:a.getOperators("obj"),db:a.getOperators("db")}},146623:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500);var o=i(96190),s=i(810489),l=i(40785);e.exports=s.extend({FilterOptionsMenuView:i(892005),className:"checkbox-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!1},getAllFilterOptions:function(e){return e(null,[{caption:l.translateKey("all"),value:"all"},{caption:l.translateKey("empty"),value:"empty"},{caption:l.translateKey("yes"),value:"true"},{caption:l.translateKey("no"),value:"false"}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData();return e[0].operator?e[0].selectedFilterOptions:["all"]},updateModelSelectedFilterOptions:function(e){var t=this,i=e[0],n=this.model.getFilterData();o.forEach(n,(function(e){var n;if(i&&"all"!==i){var a="empty"===i?"is_empty":"is",s=t.model.getFilterOption(a),l=r(r({},t.filterOptionContext),{},{value:i});n=r(r({},s.getFilterData(l)),{},{selectedFilterOptions:t.selectedFilterOptions})}else n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[]});o.assign(e,n)}))}})},194478:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(274692),r=i(428064);e.exports=r.extend({field:null,$element:null,template:i(82116),className:"checkbox-component-tmpl",onInit:function(e){var t,i=this.model.get(this.field);n.isBoolean(i)||!0===(null==this||null===(t=this.fieldDef)||void 0===t?void 0:t.allowNull)||this.model.set(this.field,!1)},locals:function(){return{field:this.field,value:this.model.get(this.field),ariaLabel:this.fieldDef.ariaLabel}},events:{"change input":"onEditibleValueChange"},onEditibleValueChange:function(e){var t=this.model.get(this.field),i=a(e.currentTarget).prop("checked");if(i!==t){var n;this.model.set(this.field,i);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];(n=r.prototype.onEditableValueChange).call.apply(n,[this,e].concat(s))}},onModelChange:function(){!0===this.model.get(this.field)?this.$element.prop("checked",!0):this.$element.prop("checked",!1)},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)}})},891069:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(194478)})},248245:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(194478)})},965013:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(167590);e.exports=a.extend(r,{name:"checkbox",caption:"Checkbox",description:"Used to store a true or false value.",includeInFormBuilder:!0,ui:{component:function(){return i(194478)},formComponent:function(){return i(248245)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(194478)}},gridConfiguration:{dataFilterComponent:function(){return i(146623)},dataFilterOperators:{is:{getCaption:function(e){return e.translateKey("is")},getFilterData:function(e){return{operator:"is",fieldValues:[e.value]}}},is_empty:{getCaption:function(e){return e.translateKey("is_empty")},getFilterData:function(e){return{operator:"is_empty",fieldValues:[]}}}}},dragComponent:function(){return i(891069)},defaultValueOnPropertiesForm:!1,createForm:"base-properties-form",propertiesForm:"base-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-check-square"},operators:i(584652),escape:function(e){return n.escape(e)}})},584652:(e,t,i)=>{"use strict";var n=i(96190),a=i(167590);e.exports={es:n.extend({},a.getOperators("es"),{contains:null,does_not_contain:null}),obj:a.getOperators("obj"),db:a.getOperators("db")}},489256:(e,t,i)=>{"use strict";i(311927);var n=i(96190),a=i(447578),r=i(58565);e.exports=a.extend(r,{name:"code[]",caption:"Code Multiple",normalizeMultiValuePicklistEntries:!0,db:{joiType:function(e,t,i){return"pg"===i.client.config.client?e.array().items(e.string().allow("")).sparse():e.string().allow("")},type:function(e,t){var i=e.client.config.client,a=n.snakeCase(t.field);return"pg"===i?e.specificType(a,"character varying[]"):e.text(a)},beforeSave:function(e,t){return t?(n.isArray(t)||(t=[t]),a.prepareJSONForDb(e,t)):n.isUndefined(t)?void 0:null},afterRead:function(e,t){return""===t?null:n.isString(t)?a.parseJSON(e,t):(n.isArray(t),t)}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exact")}},operators:i(350301),escape:function(e,t){return n.escape(e)},coerce:function(e,t){return a.coercion.anyToArray(e,a.coercion.anyToString.bind(a.coercion),t)},format:function(e,t){return n.isArray(e)?e.join(", "):""},yellowfin:{convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"}})},350301:(e,t,i)=>{"use strict";i(202008),i(426099),i(962062),i(944114);var n=i(96190),a=i(18063),r=i(703114).es,o=i(70992);e.exports={es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i="string"==typeof e.value?[e.value]:e.value,r=i.length,o=n.filter(i,(function(e){return!!e})),s=n.map(o,(function(e){var i={};return i[t]=e,{match:i}}));return r===o.length||s.push(a.mustNot({exists:{field:t}})),a.must(s)}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i="string"==typeof e.value?[e.value]:e.value,r=n.map(i,(function(e){var i={};return i[t]=e,{match:i}}));return a.mustNot(r)}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return a.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return a.must({exists:{field:t}})}},includes:{conditionOperator:!0,ui:!1,getFieldName:function(e){return"".concat(e.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e),i="string"==typeof e.value?[e.value]:e.value,r=i.length,o=n.compact(i),s=n.map(o,(function(e){var i={};return i[t]=e,{match:i}}));return r===o.length?a.should(s):a.should([a.should(s),a.mustNot({exists:{field:t}})])}},contains:r.containsEnglishFormatted,does_not_contain:r.doesNotContainEnglishFormatted,contains_exact_words:r.containsExactWordsFormatted,does_not_contain_exact_words:r.doesNotContainsExactWordsFormatted},obj:{is:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var a="string"==typeof e.value?[e.value]:e.value,r=i[t.getFieldName(e)],o=n.intersection(a,r);return o.length===r.length&&o.length===a.length}}},is_not:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var a="string"==typeof e.value?[e.value]:e.value,r=i[t.getFieldName(e)],o=n.intersection(a,r);return o.length!==r.length||o.length!==a.length}}},is_empty:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var a=i[t.getFieldName(e)];return n.isEmpty(a)}}},is_not_empty:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var a=i[t.getFieldName(e)];return!n.isEmpty(a)}}}},db:{is_empty:{getQuery:function(e){var t=e.fieldStatement,i=e.entDef,n=e.fieldDef;return function(e){e.whereNull(t),n&&i.isDynamicField(n)?e.orWhere(t,"[]"):e.orWhere(t,"{}")}}},is_not_empty:{getQuery:function(e){var t=e.fieldStatement,i=e.entDef,n=e.fieldDef;return function(e){e.whereNotNull(t),n&&i.isDynamicField(n)?e.andWhereNot(t,"[]"):e.andWhereNot(t,"{}")}}},contains:{getQuery:function(e){var t=e.fieldStatement,i=e.value,n=e.entDef,a=e.fieldDef;return a&&n.isDynamicField(a)?o.db.contains.getQuery(e):function(e){return e.whereRaw("\n\t\t\t\t\t?? in (\n\t\t\t\t\t\tselect id\n\t\t\t\t\t\tfrom (select id, unnest(??) as val from ??) s1\n\t\t\t\t\t\twhere val ~* ?\n\t\t\t\t\t)\n\t\t\t\t",["".concat(n.table,".id"),t,n.table,"(?<=^|[^a-z])".concat(i,"(?=$|[^a-z])")])}}}}}},955505:(e,t,i)=>{"use strict";i(426099),i(938781),i(842762),i(428706);var n=i(96190),a=i(58565),r=i(447578);e.exports=r.extend(a,{name:"code",caption:"Code",includeInFormBuilder:!1,db:{joiType:function(e){return e.string().allow("")},type:function(e,t){var i=n.snakeCase(t.field);return e.string(i)},beforeSave:function(e,t){if(n.isNumber(t)&&(t=t.toString()),n.isString(t)){var i=n.trim(t);return""!==i?i:null}return n.isFunction(t)?t:n.isUndefined(t)?void 0:null},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=n.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_exactLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exactLowercase")}},coerce:function(e,t){return r.coercion.anyToString(e,t)},operators:i(70992),yellowfin:{customDataType:"com.hof.mi.custom.format.TextFormatter",convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"},aggregationMethods:function(e){var t=["expression","mostRecent","first"];return e?t.concat([]):t}})},70992:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099);var r=i(96190),o=r.isArray,s=r.filter,l=i(18063),d=i(703114),c=d.es,u=d.obj,p=d.db;e.exports={es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.must({term:a({},t,e.value)})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({exists:{field:t}})}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({term:a({},t,e.value)})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.must({exists:{field:t}})}},is_any:{conditionOperator:!0,ui:!1,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);o(e.value)||(e.value=[e.value]);var i=e.value.length,n=s(e.value,(function(e){return!!e})),r={terms:a({},t,n)};return n.length===i?l.must(r):l.should([r,l.mustNot({exists:{field:t}})])}},contains:c.containsEnglishFormatted,contains_partial:c.containsPartialFormatted,does_not_contain:c.doesNotContainEnglishFormatted,contains_exact_words:c.containsExactWordsFormatted,does_not_contain_exact_words:c.doesNotContainExactWordsFormatted},obj:{is:u.isExact,is_not:u.isNotExact,is_empty:u.isEmpty,is_not_empty:u.isNotEmpty},db:{is:p.is,is_not:p.isNot,is_empty:p.isEmpty,is_not_empty:p.isNotEmpty,contains:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.where(t,"~*","(?<=^|[^a-z])".concat(i,"(?=$|[^a-z])"))}}}}}},870608:(e,t,i)=>{"use strict";i(651478);var n=i(274692),a=i(96190),r=i(428064),o=i(40785);e.exports=r.extend({field:null,$element:null,template:i(369652),className:"color-component-tmpl",locals:function(){var e=a.get(this.fieldDef,"colorTooltip")?o.escapedTranslateKey({key:a.get(this.fieldDef,"colorTooltip")}):null;return{field:this.field,value:this.getValue()||this.defaultValue,ariaLabel:this.fieldDef.ariaLabel,colorTooltip:e}},onInit:function(){this.defaultValue=this.getDefaultValue(),this.model.isNew()&&!this.getValue()&&this.model.set(this.field,this.defaultValue)},onEditibleValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=t[0],s=n(o.currentTarget).val();a.isEmpty(s)&&(s=null),s!==this.getValue()&&(this.model.set(this.field,s),r.prototype.onEditableValueChange.apply(this,t))},onModelChange:function(){var e=this.getValue()||this.defaultValue;this.$element.val(e)},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},events:{"change input":"onEditibleValueChange"},getDefaultValue:function(){return a.get(this.fieldDef,"default")||$appData.globalConfig.defaultColor}})},697115:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(870608)})},387063:(e,t,i)=>{"use strict";var n=i(96190),a=i(794503),r=i(40785);e.exports=a.extend({template:i(19659),className:"form-group base-form-component-tmpl color-form-component-tmpl",Component:i(870608),width:"col-xs-12 col-sm-3",locals:function(){var e=a.prototype.locals.call(this),t=n.get(this.fieldDef,"colorTooltip")?r.escapedTranslateKey({key:n.get(this.fieldDef,"colorTooltip")}):null;return n.assign({colorTooltip:t},e)},onRendered:function(e){this.defaultValue=this.component.getDefaultValue(),this.model.on("change:".concat(this.field),this.onModelChanged,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChanged,this)},onModelChanged:function(){var e=this.model.get(this.field)||this.defaultValue;this.$(".color-preview").css("background-color",e)}})},569511:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(704567);e.exports=a.extend(r,{name:"color",caption:"Color",description:"Select and display a color input.",includeInFormBuilder:!0,ui:{component:function(){return i(870608)},formComponent:function(){return i(387063)},searchComponent:function(){return i(870608)},dragComponent:function(){return i(697115)},configurationTabs:function(){return i(101786)},cellTemplate:function(){return i(311361)},gridConfiguration:!1,createForm:"base-properties-form",propertiesForm:"base-properties-form",icon:"fa-paint-brush"},escape:function(e){return n.escape(e)},formatHtml:function(e){return e?'<span class="color-cell-tmpl" style="background-color:'.concat(e,';"></span>'):""},rules:null})},749261:e=>{"use strict";e.exports={is:{getQuery:function(e){var t=e.fieldStatement,i=e.value,n=void 0===i?null:i;return function(e){return e.where(t,n)}}},isNot:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereNot(t,i).orWhereNull(t)}}},lessThanOrEquals:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("?? <= ?",[t,i])}}},lessThan:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("?? < ?",[t,i])}}},greaterThanOrEquals:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("?? >= ?",[t,i])}}},greaterThan:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("?? > ?",[t,i])}}},isEmpty:{getQuery:function(e){var t=e.fieldStatement;return function(e){return e.whereNull(t)}}},isNotEmpty:{getQuery:function(e){var t=e.fieldStatement;return function(e){return e.whereNotNull(t)}}},between:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("?? >= ?",[t,i[0]]).whereRaw("?? <= ?",[t,i[1]])}}},contains:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereRaw("? = ANY(??)",[i,t])}}}}},620727:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var s=i(96190),l=i(18063);function d(e,t){var i=t.queryOptions||{};return{match:o({},e,s.defaults({query:t.value,lenient:!0},i))}}function c(e,t,i){return(!0!==i?l.must:l.mustNot)(d(e,t))}function u(e){return e.enableTranslation&&e.lang&&"en_US"!==e.lang?"".concat(e.field,"__lang-").concat(e.lang,"__formatted._exactWords"):"".concat(e.field,"__formatted._exactWords")}function p(e){return r(r({},e),{},{value:s.escape(e.value)})}function f(e){return e.enableTranslation&&e.lang&&"en_US"!==e.lang?"".concat(e.field,"__lang-").concat(e.lang,"__formatted._localised"):"".concat(e.field,"__formatted._english")}var h={containsFormatted:{getFieldName:function(e){return"".concat(e.field,"__formatted")},getQuery:function(e){return c(this.getFieldName(e),e)}},containsEnglishFormatted:{getFieldName:function(e){return"".concat(e.field,"__formatted._english")},getQuery:function(e){return c(this.getFieldName(e),e)}},containsLanguageFormatted:{getFieldName:f,getQuery:function(e){return c(this.getFieldName(e),e)}},containsPartialFormatted:{ui:!1,getFieldName:function(e){return"".concat(e.field,"__formatted._partial")},getQuery:function(e){return c(this.getFieldName(e),e)}},containsPartialEmailFormatted:{ui:!1,getFieldName:function(e){return"".concat(e.field,"__formatted._partial")},getQuery:function(e){var t=this.getFieldName(e),i="".concat(e.field,"__formatted._exact"),n=d(t,e),a=e.value;return l.should([n,{term:o({},i,a)}])}},containsExactWordsFormatted:{getFieldName:u,getQuery:function(e){var t=this.getFieldName(e);return l.must({match_phrase:o({},t,{query:e.value,slop:0})})}},containsExactWordsFormattedEscaped:{getFieldName:u,getQuery:function(e){return h.containsExactWordsFormatted.getQuery.call(this,p(e))}},doesNotContainFormatted:{getFieldName:function(e){return"".concat(e.field,"__formatted")},getQuery:function(e){return c(this.getFieldName(e),e,!0)}},doesNotContainEnglishFormatted:{getFieldName:function(e){return"".concat(e.field,"__formatted._english")},getQuery:function(e){return c(this.getFieldName(e),e,!0)}},doesNotContainLanguageFormatted:{getFieldName:f,getQuery:function(e){return c(this.getFieldName(e),e,!0)}},doesNotContainExactWordsFormatted:{getFieldName:u,getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({match_phrase:o({},t,{query:e.value,slop:0})})}},doesNotContainExactWordsFormattedEscaped:{getFieldName:u,getQuery:function(e){return h.doesNotContainExactWordsFormatted.getQuery.call(this,p(e))}}};e.exports=h},565794:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280);var a=i(96190);function r(e){return e.field}function o(e){return a.isString(e)?a.toLower(e):e}function s(e,t,i){return!a.isNil(t)&&o(t)===o(e[i])}var l={is:{getFieldName:r,getFunc:function(e){var t=this;return function(i){return s(i,e.value,t.getFieldName(e))}}},isNot:{getFieldName:r,getFunc:function(e){var t=this;return function(i){return!s(i,e.value,t.getFieldName(e))}}},isExact:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]===n}}},isNotExact:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]!==n}}},lessThanOrEquals:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]<=n}}},lessThan:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]<n}}},greaterThanOrEquals:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]>=n}}},greaterThan:{getFieldName:r,getFunc:function(e){var t=this;return function(i){var n=e.value,r=t.getFieldName(e);return!a.isNil(n)&&i[r]>n}}},isEmpty:{getFieldName:r,getFunc:function(e){var t=this;return function(i){return a.isEmpty(i[t.getFieldName(e)])}}},isNotEmpty:{getFieldName:r,getFunc:function(e){var t=this;return function(i){return!a.isEmpty(i[t.getFieldName(e)])}}},between:{getFieldName:r,getFunc:function(e){var t,i,r=e.value,o=this.getFieldName(e),s=(i=2,function(e){if(Array.isArray(e))return e}(t=r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],d=s[1];return!a.isNil(l)&&!a.isNil(d)&&function(e){return e[o]>=l&&e[o]<=d}}}};e.exports=l},703114:(e,t,i)=>{"use strict";e.exports={es:i(620727),obj:i(565794),db:i(749261)}},883605:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(874423),i(21699),i(426099),i(423500),i(231345);var o=i(96190),s=i(810489);e.exports=s.extend({FilterOptionsMenuView:i(173983),filterOptionsTemplate:i(740197),className:"text-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!1},onInit:function(){var e=this.model.get("fieldType");this.filterOptionName=o.includes(["sequenceNumber"],e)?"contains":"contains_exact_words"},getText:function(e){return e[0].fieldValues[0]},getAllFilterOptions:function(e){return e(null,[{caption:this.model.getFilterOption(this.filterOptionName).getCaption(this.filterOptionContext),value:"text"}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData(),t=this.getText(e);return t?[t]:[]},getSelectedFilterOptionsText:function(){var e=this.model.getUniqueFilterData(),t=this.getText(e);return o.isEmpty(t)?this.getNoSelectedFilterOptionsText():'"'.concat(t,'"')},updateModelSelectedFilterOptions:function(e){var t=this,i=e[0],n=this.model.getFilterData();o.forEach(n,(function(e){var n;if(i){var a=t.model.getFilterOption(t.filterOptionName),s=r(r({},t.filterOptionContext),{},{value:i});n=r(r({},a.getFilterData(s)),{},{selectedFilterOptions:t.selectedFilterOptions})}else n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[]});o.assign(e,n)}))}})},868445:(e,t,i)=>{"use strict";var n=i(274692);i(426099),i(423500),i(250113),i(428706),i(202008);var a=i(96190),r=i(428064),o=i(743331),s=i(40785),l=i(352615),d=i(493793),c=s.getPicklistsConfig();e.exports=r.extend({field:null,placeholder:null,$element:null,template:i(810173),className:"coordinate-component-tmpl",events:{"click .coordinates-container input":"onShowHideMapBtnClick","click .coordinates-container p[name=read-only-value]":"onShowHideMapBtnClick","click .coordinates-container .show-hide-map-btn":"onShowHideMapBtnClick"},locals:function(){var e;return{ariaLabel:this.fieldDef.ariaLabel,placeholder:s.translateKey("coordinates_placeholder"),name:(null===(e=this.fieldDef.typeOptions)||void 0===e?void 0:e.nameAttrValue)||this.field}},onInit:function(){var e;this.initialMapCenter=this.getTypeOption("initialMapCenter",$appData.globalConfig.initialMapCenter),this.initialMapZoom=this.getTypeOption("initialMapZoom",$appData.globalConfig.initialMapZoom),this.defaultMapZoom=this.getTypeOption("defaultMapZoom",$appData.globalConfig.defaultMapZoom),this.defaultMapLayer=this.getTypeOption("defaultMapLayer",$appData.globalConfig.defaultMapLayer),this.dropMapPinOnSearch=this.getTypeOption("dropMapPinOnSearch",$appData.globalConfig.dropMapPinOnSearch),this.controlFields=this.getTypeOption("controlFields",[]),this.forceReadOnly=(null===(e=this.formComponent)||void 0===e?void 0:e.shouldSetReadOnly())||"isel-computed"===this.fieldDef.dynamicKind||this.restrictFieldEdit(),this.onControlFieldChangeListeners={}},onRendered:function(e){var t=this;this.$showHideMapBtn=this.$(".show-hide-map-btn"),this.$coordinatesInput=this.$(".coordinates-container input"),this.$coordinatesText=this.$(".coordinates-container p[name=read-only-value]"),this.mapShowing=!1,this.isGeoMappingEnabled()?(this.model.on("change:".concat(this.field),this.onModelChange,this),this.model.on("readOnlyChange",this.onReadOnlyModeChange,this),this.onReadOnlyModeChange(this.model.readOnly),a.forEach(this.controlFields,(function(e){t.onControlFieldChangeListeners[e]=t.onControlFieldChange.bind(t,e),t.model.on("change:".concat(e),t.onControlFieldChangeListeners[e]),t.onControlFieldChange(e,t.model,t.model.get(e))}))):this.$showHideMapBtn.hide(),e()},onRemove:function(){var e=this;this.isGeoMappingEnabled()&&(this.model.off("change:".concat(this.field),this.onModelChange,this),this.model.off("readOnlyChange",this.onReadOnlyModeChange,this),a.forEach(this.controlFields,(function(t){e.model.off("change:".concat(t),e.onControlFieldChangeListeners[t])})))},onModelChange:function(){this.updateCoordinatesDisplay(),r.prototype.onEditableValueChange.call(this)},onReadOnlyModeChange:function(e){if(e||this.forceReadOnly){if(this.$el.addClass("readonly"),!this.isGeoMappingEnabled())return;this.hideMap(),this.mapView&&this.mapView.syncDroppedPin(),a.isEmpty(this.getValue())?this.$showHideMapBtn.hide():this.$showHideMapBtn.css("display","flex")}else{if(this.$el.removeClass("readonly"),!this.isGeoMappingEnabled())return;this.$showHideMapBtn.css("display","flex")}this.updateCoordinatesDisplay()},onShowHideMapBtnClick:function(){this.isGeoMappingEnabled()&&(this.isMapShowing()?this.hideMap():this.showMap())},isGeoMappingEnabled:function(){return!!$appData.globalConfig.enableGeoMapping&&!!$appData.globalConfig.mapboxAccessToken},restrictFieldEdit:function(){return!!a.isFunction(this.model.canEditRestrictedFields)&&!0===this.fieldDef.restrictEdit&&!this.model.canEditRestrictedFields()},renderMap:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;e=this.presetMapZoom?this.presetMapZoom:a.isEmpty(this.presetMapCenter)?this.initialMapZoom:this.defaultMapZoom,this.mapView=new o({model:this.model,field:this.field,initialCenter:a.isEmpty(this.presetMapCenter)?this.initialMapCenter:this.presetMapCenter,initialZoom:e,defaultZoom:a.isNumber(this.presetMapZoom)?this.presetMapZoom:this.defaultMapZoom,defaultLayer:this.defaultMapLayer,goToCurrentLocationOnReset:this.goToCurrentLocationOnMapReset,dropPinOnSearch:this.dropMapPinOnSearch,forceReadOnly:this.forceReadOnly||this.$coordinatesInput.is(":disabled")}),this.addSubView(this.mapView).render(this.$(".map-container")).done(t)},showMap:function(){this.isMapShowing()||(this.$el.addClass("map-showing"),this.mapView?this.mapView.resetMapPosition():this.renderMap(),this.$showHideMapBtn.attr("title",s.escapedTranslateKey("hide_map")),this.mapShowing=!0)},hideMap:function(){this.isMapShowing()&&(this.$el.removeClass("map-showing"),this.$showHideMapBtn.attr("title",s.escapedTranslateKey("show_map")),this.mapShowing=!1)},isMapShowing:function(){return this.mapShowing},getCoordinates:function(){return l.getCoordinates(this.getValue())},updateCoordinatesDisplay:function(){if(!this.getCoordinates())return this.$coordinatesInput.val(""),void this.$coordinatesText.text("");var e=this.getFormattedValue(this.getValue());this.$coordinatesInput.val(e),this.$coordinatesText.text(e)},getControlFieldData:function(e,t){var i,r,o=e.fieldName,s=e.model,l=e.value,u=a.find(s.entityDefinition.fields(),{field:o}),p=u.picklistName,f=null!==(i=null===(r=u.typeOptions)||void 0===r?void 0:r.picklistTypeId)&&void 0!==i?i:c[p].id;return a.get($appData,["picklists","data",f])?t(null,d.getItemData(p,l)):n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/list?picklistTypeId=").concat(f,"&skip$=0"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){var i={value:l};return t(null,a.filter(e,i)[0])}))},onControlFieldChange:function(e,t,i){var n=this;this.getControlFieldData({fieldName:e,model:t,value:i},(function(e,t){if(!e){var i=a.get(t,"relatedData");if(i){var r=a.has(i,"coordinate")?i.coordinate:null,o=a.has(i,"zoom")?i.zoom:null;a.isEmpty(r)||(n.presetMapCenter=r,n.goToCurrentLocationOnMapReset=!1),a.isNumber(o)&&(n.presetMapZoom=o),n.mapView&&(a.isEmpty(r)||n.mapView.centerMap(r),a.isNumber(o)&&(n.mapView.setDefaultZoom(o),n.mapView.zoom(o)))}}}))}})},363916:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(868445)})},259548:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(868445),template:i(839212)})},5158:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(879432),i(202008),i(83851),i(423500),i(681278),i(962062),i(428706);var l=i(96190),d=i(447578),c=i(352615),u=i(279460);e.exports=d.extend(u,{name:"coordinate",caption:"Coordinate",description:"A map window to place a coordinate",availableOnPortal:!1,historyDisplayProperty:"coordinates",includeInFormBuilder:function(e){return e.enableGeoMapping},db:{beforeSave:function(e,t,i){if(!t)return null;if(l.isString(t)&&(t=d.parseJSON(e,t)),"Point"!==t.type||!l.isArray(t.coordinates))return{};if(2!==l.compact(t.coordinates).length)return{};var n=l.pick(t,["type","coordinates","crs"]),a=o(l.get(n,"coordinates")||[],2),s=a[0],c=a[1];return r(r({},n),{},{latitude:s,longitude:c})},viewSelectQuery:function(e){var t=e.knex,i=e.table,n=e.column,a=e.dynamicDataColumn,r=":table:.:column:";return a&&(r=":table:.:dynamicDataColumn:->:column"),t.raw("CONVERT_COORDINATES_TO_POINT(".concat(r,"->'coordinates')as :column:"),{table:i,column:n,dynamicDataColumn:a})}},ui:{component:function(){return i(868445)},formComponent:function(){return i(259548)},searchComponent:function(){return i(868445)},dragComponent:function(){return i(363916)},configurationTabs:function(){return i(101786)},createForm:"coordinate-properties-form",propertiesForm:"coordinate-properties-form",icon:"fa-map-marker",sizes:{medium:{width:"col-xs-12 col-sm-6"}}},es:{mapping:{type:"object",properties:{type:{type:"keyword"},coordinates:{type:"double"},latitude:{type:"double"},longitude:{type:"double"},crs:{type:"object",properties:{type:{type:"keyword"},properties:{type:"object",properties:{name:{type:"keyword"}}}}}}},formatted:{mapping:{type:"keyword",normalizer:"lowercase_normalizer"}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted")}},operators:i(384195),format:function(e,t){var i=t.fieldDef,n=t.globalOptions,a=t.translateKey,r=c.getCoordinates(e);if(l.isEmpty(r))return null;var s=c.convertToDegrees(r),u=l.get(i,"typeOptions.formattedPrecision",n.formattedCoordinatePrecision),p=o(l.map(s,(function(e){return d.truncateNumber(e,u)})),2),f=p[0],h=p[1],m=f>=0?"".concat(f,"° ").concat(a("east_abbreviation")):"".concat(Math.abs(f),"° ").concat(a("west_abbreviation")),g=h>=0?"".concat(h,"° ").concat(a("north_abbreviation")):"".concat(Math.abs(h),"° ").concat(a("south_abbreviation"));return"".concat(g,", ").concat(m)},yellowfin:{customDataType:"com.hof.mi.custom.format.DefaultGeometryFormatter",convertedDataType:"GISGEOMETRY",fieldTypeCode:"DIMENSION",dimensionTypeCode:"GEOMETRY",dataTypeCode:"VARCHAR",converterClassName:"com.hof.mi.custom.converter.WKTGeometryConverter",converterParameters:[{string:["TEXTFORMAT","LONLAT"]},{string:["CACHEFIELD","None"]}]}})},384195:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(879432);var o=i(96190),s=i(18063);e.exports={es:{is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field)},getQuery:function(e){var t,i,n=this.getFieldName(e),l="".concat(n,".latitude"),d="".concat(n,".longitude"),c=(t=o.get(e,"value.coordinates")||[],i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],p=c[1];return s.must([{term:a({},l,{value:u})},{term:a({},d,{value:p})}])}}},obj:{is:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var n=JSON.parse(e.value),a=n.latitude,r=n.longitude,s=t.getFieldName(e),l=o.get(i[s],"latitude"),d=o.get(i[s],"longitude");return a===l&&r===d}}}}}},352615:(e,t,i)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280);var r=i(96190),o=i(447578),s=20037508.34;e.exports={getCoordinates:function(e){if(r.isEmpty(e))return null;var t=e.coordinates;return r.isEmpty(t)?null:t},getProjection:function(e){return r.get(e,"crs.properties.name",null)},getGeoJson:function(e){var t=e.coordinates,i=e.projection,n=void 0===i?"EPSG:3857":i;return r.isEmpty(t)?null:{coordinates:t,crs:{properties:{name:n},type:"name"},type:"Point"}},convertToDegrees:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(r.isEmpty(e))return null;var i=n(e,2),a=i[0],l=i[1],d=180*a/s,c=l/(s/180),u=Math.PI/180*c;return c=Math.atan(Math.pow(Math.E,u)),c/=Math.PI/360,c-=90,[o.truncateNumber(d,t),o.truncateNumber(c,t)]},convertToMeters:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(r.isEmpty(e))return null;var i=n(e,2),a=i[0],l=i[1],d=a*s/180,c=parseFloat(l)+90;return c*=Math.PI/360,c=Math.tan(c),c=Math.log(c),c=(c/=Math.PI/180)*s/180,[o.truncateNumber(d,t),o.truncateNumber(c,t)]},coordinatesAreEqual:function(e,t){return!(e&&!t||!e&&t||!e&&!t||!r.isArray(e)&&!r.isArray(t)||e[0]!==t[0]||e[1]!==t[1])}}},641535:(e,t,i)=>{"use strict";i(390786);var n=i(947432),a=i(428064),r=i(330729),o=i(289693);e.exports=a.extend({field:null,datepicker:null,template:i(82419),className:"date-component-tmpl",$element:null,locals:function(){var e=this.model.get(this.field);return{field:this.field,formattedValue:e?this.getFormattedValue(e):null,datepickerPlaceholderFormat:$appData.datePickerDatePlaceholder,ariaLabel:this.fieldDef.ariaLabel}},events:{"change input":"onDateChange","blur input":"onBlur","keypress input":"onKeyPress","hide input":"onDateChange","click input":"showDatePicker"},onKeyPress:function(e){if(("Enter"===e.key||13===e.keyCode)&&!this.validate())return this.clearInvalidInput()},onBlur:function(){if(!this.validate())return this.clearInvalidInput()},onDateChange:function(){var e=this.$element.val(),t=e&&n(e,$appData.dateFormat,!0);this.applyDateChange(t)},applyDateChange:function(e){var t=this.model.get(this.field),i=e?e.format(o.recordDateFormat):null;i!==t&&(this._keepDatepickerInput=!0,this.model.set(this.field,i),this._keepDatepickerInput=!1,a.prototype.onEditableValueChange.apply(this))},clearInvalidInput:function(){var e=this;this._keepDatepickerInput=!0,this.model.set(this.field,null),this._keepDatepickerInput=!1,this.$element.val(null),this._clearDatepickerTimer=setTimeout((function(){e.datepicker.setDates(null)}),250)},cancelClearDatepicker:function(){this._clearDatepickerTimer&&(clearTimeout(this._clearDatepickerTimer),this._clearDatepickerTimer=null)},validate:function(){var e=this.$element.val();return!e||!!this.datepicker.dateWithinRange(new Date(e))&&n(e,$appData.dateFormat,!0).isValid()},onModelChange:function(){if(!this._keepDatepickerInput){var e=this.model.get(this.field);if(null!=e&&""!==e){var t=new Date(e);this.datepicker.setUTCDate(t)}else this.datepicker.setDates(null)}},showDatePicker:function(){this.$element.datepicker("show")},onRendered:function(e){var t=this;this.$element=this.$('input[name="'.concat(this.field,'"]')),this.$element.datepicker({maxViewMode:3,autoclose:!0,format:$appData.datePickerDateFormat,language:"custom",startDate:r.getConstraintDate.call(this,r.startDateConstraints,"datePickerStartDate"),endDate:r.getConstraintDate.call(this,r.endDateConstraints,"datePickerEndDate"),zIndexOffset:1032,todayHighlight:!0,forceParse:!1}).on("changeDate",(function(e){t.cancelClearDatepicker();var i=e.date&&n.utc(e.date);t.applyDateChange(i)})),this.model.on("change:".concat(this.field),this.onModelChange,this),this.datepicker=this.$element.data("datepicker"),this.datepicker.picker.on("click",(function(){t.cancelClearDatepicker()})),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)}})},982145:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(202008),i(83851),i(681278),i(879432),i(428706),i(426099),i(423500);var s=i(96190),l=i(947432),d=i(810489),c=i(40785);e.exports=d.extend({FilterOptionsMenuView:i(865148),className:"date-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!1,allowNoOptionsSelected:!0},getAllFilterOptions:function(e){return e(null,[{caption:c.translateKey("all"),value:"all",default:!0},{caption:c.translateKey("empty"),value:"is_empty"},{caption:c.translateKey("past_date"),value:"past_date"},{caption:c.translateKey("today"),value:"today"},{caption:c.translateKey("more_than"),value:"more_than",displayTimePeriod:!0},{caption:c.translateKey("between"),value:"between",displayDates:!0},{caption:c.translateKey("within_last"),value:"within_last",displayTimePeriod:!0,within:!0},{caption:c.translateKey("within_next"),value:"within_next",displayTimePeriod:!0,within:!0}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData()[0].selectedFilterOptions;return"string"==typeof e[0]?[JSON.parse(e[0])]:e},_getBetweenCaption:function(e){var t=$appData.dateFormat,i=l(e.startDate).format(t),n=l(e.endDate).format(t);return"".concat(c.translateKey(null==e?void 0:e.value)," ").concat(i)+" ".concat(c.translateKey("_and")," ").concat(n)},getSelectedFilterOptionsText:function(){var e,t=this.model.getUniqueFilterData()[0].selectedFilterOptions,i="string"==typeof t[0]?JSON.parse(t[0]):t[0];switch(null==i?void 0:i.value){case"between":e=this._getBetweenCaption(i);break;case"more_than":case"within_last":case"within_next":e="".concat(c.translateKey(null==i?void 0:i.value)," ").concat(i.period)+" ".concat(c.translateKey("_".concat(i.unit)));break;case"is_empty":e=c.translateKey("empty");break;default:e=c.translateKey((null==i?void 0:i.value)||"all")}return s.upperFirst(e)},_getFilterValues:function(e){if("between"===e.value)return[e.startDate,e.endDate];if("more_than"===e.value){var t=(n=e.unit.split("_"),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(n,a)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=t[0];return["away"===t[1]?"+".concat(e.period).concat(i):"-".concat(e.period).concat(i)]}var n,a;return"within_next"===e.value?["+".concat(e.period).concat(e.unit)]:"within_last"===e.value?["-".concat(e.period).concat(e.unit)]:void 0},updateModelSelectedFilterOptions:function(e){var t=this,i=e[0],n=this.model.getFilterData();s.forEach(n,(function(e){var n;if("all"===i.value)n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[i]});else{var a=t._getFilterValues(i),o=t.model.getFilterOption(i.value),l=r(r({},t.filterOptionContext),{},{values:a});n=r(r({},o.getFilterData(l)),{},{selectedFilterOptions:[i]})}s.assign(e,n)}))}})},657410:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(641535)})},728518:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(641535)})},319120:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(428706);var n=i(96190),a=i(947432),r=i(647349),o=i(447578),s=i(58565),l=i(289693);e.exports=o.extend(s,{name:"date",caption:"Date",description:"Stores a date only.",includeInFormBuilder:!0,ui:{component:function(){return i(641535)},formComponent:function(){return i(728518)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(641535)}},gridConfiguration:{dataFilterComponent:function(){return i(982145)},dataFilterOperators:{is_empty:{getFilterData:function(e){return{operator:"is_empty"}}},past_date:{getFilterData:function(e){return{operator:"less_than",fieldValues:["today"]}}},today:{getFilterData:function(e){return{operator:"is",fieldValues:["today"]}}},more_than:{getFilterData:function(e){return{operator:"+"===e.values[0][0]?"greater_than":"less_than",fieldValues:[e.values[0]]}}},between:{getFilterData:function(e){return{operator:"between",fieldValues:e.values}}},within_last:{getFilterData:function(e){return{operator:"between",fieldValues:[e.values[0],"today"]}}},within_next:{getFilterData:function(e){return{operator:"between",fieldValues:["today",e.values[0]]}}}}},image:function(){return i(493277)},dragComponent:function(){return i(657410)},configurationTabs:function(){return i(101786)},createForm:"date-properties-form",propertiesForm:"date-properties-form",icon:"fa-calendar"},db:{joiType:function(e){return e.date().format(l.recordDateFormat)},type:function(e,t){var i=n.snakeCase(t.field);return e.date(i)},beforeSave:function(e,t){var i,r="oracledb"===e?"DD-MMM-YY":"YYYY-MM-DD";return n.isEmpty(t)&&!n.isDate(t)?null:(i=n.isString(t)?a.utc(t):a(t)).isValid()?i.format(r):null},afterRead:function(e,t){return t?"oracledb"===e?a(t,"DD-MMM-YYYY hh.mm.ss.SSSSSS A ZZ").toISOString():a(t).format(l.recordDateFormat):""===t?null:t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=n.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}},dbViewCastType:"date"},es:{mapping:{type:"date",format:"date"},formatSearchText:function(e,t){var i=t.globalOptions.dateFormat;return i?o.convertToEsFormattedDate(e,i,t):e}},operators:r,coerce:function(e){return o.coercion.anyToDate(e)},format:function(e,t){if(!e)return"";var i=n.get(t,"fieldDef.format")||t.globalOptions.dateFormat||t.globalOptions.defaultDateFormat;return a.utc(e,l.recordDateFormat).format(i)},yellowfin:function(e){return{customDataType:"com.hof.mi.custom.format.DateFormatter",convertedDataType:"DATE",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DATE",dataTypeCode:"DATE",converterClassName:"com.hof.mi.custom.converter.TimeZoneConverter",converterParameters:[{string:["TIMEZONE",e.yfServerTimezone]},{string:["TRUNCATE",!1]}]}},aggregationMethods:function(e){var t=["latest","earliest","expression","mostRecent","first","next","previous"];return e?t.concat([]):t}})},647349:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(184743),s=i(18063),l=s.must,d=s.mustNot,c=i(182116).operators,u=c.es,p=c.db,f=i(703114).obj,h=i(330729),m=i(289693);function g(e,t){if(r.isEmpty(e))return null;var i=t?o.tz(t):o();return"+"===e[0]||"-"===e[0]?h.getRelativeDate(e,i).format(m.esDateFormat):"today"===e?i.format(m.esDateFormat):o(e).format(m.esDateFormat)}function y(e){return e.field}e.exports={es:r.extend({},u,{is:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({term:a({},t,g(e.value,e.timezone))})}},is_not:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return d({term:a({},t,g(e.value,e.timezone))})}},between:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({range:a({},t,{lte:g(e.value[1],e.timezone),gte:g(e.value[0],e.timezone)})})}},less_than_or_equals:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({range:a({},t,{lte:g(e.value,e.timezone)})})}},less_than:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({range:a({},t,{lt:g(e.value,e.timezone)})})}},greater_than_or_equals:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({range:a({},t,{gte:g(e.value,e.timezone)})})}},greater_than:{conditionOperator:!0,getFieldName:y,getQuery:function(e){var t=this.getFieldName(e);return l({range:a({},t,{gt:g(e.value,e.timezone)})})}},contains:r.assign({},u.contains,{ui:!1}),does_not_contain:r.assign({},u.does_not_contain,{ui:!1})}),obj:{is_empty:f.isEmpty,is_not_empty:f.isNotEmpty,is:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&n===a}}},is_not:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&n!==a}}},between:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value[0]),a=g(e.value[1]),s=g(i[t.getFieldName(e)]);return!r.isNil(n)&&!r.isNil(a)&&o(n).isSameOrBefore(s)&&o(a).isSameOrAfter(s)}}},less_than_or_equals:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&o(n).isSameOrAfter(a)}}},less_than:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&o(n).isAfter(a)}}},greater_than_or_equals:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&o(n).isSameOrBefore(a)}}},greater_than:{getFieldName:y,getFunc:function(e){var t=this;return function(i){var n=g(e.value),a=g(i[t.getFieldName(e)]);return!r.isNil(n)&&o(n).isBefore(a)}}}},db:r.extend({},p,{is:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.where(t,g(i))}}},is_not:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereNot(t,g(i)).orWhereNull(t)}}}})}},330729:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(938781),i(962010),i(523418),i(690906),i(16280),i(327495),i(790744),i(134782),i(426099),i(423500);var a=i(96190),r=i(947432);e.exports={startDateConstraints:{future_present:"0d",future:"+1d"},endDateConstraints:{past_present:"0d",past:"-1d"},getConstraintDate:function(e,t){var i=a.get(this.fieldDef,"typeOptions.dateConstraint");return a.isEmpty(i)||a.isEmpty(e[i])?a.get(this.fieldDef,"typeOptions.".concat(t)):e[i]},getRelativeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(),i="+"===e[0]?"add":"subtract",o=a.compact(e.slice(1).split(/(\d+\D+)/));return a.forEach(o,(function(e){var o,s,l=(o=a.compact(e.split(/(\d+)/)),s=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(o,s)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(o,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=l[0],c=l[1],u=r.normalizeUnits(c);if(u){var p=a.cloneDeep(t);p[i](d,u),p.isValid()&&!a.isNaN(p.date())&&(t=p)}})),t}}},607706:(e,t,i)=>{"use strict";i(428706),i(168156),i(390786),i(594072);var n=i(96190),a=i(947432),r=i(126186),o=i(447578),s=i(428064),l=i(330729),d=i(766821);e.exports=s.extend({field:null,datepicker:null,$elementTime:null,$elementAmPm:null,$elementDate:null,template:i(188944),className:"datetime-component-tmpl",timeMask:"99:99",locals:function(){var e=this.model.get(this.field),t=this.getFormattedValue(e);return{field:this.field,formattedDate:t.date,formattedTime:t.time,datepickerPlaceholderFormat:$appData.datePickerDateTimePlaceholder,ariaLabel:this.fieldDef.ariaLabel,displayAmPm:this.shouldDisplayAmPm()}},shouldDisplayAmPm:function(){return d.is12HourFormat($appData.dateTimeFormat)},getFormattedValue:function(e){var t,i=n.get(this,"fieldDef.disableTimezoneTracking")||!1;if(n.isEmpty(e))return{date:null,time:null,amPm:null,datetime:null};t=i?a.utc(e):a(e);var r=$appData.dateTimeFormat;return{date:t.format(d.getDateFormat(r)),time:t.format(d.getTimeFormat(r)),amPm:t.format("A"),datetime:t.format(r)}},events:{'keyup input[name="editible-time"]':"onTimeChangeKeyup:default",'change input[name="editible-time"]':"onTimeChange",'change select[name="editible-ampm"]':"onEditibleValueChange","blur input":"onBlur","keypress input":"onKeyPress"},getDateValue:function(){return this.$elementDate.val()},getTimeValue:function(){return this.$elementTime.val()},onKeyPress:function(e){if(("Enter"===e.key||13===e.keyCode)&&!this.validateDate())return this.clearDateInput()},onBlur:function(){if(!this.validateDate())return this.clearDateInput()},onEditibleValueChange:function(){var e,t=this.model.get(this.field),i=this.datepicker.getDate(),r=this.getTimeValue(),l=this.$elementAmPm.val(),c=!i||n.isNaN(i.getTime())||n.isEmpty(r);d.is12HourFormat($appData.dateTimeFormat)&&(c=c||n.isEmpty(l));for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];if(c)t&&(this.model.set(this.field,null),s.prototype.onEditableValueChange.apply(this,p));else{e="".concat(i.getFullYear(),"-").concat(n.padStart(i.getMonth()+1,2,"0"),"-").concat(n.padStart(i.getDate(),2,"0"));var h,m="".concat(e," ").concat(r).concat(l);if((h=!0===(n.get(this,"fieldDef.disableTimezoneTracking")||!1)?a.utc(m,"YYYY-MM-DD hh:mmA").toISOString():a(m,"YYYY-MM-DD hh:mmA").toISOString())!==t){var g=n.get(this,"fieldDef.removeSeconds");(a(h).seconds()||a(h).milliseconds())&&g&&(h=o.removeSeconds(h.toDate()).toISOString()),this.model.set(this.field,h),s.prototype.onEditableValueChange.apply(this,p)}}},onTimeChangeKeyup:function(){var e=this.getTimeValue();!n.isEmpty(e)&&a(e,"HH:mm",!0).isValid()&&this.onEditibleValueChange()},onTimeChange:function(){var e=this.getTimeValue();if(!a(e,"HH:mm",!0).isValid()){this.model.set(this.field,null),this.$elementTime.val("");for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];s.prototype.onEditableValueChange.apply(this,i)}},onModelChange:function(){var e=this.model.get(this.field),t=this.getFormattedValue(e),i=n.get(this,"fieldDef.typeOptions.clearTimeWhenDisabled",!0);this.$elementTime.attr("disabled")&&!i?(this.$elementTime.val(t.time||this.$elementTime.val()),this.$elementAmPm.val(t.amPm||this.$elementAmPm.val())):(this.$elementTime.val(t.time),this.$elementAmPm.val(t.amPm||"AM")),t.date?this.datepicker.update(t.date):this.datepicker.setDates(null)},clearDateAndTimeElements:function(){this.getDateValue()&&this.clearDateInput(),this.getTimeValue()&&this.$elementTime.val(null)},onReadOnlyChange:function(e){e||this.getValue()||this.clearDateAndTimeElements(e)},onRendered:function(e){this.$elementTime=this.$('input[name="editible-time"]'),this.$elementAmPm=this.$('select[name="editible-ampm"]'),this.$elementDate=this.$('input[name="'.concat(this.field,'"]'));var t=this.$('input[name="'.concat(this.field,'"]'));this.fieldDef.editTimeRule&&(this.$elementTime.attr("data-disable-rule",this.fieldDef.editTimeRule),this.$elementAmPm.attr("data-disable-rule",this.fieldDef.editTimeRule)),t.datepicker({maxViewMode:3,autoclose:!0,format:$appData.datePickerDateTimeFormat,startDate:l.getConstraintDate.call(this,l.startDateConstraints,"datePickerStartDate"),endDate:l.getConstraintDate.call(this,l.endDateConstraints,"datePickerEndDate"),language:"custom",zIndexOffset:1032,todayHighlight:!0,forceParse:!1}),new r(this.timeMask).mask(this.$elementTime),this.model.on("change:".concat(this.field),this.onModelChange,this),this.model.on("readOnlyChange",this.onReadOnlyChange,this),t.on("clearDate",this.onEditibleValueChange.bind(this)),t.on("hide",this.onEditibleValueChange.bind(this)),this.datepicker=t.data("datepicker");var i=this.getFormattedValue(this.model.get(this.field));this.$elementAmPm.val(i.amPm||"AM"),e()},validateDate:function(){var e=this.getDateValue();return!e||!!this.datepicker.dateWithinRange(new Date(e))&&a(e,d.getDateFormat($appData.dateTimeFormat),!0).isValid()},clearDateInput:function(){this.$elementDate.val(null),this.datepicker.setDates(null)},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this),this.model.off("readOnlyChange",this.onReadOnlyChange,this)}})},501339:(e,t,i)=>{"use strict";i(428706);var n=i(947432),a=i(982145),r=i(40785);e.exports=a.extend({FilterOptionsMenuView:i(611121),className:"datetime-grid-data-filter-component-tmpl",getAllFilterOptions:function(e){return e(null,[{caption:r.translateKey("all"),value:"all",default:!0},{caption:r.translateKey("empty"),value:"is_empty"},{caption:r.translateKey("past_date"),value:"past_date"},{caption:r.translateKey("today"),value:"today"},{caption:r.translateKey("more_than"),value:"more_than",displayTimePeriod:!0},{caption:r.translateKey("between"),value:"between",displayDateTimes:!0},{caption:r.translateKey("within_last"),value:"within_last",displayTimePeriod:!0,within:!0},{caption:r.translateKey("within_next"),value:"within_next",displayTimePeriod:!0,within:!0}])},_getBetweenCaption:function(e){var t=$appData.dateTimeFormat,i=n(e.startDateTime).format(t),a=n(e.endDateTime).format(t);return"".concat(r.translateKey(null==e?void 0:e.value)," ").concat(i)+" ".concat(r.translateKey("_and")," ").concat(a)},_getFilterValues:function(e){return"between"===e.value?[e.startDateTime,e.endDateTime]:a.prototype._getFilterValues.call(this,e)}})},76089:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(607706)})},950825:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(607706)})},366161:(e,t,i)=>{"use strict";i(327495),i(5746),i(428706);var n=i(96190),a=i(184743),r=i(447578),o=i(58565),s=i(319120).ui.gridConfiguration.dataFilterOperators;e.exports=r.extend(o,{name:"datetime",caption:"Date and Time",description:"Stores a date including time.",includeInFormBuilder:!0,ui:{component:function(){return i(607706)},formComponent:function(){return i(950825)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(607706)}},gridConfiguration:{dataFilterComponent:function(){return i(501339)},dataFilterOperators:n.extend({},s,{past_date:{getFilterData:function(e){return{operator:"less_than",fieldValues:["todayStart"]}}},today:{getFilterData:function(e){return{operator:"between",fieldValues:["todayStart","todayEnd"]}}}})},image:function(){return i(447838)},sizes:{medium:{width:"col-xs-12 col-sm-6"}},dragComponent:function(){return i(76089)},configurationTabs:function(){return i(101786)},createForm:"datetime-properties-form",propertiesForm:"datetime-properties-form",icon:"fa-calendar"},db:{joiType:function(e){return e.date().format("YYYY-MM-DD[T]HH:mm:ss.SSSZ")},type:function(e,t){var i=e.client.config.client,a=n.snakeCase(t.field);return"mysql"===i?e.specificType(a,"DATETIME(3)"):e.dateTime(a)},beforeSave:function(e,t,i){if(n.isEmpty(t)&&!n.isDate(t))return null;if(i.fieldDef.removeSeconds){var o=n.isDate(t)?t:a(t).toDate();return r.removeSeconds(o)}return t},afterRead:function(e,t){return n.isEmpty(t)&&!n.isDate(t)?null:n.isDate(t)?t.toISOString():"oracledb"===e?a(t,"DD-MMM-YYYY hh.mm.ss.SSSSSS A ZZ").toISOString():t},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=n.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}},dbViewCastType:"timestamp with time zone"},es:{mapping:{type:"date",format:"date_time"},formatSearchText:function(e,t){if(-1===e.search(/\d{1,2}:\d{2}/))return e;var i=t.globalOptions.dateTimeFormat;if(i&&(e=r.convertToEsFormattedDateTime(e,i,t)),n.isNaN(Date.parse(e)))return e;var a=t.globalOptions.defaultDateTimeFormat,o=r.shiftDateTimezone(e,(null==t?void 0:t.userTimezone)||"UTC",t.globalOptions.defaultTimezone);return o.isValid()?o.format(a):e}},operators:i(101808),coerce:function(e){return r.coercion.anyToDate(e)},format:function(e,t){if(!e)return"";var i=n.get(t,"fieldDef.format")||t.globalOptions.dateTimeFormat||t.globalOptions.defaultDateTimeFormat,r=n.get(t,"fieldDef.disableTimezoneTracking")||!1,o=a.utc(new Date(e));if(!r){if(t.useDefaultTimezone)o=a.tz(o,t.globalOptions.defaultTimezone),-1===i.toLowerCase().indexOf("z")&&(i+=" (z)");else{var s=(new Date).getTimezoneOffset();o=o.utcOffset(-1*s)}var l=(new Date).getTimezoneOffset(),d=new Date(e);if(d.getTimezoneOffset()!==l){var c=l-d.getTimezoneOffset();o.add(c,"m")}}return o.format(i)},yellowfin:function(e){return{customDataType:"com.hof.mi.custom.format.TimestampFormatter",convertedDataType:"TIMESTAMP",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DATE",dataTypeCode:"TIMESTAMP",converterClassName:"com.hof.mi.custom.converter.TimeZoneConverter",converterParameters:[{string:["TIMEZONE",e.yfServerTimezone]},{string:["TRUNCATE",!1]}]}},aggregationMethods:function(e){var t=["latest","earliest","expression","mostRecent","first","next","previous"];return e?t.concat([]):t}})},101808:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(327495),i(725440);var r=i(96190),o=i(947432),s=i(182116).operators,l=s.es,d=s.db,c=i(18063),u=i(703114).obj;function p(e){return e.field}var f=/:\d{2}\.\d{3}Z/;e.exports={es:r.extend({},l,{is:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.must({range:a({},t,{lte:e.value.replace(f,":59.999Z"),gte:e.value})})}},is_not:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.mustNot({range:a({},t,{lte:e.value.replace(f,":59.999Z"),gte:e.value})})}},between:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e),i=e.value[1];return c.must({range:a({},t,{lte:i?i.replace(f,":59.999Z"):null,gte:e.value[0]})})}},less_than_or_equals:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.must({range:a({},t,{lte:e.value.replace(f,":59.999Z")})})}},less_than:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.must({range:a({},t,{lt:e.value.replace(f,":00.000Z")})})}},greater_than_or_equals:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.must({range:a({},t,{gte:e.value.replace(f,":00.000Z")})})}},greater_than:{conditionOperator:!0,getFieldName:p,getQuery:function(e){var t=this.getFieldName(e);return c.must({range:a({},t,{gt:e.value.replace(f,":59.999Z")})})}},contains:r.assign({},l.contains,{ui:!1}),does_not_contain:r.assign({},l.does_not_contain,{ui:!1})}),obj:{is_empty:u.isEmpty,is_not_empty:u.isNotEmpty,is:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc(n),l=o.utc("".concat(n.substring(0,16),":59.999Z")),d=o.utc(a);return s.isSameOrBefore(d)&&l.isSameOrAfter(d)}}},is_not:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc(n),l=o.utc("".concat(n.substring(0,16),":59.999Z")),d=o.utc(a);return s.isAfter(d)||l.isBefore(d)}}},between:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc(n[0]),l=o.utc("".concat(n[1].substring(0,16),":59.999Z")),d=o.utc(a);return s.isSameOrBefore(d)&&l.isSameOrAfter(d)}}},less_than_or_equals:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc("".concat(n.substring(0,16),":59.999Z")),l=o.utc(a);return s.isSameOrAfter(l)}}},less_than:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc("".concat(n.substring(0,16),":00.000Z")),l=o.utc(a);return s.isAfter(l)}}},greater_than_or_equals:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc("".concat(n.substring(0,16),":00.000Z")),l=o.utc(a);return s.isSameOrBefore(l)}}},greater_than:{getFieldName:p,getFunc:function(e){var t=this;return function(i){var n=e.value,a=i[t.getFieldName(e)];if(r.isNil(n)||r.isNil(a))return!1;var s=o.utc("".concat(n.substring(0,16),":59.999Z")),l=o.utc(a);return s.isBefore(l)}}}},db:d}},927360:(e,t,i)=>{"use strict";i(426099),i(938781),i(409868),i(42781),i(428706);var n=i(96190),a=i(553269),r=i(40785),o=i(447578),s=i(428064);e.exports=s.extend({field:null,$element:null,template:i(128124),className:"decimal-component-tmpl",defaultMask:$appData.globalConfig.defaultDecimalMask,locals:function(){return{field:this.field,value:this.model.get(this.field),ariaLabel:this.fieldDef.ariaLabel}},events:{"change input":"onInputChange:default","keyup input":"onInputChange:default","blur input":"onBlur"},onInit:function(){this.maskConfig=this.getMaskConfig(),this.validateScale()},onInputChange:function(){var e=this.model.get(this.field),t=this.$element[0].inputmask.unmaskedvalue();this.updateModelValue(e,t)},validateScale:function(){var e,t=this.getValue();n.isNil(t)||((null===(e=t.toString().split(".")[1])||void 0===e?void 0:e.length)||0)>this.scale&&this.model.set(this.field,t.toFixed(this.scale))},updateModelValue:function(e,t){n.isNumber(t)&&!n.isNaN(t)||(t=null),t!==(null!=e?e:null)&&(this.model.set(this.field,t),s.prototype.onEditableValueChange.call(this,e,t))},onModelChange:function(){var e=this.model.get(this.field);e!==this.$element.val()&&this.$element.val(e)},onModelReset:function(){this.validateScale()},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),new a(this.maskConfig).mask(this.$element[0]),this.model.on("change:".concat(this.field),this.onModelChange,this),this.model.on("reset",this.onModelReset,this),this._setupValidationTooltip(),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this),this.model.off("reset",this.onModelReset,this)},onBlur:function(){var e=this.model.get(this.field),t=this.$element[0].inputmask.unmaskedvalue();this.updateModelValue(e,t),o.validateNumberMaxMin.call(this)?this._toggleTooltip("hide"):this._toggleTooltip("show")},getMaskConfig:function(){var e=this,t=n.defaults({},this.fieldDef.mask,this.defaultMask);t.onKeyValidation=function(t,i){e._onMaskValidated.call(e,t,i)};var i=t.integerDigits+t.digits,a=o.getPrecision(this.fieldDef,i),r=o.getScale(this.fieldDef,t.digits),s=n.get(this,"fieldDef.typeOptions.max");if(t.digits=r,t.integerDigits=a-t.digits,n.isNumber(s)){var l=parseInt(s,10).toString().length;l<t.integerDigits&&(t.integerDigits=l)}return t.max=n.chain("9").repeat(t.integerDigits+t.digits).toNumber().divide(Math.pow(10,t.digits)).value(),this.precision=t.integerDigits+t.digits,this.scale=t.digits,t},_onMaskValidated:function(e,t){t?this._toggleTooltip("hide"):this.$element.attr("title",this.tooltipTitles.precisionAndScale).tooltip("fixTitle").tooltip("show")},_setupValidationTooltip:function(){var e=n.get(this,"fieldDef.typeOptions")||{},t=n.get(e,"max"),i=n.get(e,"min");this.tooltipTitles={precisionAndScale:r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_digits_decimal"},{context:{digitLimit:this.precision,decimalLimit:this.scale,integerLimit:this.precision-this.scale}}),maxValue:n.isNil(t)?"":r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value"},{context:{valueLimit:t}}),minValue:n.isNil(i)?"":r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"minimum_value"},{context:{valueLimit:i}})},r.setupValidationTooltip(this,this.$element)},_toggleTooltip:function(e){var t="field-tooltip",i="has-field-tooltip has-error";"show"===e?(this.$element.addClass(t),this.$element.parents(".form-group").addClass(i),this.$element.attr("title","".concat(this.tooltipTitles.maxValue," ").concat(this.tooltipTitles.minValue)).tooltip("fixTitle").tooltip("show")):"hide"===e&&(this.$element.removeClass(t),this.$element.parents(".form-group").removeClass(i),this.$element.tooltip("hide"))}})},426551:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(879432),i(428706),i(426099),i(423500);var o=i(96190),s=i(810489),l=i(40785);e.exports=s.extend({FilterOptionsMenuView:i(291485),className:"number-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!1},getAllFilterOptions:function(e){return e(null,[{caption:l.translateKey("all"),value:"all",default:!0},{caption:l.translateKey("empty"),value:"is_empty"},{caption:l.translateKey("equals"),value:"equals",displayNumber:!0},{caption:l.translateKey("does_not_equals"),value:"does_not_equals",displayNumber:!0},{caption:l.translateKey("less_than"),value:"less_than",displayNumber:!0},{caption:l.translateKey("greater_than"),value:"greater_than",displayNumber:!0},{caption:l.translateKey("greater_than_or_equals"),value:"greater_than_or_equals",displayNumber:!0},{caption:l.translateKey("less_than_or_equals"),value:"less_than_or_equals",displayNumber:!0},{caption:l.translateKey("between"),value:"between",displayNumbers:!0},{caption:l.translateKey("positive"),value:"positive"},{caption:l.translateKey("negative"),value:"negative"}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData()[0].selectedFilterOptions;return"string"==typeof e[0]?[JSON.parse(e[0])]:e},getSelectedFilterOptionsText:function(){var e,t=this.model.getUniqueFilterData()[0].selectedFilterOptions,i="string"==typeof t[0]?JSON.parse(t[0]):t[0];switch(null==i?void 0:i.value){case"equals":case"does_not_equals":case"less_than":case"greater_than":case"greater_than_or_equals":case"less_than_or_equals":e="".concat(l.translateKey(null==i?void 0:i.value)," ").concat(i.startNumber);break;case"between":e="".concat(l.translateKey(null==i?void 0:i.value)," ").concat(i.startNumber)+" ".concat(l.translateKey("_and")," ").concat(i.endNumber);break;case"is_empty":e=l.translateKey("empty");break;default:e=l.translateKey((null==i?void 0:i.value)||"all")}return o.upperFirst(e)},_getFilterValues:function(e){return"between"!==e.value?[e.startNumber]:[e.startNumber,e.endNumber]},updateModelSelectedFilterOptions:function(e){var t=this,i=e[0],n=this.model.getFilterData();o.forEach(n,(function(e){var n;if("all"===i.value)n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[i]});else{var a=t._getFilterValues(i),s=t.model.getFilterOption(i.value),l=r(r({},t.filterOptionContext),{},{values:a});n=r(r({},s.getFilterData(l)),{},{selectedFilterOptions:[i]})}o.assign(e,n)}))}})},196811:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(927360)})},769959:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(927360)})},882743:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953);var n=i(447578),a=i(495689),r=n.extend(a,{name:"decimal",caption:"Number",description:"A numeric value with a decimal point.",includeInFormBuilder:!0,ui:{component:function(){return i(927360)},formComponent:function(){return i(769959)},searchComponent:function(){return i(927360)},gridConfiguration:{dataFilterComponent:function(){return i(426551)},dataFilterOperators:{is_empty:{getFilterData:function(){return{operator:"is_empty"}}},equals:{getFilterData:function(e){return{operator:"is",fieldValues:[e.values[0]]}}},does_not_equals:{getFilterData:function(e){return{operator:"is_not",fieldValues:[e.values[0]]}}},less_than:{getFilterData:function(e){return{operator:"less_than",fieldValues:[e.values[0]]}}},greater_than:{getFilterData:function(e){return{operator:"greater_than",fieldValues:[e.values[0]]}}},greater_than_or_equals:{getFilterData:function(e){return{operator:"greater_than_or_equals",fieldValues:[e.values[0]]}}},less_than_or_equals:{getFilterData:function(e){return{operator:"less_than_or_equals",fieldValues:[e.values[0]]}}},between:{getFilterData:function(e){return{operator:"between",fieldValues:e.values}}},positive:{getFilterData:function(e){return{operator:"greater_than",fieldValues:[0]}}},negative:{getFilterData:function(e){return{operator:"less_than",fieldValues:[0]}}}}},image:function(){return i(665704)},dragComponent:function(){return i(196811)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"decimal-properties-form",propertiesForm:"decimal-properties-form",icon:"fa-folder-o"},export:{format:function(e,t){return".xlsx"===t.exportType?null==e||"number"==typeof e?e:parseFloat(e):r.format(e,t)}}});e.exports=r},176616:(e,t,i)=>{"use strict";i(426099);var n=i(96190),a=i(553269),r=i(40785),o=i(428064),s=i(461082).createDurationFormatter,l=36e5,d=864e5,c=$appData.globalConfig,u=c.yearMs,p=c.monthMs,f={years:u,months:p,days:d,hours:l,minutes:6e4,seconds:1e3},h=s($appData.locale),m=function(e,t,i){return Math.min(Math.max(e,t),i)};e.exports=o.extend({field:null,$element:null,$unitElement:null,$readOnly:null,template:i(80852),className:"delay-component-tmpl",defaultMask:n.defaults({integerDigits:3},$appData.globalConfig.defaultNumberMask),locals:function(){var e=this.parseModelValue();return{field:this.field,unit:e.unit,delay:e.unitDelay,beforeAfter:e.beforeAfter,showBeforeAfter:this.showBeforeAfter,ariaLabel:this.fieldDef.ariaLabel}},parseModelValue:function(e){var t;null!==(t=e)&&void 0!==t||(e=this.model.get(this.field));var i="after";n.isNumber(e)&&(e<0&&(i="before"),e=Math.abs(e));var a="minutes",r=e;if(n.isNumber(e))switch(e%p==0?a="months":e%d==0?a="days":e%l==0&&(a="hours"),a){case"months":r=n.floor(e/p);break;case"days":r=n.floor(e/d);break;case"hours":r=n.floor(e/l);break;case"minutes":r=n.floor(e/6e4);break;default:r=e}return{unit:a,delay:e,unitDelay:r,beforeAfter:i}},calculateNewModelValue:function(){var e=parseInt(this.$element.val(),10),t=this.$unitElement.val();return!n.isNumber(e)||n.isNaN(e)?e=null:e<0&&!this.showBeforeAfter?e=0:e*=f[t],this.showBeforeAfter&&"before"===this.$beforeAfterElement.val()&&(e=-e),e},events:{"change input":"onInputChange:default","blur input":"onBlur","change select":"onUnitChange"},updateField:function(){var e=this.parseModelValue();this._previousDelay=e.delay,this.$element.val(e.unitDelay),this.$unitElement.val(e.unit)},updateModelValue:function(e,t){n.isNumber(t)&&!n.isNaN(t)||(t=null),(t=m(t,-this._max,this._max))!==e&&(this.model.set(this.field,t),o.prototype.onEditableValueChange.call(this,e,t))},calculateUserInput:function(){var e=this.calculateNewModelValue();return Math.abs(e)>this._max?this.$el.tooltip("show"):(this._previousDelay=e,this.$el.tooltip("hide")),e},onInputChange:function(){var e=this.model.get(this.field),t=this.calculateUserInput();this.updateModelValue(e,t)},onUnitChange:function(){var e=this.model.get(this.field),t=this.calculateUserInput();this.updateModelValue(e,t)},onModelChange:function(){this.updateField()},getMsDuration:function(e){return n.isEmpty(e)?0:n.reduce(e,(function(e,t,i){return e+=function(e,t){return n.has(f,t)?f[t]*e:e}(t,i),e}),0)},onReadOnlyModeChange:function(e){this.updateField()},onInit:function(e){var t,i;this.showBeforeAfter=n.get(this,"fieldDef.showBeforeAfter",!1),this._precision=(null===(t=this.fieldDef)||void 0===t||null===(t=t.typeOptions)||void 0===t?void 0:t.precision)||this.defaultMask.integerDigits,this.maxDuration={years:10};var a=(null===(i=this.fieldDef)||void 0===i||null===(i=i.typeOptions)||void 0===i?void 0:i.maxDuration)||this.maxDuration,r=this.getMsDuration(a),o=this.getMsDuration(this.maxDuration);this._max=m(r,0,o),this._maxText=h(r===o?a:this.maxDuration)},onRendered:function(e){var t=this;this.$element=this.$('input[name="delay"]'),this.$unitElement=this.$('select[name="unit"]'),this.$beforeAfterElement=this.$('select[name="before-or-after"]');var i=n.get(this,"fieldDef.mask")||{},r=n.defaults({},i,this.defaultMask);r.integerDigits=$appData.globalConfig.defaultNumberMask.integerDigits,r.onKeyDown=this._onKeyDown.bind(this),r.onKeyValidation=function(e,i){t._onMaskValidated.call(t,e,i)},new a(r).mask(this.$element[0]),this.model.on("change:".concat(this.field),this.onModelChange,this),this._setupValidationTooltip(),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},_onKeyDown:function(e){var t,i=null===(t=e.code)||void 0===t?void 0:t.toLowerCase();"backspace"!==i&&"delete"!==i||this.$el.tooltip("hide")},_onMaskValidated:function(e,t){this.calculateUserInput(),t?this.$element.tooltip("hide"):this.$element.tooltip("show")},_getTooltipText:function(){return r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value"},{context:{valueLimit:this._maxText}})},_setupValidationTooltip:function(){r.setupValidationTooltip(this,this.$el,{title:this._getTooltipText()})},onBlur:function(){this.$el.tooltip("hide")}})},948179:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(176616)})},533519:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(176616)})},306527:(e,t,i)=>{"use strict";i(428706),i(944114);var n=i(96190),a=i(447578),r=i(810279);e.exports=a.extend(r,{name:"delay",caption:"Delay",description:"Defines a number in hours and minutes.",includeInFormBuilder:!0,ui:{component:function(){return i(176616)},formComponent:function(){return i(533519)},searchComponent:function(){return i(176616)},image:function(){return i(896180)},dragComponent:function(){return i(948179)},configurationTabs:function(){return i(101786)},createForm:"base-properties-form",propertiesForm:"base-properties-form",icon:"fa-folder-o"},escape:function(e){return n.escape(e)},es:{mapping:{type:"long",fields:{_english:{type:"text",analyzer:"english"}}}},operators:i(290638),format:function(e,t){if(n.isNil(e))return"";if(n.isNaN(e))return t.translateKey({key:"invalid_duration"});var i=e<0;e=Math.abs(e);var a=36e5,r=864e5,o=t.globalOptions,s=o.yearMs,l=o.monthMs,d=n.floor(e/s),c=n.floor(e%s/l),u=n.floor(e%l/r),p=n.floor(e%r/a),f=n.floor(e%a/6e4),h="";return h+=d<1?"":"".concat(d," ").concat(t.translateKey({key:d>1?"years":"year"})," "),h+=c<1?"":"".concat(c," ").concat(t.translateKey({key:c>1?"months":"month"})," "),h+=u<1?"":"".concat(u," ").concat(t.translateKey({key:u>1?"days":"day"})," "),h+=p<1?"":"".concat(p," ").concat(t.translateKey({key:p>1?"hours":"hour"})," "),h+=f<1?"":"".concat(f," ").concat(t.translateKey({key:f>1?"minutes":"minute"})," "),h+=0!==e?"":"0 ".concat(t.translateKey({key:"minutes"})," "),t.fieldDef.showBeforeAfter&&(h+="".concat(i?t.translateKey({key:"before"}):t.translateKey({key:"after"}))),n.startCase(h)},aggregationMethods:function(e){var t=r.aggregationMethods.call(this,e);return t.push("mode"),e?t.concat([]):t}})},290638:(e,t,i)=>{"use strict";var n=i(96190),a=i(810279);e.exports={es:n.extend({},a.getOperators("es"),{contains:null,does_not_contain:null}),obj:a.getOperators("obj"),db:a.getOperators("db")}},461082:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(690906),i(16280),i(327495),i(725440),i(311927),i(202008),i(426099),i(962062),i(505506),e.exports.createDurationFormatter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long";function i(i){return Intl.NumberFormat(e,{style:"unit",unit:i,unitDisplay:t}).format}e=e.replace("_","-");var a={years:i("year"),months:i("month"),days:i("day"),hours:i("hour"),minutes:i("minute"),seconds:i("second"),milliseconds:i("millisecond")};return function(e){return Object.entries(a).map((function(t){var i,a,r=(a=2,function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(i,a)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1],l=e[o];if(l>0)return s(l)})).filter(Boolean).join(" ")}}},83874:(e,t,i)=>{"use strict";i(962062);var n=i(274692),a=i(96190),r=i(428064);e.exports=r.extend({field:null,$element:null,template:i(119220),className:"dropdown-component-tmpl",onInit:function(){var e=a.get(this,"fieldDef.typeOptions.staticData")||[];a.get(this,"fieldDef.typeOptions.useAppData")&&a.isString(e)?this.picklistData=a.get($appData,e)||[]:this.picklistData=e},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},events:{"change select":"onEditibleValueChange"},onEditibleValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=t[0],s=this.model.get(this.field),l=n(o.currentTarget).val();a.isEmpty(l)&&(l=null),l!==s&&(this.model.set(this.field,l),r.prototype.onEditableValueChange.apply(this,t))},onModelChange:function(){var e=this.model.get(this.field);this.$element.val(e)},onRendered:function(e){this.$element=this.$('select[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this._addRows(this.picklistData);var t=this.model.get(this.field)||"";this.$element.val(t),e()},_addRows:function(e){this.$element.append(a.map(e,(function(e){return n("<option></option>").attr("value",e).text(e)})))}})},735393:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(83874)})},104689:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(83874)})},375321:(e,t,i)=>{"use strict";var n=i(447578),a=i(955505);e.exports=n.extend(a,{name:"dropdown",caption:"Dropdown",includeInFormBuilder:!1,description:"An input field where the user can enter data.",ui:{component:function(){return i(83874)},formComponent:function(){return i(104689)},dragComponent:function(){return i(735393)},defaultValueOnPropertiesForm:!1,createForm:"textbox-properties-form",propertiesForm:"textbox-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-sort-desc"}})},256323:(e,t,i)=>{"use strict";i(426099),i(423500),i(599775);var n=i(96190),a=i(706732),r=i(22687);e.exports=a.extend({template:i(190401),className:"email-lookup-multiple-component-tmpl",events:{"click .lookup-control > button":"lookupControlClickedThrottled"},addPartyOptionsToSelectize:function(e){if(!n.isEmpty(e)){var t=this.selectize;e.forEach((function(e){var i=e.get("emailAddress"),n={email:i,name:e.get("partyName"),entity$:e.get("entity$")};t.addOption(n),t.addItem(i)}))}},lookupControlClickedThrottled:n.throttle((function(){var e=this;this._renderSearchView((function(t){return e.addPartyOptionsToSelectize(t)}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),_renderSearchView:function(e){var t=this;n.isFunction(e)&&(this.searchView=new r({onSearchResultClick:e,emailModel:t.model}),this.addSubView(this.searchView).renderAsModal(),this.searchView.on("removed",(function(){return t.model.trigger("party-lookup-removed")})))},locals:function(){var e;return{disableLookup:this.fieldDef.disableLookup,disableRule:this.fieldDef.disablePeopleSearchRule,field:this.field,ariaLabel:this.fieldDef.ariaLabel,trailingButton:null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.trailingButton}}})},244802:(e,t,i)=>{"use strict";var n=i(897979);e.exports=n.extend({Component:i(256323)})},217204:(e,t,i)=>{"use strict";var n=i(447578),a=i(100515);e.exports=n.extend(a,{name:"emailLookup[]",caption:"Email Lookup Multiple",includeInFormBuilder:!1,ui:{component:function(){return i(256323)},formComponent:function(){return i(244802)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(256323)}}}})},706732:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(962010),i(874423),i(21699),i(428706),i(533110),i(944114),i(16280),i(672890);var n=i(96190),a=i(274692),r=i(122268),o=i(448498),s=i(922721),l=i(429629),d=i(40785),c=i(939994),u=i(428064),p=i(93216);e.exports=l.extend({template:i(545022),events:{"keyup input":"onKeyup:default","blur input":"onBlur"},onInit:function(e){l.prototype.onInit.call(this,e),this.maxEmailItems=this.getMaxItems()},onRendered:function(e){var t=this;l.prototype.onRendered.call(this,(function(){t.maxEmailItems&&t._addMaxTooltip(),e()}))},onModelChange:function(){var e=this;this.maxEmailItems&&!this.selectize.isFull()&&this.$selectizeWrapper.tooltip("hide");var t=this.model.get(this.field)||[];if(!n.isEqual(t,this.selectize.items)){var i=this.model.get(this.userNameAttribute)||[],a=this.model.get("".concat(this.field,"__partyName"))||[],r=n.difference(t,n.keys(this.selectize.options));n.each(r,(function(r){var o=n.indexOf(t,r);e.selectize.addOption({email:r,name:i[o]||a[o]||"",entity$:e.getEntity(a,i,r,o)})})),this.selectize.setValue(t,!0)}},onSelectizeItemsChange:function(){var e=this.selectize.options,t=n.clone(this.selectize.items),i=this.model.get(this.field);if(n.isEmpty(t)&&(t=null),!n.isEqual(t,i)){var a=!1!==n.get(this,"fieldDef.linkWithSystemParties"),r=!1!==n.get(this,"fieldDef.linkWithSystemUser"),o={};o[this.field]=t,o[this.userEmailAttribute]=n.map(t,(function(t){return e[t].email})),o[this.userNameAttribute]=r?n.map(t,(function(t){var i;return"-/sys/user"===(null===(i=e[t])||void 0===i?void 0:i.entity$)?e[t].name:null})):[],o["".concat(this.field,"__partyName")]=a?n.map(t,(function(t){var i;return"-/sys/party"===(null===(i=e[t])||void 0===i?void 0:i.entity$)?e[t].name:null})):[],this.model.set(o);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];u.prototype.onEditableValueChange.apply(this,l)}},buildTypeahead:function(){var e=this,t=this.getSelectizeOptions(),i=this.$element.selectize(t);this.selectize=i[0].selectize,this.$selectizeWrapper=this.selectize.$wrapper,this.selectize.clearOptions();var a=this.model.get(this.field)||[],r=this.model.get(this.userNameAttribute)||[],o=this.model.get("".concat(this.field,"__partyName"))||[];a.length>0&&(n.each(a,(function(t,i){e.selectize.addOption({email:t,name:r[i]||o[i]||"",entity$:e.getEntity(o,r,t,i)})})),this.selectize.setValue(a,!0))},getMaxItems:function(){var e=n.get(this,"fieldDef.maxItems");if(!e)return null;var t=this.model.get(this.field)||[],i=n.size(t);return i>e&&(e=i),e},_addMaxTooltip:function(){var e=d.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value"},{context:{valueLimit:this.maxEmailItems}});d.setupValidationTooltip(this,this.$selectizeWrapper,{title:e})},onKeyup:function(e){this.maxEmailItems&&this._handleMaxTooltip(e)},onBlur:function(e){this.maxEmailItems&&this.$selectizeWrapper.tooltip("hide")},_handleMaxTooltip:function(e){13!==e.keyCode&&(this.selectize.isFull()?this.$selectizeWrapper.tooltip("show"):this.$selectizeWrapper.tooltip("hide"))},apiSearchEnabled:function(){var e=!1!==this.fieldDef.linkWithSystemParties,t=!1!==this.fieldDef.linkWithSystemUser;return(e||t)&&!p.hasRole("external_user")},getSelectizeOptions:function(){var e=this;return{create:!0,valueField:"email",labelField:"name",searchField:["name","email"],plugins:["remove_button"],preload:!0,maxItems:this.maxEmailItems?this.maxEmailItems:null,load:this.apiSearchEnabled()?this.loadFn.bind(this):null,onOptionAdd:function(e){var t=this;s.string().email({tlds:{allow:!1}}).validate(e).error&&setTimeout((function(){t.removeItem(e)}),0)},onItemAdd:function(t){var i=this;s.string().email({minDomainSegments:2,tlds:{allow:!1}}).validate(t).error&&setTimeout((function(){i.removeItem(t)}),0);var a=$appData.emailWhitelist,r=n.get(e.fieldDef,"typeOptions.disableWhitelist"),l=o.parseOneAddress(t),d=!n.isEmpty(l)&&"*@".concat(l.domain);n.isEmpty(a)||!0===r||n.includes(a,t)||n.includes(a,d)||setTimeout((function(){i.removeItem(t)}),0)},onItemRemove:function(t){var i=e.selectize.settings.maxItems,n=e.getMaxItems();i>n&&(e.selectize.settings.maxItems=n)},onDropdownOpen:function(e){d.scrollTo(e)},render:{item:this.renderItem.bind(this),option:this.renderOption.bind(this)}}},loadFn:function(e,t){if(e.length<1)return t();var i=this;r.series([function(t){i.searchEntities(e,"user",t)},function(t){var a="sys/case"===i.model.getEntityCanon();if(!i.model.get(a?"id":"caseId")||!a||!1===n.get(i,"fieldDef.linkWithSystemParties"))return t(null,[]);i.searchEntities(e,"party",t)}],(function(e,a){if(e)return t();var r=!1!==n.get(i,"fieldDef.linkWithSystemParties")&&!1===n.get(i,"fieldDef.linkWithSystemUser")?n.compact(a[1]):n.compact(a[0].concat(a[1]));r=n.each(r,(function(e){e.partyName&&!e.name&&(e.name=e.partyName),e.emailAddress&&!e.email&&(e.email=e.emailAddress,e.email__name=e.name)})),t(r)}))},renderItem:function(e,t){if(!n.get(this,"fieldDef.linkWithSystemUser")&&!n.get(this,"fieldDef.linkWithSystemParties")){var i="";return e.email&&(i='<span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">'.concat(t(e.email),"</span>")),"<div>".concat(i,"</div>")}var a="-/sys/party"===n.get(e,"entity$")&&!1!==n.get(this,"fieldDef.linkWithSystemParties"),r=a?"(Party)":"(User)",o="";this.showRecordIndication(e)&&(o='<span style="font-family: inherit; font-style: italic; font-size: 12px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030; opacity: 0.75;"> '.concat(r," </span>"));var s="",l=a||!0===n.get(this,"fieldDef.linkWithSystemUser")?e.name:e.email;e.name&&(s='<span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">'.concat(t(l),"</span>"));var d="",c=l===e.email;return e.email&&!c&&(d='<span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030; opacity: 0.75;">&nbsp;&lt;'.concat(t(e.email),"&gt;</span>")),"<div>".concat(s).concat(o).concat(d,"</div>")},renderOption:function(e,t){var i=e.name||e.email,a=e.name?e.email:null,r="".concat(this.field,":").concat(t(e.email)),o="-/sys/party"===n.get(e,"entity$")&&!1!==n.get(this,"fieldDef.linkWithSystemParties");if(!1===n.get(this,"fieldDef.linkWithSystemUser")&&(!1===n.get(this,"fieldDef.linkWithSystemParties")||!1!==n.get(this,"fieldDef.linkWithSystemParties")&&!o))return'<div class="option" role="option" id="'.concat(r,'"><span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">').concat(t(e.email),"</span></div>");var s=o?"(Party)":"(User)",l="";this.showRecordIndication(e)&&(l='<span style="font-size: 12px; font-style: italic; display: block; opacity: 0.75;"> '.concat(s," </span>"));var d="";return a&&(d='<span class="highlight-sub-search-block">'.concat(t(a),"</span>")),'<div class="option" role="option" id="'.concat(r,'"><span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">').concat(t(i),"</span>").concat(d).concat(l,"</div>")},getHideCurrentQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=c.get({base:"sys",name:e}).query("es");return n.isEmpty(this.originalValue)?null:t.is_not("id",this.userId)},searchEntities:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",i=arguments.length>2?arguments[2]:void 0;if("portal"===$appData.user.type)return i(null,[]);var r=c.get({base:"sys",name:t}).query("es"),o=this.getComponentQuery(t,e,r);r=r.and([o,this.shouldHideCurrent()&&this.getHideCurrentQuery(t),this.getFieldDefQuery(),this.getHideUserRolesQuery()]).toQuery(),a.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_").concat(t),{data:JSON.stringify({search:{size:100,query:r},lang:$appData.intakeTranslationLanguage}),contentType:"application/json",type:"POST"}).done((function(e){var t=n.sortBy(e.hits.hits,"_score").reverse(),a=[];n.each(t,(function(e){e&&e._source&&!n.isEmpty(e._source)&&a.push(e._source)})),i(null,a)})).fail((function(e){var t,n=(null===(t=e.responseJSON)||void 0===t?void 0:t.message)||"Could not search entities";i(new Error(n))}))},getComponentQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n="sys/case"===this.model.getEntityCanon();return"party"===e?i.and([i.is("sysActive",!0),i.is("caseId",this.model.get(n?"id":"caseId")),i.or([i.contains_partial("partyName",t),i.contains_partial("emailAddress",t)])]):i.and([i.is("active",!0),i.or([i.contains_partial("name",t),i.contains_partial("email",t)])])},showRecordIndication:function(e){return(!1!==n.get(this,"fieldDef.linkWithSystemUser")||"-/sys/user"!==n.get(e,"entity$"))&&!n.isEmpty(e.name)&&n.includes(["-/sys/party","-/sys/user"],n.get(e,"entity$"))},getEntity:function(e,t,i,n){var a="";return e[n]&&!t[n]?a="-/sys/party":!e[n]&&t[n]&&t[n]!==i&&(a="-/sys/user"),a}})},703511:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(706732)})},897979:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(706732)})},100515:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(202008),i(962062),i(428706),i(250113),i(874423),i(21699),i(944114),i(311927);var n=i(96190),a=i(122268),r=i(447578),o=i(489256),s=i(708126);e.exports=r.extend(o,{name:"email[]",caption:"Email Multiple",description:"Store one or more email addresses. Search for email addresses linked to a user and/or party. Manually type in an email address.",includeInFormBuilder:!0,formBuilderDefault:s,db:{beforeSave:function(e,t){return t?(n.isArray(t)||(t=[t]),t=n.map(t,(function(e){return n.isString(e)?e.toLowerCase():e})),r.prepareJSONForDb(e,t)):t},foreign:"sys_user",defaultJoinAttribute:"name",join:["name"],customJoin:function(e,t){var i=e.knexEntity,r=e.entityService,o=e.rows,s=e.field,l=e.values,d=e.joinFields,c=e.entDef;a.waterfall([function(e){var a=r.get("sys/user");i(a).list({joins:!1,limit:100,q:function(e){n.each(l,(function(t){e.orWhereRaw("LOWER(sys_user.email) = ?",[t.toLowerCase()])}))}},(function(i,a){if(i)return t(i);var r=n.chain(a).filter((function(e){return n.has(e,"email")})).keyBy((function(e){return e.email.toLowerCase()})).value(),l=n.map(o,(function(e){var t={id:e.id};return n.each(d,(function(i){t["".concat(s,"__").concat(i)]=n.map(e[s],(function(e){if(!e)return e;var t=r[e.toLowerCase()];return t&&t[i]||null}))})),t}));e(null,l)}))},function(e,a){var d=l,u="".concat(s,"__name");n.each(e,(function(e){var t=n.find(o,(function(t){return e.id===t.id}));d=n.reject(d,(function(i){if(!n.has(e,u))return!1;var a=e[u],r=n.indexOf(t[s],i);return-1!==r&&!n.isNil(a[r])}))}));var p=[],f="sys/case"===c.entityCanon;if(n.each(d,(function(e){var t=n.chain(o).filter((function(t){return n.includes(t[s],e)})).map((function(e){return f?e.id:e.caseId})).reject((function(e){return n.isEmpty(e)})).uniq().value();if(!n.isEmpty(t)){var i={email:e,caseIds:t};p.push(i)}})),n.isEmpty(p))return a(null,e);var h=r.get("sys/party");i(h).list({joins:!1,limit:100,q:function(e){n.each(p,(function(t){e.orWhere((function(e){e.whereRaw("LOWER(sys_party.email_address) = ?",[t.email.toLowerCase()]),e.whereNotNull("sys_party.email_address"),e.whereIn("sys_party.case_id",t.caseIds)}))})),e.orderBy("sys_party.createdDate","desc")}},(function(i,r){if(i)return t(i);var l=n.chain(r).filter((function(e){return n.has(e,"emailAddress")&&!!e.emailAddress})).keyBy((function(e){return e.emailAddress.toLowerCase()})).value(),d=n.map(o,(function(e){var t={id:e.id};return t["".concat(s,"__partyName")]=n.map(e[s],(function(e){if(!e)return e;var t=l[e.toLowerCase()];return t&&t.partyName||null})),t})),c=n.each(e,(function(e){e["".concat(s,"__partyName")]=n.chain(d).find((function(t){return t.id===e.id})).get("".concat(s,"__partyName")).value()}));a(null,c)}))}],(function(e,i){if(e)return t(e);t(null,i)}))}},ui:{component:function(){return i(706732)},formComponent:function(){return i(897979)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(706732)}},image:function(){return i(333844)},sizes:{large:{width:"col-xs-12 col-sm-8",readOnlyWidth:"col-xs-12 col-sm-8"}},cellTemplate:function(){return i(752117)},dragComponent:function(){return i(703511)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"email-multiple-properties-form",propertiesForm:"email-multiple-properties-form",icon:"fa-envelope-o"},escape:function(e){return n.escape(e)},es:{esReverseJoinPriority:"high",mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_email:{type:"text",analyzer:"email",search_analyzer:"email"},_partial:{type:"text",analyzer:"email_typeahead",search_analyzer:"email"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exact")},customJoin:function(){return[{table:"sys_party",fields:["partyName"]}]}},operators:i(690122),format:function(e,t){if(!e)return"";var i=t.fieldDef.field,a=!1!==n.get(t,"fieldDef.linkWithSystemUser"),r=!1!==n.get(t,"fieldDef.linkWithSystemParties"),o=!0===n.get(t,"fieldDef.showNameOnlyIfPossible");return n.map(e,(function(e,s){var l=function(e,t,i,a,r){var o=null;return a&&(o=n.get(e,"data.".concat(t,"__name[").concat(i,"]"))),!o&&r&&(o=n.get(e,"data.".concat(t,"__partyName[").concat(i,"]"))),o}(t,i,s,a,r),d=(a||r)&&l;return d&&o?l:d?"".concat(l," (").concat(e,")"):e})).join(", ")}})},690122:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(489256),s=i(703114).es,l=i(18063);e.exports={es:r.extend({},o.getOperators("es"),{contains_partial:s.containsPartialEmailFormatted,contains:s.containsFormatted,does_not_contain:s.doesNotContainFormatted,contains_exact_words:{getFieldName:function(e){return"".concat(e.field,"__formatted._email")},getQuery:function(e){var t=this.getFieldName(e);return l.must({match_phrase:a({},t,{query:e.value,slop:0})})}},does_not_contain_exact_words:{getFieldName:function(e){return"".concat(e.field,"__formatted._email")},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({match_phrase:a({},t,{query:e.value,slop:0})})}}}),obj:o.getOperators("obj"),db:o.getOperators("db")}},447371:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(747764),i(874423),i(21699),i(123792),i(426099),i(962953),i(962010),i(672890);var a=i(96190),r=i(428064),o=i(706732),s=i(93216);e.exports=o.extend({template:i(260257),onModelChange:function(){var e=this.model.get(this.field);if(!a.isEqual(e,this.selectize.items[0])){var t=this.model.get(this.userNameAttribute);e&&!a.includes(a.keys(this.selectize.options),e)&&this.selectize.addOption({email:e,name:t||""}),this.selectize.setValue(e,!0)}},onSelectizeItemsChange:function(){var e,t,i,o=this.selectize.options,s=this.selectize.items[0]||null;if(s!==this.model.get(this.field)){var l,d,c=(e={},t=this.field,i=s,(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e),u=!1!==a.get(this,"fieldDef.linkWithSystemUser"),p=null===(l=o[s])||void 0===l?void 0:l.name,f="-/sys/user"===(null===(d=o[s])||void 0===d?void 0:d.entity$),h=u&&f&&p;c[this.userNameAttribute]=h?p:"",this.model.set(c);for(var m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];r.prototype.onEditableValueChange.apply(this,g)}},buildTypeahead:function(){var e=this.getSelectizeOptions(),t=this.$element.selectize(e);this.selectize=t[0].selectize,this.selectize.clearOptions();var i=this.model.get(this.field),n=this.model.get(this.userNameAttribute);i&&(this.selectize.addOption({email:i,name:n||"",entity$:this.getEntity([],[n],i,0)||null}),this.selectize.setValue(i,!0))},apiSearchEnabled:function(){return!1!==this.fieldDef.linkWithSystemUser&&!s.hasRole("external_user")},getSelectizeOptions:function(){var e=o.prototype.getSelectizeOptions.call(this);return a.extend(e,{maxItems:1})}})},599838:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(447371)})},708126:e=>{"use strict";e.exports={typeOptions:{disableWhitelist:!0}}},116074:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(447371)})},12540:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(202008),i(962062),i(428706);var n=i(96190),a=i(447578),r=i(955505),o=i(708126);e.exports=a.extend(r,{name:"email",caption:"Email",description:"Store an email address. Search for an existing email address linked to a user. Manually type in an email address.",includeInFormBuilder:!0,formBuilderDefault:o,db:{beforeSave:function(e,t){return n.isString(t)?t.toLowerCase():t},foreign:"sys_user",defaultJoinAttribute:"name",join:["name"],customJoin:function(e,t){var i=e.knexEntity,a=e.entityService,r=e.rows,o=e.field,s=e.values,l=e.joinFields;i(a.get("sys/user")).list({joins:!1,q:function(e){n.each(s,(function(t){e.orWhereRaw("LOWER(sys_user.email) = ?",[t.toLowerCase()])}))}},(function(e,i){if(e)return t(e);var a=n.chain(i).filter((function(e){return n.has(e,"email")})).keyBy((function(e){return e.email.toLowerCase()})).value(),s=n.map(r,(function(e){var t={id:e.id};return e[o]&&n.each(l,(function(i){var n=a[e[o].toLowerCase()];t["".concat(o,"__").concat(i)]=n&&n[i]||null})),t}));t(null,s)}))}},ui:{component:function(){return i(447371)},formComponent:function(){return i(116074)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(447371)}},image:function(){return i(232509)},dragComponent:function(){return i(599838)},configurationTabs:function(){return i(101786)},createForm:"email-properties-form",propertiesForm:"email-properties-form",icon:"fa-envelope-o"},escape:function(e){return n.escape(e)},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_email:{type:"text",analyzer:"email",search_analyzer:"email"},_partial:{type:"text",analyzer:"email_typeahead",search_analyzer:"email"},_exactLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exact")}},operators:i(567017),format:function(e,t){if(!e)return"";var i=t.fieldDef.field,a=n.get(t,"fieldDef.linkWithSystemUser",!1),r=n.get(t,"data.".concat(i,"__name"));return!n.isNil(n.get(t,"fieldDef.linkWithSystemUser"))&&a&&r?"".concat(r," <").concat(e,">"):e}})},567017:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(955505),s=i(703114).es,l=i(18063);e.exports={es:r.extend({},o.getOperators("es"),{is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return l.must({match:a({},t,e.value)})}},is_not:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.field,"._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({match:a({},t,e.value)})}},contains_partial:s.containsPartialEmailFormatted,contains_exact_words:{getFieldName:function(e){return"".concat(e.field,"__formatted._email")},getQuery:function(e){var t=this.getFieldName(e);return l.must({match_phrase:a({},t,{query:e.value,slop:0})})}},does_not_contain_exact_words:{getFieldName:function(e){return"".concat(e.field,"__formatted._email")},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({match_phrase:a({},t,{query:e.value,slop:0})})}}}),obj:o.getOperators("obj"),db:r.extend({},o.getOperators("db"),{is:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.where(t,"ilike",i)}}},is_not:{getQuery:function(e){var t=e.fieldStatement,i=e.value;return function(e){return e.whereNot(t,"ilike",i).orWhereNull(t)}}}})}},979943:(e,t,i)=>{"use strict";i(428706),i(202008),i(426099),i(962062);var n=i(96190),a=i(939994),r=i(348174),o=i(40785),s=i(810489);e.exports=s.extend({FilterOptionsMenuView:i(174989),customFilterOptionsMenuOpts:{enableSearch:!0,sortList:!1,showClearAllBtn:!0,allowNoOptionsSelected:!0},onInit:function(){this.fieldDef=this.getFieldDef(),this.filterOptionName="is_any"},getEntityNameFilterOption:function(e){return{caption:o.translateKey({groupName:e.entityCanon,subgroupName:"general",key:"name"}),value:e.entityCanon}},getAllFilterOptions:function(e){var t,i=a.getAll(),o=r.getAll(),s=null===(t=this.fieldDef)||void 0===t||null===(t=t.typeOptions)||void 0===t?void 0:t.excludeFullyStaticEntities,l=i.concat(o);s&&(l=n.filter(l,(function(e){return e.isPartiallyDynamicEntity()||e.isDynamicEntity()}))),e(null,l.map(this.getEntityNameFilterOption))},getSelectedFilterValues:function(e){return e[0].fieldValues},getSelectedFilterOptions:function(){var e,t=this.model.getUniqueFilterData()[0];return null!==(e=null==t?void 0:t.fieldValues)&&void 0!==e?e:[]}})},993965:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953);var n=i(447578),a=i(858364);e.exports=n.extend(a,{name:"entityName",caption:"Entity Name",includeInFormBuilder:!1,operators:i(173652),ui:{gridConfiguration:{dataFilterComponent:function(){return i(979943)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}}},format:function(e,t){return e?t.translateKey({groupName:t.data[t.fieldDef.field],subgroupName:"general",key:"name"}):""}})},173652:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(858364),r=i(18063);e.exports={es:n.extend({},a.getOperators("es"),{is_any:{ui:!1,conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i="string"==typeof e.value?[e.value]:e.value,a=n.compact(i),o=n.map(a,(function(e){var i={};return i[t]=e,{match:i}}));return r.should(o)}}}),db:a.getOperators("db")}},850357:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(681278),i(802259),i(747764),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(428706),i(202008),i(426099),i(250113),i(962010),i(944114),i(423500),i(533110),i(962062),i(123792),i(962953);var l=i(274692),d=i(96190),c=i(122268),u=i(378540),p=i(428064),f=i(939994),h=i(348174),m=i(40785);e.exports=u.extend({className:"entity-picklist-multiple-component-tmpl",onInit:function(){for(var e,t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];u.prototype.onInit.apply(this,n);var r=n[0];if(this.entityCanonAttribute="".concat(r.field,"__canon"),this.childFormsOnly=(null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.childFormsOnly)||!1,this.parentEntityName=null===(t=this.fieldDef)||void 0===t||null===(t=t.typeOptions)||void 0===t?void 0:t.parentEntityName,this.inactiveCanon="unknown_entity",this.childFormsOnly&&!this.parentEntityName)throw new Error("parentEntityName is required")},buildTypeahead:function(e){var t=this;this.getSelectizeOptions((function(i,n){if(i)return e(i);var a=t.$element.selectize(n);t.selectize=a[0].selectize;var r=t.model.get(t.field)||[],o=t.model.get(t.entityCanonAttribute)||[];return r.length>0&&(d.each(r,(function(e,i){t.selectize.addOption({id:e,name:o[i]||""})})),t.selectize.setValue(r,!0)),e()}))},getSelectizeOptions:function(e){var t=this;u.prototype.getSelectizeOptions.call(this,(function(i,n){var r;if(i)return e(i);var o=n.options;if(!t.childFormsOnly)return e(null,s(s({},n),{},{options:o,plugins:["remove_button"],maxItems:1e3,mode:"multi"}));var l=f.get(t.parentEntityName).getChildren(),c=h.getByParentId({parentEntityId:t.parentEntityId});l.concat(c);var u=d.filter(o,(function(e){return d.find(l,(function(t){var i=t.entity,n=i.base,a=i.name,r="".concat(n,"/").concat(a);return e.canon===r}))})),p=d.filter(o,(function(e){return d.find(c,(function(t){return t.entDef.canon===e.canon}))}));o=u.concat(p);var m=t.getInactiveOptions(o);m&&(r=o).push.apply(r,a(m)),e(null,s(s({},n),{},{options:o,plugins:["remove_button"],maxItems:1e3,mode:"multi"}))}))},getInactiveOptions:function(e){var t=this;if(d.some(this.model.get(this.entityCanonAttribute),(function(e){return null===e}))){var i=[],n=this.model.get(this.field);return d.forEach(n,(function(n){d.find(e,{value:n})||i.push(t.getInactiveOption(n))})),i}},getInactiveOption:function(e){return{value:e,canon:this.inactiveCanon,text:m.translateKey({groupName:"errors",subgroupName:"general",key:this.inactiveCanon})}},getSelectizeData:function(e){var t=this,i=this.valueField;return c.parallel({staticEntities:function(e){if(1===t.entityCategory)return e(null,[]);l.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/isight_entity"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{size:1e3}})}).done((function(i){var n=d.chain(i.hits.hits).map("_source").value();if(t.parentEntityName){var a=d.find(n,{canon:t.parentEntityName});a&&(t.parentEntityId=a.id)}return e(null,n)})).fail(e)},_dynamicEntities:function(e){if(0===t.entityCategory)return e(null,[]);l.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/isight_dynamic_entity"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{size:1e3}})}).done((function(i){var n=d.chain(i.hits.hits).map("_source").value();if(t.parentEntityName){var a=d.find(n,{canon:t.parentEntityName});a&&(t.parentEntityId=a.id)}return e(null,n)})).fail(e)}},(function(n,r){if(n)return e(n);if(t.parentEntityName&&!t.parentEntityId)throw new Error("parentEntityId not found");var o=r.staticEntities,s=r._dynamicEntities,l=[].concat(a(o),a(s)),c=t.filterEntities(l),u=d.map(c,(function(e){return t.getSelectizeItem(e,i)}));return e(null,u)}))},onSelectizeValueChange:function(){var e=this.selectize.options,t=d.clone(this.selectize.items),i=this.model.get(this.field);if(d.isEmpty(t)&&(t=null),!d.isEqual(t,i)){var n,a={};if(a[this.field]=t,a[this.entityCanonAttribute]=d.map(t,(function(t){return e[t].canon})),this.model.set(a),(null===(n=t)||void 0===n?void 0:n.length)<(null==i?void 0:i.length)){var r=d.difference(i,t)[0];d.find(e,(function(e){return e.value===r})).canon===this.inactiveCanon&&(this.selectize.removeItem(r),this.selectize.removeOption(r))}for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];p.prototype.onEditableValueChange.apply(this,s)}},onModelChange:function(){var e=this,t=this.model.get(this.field);if(!d.isEqual(t,this.selectize.items)){var i=this.model.get(this.entityCanonAttribute)||[],n=d.difference(t,d.keys(this.selectize.options));d.each(n,(function(n){var a=d.indexOf(t,n),r=i[a],o={value:n,canon:r};null==r&&(o=e.getInactiveOption(n)),e.selectize.addOption(o)})),this.selectize.setValue(t,!0)}}})},63572:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(850357)})},445374:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(747764),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(123792),i(426099),i(962953),i(428706),i(962062),i(311927);var o=i(96190),s=i(122268),l=i(447578),d=i(489256);function c(e,t){var i=e.entityService,n=e.knexEntity,a=e.query,r=e.isDynamic?"isight/dynamic_entity":"isight/entity";return n(i.get(r)).list({joins:!1,limit:-1,q:a},t)}e.exports=l.extend(d,{name:"entityPicklist[]",caption:"EntityPicklist Multiple",containsFieldData:!0,db:{foreign:"isight_entity",defaultJoinAttribute:"canon",join:["canon"],customJoin:function(e,t){var i,r=e.knexEntity,l=e.entityService,d=e.rows,u=e.field,p=e.typeOptions,f=p.valueField,h=void 0===f?"id":f,m=p.entityCategory,g=void 0===m?0:m,y=e.values,v=e.joinFields;return i="id"===h?{ids:y}:function(e){o.each(y,(function(t){e.orWhere(function(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},h,t))}))},s.parallel({staticEntities:function(e){return 1===g?e(null,[]):c({entityService:l,knexEntity:r,query:i,isDynamic:!1},e)},dynamicEntities:function(e){return 0===g?e(null,[]):c({entityService:l,knexEntity:r,query:i,isDynamic:!0},e)}},(function(e,i){if(e)return t(e);var n=i.staticEntities,r=i.dynamicEntities,s=o.keyBy([].concat(a(n),a(r)),h),l=o.map(d,(function(e){var t={id:e.id};return o.each(v,(function(i){t["".concat(u,"__").concat(i)]=o.map(e[u],(function(e){var t=s[e];return t&&t[i]||null}))})),t}));t(null,l)}))}},ui:{component:function(){return i(850357)},formComponent:function(){return i(63572)},searchComponent:function(){return i(858364).ui.searchComponent()}},format:function(e,t){var i;if(!e)return"";var n="".concat(t.fieldDef.field,"__canon"),a=t.fieldDef.field,r=null!==(i=t.data[n])&&void 0!==i?i:t.data[a];return r?o.map(r,(function(e){return e&&"unknown_entity"!==e?t.translateKey({groupName:e,subgroupName:"general",key:"name"}):t.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_entity"})})).join(", "):t.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_entity"})}})},378540:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(250113),i(426099),i(944114),i(533110),i(962062),i(428706),i(202008),i(16280),i(672890),i(409706);var r=i(96190),o=i(274692),s=i(122268),l=i(182770),d=i(608758),c=i(40785),u=i(428064),p=i(142732),f=i(315481),h=i(93632),m=i(36742).create("/index.js");e.exports=u.extend({field:null,selectize:null,searchCaption:"Search",template:i(678532),className:"entity-picklist-component-tmpl",locals:function(){return{field:this.field}},onInit:function(){this.entityCategory=this.fieldDef.typeOptions.entityCategory||0,this.canCreate=!1!==this.fieldDef.typeOptions.canCreate,this.defaultSorting=!1!==this.fieldDef.typeOptions.defaultSorting,this.valueField=this.fieldDef.typeOptions.valueField||"id",this.defaultEntityCanon=this.fieldDef.typeOptions.defaultEntityCanon},onSelectizeValueChange:function(e){if(r.isEmpty(e)&&(e=null),e!==this.model.get(this.field)){var t=this.selectize.options[e]||{},i=this.model.pickJoinData({attribute:this.field,joinedEntityData:t});i[this.field]=e,this.model.set(i),u.prototype.onEditableValueChange.call(this,e)}},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);t||this.selectize.addOption(this.getSelectizeItem(t)),this.selectize.setValue(e,!0)},buildTypeahead:function(e){var t=this;this.getSelectizeOptions((function(i,n){if(i)return e(i);var a=n.options,o=t.model.get(t.field);if(o&&!r.find(a,{value:o})){var s,l=null===(s=t.fieldDef.typeOptions)||void 0===s?void 0:s.inactiveCanon;o===l&&a.push({value:o,canon:l,text:c.translateKey({groupName:"errors",subgroupName:"general",key:l}),disabled:!0})}var d=t.$element.selectize(n);t.selectize=d[0].selectize;var u=t.model.get(t.field);return u&&t.selectize.setValue(u,!0),e()}))},onRendered:function(e){var t=this;this.$element=this.$('select[name="'.concat(this.field,'"]')),this.buildTypeahead((function(){if(t.model.on("change:".concat(t.field),t.onModelChange,t),t.selectize&&t.selectize.on("change",t.onSelectizeValueChange.bind(t)),!t.model.get(t.field)&&t.defaultEntityCanon){var i=r.findKey(t.selectize.options,(function(e){return e.canon===t.defaultEntityCanon}));i&&(t.onSelectizeValueChange(i),t.model.setInitial(t.field,i))}e()}))},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},getSelectizeOptions:function(e){var t=this,i=this.fieldDef.typeOptions.renderWithIcons;this.getSelectizeData((function(n,a){var r={options:a,placeholder:c.translateKey("search"),labelField:"text",valueField:"value",create:t.canCreate?t.onCreateEntity.bind(t):null};return i&&(r.render={item:t.renderTemplate.bind(t,h),option:function(e){return t.renderTemplate(h,e)}}),t.defaultSorting&&(r.sortField=[{field:"text",direction:"asc"}]),e(n,r)}))},renderTemplate:function(e,t){var i="<div></div>";if(r.isEmpty(t))return i;var n=c.getEntDef(t.dynamic?t.entity$:t.canon);if(!n.model)return i;var a=new(n.model())(t),o={entity$:a.get("entity$"),formattedData:a.getFormattedData({attributes:t,escape:!0})};return d.render(e,o,(function(e,t){if(e)return m.error(e.message),i;i=t})),i},onCreateEntity:function(e,t){var i=new p({caption:e,captionPlural:l(e)});i.save(null,{success:function(){return t({value:i.get("id"),text:e})},error:function(e){return t()}})},getSelectizeData:function(e){var t=this,i=this.valueField;return s.parallel({staticEntities:function(e){if(1===t.entityCategory)return e(null,[]);o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/isight_entity"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{size:1e3}})}).done((function(t){var i=r.chain(t.hits.hits).map("_source").value();return e(null,i)})).fail(e)},dynamicEntities:function(e){if(0===t.entityCategory)return e(null,[]);o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/isight_dynamic_entity"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{size:1e3}})}).done((function(t){var i=r.chain(t.hits.hits).map("_source").value();return e(null,i)})).fail(e)}},(function(a,o){if(a)return e(a);var s=o.staticEntities,l=o.dynamicEntities,d=[].concat(n(s),n(l)),c=t.filterEntities(d);t.refreshModelAttribute(c);var u=r.map(c,(function(e){return t.getSelectizeItem(e,i)}));return e(null,u)}))},filterEntities:function(e){var t=this.fieldDef.filter;if(r.isEmpty(t))return e;if(!f[t])throw new Error("filter function not defined: ".concat(t));return f[t](e,this.model)},getSelectizeItem:function(e,t){return r.defaults({value:e[t],canon:e.canon,text:c.translateKey({groupName:e.canon,subgroupName:"general",key:"name"})},e)},refreshModelAttribute:function(e){var t,i=this,n=this.model.get(this.field);if(n){var a="canon"===(null===(t=this.fieldDef.typeOptions)||void 0===t?void 0:t.valueField);if(!r.find(e,(function(e){return e[i.valueField]===n}))){if(a){var o,s,l=null!==(o=null===(s=this.fieldDef.typeOptions)||void 0===s?void 0:s.inactiveCanon)&&void 0!==o?o:null;return this.model.set(this.field,l)}this.model.set(this.field,c.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_entity"}))}}}})},287611:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(378540)})},246115:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(747764),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(123792),i(426099),i(962953),i(428706),i(962062);var o=i(96190),s=i(122268),l=i(447578),d=i(955505);function c(e,t){var i=e.entityService,n=e.knexEntity,a=e.query,r=e.isDynamic?"isight/dynamic_entity":"isight/entity";return n(i.get(r)).list({joins:!1,limit:-1,q:a},t)}e.exports=l.extend(d,{name:"entityPicklist",caption:"EntityPicklist",db:{foreign:"isight_entity",defaultJoinAttribute:"canon",join:["canon"],customJoin:function(e,t){var i,r=e.knexEntity,l=e.entityService,d=e.rows,u=e.field,p=e.typeOptions,f=p.valueField,h=void 0===f?"id":f,m=p.entityCategory,g=void 0===m?0:m,y=e.values,v=e.joinFields;return i="id"===h?{ids:y}:function(e){o.each(y,(function(t){e.orWhere(function(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},h,t))}))},s.parallel({staticEntities:function(e){return 1===g?e(null,[]):c({entityService:l,knexEntity:r,query:i,isDynamic:!1},e)},dynamicEntities:function(e){return 0===g?e(null,[]):c({entityService:l,knexEntity:r,query:i,isDynamic:!0},e)}},(function(e,i){if(e)return t(e);var n=i.staticEntities,r=i.dynamicEntities,s=o.keyBy([].concat(a(n),a(r)),h),l=o.map(d,(function(e){var t={id:e.id};return o.each(v,(function(i){var n=e[u],a=s[n];t["".concat(u,"__").concat(i)]=a&&a[i]||null})),t}));t(null,l)}))}},ui:{component:function(){return i(378540)},formComponent:function(){return i(287611)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(378540)}}},format:function(e,t){var i,n,a;if(!e)return"";var r="canon"===(null===(i=t.fieldDef.typeOptions)||void 0===i?void 0:i.valueField),o="".concat(t.fieldDef.field,"__canon"),s=r?e:t.data[o],l=null!==(n=null===(a=t.fieldDef.typeOptions)||void 0===a?void 0:a.inactiveCanon)&&void 0!==n?n:"unknown_entity";return s&&s!==l?t.translateKey({groupName:s,subgroupName:"general",key:"name"}):t.translateKey({groupName:"errors",subgroupName:"general",key:l})}})},99840:(e,t,i)=>{"use strict";i(428706),i(533110),i(962062),i(250113),i(426099),i(879432),i(672890);var n=i(274692),a=i(96190),r=i(428064),o=i(40785),s=i(939994);e.exports=r.extend({field:null,selectize:null,searchCaption:o.translateKey("search"),template:i(819278),className:"entity-record-component-tmpl",onInit:function(e){this.textField=this.fieldDef.typeOptions.textField,this.joinedField="".concat(e.field,"__").concat(this.textField),this.entDef=s.get(this.fieldDef.typeOptions.entity),this.entityTable=a.get(this.entDef,"table"),this.showInactiveRecord=a.get(this.fieldDef.typeOptions,"showInactiveRecord",!1),this.filterBy=this.fieldDef.typeOptions.filterBy},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeValueChange:function(e){var t=e;if(a.isEmpty(t)&&(t=null),t!==this.model.get(this.field)){var i=this.selectize.options[t]||{},n=this.model.pickJoinData({attribute:this.field,joinedEntityData:i});n[this.field]=t,this.model.set(n)}},onModelChange:function(){var e=this.model.get(this.field);this.selectize.getOption(e)||this.selectize.addOption({id:e,name:this.model.get(this.joinedField)}),this.selectize.setValue(e)},onFilterByChange:function(){this.selectize.clear(),this.selectize.clearOptions(),this.selectize.onSearchChange()},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.buildTypeahead(),this.model.on("change:".concat(this.field),this.onModelChange,this),this.filterBy&&this.model.on("change:".concat(this.filterBy),this.onFilterByChange,this),this.selectize.on("change",this.onSelectizeValueChange.bind(this)),e()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this),this.filterBy&&this.model.off("change:".concat(this.filterBy),this.onFilterByChange,this)},buildTypeahead:function(){var e=this.$element.selectize(this.getSelectizeOptions());this.selectize=e[0].selectize,this.selectize.clearOptions();var t=this.model.get(this.field);t&&(this.selectize.addOption({id:t,name:this.model.get(this.joinedField)}),this.selectize.setValue(t))},loadFn:function(e,t){var i=this;n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/").concat(this.entityTable),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(this.buildQuery(e))}).done((function(e){var n=a.map(e.hits.hits,"_source");i.selectize.options&&!a.isEmpty(i.selectize.options)&&a.each(i.selectize.options,(function(e,t){var r=a.find(n,{id:t});i.selectize.options[t]=a.defaults(e,r)})),t(n)}))},getSelectizeOptions:function(){return{valueField:"id",labelField:this.textField,loadThrottle:"100",searchField:this.textField,sortField:this.textField,preload:!0,create:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,load:this.loadFn.bind(this)}},buildQuery:function(e){var t,i=this.entDef.query("es"),n=30;this.filterBy&&this.model.get(this.filterBy)?t=i.and([i.is(this.filterBy,this.model.get(this.filterBy)),!a.isEmpty(e)&&i.contains(this.textField,e)]):this.filterBy&&(n=0);var r=a.get(this,"fieldDef.filter");return a.isString(r)&&(r=JSON.parse(r)),{search:{query:i=i.and([t,r]).toQuery(),size:n,from:0},showInactiveRecords:this.showInactiveRecord,lang:$appData.intakeTranslationLanguage}}})},966887:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(99840)})},17783:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(447578),r=i(656409),o=i(955505);e.exports=a.extend(r,{name:"entityRecrodPicklist",caption:"Entity Record Picklist",ui:{component:function(){return i(99840)},formComponent:function(){return i(966887)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(99840)}}},es:n.extend({},o.es,{sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}}),operators:o.operators,escape:function(e){return n.escape(e)},format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return t.data["".concat(i,"__").concat(t.fieldDef.typeOptions.textField)]||""}})},940657:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(962062),i(426099),i(938781),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var o=i(96190),s=i(743780),l=i(428064),d=i(262251),c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"left window key",92:"right window key",93:"select",107:"add",109:"subtract",110:"decimal point",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:"semicolon",187:"equalsign",188:"comma",189:"dash",191:"slash",192:"graveaccent",220:"backslash",222:"quote"};e.exports=l.extend({template:i(211085),className:"expression-component-tmpl",cmMode:"expression",locals:function(){return{field:this.field,value:this.model.get(this.field),placeholder:this.placeholder,maxLength:this.maxLength,ariaLabel:this.fieldDef.ariaLabel}},onInit:function(){var e,t,i,n,a,r,o;this.entDefs=d.getEntDefs(this),this.disableAutoComplete=(null===(e=this.fieldDef.typeOptions)||void 0===e?void 0:e.disableAutoComplete)||!1,this.autoCloseBrackets=!(null!==(t=this.fieldDef.typeOptions)&&void 0!==t&&t.noAutoCloseBrackets),this.lineNumbers=!(null!==(i=this.fieldDef.typeOptions)&&void 0!==i&&i.noLineNumbers),this.lineWrapping=!(null!==(n=this.fieldDef.typeOptions)&&void 0!==n&&n.noLineWrapping),this.autoFocus=!(null!==(a=this.fieldDef.typeOptions)&&void 0!==a&&a.noAutoFocus),this.thisContextProperty=null===(r=this.fieldDef.typeOptions)||void 0===r?void 0:r.thisContextProperty,this.entityField=null===(o=this.fieldDef.typeOptions)||void 0===o?void 0:o.entityField},renderCodeMirror:function(){var e={entDefs:this.entDefs,thisContextProperty:this.thisContextProperty,container:this.el};this.cm=s.fromTextArea(this.$("textarea").get(0),{mode:r({name:this.cmMode},e),lineNumbers:this.lineNumbers,lineWrapping:this.lineWrapping,autoCloseBrackets:this.autoCloseBrackets,extraKeys:{"Ctrl-Space":"autocomplete"},lint:e,hintOptions:e,autoRefresh:!0,autofocus:this.autoFocus,screenReaderLabel:this.fieldDef.ariaLabel}),this.onCmChange=this.onCodeMirrorChange.bind(this),this.onCmKeyup=this.onKeyUp.bind(this),this.cm.on("change",this.onCmChange),this.cm.on("keyup",this.onCmKeyup),this.model.on("change:".concat(this.field),this.onModelChange,this),this.model.on("readOnlyChange",this.onReadOnlyChange,this)},removeCodeMirror:function(){this.cm&&(this.cm.toTextArea(),this.cm.off("change",this.onCmChange),this.cm.off("keyup",this.onCmKeyup),this.cm=null,this.model.off("change:".concat(this.field),this.onModelChange,this),this.model.off("readOnlyChange",this.onReadOnlyChange,this))},updateCodeMirrorEntDefs:function(){if(this.cm){var e={entDefs:this.entDefs,thisContextProperty:this.thisContextProperty,container:this.el};this.cm.setOption("mode",r({name:this.cmMode},e)),this.cm.setOption("lint",e),this.cm.setOption("hint",e)}},onEntityFieldChange:function(){var e=o.map(this.entDefs,"entityCanon"),t=d.getEntDefs(this),i=o.map(t,"entityCanon");o.intersection(i,e).length!==i.length&&(this.entDefs=t,this.updateCodeMirrorEntDefs())},onRendered:function(e){return this.renderCodeMirror(),this.entityField&&this.model.on("change:".concat(this.entityField),this.onEntityFieldChange,this),e()},onRemove:function(){this.entityField&&this.model.off("change:".concat(this.entityField),this.onEntityFieldChange,this),this.removeCodeMirror()},onKeyUp:function(e,t){e.state.completionActive||this.disableAutoComplete||c[(t.keyCode||t.which).toString()]||s.commands.autocomplete(e,null,{completeSingle:!1})},onCodeMirrorChange:function(){var e=this.cm.getValue();e!==this.model.get(this.field)&&this.model.set(this.field,e),l.prototype.onEditableValueChange.apply(this)},onModelChange:function(){if(this.cm){var e=this.cm.getValue(),t=this.model.get(this.field)||"";t!==e&&this.cm.setValue(t)}},onReadOnlyChange:function(e){e||this.cm.refresh()}})},21016:(e,t,i)=>{"use strict";i(428706),i(426099),i(423500),i(874423),i(21699);var n=i(743780),a=i(794503),r=i(262251);e.exports=a.extend({template:i(27068),className:"form-group base-form-component-tmpl expression-form-component-tmpl",Component:i(940657),onInit:function(){var e;this.entDefs=r.getEntDefs(this),this.entDef=this.entDefs[0]||this.model.getEntityDefinition(),this.entityField=null===(e=this.fieldDef.typeOptions)||void 0===e?void 0:e.entityField},renderCodeMirror:function(){var e,t=n.fromTextArea(document.getElementById("".concat(this.field,"-").concat(this.cid,"-readonly")),{mode:{name:this.Component.prototype.cmMode,entDefs:this.entDefs},lineNumbers:!0,lineWrapping:!(null!==(e=this.fieldDef.typeOptions)&&void 0!==e&&e.noLineWrapping),readOnly:!0,autoRefresh:!0});this.model.on("readOnlyChange",this.onReadOnlyChange,this),this.cm=t},removeCodeMirror:function(){this.cm&&(this.cm.toTextArea(),this.cm=null,this.model.off("readOnlyChange",this.onReadOnlyChange,this))},onRendered:function(e){this.observer=new MutationObserver(this.onElementMutation.bind(this)),this.observer.observe(this.el,{attributeFilter:["style"]}),this.renderCodeMirror(),this.entityField&&this.model.on("change:".concat(this.entityField),this.Component.prototype.onEntityFieldChange,this),e()},updateCodeMirrorEntDefs:function(){this.cm&&this.cm.setOption("mode",{name:this.Component.prototype.cmMode,entDefs:this.entDefs})},onModelChange:function(){this.Component.prototype.onModelChange.call(this)},onReadOnlyChange:function(e){e&&this.cm.refresh()},onRemove:function(){this.entityField&&this.model.off("change:".concat(this.entityField),this.Component.prototype.onEntityFieldChange,this),this.observer.disconnect(),this.removeCodeMirror()},onElementMutation:function(e,t){var i=this;e.forEach((function(e){if("attributes"===e.type&&"style"===e.attributeName){var t=i.el.attributes.style;if(t&&!t.value.includes("display: none")){if(i.component&&i.component.cm&&i.component.cm.refresh(),!i.cm)return;i.cm.refresh()}}}))}})},746202:(e,t,i)=>{"use strict";var n=i(447578),a=i(550794);e.exports=n.extend(a,{name:"expression",caption:"ISEL",db:{afterRead:function(e,t){return""===t?null:t}},ui:{component:function(){return i(940657)},formComponent:function(){return i(21016)},sizes:{medium:{width:"col-xs-12 col-sm-3",readOnlyWidth:"col-xs-12 col-sm-8 col-xl-7"}}}})},262251:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(40785);e.exports={getEntDefs:function(e){var t,i,r,o=[],s=null===(t=e.fieldDef)||void 0===t||null===(t=t.typeOptions)||void 0===t?void 0:t.targetEntity;null!=s&&o.push(a.getEntDef(s));var l=null===(i=e.fieldDef)||void 0===i||null===(i=i.typeOptions)||void 0===i?void 0:i.entityField;l&&o.push(a.getEntDef(e.model.get(l)));var d=null===(r=e.parentFormView)||void 0===r?void 0:r.layoutTreeCollection;return d&&o.push(d.getEntityDefinition()),n.compact(o)}}},448420:(e,t,i)=>{"use strict";i(278976);var n=i(96190),a=i(93216),r=i(40785);e.exports=[{renderRule:function(e){return!n.isEmpty(e.hoverText)},template:i(328012)},{locals:function(){return{visibleToReporterText:r.translateKey({groupName:"forms",subgroupName:"tooltips",key:"visible_to_reporter"})}},renderRule:function(e,t,i){var n,r=!!t.get("caseId__reporterAccess")||!!t.get("reporterAccess");return!0===e.showOnPortal&&!a.hasRole("external_user")&&!1!==(null==i||null===(n=i.features)||void 0===n?void 0:n.externalFieldIcon)&&$appData.twoWayPortalEnabled&&(r||t.isHotlineIntakeForm())},template:i(622747)},{locals:function(){return{translatedText:r.translateKey({groupName:"forms",subgroupName:"tooltips",key:"translated_text"})}},renderRule:function(e,t,i){return e.translationApplied},template:i(581170)}]},670203:(e,t,i)=>{"use strict";i(250113),i(426099),i(962062),i(428706);var n=i(96190),a=i(40785),r=i(666785),o=i(522609)();e.exports=r.extend({className:"field-picklist-id-component-tmpl",buildTypeahead:function(e){var t=this;this.getSelectizeOptions((function(i,a){if(i)return e(i);var r=t.$element.selectize(a);t.selectize=r[0].selectize;var o=t.model.get(t.field);if(o){var s=t.getFields(),l=n.find(s,{id:o});t.selectize.addOption(t.getSelectizeItem(l)),t.selectize.setValue(o,!0)}return e()}))},getSelectizeData:function(e){var t=this,i=this;this.getFilteredFields((function(a,r){return a?e(a):(t.duplicateCaptions=o.getDuplicateCaptions(n.mapValues(r,"caption")),s=n.map(r,(function(e){return i.getSelectizeItem(e)})),e(null,s));var s}))},getSelectizeItem:function(e){var t=e.id,i=e.type,n=e.kind;return{id:t,value:t,text:this.alwaysUseCaption?e.caption:a.translateKey({groupName:this.getEntityName(),subgroupName:"fields",key:e.field}),kind:n,type:i}},_getSecondaryCaptionHtml:function(e,t){if(this.duplicateCaptions[e.text]){var i="dynamic"===e.kind?"Dynamic":"Static",a=e.type;return'<div>&nbsp;<em class="secondary-caption">'.concat(t(n.startCase(a))," (").concat(t(i),")</em></div>")}return""}})},900890:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(670203)})},849868:(e,t,i)=>{"use strict";var n=i(447578),a=i(835498);e.exports=n.extend(a,{name:"fieldPicklistId",caption:"Field Picklist Id",containsFieldData:!0,db:{foreign:"isight_field",defaultJoinAttribute:"caption",join:["caption"]},ui:{component:function(){return i(670203)},formComponent:function(){return i(900890)},searchComponent:function(){return i(670203)}},format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return t.data["".concat(i,"__caption")]||""}})},672486:(e,t,i)=>{"use strict";var n=i(96190),a=i(428064),r=i(666785),o=i(158315);e.exports=r.extend({className:"field-picklist-multiple-component-tmpl",onInit:function(e){var t,i,n,a,o,s=this.fieldDef;return this.maxItems=null!==(t=null==s?void 0:s.maxItems)&&void 0!==t?t:null,this.dependentMaxItemField=null!==(i=null==s||null===(n=s.typeOptions)||void 0===n?void 0:n.dependentMaxItemField)&&void 0!==i?i:null,this.maxItemFunction=null!==(a=null==s||null===(o=s.typeOptions)||void 0===o?void 0:o.maxItemFunction)&&void 0!==a?a:null,r.prototype.onInit.call(this,e)},onRendered:function(e){var t=this;r.prototype.onRendered.call(this,(function(){t.dependentMaxItemField&&t.maxItemFunction&&t.model.on("change:".concat(t.dependentMaxItemField),t.updateMaxItems,t),e()}))},onRemoved:function(e){var t=this;r.prototype.onRemoved.call(this,(function(){t.dependentMaxItemField&&t.maxItemFunction&&t.model.off("change:".concat(t.dependentMaxItemField),t.updateMaxItems,t),e()}))},locals:function(){return{field:this.field,caption:n.get(this,"fieldDef.caption",this.field),ariaLabel:this.fieldDef.ariaLabel}},onSelectizeValueChange:function(){var e=n.clone(this.selectize.items),t=this.model.get(this.field)||[];if(!n.isEqual(e,t)){this.model.set(this.field,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];a.prototype.onEditableValueChange.apply(this,r)}},onModelChange:function(){var e=this.model.get(this.field);n.isEqual(this.selectize.items,e)||this.selectize.setValue(e,!0)},buildTypeahead:function(e){var t=this;this.getSelectizeOptions((function(i,n){if(i)return e(i);var a=t.$element.selectize(n);t.selectize=a[0].selectize;var r=t.model.get(t.field);return r&&t.selectize.setValue(r,!0),e()}))},getSelectizeOptions:function(e){var t=this;r.prototype.getSelectizeOptions.call(this,(function(i,a){return i?e(i):e(null,n.assign({},a,{plugins:["remove_button"],maxItems:t.getMaxItems(),mode:"multi"}))}))},getMaxItems:function(){var e=o[this.maxItemFunction];return n.isFunction(e)?e.call(this.model):this.maxItems},updateMaxItems:function(){var e=this.getMaxItems();this.$element[0].selectize.settings.maxItems=e,e&&this.$element[0].selectize.items.length>e&&this.$element[0].selectize.clear()}})},139949:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(672486)})},605773:(e,t,i)=>{"use strict";i(944114),i(250113),i(426099),i(123792),i(962953),i(311927),i(962062);var n=i(96190),a=i(447578),r=i(489256),o=i(800030);e.exports=a.extend(r,{name:"fieldPicklist[]",caption:"Field Picklist Multiple",containsFieldData:!0,ui:{component:function(){return i(672486)},formComponent:function(){return i(139949)},searchComponent:function(){return i(858364).ui.searchComponent()},gridConfiguration:{dataFilterComponent:function(){return i(115885)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},gridFilterUniqueIdentifiers:["typeOptions.entityName"]},format:function(e,t){var i,a;if(!e)return"";var r=t.fieldDef,s=r.typeOptions,l=r.entityName,d=r.entityNameField,c=s||{},u=c.entityName,p=c.entityNameField,f=c.translationGroup,h=null!==(i=null!==(a=null!=u?u:t.data[p])&&void 0!==a?a:t.data[d])&&void 0!==i?i:l,m=null!=h?h:f;return null==m?t.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_field"},{context:{fieldName:e}}):n.map(e,(function(e){var i=!0;return"undefined"!=typeof $appData&&(i=function(e,t){if(!e||!t)return!0;var i=function(e,t){var i,a,r,s=o.getEntityFromCanon(t),l=null!==(i=null===(a=n.find($appData.entityFields,{entity:s}))||void 0===a?void 0:a.fields)&&void 0!==i?i:null===(r=n.find($appData.dynamicEntityFields,{entity:s}))||void 0===r?void 0:r.fields;return null==l?void 0:l[e]}(e,t);if(!i)return!0;if(n.isNil(i.features)||0===i.features.length)return!0;var a=function(){var e=[];return n.each($appData.featureFlagsInfo,(function(t,i){null!=t&&t.enabled&&e.push(i)})),e}();return n.intersection(a,i.features).length>0}(e,h)),i?t.translateKey({groupName:m,subgroupName:f?"caption":"fields",key:e}):t.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_field"},{context:{fieldName:e}})})).join(", ")}})},666785:(e,t,i)=>{"use strict";i(16280),i(962062),i(202008),i(426099),i(874423),i(21699),i(428706),i(250113),i(423500),i(672890);var n=i(96190),a=i(40785),r=i(428064),o=i(809375),s=i(541191),l=i(979865),d=i(315481),c=i(45701);e.exports=r.extend({field:null,selectize:null,searchCaption:a.translateKey({groupName:"placeholders",subgroupName:"components",key:"search"}),template:i(820445),className:"field-picklist-component-tmpl",onInit:function(){var e,t,i,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.fieldDef;if(!o)throw new Error("fieldDef required");this.entityName=null===(e=o.typeOptions)||void 0===e?void 0:e.entityName,this.entityNameField=null===(t=o.typeOptions)||void 0===t?void 0:t.entityNameField,this.refreshOnFields=null===(i=o.typeOptions)||void 0===i?void 0:i.refreshOnFields,this.ignoreAttributesNotInList=(null===(a=o.typeOptions)||void 0===a?void 0:a.ignoreAttributesNotInList)||!1,this.entDef=r.entDef,this.alwaysUseCaption=n.get(r,"alwaysUseCaption",!1)},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeValueChange:function(e){n.isEmpty(e)&&(e=null),e!==this.model.get(this.field)&&(this.model.set(this.field,e),r.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);t||this.selectize.addOption(this.getSelectizeItem(t)),this.selectize.setValue(e,!0)},buildTypeahead:function(e){var t=this;this.getSelectizeOptions((function(i,n){if(i)return e(i);var a=t.$element.selectize(n);t.selectize=a[0].selectize;var r=t.model.get(t.field);return r&&(t.getFields()[r]||t.ignoreAttributesNotInList)&&(t.selectize.addOption(t.getSelectizeItem(r)),t.selectize.setValue(r,!0)),e()}))},onReadOnlyModeChange:function(e){if(!e){var t=this.model.get(this.field),i=n.map(this.options||[],"value");if(t&&i)if(n.isArray(t)){var a=n.difference(t,i);if(!n.isEmpty(a)){var r=n.filter(t,(function(e){return!n.includes(a,e)}));this.model.set(this.field,r)}}else n.every(i,(function(e){return e!==t}))&&this.model.set(this.field,null)}},onRendered:function(e){var t=this;this.$element=this.$('select[name="'.concat(this.field,'"]')),this.buildTypeahead((function(i){return i?e(i):(t.model.on("change:".concat(t.field),t.onModelChange,t),t.selectize.on("change",t.onSelectizeValueChange.bind(t)),n.isNil(t.entityName)&&t.entityNameField&&t.model.on("change:".concat(t.entityNameField),t.onEntityNameFieldChange,t),t.refreshOnFields&&n.each(t.refreshOnFields,(function(e){t.model.on("change:".concat(e),t.refreshData,t)})),e())}))},onRemove:function(){var e=this;this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this),n.isNil(this.entityName)&&this.entityNameField&&this.model.off("change:".concat(this.entityNameField),this.onEntityNameFieldChange,this),this.refreshOnFields&&n.each(this.refreshOnFields,(function(t){e.model.off("change:".concat(t),e.refreshData,e)}))},onEntityNameFieldChange:function(){this.entDef=a.getEntDef(this.getEntityName()),this.model.set(this.field,null),this.selectize.clear(),this.refreshData()},refreshData:function(){var e=this;this.selectize.clear(),this.selectize.clearOptions(),this.getSelectizeData((function(t,i){var a=n.map(i,"value"),r=n.difference(e.selectize.items,a);n.each(r,(function(t){return e.selectize.removeItem(t)})),e.selectize.addOption(i)}))},_getSecondaryCaptionHtml:function(e){if(n.get(this,"fieldDef.typeOptions.displayFieldKind")){var t="dynamic"===e.kind?"dynamic":"static";return'&nbsp;&nbsp;<em class="secondary-caption">'.concat(a.escapedTranslateKey(t),"</em>")}return""},_renderItem:function(e,t){var i=this._getSecondaryCaptionHtml(e,t);return'<div class="item">'.concat(t(e.text)).concat(i,"</div>")},_renderOption:function(e,t){var i=this._getSecondaryCaptionHtml(e,t);return'<div class="option" role="option" id="'.concat(this.field,":").concat(t(e.id),'">').concat(t(e.text)).concat(i,"</div>")},getSelectizeOptions:function(e){var t,i=this,a=!0===(null===(t=this.fieldDef)||void 0===t?void 0:t.allowCreate);this.getSelectizeData((function(t,r){if(t)return e(t);var o={options:r,placeholder:n.get(i,"fieldDef.typeOptions.placeholder",i.searchCaption),labelField:"text",valueField:"value",create:a&&i.onCreateField.bind(i),sortField:[{field:"text",direction:"asc"}],render:{item:i._renderItem.bind(i),option:i._renderOption.bind(i)}};return i.options=r,e(null,o)}))},onCreateField:function(e,t){var i=this,n=new s({caption:e,entityId:this.model.entityModel.id,entityModel:this.model.entityModel,kind:"editable",search:!0}),r=new l({model:n,onSaved:function(e){return i.model.entityModel.fields.add(e),t({value:e.get("field"),text:a.translateKey({groupName:i.getEntityName(),subgroupName:"fields",key:e.get("field")})})}});this.addSubView(r).renderAsModal()},getSelectizeData:function(e){var t=this;this.getFilteredFields((function(i,a){if(i)return e(i);var r=n.map(a,(function(e){return t.getSelectizeItem(e.field,a)}));return t.ignoreAttributesNotInList||t.refreshModelAttribute(r),e(null,r)}))},getSelectizeItem:function(e,t){t||(t=this.getFields());var i=n.find(t,{field:e}),r=this.getEntDef(),o=(null==r?void 0:r.fields()[e])||{},s=a.hasEnabledFeature(o);return{value:e,text:this.alwaysUseCaption?i.caption:s?a.translateKey({groupName:this.getEntityName(),subgroupName:"fields",key:e}):a.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_field"},{context:{fieldName:e}}),kind:n.get(this,"fieldDef.typeOptions.displayFieldKind")&&i.kind,id:e}},getEntityName:function(){return n.isNil(this.entityName)?this.model.get(this.entityNameField):this.entityName},getEntDef:function(){return this.entDef?this.entDef:a.getEntDef(this.getEntityName())},getFields:function(){var e=this.getEntDef();return e?e.fields():[]},getFilteredFields:function(e){var t,i,a,r,s=this.getEntDef(),l=this.getFields();if(!s&&0===l.length)return e(null,[]);l=s.filterEnabledFeaturesFields(l,c.getEnabledFeatures());var d=this.getEntityName(),u=null===(t=this.fieldDef)||void 0===t?void 0:t.typeOptions,p=null==u?void 0:u.filterType,f=null==u?void 0:u.excludeType,h=null==u?void 0:u.excludeKind,m=null==u?void 0:u.excludeDynamicKind,g=null==u?void 0:u.filterKind,y=(null==u?void 0:u.filterFlag)||"formVisible",v=n.isArray(y)?y:[y],b=null==u?void 0:u.searchableFields,w=null==u?void 0:u.alwaysInclude,A=null!==(i=null==u?void 0:u.excludedFields)&&void 0!==i?i:[];if(u.excludeDataFormFields){var C=n.map(n.filter(l,"dataForm"),"field");A=A.concat(C)}u.excludedFieldsDynamicEntities&&s.isDynamicEntityData()&&(A=A.concat(u.excludedFieldsDynamicEntities));var k=null!==(a=null==u||null===(r=u.excludedFieldsByEntityName)||void 0===r?void 0:r[d])&&void 0!==a?a:[],x=n.concat(A,k),_=n.filter(l,(function(e){if(n.includes(x,e.field))return!1;var t=s.getFieldFlags(e),i=o[e.type],a=!0===t.searchVisible,r=!1!==n.get(i,"es.mapping",!1),l=n.every(v,(function(e){return!0===t[e]}));if(n.isArray(w)&&w.length>0&&n.includes(w,e.field))return!0;if(n.isArray(p)&&p.length>0&&!n.includes(p,e.type))return!1;if(n.isArray(f)&&f.length>0&&n.includes(f,e.type))return!1;if(n.isArray(h)&&h.length>0&&n.includes(h,e.kind))return!1;if(n.isArray(m)&&m.length>0&&n.includes(m,e.dynamicKind))return!1;if(n.isArray(g)&&g.length>0&&!n.includes(g,e.kind))return!1;if(!0===b){var d,c=null==i||null===(d=i.ui)||void 0===d?void 0:d.searchComponent;return n.isFunction(c)&&a&&r}return l})),E=(null==u?void 0:u.selectableFields)||[];return E.length>0?e(null,n.filter(_,(function(e){return E.includes(e.field)}))):this.filterRows(_,e)},filterRows:function(e,t){var i,a=null===(i=this.fieldDef.typeOptions)||void 0===i?void 0:i.filter;if(n.isEmpty(a))return t(null,e);if(!d[a])throw new Error("filter function not defined: ".concat(a));return d[a](e,this.model,this.getEntityName(),t)},refreshModelAttribute:function(e){var t;if(null===(t=this.model)||void 0===t||!t.readOnly){var i=this.model.get(this.field);i=n.isArray(i)?i:[i];var a=!0;n.forEach(i,(function(t){n.find(e,(function(e){return e.value===t}))||(a=!1)})),a||this.model.set(this.field,null)}}})},115885:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(428706),i(426099),i(944114),i(962062),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var s=i(96190),l=i(939994),d=i(40785),c=i(317167),u=i(666785);e.exports=c.extend({className:"field-picklist-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:o(o({},c.prototype.customFilterOptionsMenuOpts),{},{searchPlaceholder:d.translateKey({groupName:"placeholders",key:"search_fields"})}),onInit:function(){this.fieldDef=this.getFieldDef(),this.filterEntityName=this.fieldDef.typeOptions.entityName,this.entDef=l.get(this.filterEntityName),this.entityFields=this.entDef.fields(),this.filterOptionName="is_any"},getFieldTranslation:function(e,t){return d.translateKey({groupName:this.entityName,subgroupName:"fields",key:s.toLower(e)},{missingTranslationValue:t||e})},mapPicklistOptionsToFilterOptions:function(e){var t,i=this;return[this.getNoValueOption()].concat(function(e){if(Array.isArray(e))return a(e)}(t=s.chain(e).reduce((function(e,t){return"join"!==t.kind&&e.push({caption:i.getFieldTranslation(t.field,t.caption),value:t.field}),e}),[]).orderBy("caption").value())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},getEntityName:function(){return this.filterEntityName},getEntDef:function(){return this.entDef},getFields:function(){return this.entityFields},filterRows:u.prototype.filterRows,getFilteredFields:u.prototype.getFilteredFields,getAllFilterOptions:function(e){var t=this;this.getFilteredFields((function(i,n){if(i)return e(i);var a=t.mapPicklistOptionsToFilterOptions(n);e(null,t.addMissingFilterOptions(a))}))},getSelectedFilterOptions:function(){var e=this,t=this.model.getUniqueFilterData()[0];return s.map(t.fieldValues,(function(t){return t||e.getNoValueOption().value}))}})},890056:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(666785)})},835498:(e,t,i)=>{"use strict";i(944114),i(250113),i(426099),i(123792),i(962953);var n=i(96190),a=i(447578),r=i(955505),o=i(800030);e.exports=a.extend(r,{name:"fieldPicklist",caption:"Field Picklist",containsFieldData:!0,ui:{component:function(){return i(666785)},formComponent:function(){return i(890056)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(666785)}},gridConfiguration:{dataFilterComponent:function(){return i(115885)},dataFilterOperators:{is_any:{getCaption:function(e){return"isany"},getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},gridFilterUniqueIdentifiers:["typeOptions.entityName"]},format:function(e,t){var i,a,r;if(!e)return"";var s=t.fieldDef,l=s.typeOptions,d=void 0===l?{}:l,c=null!==(i=null!==(a=null!==(r=null==d?void 0:d.entityName)&&void 0!==r?r:t.data[null==d?void 0:d.entityNameField])&&void 0!==a?a:t.data[s.entityNameField])&&void 0!==i?i:s.entityName,u=!0;return"undefined"!=typeof $appData&&c&&(u=function(e,t){if(!e||!t)return!0;var i=function(e,t){var i,a,r,s=o.getEntityFromCanon(t),l=null!==(i=null===(a=n.find($appData.entityFields,{entity:s}))||void 0===a?void 0:a.fields)&&void 0!==i?i:null===(r=n.find($appData.dynamicEntityFields,{entity:s}))||void 0===r?void 0:r.fields;return null==l?void 0:l[e]}(e,t);if(!i)return!0;if(n.isNil(i.features)||0===i.features.length)return!0;var a=function(){var e=[];return n.each($appData.featureFlagsInfo,(function(t,i){null!=t&&t.enabled&&e.push(i)})),e}();return n.intersection(a,i.features).length>0}(e,c)),c&&u?t.translateKey({groupName:c,subgroupName:"fields",key:e}):t.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_field"},{context:{fieldName:e}})},escape:function(e){return n.escape(e)}})},175365:(e,t,i)=>{"use strict";var n=i(96190),a=i(428064),r=i(700924);e.exports=r.extend({template:i(273375),onSelectizeValueChange:function(e){e||(e=[]);var t=this.model.get(this.field)||[];n.isEqual(e,t)||(this.model.set(this.field,e),a.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this,t=this.model.get(this.field);n.isEqual(t,this.selectize.items)||(n.each(t,(function(t){var i=e.selectize.getOption(t);i||e.selectize.addOption(e.getSelectizeItem(i))})),this.selectize.setValue(t,!0))},buildTypeahead:function(){var e=this,t=this.$element.selectize(this.getSelectizeOptions());this.selectize=t[0].selectize;var i=this.model.get(this.field);i&&(n.each(i,(function(t){e.selectize.addOption(e.getSelectizeItem(e.field))})),this.selectize.setValue(i,!0))}})},74980:(e,t,i)=>{"use strict";var n=i(885387);e.exports=n.extend({Component:i(175365)})},75694:(e,t,i)=>{"use strict";i(311927),i(962062);var n=i(96190),a=i(447578),r=i(489256);e.exports=a.extend(r,{name:"fieldType[]",caption:"Field Type Multiple",ui:{component:function(){return i(175365)},formComponent:function(){return i(74980)},searchComponent:function(){return i(175365)}},format:function(e,t){return n.map(e,(function(e){return t.translateKey({groupName:"field_types",subgroupName:e,key:"name"})})).join(", ")}})},700924:(e,t,i)=>{"use strict";i(962062),i(123792),i(426099),i(962953),i(428706),i(672890);var n=i(96190),a=i(40785),r=i(809375),o=i(428064);i(668660),e.exports=o.extend({field:null,selectize:null,searchCaption:"Search",template:i(100510),className:"field-type-component-tmpl",locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeValueChange:function(e){n.isEmpty(e)&&(e=null),e!==this.model.get(this.field)&&(this.model.set(this.field,e),o.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);t||this.selectize.addOption(this.getSelectizeItem(t)),this.selectize.setValue(e,!0)},buildTypeahead:function(){var e=this.$element.selectize(this.getSelectizeOptions());this.selectize=e[0].selectize;var t=this.model.get(this.field);t&&(this.selectize.addOption(this.getSelectizeItem(this.field)),this.selectize.setValue(t,!0))},onRendered:function(e){this.$element=this.$('select[name="'.concat(this.field,'"]')),this.buildTypeahead(),this.model.on("change:".concat(this.field),this.onModelChange,this),this.selectize.on("change",this.onSelectizeValueChange.bind(this)),e()},onRemove:function(){this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},getSelectizeOptions:function(){return{options:this.getSelectizeData(),placeholder:a.translateKey("search"),labelField:"text",valueField:"value",sortField:[{field:"text",direction:"asc"}],optgroups:[{value:"standard",label:"Standard",label_scientific:"Standard"},{value:"advanced",label:"Advanced",label_scientific:"Advanced"}],optgroupField:"group",render:{option:this.renderOption.bind(this)}}},getSelectizeData:function(){var e=r;return n.map(n.keys(e),this.getSelectizeItem)},getSelectizeItem:function(e){return{group:n.get(r[e],"ui.image")?"standard":"advanced",value:e,text:a.translateKey({groupName:"field_types",subgroupName:e,key:"name"})}},renderOption:function(e,t){var i=n.get(r[e.value],"ui.image");return'<div id="'.concat(this.field,":").concat(t(e.id),'" role="option" class="option">').concat(i?'<img alt="" class="field-type-img" src="'.concat(i(),'"/>'):'<div class="field-type-no-img" >&nbsp;</div>')+'<div class="field-type-txt"><p>'.concat(t(e.text),"</p></div>")+"<div>"}})},885387:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(700924)})},373715:(e,t,i)=>{"use strict";var n=i(447578),a=i(955505);e.exports=n.extend(a,{name:"fieldType",caption:"Field Type",ui:{component:function(){return i(700924)},formComponent:function(){return i(885387)},searchComponent:function(){return i(700924)},sizes:{medium:{width:"col-xs-12 col-sm-10"}}},format:function(e,t){return e?t.translateKey({groupName:"field_types",subgroupName:e,key:"name"}):""}})},969662:(e,t,i)=>{"use strict";var n=i(274692);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(16280),i(102892),i(879432),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(962010),i(752675),i(489463),i(428706),i(311927),i(478350),i(730237),i(426099),i(327495),i(671761),i(874423),i(21699),i(944114),i(250113),i(202008);var s=i(96190),l=i(122268),d=i(428064),c=i(714004),u=i(40785),p=i(447578),f=i(896727),h=i(329281),m=i(680553);e.exports=d.extend({className:"file-multiple-component-tmpl",template:i(108949),_dragCounter:0,onInit:function(){this.fieldDef.caseIdField||(this.fieldDef.caseIdField=null),this.fieldDef.maxFileCount&&s.isNumber(this.fieldDef.maxFileCount)||(this.fieldDef.maxFileCount=$appData.globalConfig.maxFileUploadCount),this.fieldDef.maxTotalAttachmentSize&&s.isNumber(this.fieldDef.maxTotalAttachmentSize)||(this.fieldDef.maxTotalAttachmentSize=null),this.fieldDef.maxAttachmentSize&&s.isNumber(this.fieldDef.maxAttachmentSize)||(this.fieldDef.maxAttachmentSize=$appData.globalConfig.maxAttachmentSize),(s.isNull(this.fieldDef.dragAndDrop)||s.isUndefined(this.fieldDef.dragAndDrop))&&(this.fieldDef.dragAndDrop=!0),(s.isNull(this.fieldDef.manualAttach)||s.isUndefined(this.fieldDef.manualAttach))&&(this.fieldDef.manualAttach=!0),s.isArray(this.fieldDef.supportedFormats)||(this.fieldDef.supportedFormats=$appData.globalConfig.supportedFileFormats),(s.isNull(this.fieldDef.canDelete)||s.isUndefined(this.fieldDef.canDelete))&&(this.fieldDef.canDelete=!0),this.totalFileCount=0,this.totalAttachmentSize=0,this.hasFiles=!1,this.fileUploaded=this.fileUploaded.bind(this),this.onFileRemoved=this.onFileRemoved.bind(this),this.updateExistingFile=this.updateExistingFile.bind(this),this.currentFileInputNumber=1},onModelChange:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).unset&&this.removeSubViews()},onRendered:function(e){var t=this;t.onCaseIdChange(),t.fieldDef.caseIdField&&t.model.on("change:".concat(t.fieldDef.caseIdField),t.onCaseIdChange,this),this.model.on("change:".concat(this.field),this.onModelChange,this),t.addManualInput(),this.addFiles(e),this.updateReadOnly()},onRemove:function(){this.fieldDef.caseIdField&&this.model.off("change:".concat(this.fieldDef.caseIdField),this.onCaseIdChange,this),this.model.off("change:".concat(this.field),this.onModelChange,this)},addFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop,t=this,i=this.model.get(this.field);s.isEmpty(i)?e():l.each(i,(function(e,i){t.addFile({fileSize:e.sizeBytes,fileName:e.name,serverObj:e,fileDescription:e.description},i)}),e)},events:{"dragenter .drag-drop-container":"onDragEnter","dragleave .drag-drop-container":"onDragLeave","dragover .drag-drop-container":"onDragOver","drop .drag-drop-container":"onDrop","click #select-from-case":"onSelectFromCaseClick","change #manual-attachment-container input":"onManualAttachmentChange","click #manual-attachment-container":"onSelectFromManualAttachmentClick","keypress #manual-attachment-container":"onSelectFromManualAttachmentKeypress"},onSelectFromManualAttachmentClick:function(e){n("#manual-attachment-container input").blur()},onSelectFromManualAttachmentKeypress:function(e){13===e.which&&this.$("#".concat(this.field,"-").concat(this.viewId,"-").concat(this.currentFileInputNumber)).trigger("click")},locals:function(){var e=this.fieldDef.maxFileCount;return{field:this.field,totalFileCount:this.totalFileCount,hasFileCount:-1!==e,maxFileCount:e,hasTotalAttachmentSize:s.isNumber(this.fieldDef.maxTotalAttachmentSize),totalAttachmentSize:this.totalAttachmentSize,maxTotalAttachmentSize:u.formatSizeUnits(this.fieldDef.maxTotalAttachmentSize),dragAndDrop:this.fieldDef.dragAndDrop,manualAttach:this.fieldDef.manualAttach,hasFiles:this.hasFiles,allowedExtensions:this.fieldDef.supportedFormats.join()}},onCaseIdChange:function(){var e=this.model.get(this.fieldDef.caseIdField);e?(this.caseId=e,this.$("#select-from-case-container").show()):this.$("#select-from-case-container").hide()},onSelectFromCaseClick:function(e){var t=this;if(t.onDragOver(e),s.isEmpty(this.caseId))return f.error(u.translateKey("no_case_selected"));var i=new c({caseId:this.caseId,onSelectionComplete:function(e){t.validate(s.flatMap(e,"file"))&&s.each(e,(function(e){var i=e.file,n=e.model;t.addFile({fileSize:i[0].sizeBytes,fileName:i[0].name,serverObj:i[0],fileDescription:i[0].description,model:n})}))}});return this.addSubView(i).renderAsModal(),!1},addManualInput:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1;this.$("#manual-attachment-container").append('<input\n\t\t\t\t\t\ttype="file"\n\t\t\t\t\t\tname="'.concat(this.field,'"\n\t\t\t\t\t\tid="').concat(this.field,"-").concat(this.viewId,"-").concat(e,'"\n\t\t\t\t\t\taria-label="').concat(this.field,'"\n\t\t\t\t\t\tdata-num=').concat(e,'\n\t\t\t\t\t\taccept="').concat(this.fieldDef.supportedFormats.join(),'"\n\t\t\t\t\t\tmultiple/>')),this.$("#manual-attachment-button").attr("for","".concat(this.field,"-").concat(this.viewId,"-").concat(e)),this.currentFileInputNumber=e},onManualAttachmentChange:function(e){var t=this;t.onDragOver(e);var i=e.currentTarget,n=parseInt(t.$(i).data("num"),10);if(t.addManualInput(n),t.$(i).hide(),i.files){var a=i.files;t.validate(a)&&s.each(a,(function(e){s.set(e,["$chooser"],t.$(i)),t.addFile({domObj:e})}))}else if(t.$(i).val()){var r=t.$(i).val().match(/[^\/\\]+$/)[0];t.addFile({domObjRef:n,fileName:r})}},onDragEnter:function(e){this.onDragOver(e),this._dragCounter++,this.$(".drag-drop-container").addClass("dragging")},onDragLeave:function(e){this.onDragOver(e),this._dragCounter=Math.max(this._dragCounter-1,0),0===this._dragCounter&&this.$(".drag-drop-container").removeClass("dragging")},onDragOver:function(e){e.stopPropagation(),e.preventDefault()},onDrop:function(e){var t=this;t.onDragOver(e),t._dragCounter=0,t.$(".drag-drop-container").removeClass("dragging");var i=e.originalEvent.dataTransfer.files;t.validate(i)&&s.each(i,(function(e){t.addFile({domObj:e})}))},validate:function(e){var t,i=this,n=[],a=[],r=[],o=!1,l=this.getAccumulatedFileSize(),d=s.isNumber(i.fieldDef.maxTotalAttachmentSize),c=s.isArray(i.fieldDef.supportedFormats),h=this.fieldDef.maxFileCount,m=-1!==h&&this.getFilesCount()+e.length>h;if(s.each(e,(function(e){e.size?l+=e.size:e.sizeBytes&&(l+=e.sizeBytes);var t,u=(t=e.name,-1===t.lastIndexOf(".")?"":t.substring(t.lastIndexOf("."))).toLowerCase(),f=!p.validateFileName(e.name);c&&!s.includes(i.fieldDef.supportedFormats,u)?a.push(u):d&&l>i.fieldDef.maxTotalAttachmentSize?o=!0:e.size>i.fieldDef.maxAttachmentSize?n.push(e.name):f&&r.push(e.name)})),c&&a.length>0)t="".concat(u.translateKey("unsupported_file_format"),":\n\t\t\t ").concat(s.uniq(a).join(", ")),f.error(t);else if(d&&o)t="".concat(u.translateKey("total_size_exceeded"),"\n\t\t\t\t (").concat(u.formatSizeUnits(i.fieldDef.maxTotalAttachmentSize),")"),f.error(t);else if(n.length>0){var g="".concat(u.translateKey({groupName:"errors",subgroupName:"general",key:"attachment_is_too_big"}),"\n\t\t\t\t(").concat(u.formatSizeUnits(i.fieldDef.maxAttachmentSize),"\n\t\t\t\t ").concat(u.translateKey("max"),"): ").concat(n.join(","));f.error(g)}else if(r.length>0){var y="".concat(u.translateKey({groupName:"errors",subgroupName:"general",key:"invalid_filename"}),": ").concat(r.join(","));f.error(y)}else m&&f.error(u.translateKey("file_upload_count_limit_passed"));return 0===n.length&&!o&&0===a.length&&0===r.length},addFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.noop,i=this,n=i.fieldDef.maxFileCount;i.model.isProcessing=!0;var a=i.getFilesCount();if(-1===n||a<n){var r=new h(o(o({},e),{},{model:e.model||i.model,canDelete:i.fieldDef.canDelete,field:e.model?e.model.fileAttribute:i.field,disableDownload:!!i.fieldDef.disableDownload,disablePreview:!!i.fieldDef.disablePreview,downloadRule:i.fieldDef.downloadRule,downloadUrl:i.fieldDef.downloadUrl,truncateFilename:i.fieldDef.truncateFilename}));r.on("upload",i.fileUploaded),r.on("removed",i.onFileRemoved),r.on("updateFile",i.updateExistingFile);var l=u.guid();i.$(".files-container").prepend('<div id="'.concat(l,'"></div>')),i.addSubView(r).render(i.$("#".concat(l)),(function(){t()})),i.updateVisibility()&&!1!==e.scroll&&u.scrollTo(i.$("#".concat(l))),this.updateReadOnly()}else t()},fileUploaded:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=s.isArray(this.model.get(this.field))?this.model.get(this.field):[];s.find(a,{objectId:n.objectId})||(a.push(n),this.model.set(this.field,a),d.prototype.onEditableValueChange.apply(this,t)),this.model.isProcessing=!1,this.updateAccumulatedFileSize(),this.updateFileCounter(),this.updateVisibility(),this.updateReadOnly()},onFileRemoved:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=this.model.get(this.field)||[];s.remove(a,(function(e){return e.objectId===n.objectId})),this.model.set(this.field,a),d.prototype.onEditableValueChange.apply(this,t),this.model.isProcessing=!1,this.updateAccumulatedFileSize(),this.updateFileCounter(),this.updateVisibility(),this.updateReadOnly()},updateExistingFile:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=t[1],r=this.model.get(this.field)||[],o=s.find(r,(function(e){return e.objectId===n}));o&&s.extend(o,a),this.model.set(this.field,r),d.prototype.onEditableValueChange.apply(this,t)},getFilesCount:function(){return s.filter(m.getSubViews(this.handle),{templateName:"item-tmpl"}).length},getAccumulatedFileSize:function(){return s.reduce(m.getSubViews(this.handle),(function(e,t){return"item-tmpl"!==t.templateName?e:e+(s.toNumber(s.get(t,"serverObj.sizeBytes"))||0)}),0)},updateAccumulatedFileSize:function(){var e=u.formatSizeUnits(this.getAccumulatedFileSize());this.$(".accumulated-bytes").html(e)},updateFileCounter:function(){var e=s.filter(m.getSubViews(this.handle),{templateName:"item-tmpl"});this.$(".file-count").html(e.length)},updateVisibility:function(){var e=this.getFilesCount(),t=this.fieldDef.maxFileCount;return-1!==t&&e>=t?(this.$(".attachment-selection-container").hide(),!1):(this.$(".attachment-selection-container").show(),!0)},updateReadOnly:function(){this.getFilesCount()>=1?this.$el.parent().removeAttr("data-readonly"):this.$el.parent().attr("data-readonly",!1)}})},329281:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(523418),i(327495),i(690906),i(16280),i(962010),i(752675),i(489463),i(428706),i(409868);var a=i(274692),r=i(96190),o=i(16871).v4,s=i(40785),l=i(428064),d=i(680553),c=i(992574),u=i(394240);e.exports=l.extend({className:"item-tmpl",template:i(615717),file:null,domObj:null,isUploading:!1,isUploaded:!1,serverObj:null,uploadCanceled:!1,xhrUploadRequest:null,canDelete:!0,onInit:function(e){var t=e.domObj?e.domObj.name:e.fileName,i=e.domObj?e.domObj.fileSize:e.fileSize;if(this.canDelete=!1!==e.canDelete,this.model=e.model||null,this.field=e.field||null,this.file={name:t,fileSize:i,description:e.fileDescription},this.domObj=e.domObj,this.descriptionId="attachment-description-".concat(o()),e.serverObj&&(this.isUploaded=!0,this.serverObj=e.serverObj),this.disableDownload=e.disableDownload,this.disablePreview=e.disablePreview,e.downloadRule&&(this.disableDownload=this.disableDownload||!this.model.rules[e.downloadRule].call(this.model)),e.downloadUrl){var n=this.model[e.downloadUrl];this.downloadUrl=r.isFunction(n)?n.call(this.model,this.serverObj):n}e.truncateFilename&&(this.truncateFilename=e.truncateFilename)},removeView:function(){d.remove(this)},getFileType:function(){var e=this.file.name;return s.translateKey({groupName:"fileTypes",subgroupName:"all",key:c.getFileType(e)})},locals:function(){var e=this.file.fileSize?s.formatSizeUnits(this.file.fileSize):null;return{name:this.file.name,fileSize:e,fileType:this.getFileType(),descriptionId:this.descriptionId,isUploaded:this.isUploaded,description:this.file.description,icon:c.getIconClass(this.file.name),allowDownload:this.canDownload(),allowPreview:this.canPreview()}},events:{"click .download":"onDownloadClick","click .preview":"onPreviewClick:".concat($appData.globalConfig.buttonClickEventsThrottle,"--leading"),"click button[name=remove]":"onCancelClick","change .file-description":"updateServerObjDescription","input .file-description":"warnDescriptionLength","blur .file-description":"clearDescriptionWarning"},hasModelIDAndEnt:function(){return!!this.model.id&&!!this.model.get("entity$")},canDownload:function(){return this.hasModelIDAndEnt()&&!this.disableDownload&&!!this.serverObj},canPreview:function(){return this.hasModelIDAndEnt()&&!this.disablePreview},onDownloadClick:function(){if(this.canDownload()){var e=this.downloadUrl||"".concat($appData.globalConfig.apiRoot,"/").concat(this.model.getEntity().name)+"/".concat(this.model.id,"/attachment?fieldName=").concat(this.field,"&fsObjectId=").concat(this.serverObj.objectId);s.downloadFile(e)}},onPreviewClick:function(){this.renderFilePreview()},onCancelClick:function(){this.isUploading&&(this.uploadCanceled=!0,this.xhrUploadRequest.abort(),this.isUploading=!1),this.removeView(),this.trigger("removed",this.serverObj)},onRendered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop;this.truncateFilename&&this.setShortFilename(),this.model.on("saved",this.onModelSaved,this),this.$description=this.$(".file-description"),this.isUploaded?(this.uploadComplete(),e()):this.startUpload(e),this.renderDescriptionTooltip()},onRemove:function(){this.model.off("saved",this.onModelSaved,this)},onModelSaved:function(){this.render()},startUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop,t=this;t.isUploading=!0;var i=new FormData;i.append("file",t.domObj,t.file.name),t.xhrUploadRequest=a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/file/upload"),data:i,cache:!1,contentType:!1,processData:!1,type:"POST",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",t.onUploadProgress.bind(t)),e}}).done((function(i){t.onUploadSuccess.call(t,i,e)})).fail((function(i){t.onUploadError.call(t,i,e)})),this.el.closest(".modal")&&a("#save").attr("disabled","disabled"),t.$(".progress").show(),t.$(".file-progress").show()},onUploadProgress:r.throttle((function(e){if(e.lengthComputable&&this.isUploading){var t=(e.loaded/e.total*100).toFixed(2);this.$(".file-progress").html("".concat(t,"%&nbsp;").concat(s.translateKey("complete"))),this.$(".progress-bar").css("width","".concat(t,"%"))}}),250),onUploadSuccess:function(e){var t,i,o=(t=e.uploadedFiles,i=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.noop;this.xhrUploadRequest=null,this.isUploading=!1,this.isUploaded=!0,this.serverObj=o,this.$(".well").addClass("success"),this.updateServerObjDescription(),this.uploadComplete(),a("#save").removeAttr("disabled"),s()},onUploadError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.noop;e.weAlreadyPreviouslyHandledThis=!0,this.uploadCanceled||(this.isUploading=!1,this.$(".well").addClass("error"),s.setupValidationTooltip(this,this.$(".well"),{container:this.$el,title:s.translateKey({groupName:"errors",subgroupName:"general",key:"an_error_has_occurred"})}),this.$(".well").tooltip("show"),this.$(".progress").removeClass("active"),this.$(".progress-bar").removeClass("progress-bar-success"),this.$(".progress-bar").addClass("progress-bar-danger"),a("#save").removeAttr("disabled"),t(e))},updateServerObjDescription:function(){var e=this.$description.val();this.file.description=e,this.serverObj&&(this.serverObj.description=e,this.trigger("updateFile",this.serverObj.objectId,this.serverObj))},uploadComplete:function(){this.$(".progress").removeClass("progress-striped active"),this.$(".file-progress").html("100%&nbsp;".concat(s.translateKey("complete"))),this.$(".progress-bar").css("width","100%"),!1===this.canDelete&&this.$(".fa.fa-times").hide(),this.trigger("upload",this.serverObj)},warnDescriptionLength:r.debounce((function(){var e=this.$description.val().length>=1e4;this.showDescriptionWarning(e)}),100),showDescriptionWarning:r.debounce((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$description.tooltip(e?"show":"hide")})),clearDescriptionWarning:function(){this.showDescriptionWarning(!1)},renderDescriptionTooltip:function(){var e=s.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_characters"},{context:{characterLimit:1e4}});this.$description.tooltip({title:e,placement:"right",trigger:"manual"})},renderFilePreview:function(){this.filePreviewView=new u({model:this.model,fileName:this.file.name,showViewRecordLink:!1,downloadUrl:this.downloadUrl,disableDownload:!this.canDownload()}),this.addSubView(this.filePreviewView).renderAsModal()},setShortFilename:function(){var e=c.getShortFileName(this.file.name),t=this.$(".file-name");e!==this.file.name&&(t.text(e),t.attr("title",this.file.name))}})},128945:(e,t,i)=>{"use strict";var n=i(794503),a=i(186360);e.exports=n.extend({template:i(654969),Component:i(969662),className:"form-group base-form-component-tmpl file-multiple-form-component-tmpl",locals:function(){var e=n.prototype.locals.call(this);return this.fieldDef.hideLabel&&(e.width=this.width),e},onRendered:function(e){var t=this;this.model.on("reset",(function(){t.model.off("reset"),t.model.isNew()||t.model.fetch({success:function(){n.prototype.render.call(t,(function(){var e=t.$(".readonly-field-icon-container");a.apply(e,t,t.model)}))}})})),e.call(t)}})},448921:(e,t,i)=>{"use strict";i(311927),i(962062);var n=i(96190),a=i(447578),r=i(908685);e.exports=a.extend(r,{name:"file[]",caption:"File Multiple",ui:{component:function(){return i(969662)},formComponent:function(){return i(128945)},function:function(e){return i(809375).textbox.ui.searchComponent()},sizes:{medium:{width:"col-xs-12 col-sm-7"},large:{width:"col-xs-12 col-sm-8"}}},format:function(e,t){return e?n.map(n.sortBy(e,"name"),"name").join(", "):""},escape:function(e){return n.escape(e)},es:{mapping:{type:"object",properties:{mimeType:{type:"keyword"},sizeBytes:{type:"long"},name:{type:"text",analyzer:"exact_lowercase",fields:{_search:{type:"text",analyzer:"standard"}}},nameWithoutExtension:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"}}},description:{type:"text"}}},formatted:{mapping:{type:"keyword",normalizer:"lowercase_normalizer"}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted")}},operators:i(176808)})},176808:(e,t,i)=>{"use strict";var n=i(18063),a=i(644438),r=i(703114),o=r.obj,s=r.db,l={es:{contains:{getFieldName:function(e){return"".concat(e.field,".name._search")},getQuery:function(e){var t=this.getFieldName(e),i=e.value;return a.getFileNameWithContentContainsQuery(t,i)}},does_not_contain:{getFieldName:function(e){return"".concat(e.field,".name._search")},getQuery:function(e){var t=this.getFieldName(e),i=e.value;return a.getFileNameWithContentContainsQuery(t,i,!0)}},contains_exact_words:{getFieldName:function(e){return"".concat(e.field,".name._search")},getQuery:function(e){var t=this.getFieldName(e),i=e.value;return a.getFileNameWithContentContainsExactWordsQuery(t,i)}},does_not_contain_exact_words:{getFieldName:function(e){return"".concat(e.field,".name._search")},getQuery:function(e){var t=this.getFieldName(e),i=e.value;return a.getFileNameWithContentContainsExactWordsQuery(t,i,!0)}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return n.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return n.must({exists:{field:t}})}}},obj:{is_empty:o.isEmpty,is_not_empty:o.isNotEmpty},db:{contains:s.contains,is_empty:s.isEmpty,is_not_empty:s.isNotEmpty}};e.exports=l},359797:(e,t,i)=>{"use strict";i(428706),i(533110),i(962062),i(944114),i(327495),i(725440),i(426099),i(423500),i(874423),i(21699),i(672890);var n=i(96190),a=i(274692),r=i(99840),o=i(939994),s=i(40785);e.exports=r.extend({field:null,entityField:null,selectize:null,searchCaption:null,onInit:function(e){this.field=e.field,this.searchCaption=s.translateKey({groupName:"placeholders",key:n.get(this,"fieldDef.typeOptions.searchCaption")||"search_flag"}),this.labelField="name",this.selectizeAttribute="".concat(this.field,"__").concat(this.labelField),this.entityField=n.get(this,"fieldDef.typeOptions.entityField","entity$")},loadFn:function(e,t){var i=this;return a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/sys_flag"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(this.buildQuery())}).done((function(e){var a=n.map(e.hits.hits,"_source");i.updateExistingOptions(a),i.updateExistingValue(a),t(a)}))},getSelectizeOptions:function(){var e=this;return{valueField:"id",labelField:e.labelField,loadThrottle:"300",searchField:e.labelField,sortField:e.labelField,preload:!0,create:!1,persist:!1,placeholder:e.searchCaption,maxItems:1,load:e.loadFn.bind(e),render:{option:function(t,i){var n=t[e.labelField];return"<div><span>".concat(i(n),"</span></div>")}}}},buildQuery:function(){var e=o.get({base:"sys",name:"flag"}).query("es"),t=30,i=[],a=this.model.get(this.entityField);return a?i.push(e.is("entityName",n.replace(a,/^(-\/)?(sys\/){1}/,""))):t=0,{search:{query:e=e.and(i).toQuery(),size:t,from:0},userSpecificFilters:n.get(this,"fieldDef.typeOptions.userSpecificFilters",!0)}},updateExistingOptions:function(e){var t=this;n.forEach(e,(function(e){t.selectize.options[e.id]&&t.selectize.updateOption(e.id,e)}))},updateExistingValue:function(e){var t=this.model.get(this.field),i=n.map(e,"id");t&&!i.includes(t)&&(this.selectize.removeOption(t),this.model.set(this.field,null))}})},475971:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(533110),i(123792),i(426099),i(962953),i(962062),i(962010),i(428706),i(250113),i(944114);var r=i(96190),o=i(274692),s=i(40785),l=i(939994),d=i(810489);e.exports=d.extend({FilterOptionsMenuView:i(174989),className:"flag-name-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!0,sortList:!1,showClearAllBtn:!0,allowNoOptionsSelected:!0,searchPlaceholder:s.translateKey({groupName:"placeholders",key:"search_flag"})},onInit:function(){this.filterOptionName="is_any",this.workflowName=this.model.get("uniqueProperty"),this.entDef=l.get("sys/state"),this.fieldName=this.model.get("fieldName")},getNoValueOption:function(){return{caption:s.translateKey("empty"),value:""}},getAllFilterOptions:function(e){var t=this;o.ajax("".concat($appData.globalConfig.apiRoot,"/grid_search/sys_flag"),{contentType:"application/json",type:"POST",data:JSON.stringify({size:50,from:0})}).done((function(i){var n,o=i.hits.hits,s=r.chain(o).map((function(e){var t=e._source;return{caption:t.name,value:t.id}})).sortBy("caption").values(),l=[t.getNoValueOption()].concat(function(e){if(Array.isArray(e))return a(e)}(n=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return e(null,t.addMissingFilterOptions(l))}))},getMissingFilterCaption:function(e){var t,i,a,o=this.model.getFilterData()[0],l=r.find(o.joinData,(t={},i=this.fieldName,a=e,(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t));return(null==l?void 0:l["".concat(this.fieldName,"__name")])||s.translateKey("deleted_flag")},getSelectedFilterValues:function(e){return e[0].fieldValues},getSelectedFilterOptions:function(){var e=this,t=this.model.getUniqueFilterData()[0];return r.reduce(t.fieldValues,(function(t,i){return i?t.push(i):t.push(e.getNoValueOption().value),t}),[])}})},422228:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(359797)})},602302:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(428706);var n=i(17783),a=i(447578);e.exports=a.extend(n,{name:"flagName",caption:"Flag Name",db:{foreign:"sys_flag",defaultJoinAttribute:"id",join:["name"]},ui:{component:function(){return i(359797)},formComponent:function(){return i(422228)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(359797)}},gridConfiguration:{dataFilterComponent:function(){return i(475971)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}}},format:function(e,t){if(!e)return null;var i=t.fieldDef.field;return t.data["".concat(i,"__").concat("name")]||e}})},268359:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500);var o=i(96190),s=i(810489),l=i(40785);e.exports=s.extend({FilterOptionsMenuView:i(892005),className:"flag-status-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!1},getSelectedFilterOperator:function(e){return e[0].operator},getAllFilterOptions:function(e){return e(null,[{caption:l.translateKey("all"),value:"all"},{caption:l.translateKey("flag_set"),value:"is_not_empty"},{caption:l.translateKey("flag_not_set"),value:"is_empty"}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData(),t=this.getSelectedFilterOperator(e);return t?[t]:["all"]},getSelectedFilterOptionsText:function(){var e=this.model.getUniqueFilterData(),t=this.getSelectedFilterOperator(e);return o.isNil(t)?this.getNoSelectedFilterOptionsText():l.translateKey("is_not_empty"===t?"flag_set":"flag_not_set")},updateModelSelectedFilterOptions:function(e){var t=this,i=e[0],n=this.model.getFilterData();o.forEach(n,(function(e){var n;if(i&&"all"!==i){var a=i,s=t.model.getFilterOption(a),l=r({},t.filterOptionContext);n=r(r({},s.getFilterData(l)),{},{selectedFilterOptions:t.selectedFilterOptions})}else n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[]});o.assign(e,n)}))}})},945223:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(656409),r=i(955505),o=i(447578),s=i(955505).getOperators("es"),l=o.extend(a,{name:"flagStatus",caption:"Flag Status",db:{foreign:"sys_flag",defaultJoinAttribute:"id",join:["name","color"]},es:n.extend({},r.es,{sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}}),operators:{es:n.extend({},a.getOperators("es"),{contains:s.contains}),obj:a.getOperators("obj")},escape:function(e){return n.escape(e)},ui:{cellTemplate:function(){return i(541873)},searchComponent:function(e){var t=i(809375);return"contains"===e?t.textbox.ui.searchComponent():null},gridConfiguration:{dataFilterComponent:function(){return i(268359)},dataFilterOperators:{is_not_empty:{getFilterData:function(e){return{operator:"is_not_empty"}}},is_empty:{getFilterData:function(e){return{operator:"is_empty"}}}}}},format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return t.data["".concat(i,"__").concat("name")]||""}});delete l.operators.es.is,delete l.operators.es.is_not,delete l.operators.obj.is,delete l.operators.obj.is_not,e.exports=l},586841:(e,t,i)=>{"use strict";var n=i(96190),a=i(498648),r=i(258150),o=r.getBorderColor,s=r.getTextColor;e.exports=a.extend({template:i(796154),getModelValue:function(){var e=this.model.get(this.field);return n.isEmpty(e)||n.each(e,(function(e){e.color&&n.assign(e,{textColor:s(e),borderColor:o(e)})})),e},locals:function(){var e=a.prototype.locals.call(this);return n.assign(e,{value:this.getModelValue()})},onRendered:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.onRendered.apply(this,t),this.model.on("change:otherEntityFlags",this.onFlagsDataChanged,this),this.model.on("change:currentEntityFlags",this.onFlagsDataChanged,this)},onUnbindEvents:function(){this.model.off("change:otherEntityFlags",this.onFlagsDataChanged,this),this.model.off("change:currentEntityFlags",this.onFlagsDataChanged,this)},onFlagsDataChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.render(this.$el).done(e)}})},266619:(e,t,i)=>{"use strict";var n=i(447578),a=i(421610);e.exports=n.extend(a,{name:"flags",caption:"Case Flags",ui:{cellTemplate:function(){return i(796154)},cellComponent:function(){return i(586841)}}})},258150:(e,t,i)=>{"use strict";var n=i(559680);e.exports={getBorderColor:function(e){return n(e.color).darken().toHexString()},getTextColor:function(e){return n.mostReadable(e.color,["white","black"]).toHexString()}}},656409:(e,t,i)=>{"use strict";var n=i(96190),a=i(58565),r=i(447578);e.exports=r.extend(a,{name:"id",caption:"ID",db:{joiType:function(e){return e.string().max(36).allow("")},type:function(e,t){var i=n.snakeCase(t.field);return e.string(i,36)},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=n.snakeCase(t.field);return e.index(i,null,t.dbIndexType||"hash")}},afterRead:function(e,t){return""===t?null:t}},ui:{cellTemplate:function(){return i(664127)}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"}}},sort:function(e){return"".concat(e.fieldDef.field,"._exact")}},operators:i(264360),coerce:function(e,t){return r.coercion.anyToString(e,t)},yellowfin:{customDataType:"com.hof.mi.custom.format.TextFormatter",convertedDataType:"TEXT",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DIMENSION",dataTypeCode:"VARCHAR"},includeInDataForm:!1})},264360:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099);var r=i(96190),o=r.isArray,s=r.filter,l=i(18063),d=i(703114),c=d.obj,u=d.db;e.exports={es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return o(e.value)||(e.value=[e.value]),l.must({terms:a({},t,e.value)})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({exists:{field:t}})}},is_not:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.mustNot({term:a({},t,e.value)})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return l.must({exists:{field:t}})}},is_any:{ui:!1,conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);o(e.value)||(e.value=[e.value]);var i=e.value.length,n=s(e.value,(function(e){return!!e})),r={terms:a({},t,n)};return n.length===i?l.must(r):l.should([r,l.mustNot({exists:{field:t}})])}}},obj:{is:c.isExact,is_not:c.isNotExact,is_empty:c.isEmpty,is_not_empty:c.isNotEmpty},db:{is:u.is,is_not:u.isNot,is_empty:u.isEmpty,is_not_empty:u.isNotEmpty}}},435154:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(523418),i(16280),i(962010),i(428706),i(327495),i(690906),i(369085),i(893144);var a,r=i(34343),o=i(274692),s=i(96190),l=i(756375),d=i(13288)("frontend"),c=i(896727),u=i(428064),p=i(40785),f=i(245444),h=i(450048),m=".original-image-container",g="original-image",y=".attachment-selection-container",v=".help-block";e.exports=u.extend({template:i(519538),className:"image-cropper-component-tmpl",events:{"dragenter .drag-drop-container":"onDragEnter","dragleave .drag-drop-container":"onDragLeave","dragover .drag-drop-container":"onDragOver","drop .drag-drop-container":"onDrop","change #manual-attachment-container input":"onManualAttachmentChange","click .remove-image":"onRemoveImage","keypress #manual-attachment-container":"onSelectFromManualAttachmentKeypress"},locals:function(){return{field:this.field,dragAndDrop:this.fieldDef.dragAndDrop,manualAttach:this.fieldDef.manualAttach,supportedFormats:this.fieldDef.supportedFormats,hideWhenReadOnly:this.hideWhenReadOnly}},onInit:function(){a=s.debounce(this.onWindowResize,300).bind(this),o(window).on("resize",a),(s.isNull(this.fieldDef.dragAndDrop)||s.isUndefined(this.fieldDef.dragAndDrop))&&(this.fieldDef.dragAndDrop=!0),(s.isNull(this.fieldDef.manualAttach)||s.isUndefined(this.fieldDef.manualAttach))&&(this.fieldDef.manualAttach=!0),s.isArray(this.fieldDef.supportedFormats)||(this.fieldDef.supportedFormats=".jpg,.jpeg,.png,.gif,.bmp,.tiff"),this.fieldDef.typeOptions&&this.fieldDef.typeOptions.hideWhenReadOnly&&(this.hideWhenReadOnly=this.fieldDef.typeOptions.hideWhenReadOnly),this.addToModelOnPreSave()},onRendered:function(e){var t=this;this.model.on("change:".concat(this.field),this.onModelChange,this),this.loader=new h,this.addSubView(this.loader).render(this.$(".loader-container")).done((function(){if(s.isEmpty(t.getValue()))return t.$(m).hide(),e();var i=new Image;i.onload=function(){var n=p.convertToBase64(i);t.initCropper(n),e()};var n=function(){return e()};i.onerror=n,i.onabort=n,i.src=t.getSource(t.getValue().url),t.filename=t.getFilename(),t.$(y).hide(),o(v).hide()}))},getSource:function(e){return f.getSource(e)},onRemove:function(){this.croppr&&this.croppr.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this),o(window).off("resize",a)},reloadCropperOnPreAction:function(e){var t=this;return function(){return t.croppr&&t.croppedImage&&t.reloadCropper(t.croppedImage),e.apply(void 0,arguments)}},addToModelOnPreSave:function(){var e=this,t=this.model.onPreSave,i=this.upload.bind(this);this.model.onPreSave=t?function(n,a){var r=t(n,a);return r||(r=o.Deferred().resolve()),r.then(e.reloadCropperOnPreAction(i))}:this.reloadCropperOnPreAction(i)},read:function(e){var t=this;return new r((function(i,n){if(e){var a=new FileReader;a.onload=function(){var n,r={maxWidthOrHeight:$appData.globalConfig.maxImportImageDimension};t.resizeImage(a.result,r).then((function(a){n=a,t.croppr?t.reloadCropper(n):t.initCropper(n),t.$(y).hide(),t.$(y).css("visibility","visible"),o(v).hide(),o(v).css("visibility","visible"),t.loader.hide(),t.$(m).css("display","inline-block"),t.filename=s.get(e,"name",""),t.croppedImage=n,t.updateImageValue(),i()}))},a.onerror=n,a.onabort=n,a.readAsDataURL(e),t.$(y).css("visibility","hidden"),o(v).css("visibility","hidden"),t.loader.show()}else i()}))},upload:function(){var e=o.Deferred(),t=this.getValue()||{},i=t.updatedImage;return i?(p.convertToFile(i.data,i.filename,"image/png",(function(i,a){if(i)e.reject();else{var r=new FormData;r.append("file",a,a.name),o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/file/upload"),data:r,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(i){var a,r,o=(a=i.uploadedFiles,r=1,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(a,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(a,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];t.filestore=o,t.file=null,delete t.updatedImage,e.resolve()},error:e.reject})}})),e.promise()):e.resolve()},initCropper:function(e){var t=this;t.croppedImage=null;var i={onCropEnd:function(e){var i=t.$(".croppr-image")[0];t.croppedImage=t.getCroppedImage(i.src,e.x,e.y,e.width,e.height),t.updateImageValue()}};t.$(m).prepend('<img class="'.concat(g,'" src="').concat(s.escape(this.getSource(e)),'" alt/>')),setTimeout((function(){var e=o(".image-cropper-form-component-tmpl .component-container");e.attr("style","position: absolute; display: inline-block !important; visibility: hidden;");try{t.croppr=new l(".".concat(g),i)}catch(e){if("Unable to find element."===e)return d("Croppr attempted to mount on a node detached from DOM, probably because this view was removed before Croppr got to the initialization stage."),void(t.croppr=null);throw e}setTimeout((function(){e.attr("style","")}))}))},reloadCropper:function(e){this.croppr.destroy(),this.$(".".concat(g)).remove(),this.initCropper(e)},resizeImage:function(e,t){return p.resizeImage(e,t)},getCroppedImage:function(e,t,i,n,a){var r=document.createElement("canvas");r.width=n,r.height=a;var o=r.getContext("2d"),s=new Image;return s.src=this.getSource(e),o.drawImage(s,t,i,n,a,0,0,n,a),CanvasPngCompression.replaceToDataURL(),r.toDataURL("image/png",0)},validate:function(e){var t;return/^image\/\w+$/.test(e.type)?!(e.size>$appData.globalConfig.maxImportImageSize&&(t=f.imageImportSizeMessage(),c.error(t),1)):(t=p.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:"not_image_file"}),c.error(t),!1)},getValue:function(){return this.model.get(this.field)},setValue:function(e){this.model.set(this.field,e)},updateImageValue:function(){var e=this.getValue(),t=Object.assign({},e,{updatedImage:{filename:this.filename,data:this.croppedImage}});u.prototype.onEditableValueChange.call(this),this.setValue(t)},getFilename:function(){var e=this.getValue()||{};return e.file?p.getFilename(e.file):s.isEmpty(e.filestore)?"":e.filestore.name},onModelChange:function(){var e=!!this.model.isResetting,t=!!this.model._originalData[this.field],i=!!this.model.changed[this.field];e&&t&&i&&(this.$(y).hide(),o(v).hide(),this.$(m).css("display","inline-block"))},onWindowResize:function(){var e=o(".croppr-container").is(":visible");this.croppr&&e&&this.croppr.reset()},onDragEnter:function(e){this.onDragOver(e),this._dragCounter++,this.$(".drag-drop-container").addClass("dragging")},onDragLeave:function(e){this.onDragOver(e),this._dragCounter=Math.max(this._dragCounter-1,0),0===this._dragCounter&&this.$(".drag-drop-container").removeClass("dragging")},onDragOver:function(e){e.stopPropagation(),e.preventDefault()},onDrop:function(e){this.onDragOver(e),this._dragCounter=0,this.$(".drag-drop-container").removeClass("dragging");var t=s.get(e,"originalEvent.dataTransfer.files[0]");this.validate(t)&&this.read(t).catch((function(e){c.error(e.message)}))},onSelectFromManualAttachmentKeypress:function(e){13===e.which&&this.$("#".concat(this.field,"-").concat(this.viewId)).trigger("click")},onManualAttachmentChange:function(e){this.onDragOver(e);var t=e.target,i=s.get(t,"files[0]");i&&this.validate(i)&&this.read(i).then((function(){t.value=""})).catch((function(e){t.value="",c.error(e.message)}))},onRemoveImage:function(){this.setValue(null),u.prototype.onEditableValueChange.call(this),this.$(y).show(),o(v).show(),this.$(m).hide()}})},360097:(e,t,i)=>{"use strict";i(807145);var n=i(96190),a=i(794503),r=i(245444);e.exports=a.extend({template:i(694073),className:"form-group base-form-component-tmpl image-cropper-form-component-tmpl",Component:i(435154),width:"col-xs-12 col-sm-7",onInit:function(){this.fieldDef.typeOptions&&this.fieldDef.typeOptions.hideWhenReadOnly&&(this.hideWhenReadOnly=!0===this.fieldDef.typeOptions.hideWhenReadOnly)},locals:function(){var e=a.prototype.locals.call(this)||{},t=n.get(e,"helpBlockText",null);return n.isEmpty(t)&&(e.helpBlockText=r.imageImportSizeMessage()),e.hideWhenReadOnly=this.hideWhenReadOnly,e},onRendered:function(e){this.model.on("change:".concat(this.field),this.onModelChange,this),this.updatePreview(),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},onModelChange:function(){this.updatePreview()},getValue:function(){return this.model.get(this.field)},getSource:function(e){return r.getSource(e)},updatePreview:function(){var e=this.getValue(),t=null;e&&e.updatedImage?t=e.updatedImage.data:e&&e.url&&(t=this.getSource(e.url)),t?(this.$(".image-preview").css("visibility",""),this.$(".image-preview").attr("src",t)):this.$(".image-preview").css("visibility","hidden")}})},281193:(e,t,i)=>{"use strict";var n=i(447578),a=i(421610);e.exports=n.extend(a,{name:"imageCropper",caption:"Image Cropper",ui:{component:function(){return i(435154)},formComponent:function(){return i(360097)},searchComponent:function(){return i(435154)},cellTemplate:function(){return i(547429)},sizes:{medium:{width:"col-xs-12 col-sm-7"},large:{width:"col-xs-12 col-sm-8"}}},es:{mapping:!1},format:null,escape:null})},245444:(e,t,i)=>{"use strict";i(327495),i(725440);var n=i(96190),a=i(40785),r={imageImportSizeMessage:function(){var e=n.get($appData,"globalConfig.maxImportImageSize",5242880),t=a.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:"image_too_big"});return t.replace("{maxImportImageSize}","".concat(Math.floor(e/1024/1024*10)/10," MB"))},getSource:function(e){return e.replace(/{apiRoot}/,$appData.globalConfig.apiRoot)}};e.exports=r},662980:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962010);var n=i(96190),a={},r=i(774645);n.each(r.keys(),(function(e){var t=r(e);a[t.name]=t})),e.exports=a},809375:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962010);var n=i(96190),a=i(662980),r=i(246238);n.each(r.keys(),(function(e){var t=r(e);a[t.name]=t})),e.exports=a},908685:(e,t,i)=>{"use strict";i(533110);var n=i(96190),a=i(447578),r=i(58565);e.exports=a.extend(r,{name:"json[]",caption:"JSON Multiple",db:{joiType:function(e){return e.array().items(e.object()).sparse()},type:function(e,t){var i=e.client.config.client,a=n.snakeCase(t.field);return"pg"===i?e.specificType(a,"json[]"):e.text(a)},beforeSave:function(e,t){return t?a.prepareJSONForDb(e,t):n.isUndefined(t)?void 0:null},afterRead:function(e,t){return a.parseJSON(e,t)}},es:{mapping:!1},format:function(e,t){return e?JSON.stringify(e):""}})},421610:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(802259),i(123792),i(747764),i(962953),i(533110),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var a=i(96190),r=i(447578),o=i(58565),s=i(18063);e.exports=r.extend(o,{name:"json",caption:"JSON",db:{joiType:"object",type:function(e,t){var i=a.snakeCase(t.field);return e.json(i)},beforeSave:function(e,t){return t?r.prepareJSONForDb(e,t):a.isUndefined(t)?void 0:null},afterRead:function(e,t){return""===t?null:r.parseJSON(e,t)}},operators:{es:{is:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t,i,a,r=this.getFieldName(e);return s.must({term:(t={},i=r,a=e.value,(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t)})}}}},es:{disableSorting:!0,mapping:!1},format:function(e,t){return e?JSON.stringify(e):""}})},279460:(e,t,i)=>{"use strict";i(879432),i(533110);var n=i(96190),a=i(447578),r=i(58565);e.exports=a.extend(r,{name:"jsonb",caption:"JSONB",db:{joiType:"object",type:function(e,t){var i=n.snakeCase(t.field);return e.jsonb(i)},beforeSave:function(e,t){return n.isNil(t)?{}:t},afterRead:function(e,t){return""===t?null:n.isString(t)?JSON.parse(t):t}},es:{disableSorting:!0,mapping:!1},format:function(e,t){return e?JSON.stringify(e):""}})},992498:(e,t,i)=>{"use strict";i(428706),i(962062),i(123792),i(426099),i(962953),i(250113),i(202008);var n=i(96190),a=i(122268),r=i(447578),o=i(656409),s=["pendingPurgeDate","datePurged","sysActive","sysSubmitted","createdDate","excludeFromPurge","createdBy","createdDate","lastSnapshotGenerationDate"],l=[{table:"sys_case",fields:s.concat(["owner","caseNumber","caseType","userBlacklist","confidential","systemBlacklist","investigativeTeamMembers","createdBySession","canceled","caseType"])},{table:"sys_person",fields:s.concat(["personName"])}],d=n.map(l,(function(e){var t=e.table,i=e.fields;return"sys_case"===t?{table:t,fields:n.concat(i,"flagsData")}:e}));e.exports=r.extend(o,{name:"linkEntityId",caption:"Link Entity ID",db:{customJoin:function(e,t){var i=e.knexEntity,r=e.entityService,o=e.rows,s=e.field,l=e.values,c=function(e,t){return n.chain(e).map(t).flatten().compact().uniq()}(o,"entity1Id"===s?"entity1Type":"entity2Type"),u=[];a.each(c,(function(e,a){var c=r.get(e);return c?i(c).list({joins:!1,limit:-1,q:{ids:l}},(function(e,i){if(e)return a(e);var r=n.find(d,{table:c.table});if(!r)return t();var l=n.chain(c.fields()).filter({availableForCaseFiltering:!0}).map("field").value(),p=n.concat(r.fields,l),f=n.keyBy(i,"id"),h=n.map(o,(function(e){var t={id:e.id};return e[s]&&n.each(p,(function(i){var n=f[e[s]];t["".concat(s,"__").concat(i)]=n&&n[i]||null})),t}));return u=u.concat(h),a()})):t()}),(function(e){return e?t(e):t(null,u)}))}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")},customJoin:function(){return[{table:"sys_case",getJoinFieldDefs:function(e){var t=e.fields(),i=n.filter(t,{availableForCaseFiltering:!0}),a=l[0].fields;return e.getFieldDefsFromFieldNames(t,a).concat(i)}},{table:"sys_person",fields:s.concat(["personName"])}]}},operators:i(354167),escape:function(e){return n.escape(e)},format:function(e,t){var i;if(!e)return"";var n=t.fieldDef.typeOptions.relatedEntityField,a=t.data[n],r=t.fieldDef.field;if(!a||!r)return"";var o=null===(i=t.entityService.get(a))||void 0===i?void 0:i.identifierField;return t.data["".concat(r,"__").concat(o)]||""}})},354167:(e,t,i)=>{"use strict";var n=i(96190).extend,a=i(656409),r=i(955505).getOperators("es"),o=i(703114).es;e.exports={es:n({},a.getOperators("es"),{contains:r.contains,contains_partial:o.containsPartialFormatted,does_not_contain:r.does_not_contain,contains_exact_words:r.contains_exact_words,does_not_contain_exact_words:r.does_not_contain_exact_words}),obj:a.getOperators("obj"),db:a.getOperators("db")}},133413:(e,t,i)=>{"use strict";i(842762);var n=i(96190),a=i(447578),r=i(858364),o=i(498526);e.exports=a.extend(r,{name:"loginIp",caption:"Login IP",includeInFormBuilder:!1,db:{beforeSave:function(e,t){if(n.isString(t)){var i=n.trim(t);return""===i||o.$opt.disableLoginIp?null:i}return null},afterRead:function(e,t){return""===t||o.$opt.disableLoginIp?null:t}}})},569519:(e,t,i)=>{"use strict";var n=i(927360);e.exports=n.extend({defaultMask:$appData.globalConfig.defaultMoneyMask})},581810:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(569519)})},825910:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(569519)})},548768:(e,t,i)=>{"use strict";i(102892);var n=i(96190),a=i(376806),r=i(447578),o=i(495689),s=r.extend(o,{name:"money",caption:"Money",description:"Store a money amount.",includeInFormBuilder:!0,format:function(e,t){if(n.isString(e)&&(e=Number(e)),!n.isNumber(e)||n.isNaN(e))return"";var i=null==t?void 0:t.fieldDef,o=null==i?void 0:i.format;return o||(o=r.compileNumeralFormat({fieldDef:i,defaultFormat:t.globalOptions.defaultMoneyFormat,defaultScaleFormat:t.globalOptions.defaultMoneyScaleFormat})),a(e).format(o)},ui:{component:function(){return i(569519)},formComponent:function(){return i(825910)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();default:return i(569519)}},image:function(){return i(39657)},dragComponent:function(){return i(581810)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"money-properties-form",propertiesForm:"money-properties-form",icon:"fa-usd"},export:{numFmt:function(e){var t=e.fieldDef,i=e.globalOptions;return r.compileNumeralFormat({fieldDef:t,defaultFormat:i.defaultMoneyFormat,defaultScaleFormat:i.defaultMoneyScaleFormat})},format:function(e,t){return".xlsx"===t.exportType?null==e||"number"==typeof e?e:parseFloat(e):s.format(e,t)}}});e.exports=s},338126:(e,t,i)=>{"use strict";var n=i(274692);i(962062);var a=i(96190),r=i(428064),o=i(633514);e.exports=o.extend({fetchPicklistData:function(e){var t=a.get(this,"fieldDef.startValue"),i=a.get(this,"fieldDef.endValue"),n=a.range(t,i+1),r=a.map(n,(function(e){return{translation:e,value:e}}));e(null,r=this.sortData(r))},sortData:function(e){return a.sortBy(e,(function(e){return e.value}))},onEditableValueChange:function(e){var t=this.model.get(this.field),i=parseInt(n(e.currentTarget).val(),10);if(a.isNaN(i)&&(i=null),i!==t){var o=this._getDependentFieldsToEmpty();o[this.field]=i,this.model.set(o),r.prototype.onEditableValueChange.call(this,e)}},refreshPicklistValues:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.noop;this._markFieldAsLoading(),this.fetchPicklistData((function(e,n){return e?i(e):(n=t._addValueIfMissing(n,n),t._clearPicklistValues(),t._addBlankRow(),t._addRows(n),t.$element.data("data",n),t._selectValue(),t._markFieldAsLoaded(),i())}))}})},984989:(e,t,i)=>{"use strict";var n=i(386859),a=i(338126);e.exports=n.extend({Component:a.extend({_addValueIfMissing:function(e){return e}})})},245909:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(338126)})},65845:(e,t,i)=>{"use strict";i(944114),i(428706);var n=i(447578),a=i(810279);e.exports=n.extend(a,{name:"numberRangePicklist",caption:"Number Range Picklist",description:"Use to reference an enumeration of a range of numbers. This field presents as a dropdown list, with values of the whole numbers in the range.",includeInFormBuilder:!0,includeInSSOValueMap:!0,ui:{component:function(){return i(338126)},formComponent:function(){return i(245909)},searchComponent:function(){return i(338126)},dragComponent:function(){return i(984989)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"number-range-properties-form",propertiesForm:"number-range-properties-form",icon:"fa-folder-o"},aggregationMethods:function(e){var t=a.aggregationMethods.call(this,e);return t.push("mode"),e?t.concat([]):t}})},483182:(e,t,i)=>{"use strict";i(426099),i(938781),i(42781),i(428706);var n=i(96190),a=i(553269),r=i(40785),o=i(447578),s=i(428064);e.exports=s.extend({field:null,$element:null,template:i(151348),className:"number-component-tmpl",defaultMask:$appData.globalConfig.defaultNumberMask,onInit:function(e){var t=this.model.get(this.field);this.hasNullValue=n.has(this,"fieldDef.typeOptions.nullValue"),this.hasNullValue&&(this.nullValue=this.fieldDef.typeOptions.nullValue),this.hasNullValue&&n.isNil(t)&&this.model.set(this.field,this.nullValue)},locals:function(){return{field:this.field,value:this.model.get(this.field),ariaLabel:this.fieldDef.ariaLabel}},events:{"change input":"onInputChange:default","blur input":"onBlur"},onInputChange:function(){var e=this.model.get(this.field),t=this.$element[0].inputmask.unmaskedvalue();this.updateModelValue(e,t)},updateModelValue:function(e,t){n.isNumber(t)&&!n.isNaN(t)||(t=null),t!==e&&(this.model.set(this.field,t),s.prototype.onEditableValueChange.call(this,e,t))},onModelChange:function(){var e=this.model.get(this.field);e!==this.$element.val()&&this.$element.val(e)},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),new a(this.getMaskConfig()).mask(this.$element[0]),this.model.on("change:".concat(this.field),this.onModelChange,this),this._setupValidationTooltip(),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},onBlur:function(){o.validateNumberMaxMin.call(this)?this._toggleTooltip("hide"):this._toggleTooltip("show")},getMaskConfig:function(){var e,t,i,a=n.defaults({},this.fieldDef.mask,this.defaultMask);a.onKeyValidation=this._onMaskValidated.bind(this);var r=(null===(e=this.fieldDef)||void 0===e?void 0:e.typeOptions)||{},o=r.min,s=r.max;if(n.isNumber(s)){var l=s.toString().length;a.integerDigits=l,a.max=n.chain("9").repeat(l).toNumber().value()}return null!==(t=a.min)&&void 0!==t||(a.min=o),null!==(i=a.max)&&void 0!==i||(a.max=s),a},_onMaskValidated:function(e,t){var i,n="-".charCodeAt(0),a="0".charCodeAt(0),r="9".charCodeAt(0);t?this._toggleTooltip("hide"):(i=e===n?this.tooltipTitles.positiveValueOnly:e>=a&&e<=r?this.tooltipTitles.precisionAndScale:this.tooltipTitles.numberOnly,this.$element.attr("title",i).tooltip("fixTitle").tooltip("show"))},_setupValidationTooltip:function(){var e,t=(null===(e=this.fieldDef)||void 0===e?void 0:e.typeOptions)||{},i=n.get(t,"precision",15),a=t.min,o=t.max;n.isNumber(o)&&(i=o.toString().length),this.tooltipTitles={precisionAndScale:r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_digits"},{context:{digitLimit:i}}),maxValue:n.isNil(o)?"":r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value"},{context:{valueLimit:o}}),minValue:n.isNil(a)?"":r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"minimum_value"},{context:{valueLimit:a}}),positiveValueOnly:r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"positive_value_only"}),numberOnly:r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"number_only"})},r.setupValidationTooltip(this,this.$element)},_toggleTooltip:function(e){var t="field-tooltip",i="has-field-tooltip has-error";"show"===e?(this.$element.addClass(t),this.$element.parents(".form-group").addClass(i),this.$element.attr("title","".concat(this.tooltipTitles.maxValue," ").concat(this.tooltipTitles.minValue)).tooltip("fixTitle").tooltip("show")):"hide"===e&&(this.$element.removeClass(t),this.$element.parents(".form-group").removeClass(i),this.$element.tooltip("hide"))}})},366461:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(483182)})},723637:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(483182)})},126293:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(944114),i(428706);var n=i(447578),a=i(810279);e.exports=n.extend(a,{name:"number",caption:"Integer",description:"A numeric value with no decimal.",includeInFormBuilder:!0,ui:{component:function(){return i(483182)},formComponent:function(){return i(723637)},searchComponent:function(){return i(483182)},gridConfiguration:{dataFilterComponent:function(){return i(817359)},dataFilterOperators:{is_empty:{getFilterData:function(){return{operator:"is_empty"}}},equals:{getFilterData:function(e){return{operator:"is",fieldValues:[e.values[0]]}}},does_not_equals:{getFilterData:function(e){return{operator:"is_not",fieldValues:[e.values[0]]}}},less_than:{getFilterData:function(e){return{operator:"less_than",fieldValues:[e.values[0]]}}},greater_than:{getFilterData:function(e){return{operator:"greater_than",fieldValues:[e.values[0]]}}},greater_than_or_equals:{getFilterData:function(e){return{operator:"greater_than_or_equals",fieldValues:[e.values[0]]}}},less_than_or_equals:{getFilterData:function(e){return{operator:"less_than_or_equals",fieldValues:[e.values[0]]}}},between:{getFilterData:function(e){return{operator:"between",fieldValues:e.values}}},positive:{getFilterData:function(e){return{operator:"greater_than",fieldValues:[0]}}},negative:{getFilterData:function(e){return{operator:"less_than",fieldValues:[0]}}}}},image:function(){return i(100350)},dragComponent:function(){return i(366461)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"number-properties-form",propertiesForm:"number-properties-form",icon:"fa-hashtag"},aggregationMethods:function(e){var t=a.aggregationMethods.call(this,e);return t.push("mode"),e?t.concat([]):t}})},817359:(e,t,i)=>{"use strict";var n=i(426551);e.exports=n.extend({FilterOptionsMenuView:i(596801)})},926127:(e,t,i)=>{"use strict";i(428706),i(533110),i(962062),i(944114),i(672890);var n=i(96190),a=i(274692),r=i(428064),o=i(939994),s=i(40785);e.exports=r.extend({field:null,caseIdField:null,selectize:null,searchCaption:null,template:i(721277),className:"party-component-tmpl",onInit:function(e){this.field=e.field,this.searchCaption=s.translateKey({groupName:"placeholders",key:n.get(this,"fieldDef.typeOptions.searchCaption")||"search_party"}),this.labelField="partyName",this.secondaryLabelField=n.get(this,"fieldDef.typeOptions.secondaryLabelField","emailAddress"),this.selectizeAttribute="".concat(this.field,"__").concat(this.labelField),this.isModelCase="sys/case"===this.model.getEntityCanon(),this.caseIdField=this.isModelCase?"id":n.get(this,"fieldDef.typeOptions.caseIdField","caseId")},locals:function(){return{field:this.field,ariaLabel:n.get(this,"fieldDef.ariaLabel")||n.get(this,"fieldDef.caption",this.field)}},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],o=n.isEmpty(a)?null:a;if(o!==this.model.get(this.field)){var s=this.selectize.options[o]||{},l=this.model.pickJoinData({attribute:this.field,joinedEntityData:s});l[this.field]=o,this.model.set(l),r.prototype.onEditableValueChange.apply(this,t)}},onModelChange:function(){var e=this.model.get(this.field);if(!this.selectize.getOption(e)){var t={id:e};t[this.labelField]=this.model.get(this.selectizeAttribute)||s.translateKey("missing_party"),this.selectize.addOption(t)}this.selectize.setValue(e)},buildTypeahead:function(){var e=this.$element.selectize(this.getSelectizeOptions());this.selectize=e[0].selectize,this.selectize.clearOptions();var t=this.model.get(this.field);if(t){var i={id:t};if(i[this.labelField]=this.model.get(this.selectizeAttribute)||s.translateKey("missing_party"),!i[this.labelField])return;this.selectize.addOption(i),this.selectize.setValue(t)}},clearSelectize:function(){this.model.set(this.field,null),this.selectize.clearOptions()},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.buildTypeahead(),this.model.on("change:".concat(this.caseIdField),this.clearSelectize,this),this.model.on("change:".concat(this.field),this.onModelChange,this),this.selectize.on("change",this.onSelectizeValueChange.bind(this)),e()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this),this.model.off("change:".concat(this.caseIdField),this.clearSelectize,this)},loadFn:function(e,t){return e.length<1?t():a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/sys_party"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(this.buildQuery(e))}).done((function(e){var i=n.map(e.hits.hits,"_source");t(i)}))},getSelectizeOptions:function(){var e=this;return{valueField:"id",labelField:e.labelField,loadThrottle:"300",searchField:e.labelField,sortField:e.labelField,preload:!1,create:!1,persist:!1,hideSelected:!0,placeholder:e.searchCaption,maxItems:1,load:e.apiSearchEnabled()?e.loadFn.bind(e):null,render:{option:function(t,i){var n=t[e.labelField],a=t[e.secondaryLabelField],r="";return a&&(r='<span style="font-size: 12px; display: block; opacity: 0.5;">'.concat(i(a),"</span>")),"<div><span>".concat(i(n),"</span>").concat(r,"</div>")}}}},buildQuery:function(e){var t=o.get({base:"sys",name:"party"}).query("es"),i=30,a=[t.contains_partial(this.labelField,e)];return n.isEmpty(this.model.get("".concat(this.caseIdField)))?i=0:a.push(t.is("caseId",this.model.get("".concat(this.caseIdField)))),n.get(this,"fieldDef.typeOptions.query")&&a.push(n.get(this,"fieldDef.typeOptions.query")),n.get(this,"fieldDef.typeOptions.filter")&&a.push(n.get(this,"fieldDef.typeOptions.filter")),{search:{query:t=t.and(a).toQuery(),size:i,from:0},showInactiveRecords:this.isModelCase?!this.model.get("sysActive"):!this.model.get("".concat(this.caseIdField,"__sysActive")),userSpecificFilters:n.get(this,"fieldDef.typeOptions.userSpecificFilters",!0),lang:$appData.intakeTranslationLanguage}}})},19954:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(926127)})},585782:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(926127),width:"col-xs-12 col-sm-3"})},828704:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(656409),r=i(447578);e.exports=r.extend(a,{name:"party",caption:"Party Selection",description:"Select a Party from the corresponding Case.",includeInFormBuilder:!0,availableOnPortal:!1,excludeFrom:["sys/user","sys/person"],db:{foreign:"sys_party",defaultJoinAttribute:"id",join:["partyName","emailAddress"]},ui:{component:function(){return i(926127)},formComponent:function(){return i(585782)},searchComponent:function(e){var t=i(809375);switch(e){case"is":case"is_not":case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(926127)}},dragComponent:function(){return i(19954)},configurationTabs:function(){return i(101786)},icon:"fa-user",createForm:"base-properties-form",propertiesForm:"base-properties-form",defaultValueOnPropertiesForm:!1},es:{esReverseJoinPriority:"high",mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(830042),escape:function(e){return n.escape(e)},format:function(e,t){if(!e)return null;var i=t.fieldDef.field;return t.data["".concat(i,"__").concat("partyName")]||null}})},596374:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(428706),i(842762),i(672890);var n=i(96190),a=i(274692),r=i(647451).parsePhoneNumberFromString;i(493793);var o=i(40785),s=i(447578),l=i(428064);e.exports=l.extend({selectize:null,className:"phone-number-multiple-component-tmpl",template:i(587946),events:{"change select.loaded":"onEditibleValueChange"},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onRendered:function(e){this.$element=this.$('select[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this._registerPicklistPlugin(),e()},onEditibleValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],r=this.model.get(this.field),o=a(n.currentTarget).val()||null;o!==r&&(l.prototype.onEditableValueChange.apply(this,t),this.model.set(this.field,o))},onSelectizeItemAdd:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0];if(this.validatePhoneNumber(a)){var o=r(a).format("E.164"),s=this.model.get(this.field)||[],d=n.clone(s);d=n.union(d,[o]),n.isEqual(d,s)||(l.prototype.onEditableValueChange.apply(this,t),this.model.set(this.field,d))}else this.selectize.removeItem(a),this.selectize.removeOption(a)},onSelectizeItemRemove:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],r=this.model.get(this.field)||[],o=n.clone(r);n.pull(o,a),n.isEqual(o,r)||(l.prototype.onEditableValueChange.apply(this,t),this.model.set(this.field,o))},onSelectizeOptionAdd:function(e){this.validatePhoneNumber(e)||(this.selectize.removeItem(e),this.selectize.removeOption(e))},onModelChange:function(){var e=this,t=this.model.get(this.field)||[];if(!n.isEqual(t,this.selectize.items))if(n.isEmpty(t))this.selectize.clear();else{var i=n.difference(t,n.keys(this.selectize.options));n.isEmpty(i)&&n.isEqual(t,this.selectize.items)||(n.each(i,(function(t){e.selectize.addOption({value:r(t).format("E.164"),text:e._formatPhoneNumber(t)})})),this.selectize.setValue(t))}},_registerPicklistPlugin:function(){var e=this.getSelectizeOptions();this.selectize=this.$element.selectize(e)[0].selectize,this.selectize.clearOptions(),this._selectValue(),this.selectize.on("item_add",this.onSelectizeItemAdd.bind(this)),this.selectize.on("item_remove",this.onSelectizeItemRemove.bind(this)),this.selectize.on("option_add",this.onSelectizeOptionAdd.bind(this))},getSelectizeOptions:function(){var e=this;return{create:function(t){return{value:r(t)?r(t).format("E.164"):"",text:e._formatPhoneNumber(t)}},valueField:"value",labelField:"text",plugins:["remove_button"],maxItems:n.get(this,"fieldDef.maxItems",null),placeholder:o.translateKey("select"),render:{item:this.renderItem.bind(this),option:this.renderOption.bind(this)}}},renderItem:function(e,t){return"\n        <div>\n            ".concat(e.value?'<span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">\n\t\t\t\t'.concat(t(e.text),"\n\t\t\t</span>"):"","\n        </div>")},renderOption:function(e,t){return'\n        <div id="'.concat(this.field,":").concat(t(e.value),'" role="option" class="option">\n            ').concat(e.value?'<span style="font-family: inherit; font-size: 13px; -webkit-font-smoothing: inherit; line-height: 18px; color: #303030;">\n            \t'.concat(t(e.text),"\n        \t</span>"):"","\n        </div>")},_selectValue:function(){var e=this,t=this.model.get(this.field);n.each(t,(function(t){e.selectize.addOption({value:r(t).format("E.164"),text:e._formatPhoneNumber(t)})})),this.selectize.setValue(t)},validatePhoneNumber:function(e){var t=e.trim();return s.isValidPhoneNumber(t)},_formatPhoneNumber:function(e){if(!e||!r(e))return e;var t=n.get(this.fieldDef,"typeOptions.formatInternational"),i=n.get(this.fieldDef,"typeOptions.countryMasks"),a=s.parsePhoneNumber(e),o=a.phoneNumberwithE164,l=a.nationalNumber,d=a.countryCode,c=$appData.globalConfig.defaultPhoneNumberMask.countryCode===n.parseInt(d),u=i&&i[d];if(c||u){var p=n.get(i,d)||$appData.globalConfig.defaultPhoneNumberMask.mask;t&&(p=s.transformMask(p));var f=s.applyMask(l,p);return"+".concat(d," ").concat(f)}return o}})},14277:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(596374)})},486237:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(596374),template:i(312849)})},105437:(e,t,i)=>{"use strict";i(962062),i(816034),i(428706),i(311927);var n=i(96190),a=i(647451).parsePhoneNumberFromString,r=i(447578),o=i(489256),s=i(439862).file("field-types/phone-number-multiple/index.js"),l=r.extend(o,{name:"phone-number[]",caption:"Phone Number Multiple",description:"Store one or more phone numbers.",includeInFormBuilder:!0,db:{beforeSave:function(e,t){if(!t)return t;var i=t,o=n.map(i,(function(e){var t=r.removeSpecialCharsFromPhoneNumber(e);if(r.isValidPhoneNumber(t))return a(t).format("E.164");n.isNil(e)||null==s||s.warn("Invalid phone-number value. Set to null.")}));return r.prepareJSONForDb(e,n.compact(o))},joiType:function(e){return e.array().items(e.phoneNumber()).sparse()}},ui:{component:function(){return i(596374)},formComponent:function(){return i(486237)},searchComponent:function(e){var t=i(809375);switch(e){case"is_empty":case"is_not_empty":return null;case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();default:return i(596374)}},cellTemplate:function(){return i(552469)},image:function(){return i(722146)},dragComponent:function(){return i(14277)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"phone-number[]-properties-form",propertiesForm:"phone-number[]-properties-form",icon:"fa-phone",sizes:{medium:{width:"col-xs-12 col-sm-6 col-lg-3"}}},escape:function(e){return n.escape(e)},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_partial:{type:"text",analyzer:"phone_number_analyzer",search_analyzer:"standard"}}},formatSearchText:function(e){return r.removeSpecialCharsFromPhoneNumber(e)}},operators:i(172292),coerce:function(e){return n.isArray(e)?e=n.flattenDeep(e):n.isObject(e)&&(e=n.flattenDeep(Object.values(e))),Array.isArray(e)?n.map(e,(function(e){return r.removeSpecialCharsFromPhoneNumber(e)})):[e]},format:function(e,t){if(!e)return"";var i=n.get(t,"fieldDef.typeOptions.formatInternational"),a=n.get(t,"fieldDef.typeOptions.countryMasks");return n.map(e,(function(e){if(!e)return e;var o=r.parsePhoneNumber(e),s=o.phoneNumberwithE164,l=o.internationalNumber,d=o.nationalNumber,c=o.countryCode,u=t.globalOptions.defaultPhoneNumberMask.countryCode===n.parseInt(c),p=a&&a[c];if(i)return l;if(u||p){var f=n.get(a,c)||t.globalOptions.defaultPhoneNumberMask.mask,h=r.applyMask(d,f);return"+".concat(c," ").concat(h)}return s})).join(", ")},export:{format:function(e,t){return(e=l.format(e,t))?'="'.concat(e,'"'):""}}});e.exports=l},172292:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(962062);var r=i(96190),o=i(18063),s=i(447578),l=i(703114),d=l.obj,c=l.db;e.exports={es:{is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return o.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return o.must({exists:{field:t}})}},does_not_contain_exact_words:{getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i=e.value,n=r.map(i,(function(e){var i={};return i[t]=e,{match:i}}));return o.mustNot(n)}},contains_exact_words:{getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e),i=e.value,n=r.map(i,(function(e){var i={};return i[t]=e,{match:i}}));return o.must(n)}},contains:{getFieldName:function(e){return"".concat(e.field,"._partial")},getQuery:function(e){var t=this.getFieldName(e);return o.must({term:a({},t,s.removeSpecialCharsFromPhoneNumber(e.value))})}},does_not_contain:{getFieldName:function(e){return"".concat(e.field,"._partial")},getQuery:function(e){var t=this.getFieldName(e);return o.mustNot({term:a({},t,s.removeSpecialCharsFromPhoneNumber(e.value))})}}},obj:{is_empty:d.isEmpty,is_not_empty:d.isNotEmpty},db:{contains:c.contains,is_empty:c.isEmpty,is_not_empty:c.isNotEmpty}}},330577:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(874423),i(21699),i(134782),i(311927),i(842762),i(428706);var a=i(274692),r=i(96190),o=i(553269),s=i(647451).parsePhoneNumberFromString,l=i(974859),d=i(428064),c=i(40785),u=i(447578);e.exports=l.extend({field:null,$element:null,$countryCodeElement:null,$numberElement:null,inputmask:null,defaultCountryMask:$appData.globalConfig.defaultPhoneNumberMask,maskInUse:null,template:i(590941),className:"phone-number-component-tmpl",onInit:function(){this.fixedCountryCode=r.get(this,"fieldDef.typeOptions.fixedCountry"),this.countryMaskMapping=r.get(this,"fieldDef.typeOptions.countryMasks"),this.formatInternational=r.get(this,"fieldDef.typeOptions.formatInternational")},locals:function(){var e=this.parseModelValue();return{fixCountryCodeField:!!this.fixedCountryCode,fixedCountryCode:this.fixedCountryCode,field:this.field,countryCode:e.countryCode,number:e.number,ariaLabelForCountryCode:c.translateKey("countryCode"),ariaLabelForNumber:c.translateKey("phoneNumber"),countryCodeHint:c.translateKey("countryCodeHint")}},parseModelValue:function(){var e,t,i,a,o=this.model.get(this.field);if(r.includes(o,"|")){var l=(i=o.split("|"),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(i,a)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=l[0],c=l[1];e=d.slice(1),t=c}else if(o&&s(o)){var u=s(o).formatInternational().split(" ");e=u[0].slice(1),t=u.slice(1).join("")}else!o&&this.fixedCountryCode&&(e=this.fixedCountryCode);return{countryCode:e,number:t}},events:{"change input":"onInputChange:default","keydown input":"onInputKeydown"},onInputKeydown:function(e){var t=e.which||e.charCode||e.keyCode||0;return e.shiftKey?9===t:e.ctrlKey||e.metaKey?65===t||67===t||86===t:8===t||9===t||46===t||37===t||39===t||t>=48&&t<=57||t>=96&&t<=105},onInputChange:function(){var e,t="",i=r.parseInt(a('input[name="fixedCountry"]').val()),n=this.fixedCountryCode||"";r.isNil(i)||r.isNaN(i)?this.$countryCodeElement.val()&&(n=t=r.parseInt(this.$countryCodeElement.val())):(t=i,this.$countryCodeElement.val(t),this.fixedCountryCode=t,n=t);var o=this.$numberElement.val().trim();this.$numberElement.inputmask&&(o=this.$numberElement.inputmask.unmaskedvalue()),o||t||this._toggleTooltip("hide"),e=this.fixedCountryCode&&!o?null:n||o?"+".concat(n,"|").concat(o):null;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];d.prototype.onEditableValueChange.apply(this,l),e!==this.model.get(this.field)&&this.model.set(this.field,e)},setNumberMask:function(e){var t=this,i=t.fixedCountryCode||t.$countryCodeElement.val();if(i)if(t.countryMaskMapping&&t.countryMaskMapping[i])t.maskInUse=t.countryMaskMapping[i];else{if(r.parseInt(i)!==t.defaultCountryMask.countryCode)return o.remove(t.$numberElement);t.maskInUse=t.defaultCountryMask.mask}else t.maskInUse=t.defaultCountryMask.mask;return t.formatInternational&&(t.maskInUse=u.transformMask(t.maskInUse)),t.inputmask=new o(t.maskInUse,{onincomplete:function(){t.onMaskIncomplete()},oncomplete:function(){t.onMaskComplete()}}),t.inputmask.mask(t.$numberElement)},onMaskIncomplete:function(){var e=this.$numberElement.val(),t=this.$countryCodeElement.val()?r.parseInt(this.$countryCodeElement.val()):"",i=this.fixedCountryCode&&!e,n=!this.fixedCountryCode&&!t&&!e,a=this.$elementContainer.hasClass("data-validation-tooltip");i||n||a||this._toggleTooltip("show")},onMaskComplete:function(){this._toggleTooltip("hide");var e=this.maskInUse===this.defaultCountryMask.mask||this.maskInUse===u.transformMask(this.defaultCountryMask.mask);!this.$countryCodeElement.val()&&e&&this.$countryCodeElement.val(this.defaultCountryMask.countryCode)},onModelChange:function(){var e=this.parseModelValue();this.$countryCodeElement.val(e.countryCode),this.$numberElement.val(e.number),this.setNumberMask()},onRendered:function(e){this.$element=this.$('div[class="phone-number"]'),this.$elementContainer=this.$element.closest(".component-container"),this.$countryCodeElement=this.$('input[name="countryCode"]'),this.$numberElement=this.$('input[name="number"]'),this._setupValidationTooltip(),this.model.on("change:".concat(this.field),this.onModelChange,this),this.model.on("change:fixedCountry",this.onInputChange,this),e(),this.setNumberMask()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},_setupValidationTooltip:function(){var e=c.translateKey({groupName:"validation",subgroupName:"tooltip",key:"invalid_phone_number"});c.setupValidationTooltip(this,this.$element,{title:e})},_toggleTooltip:function(e){var t="field-tooltip",i="has-field-tooltip has-error";"show"===e?(this.$element.addClass(t),this.$element.parents(".form-group").first().addClass(i)):"hide"===e&&(this.$element.removeClass(t),this.$element.parents(".form-group").first().removeClass(i)),this.$element.tooltip(e)}})},966880:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(330577)})},1720:(e,t,i)=>{"use strict";var n=i(27498);e.exports=n.extend({Component:i(330577),template:i(312012)})},926522:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(428706);var a=i(647451).parsePhoneNumberFromString,r=i(96190),o=i(447578),s=i(858364),l=i(439862).file("field-types/phone-number/index.js"),d=o.extend(s,{name:"phone-number",caption:"Phone Number",description:"A text field with validation to ensure proper phone number formatting.",includeInFormBuilder:!0,db:{beforeSave:function(e,t){if(t){var i=o.removeSpecialCharsFromPhoneNumber(t);return o.isValidPhoneNumber(i)?a(i).format("E.164"):(l&&l.warn("Invalid phone-number value. Set to null."),null)}return null},joiType:"phoneNumber"},ui:{component:function(){return i(330577)},formComponent:function(){return i(1720)},searchComponent:function(e){var t=i(809375);switch(e){case"is_empty":case"is_not_empty":return null;case"is":case"is_not":return i(330577);default:return t.textbox.ui.searchComponent()}},dragComponent:function(){return i(966880)},configurationTabs:function(){return i(101786)},createForm:"phone-number-properties-form",propertiesForm:"phone-number-properties-form",icon:"fa-phone",sizes:{medium:{width:"col-xs-12 col-sm-6 col-lg-3"}}},es:{mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"},_exactWords:{type:"text",analyzer:"standard"},_exact:{type:"keyword"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_partial:{type:"text",analyzer:"phone_number_analyzer",search_analyzer:"standard"}}},formatSearchText:function(e){return o.removeSpecialCharsFromPhoneNumber(e)}},operators:i(397775),coerce:function(e){var t,i,a=e;return Array.isArray(a)&&(a=(t=e,i=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]),o.removeSpecialCharsFromPhoneNumber(a)},format:function(e,t){if(e&&a(e)){var i=r.get(t,"fieldDef.typeOptions.formatInternational"),n=r.get(t,"fieldDef.typeOptions.countryMasks"),s=o.parsePhoneNumber(e),l=s.phoneNumberwithE164,d=s.internationalNumber,c=s.nationalNumber,u=s.countryCode,p=t.globalOptions.defaultPhoneNumberMask.countryCode===r.parseInt(u),f=n&&n[u];if(i)return d;if(p||f){var h=r.get(n,u)||t.globalOptions.defaultPhoneNumberMask.mask,m=o.applyMask(c,h);return"+".concat(u," ").concat(m)}return l}return e},export:{format:function(e,t){return(e=d.format(e,t))||""}}});e.exports=d},397775:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(18063),o=i(447578),s=i(703114),l=s.obj,d=s.db;e.exports={es:{is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exact")},getQuery:function(e){var t=this.getFieldName(e);return r.must({term:a({},t,o.removeSpecialCharsFromPhoneNumber(e.value))})}},is_not:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"._exact")},getQuery:function(e){var t=this.getFieldName(e);return r.mustNot({term:a({},t,o.removeSpecialCharsFromPhoneNumber(e.value))})}},is_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return r.mustNot({exists:{field:t}})}},is_not_empty:{conditionOperator:!0,getFieldName:function(e){return e.field},getQuery:function(e){var t=this.getFieldName(e);return r.must({exists:{field:t}})}},does_not_contain:{getFieldName:function(e){return"".concat(e.field,"._partial")},getQuery:function(e){var t=this.getFieldName(e);return r.mustNot({term:a({},t,o.removeSpecialCharsFromPhoneNumber(e.value))})}},contains:{getFieldName:function(e){return"".concat(e.field,"._partial")},getQuery:function(e){var t=this.getFieldName(e);return r.must({term:a({},t,o.removeSpecialCharsFromPhoneNumber(e.value))})}}},obj:{is:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var n=t.getFieldName(e);return o.removeSpecialCharsFromPhoneNumber(e.value)===o.removeSpecialCharsFromPhoneNumber(i[n])}}},is_not:{getFieldName:function(e){return e.field},getFunc:function(e){var t=this;return function(i){var n=t.getFieldName(e);return o.removeSpecialCharsFromPhoneNumber(e.value)!==o.removeSpecialCharsFromPhoneNumber(i[n])}}},is_empty:l.isEmpty,is_not_empty:l.isNotEmpty},db:{is:d.is,is_not:d.isNot,is_empty:d.isEmpty,is_not_empty:d.isNotEmpty}}},420204:(e,t,i)=>{"use strict";i(428706),i(962062),i(202008),i(426099),i(423500);var n=i(96190),a=i(859399),r=i(172939),o=i(428064);e.exports=a.extend({onInit:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.onInit.apply(this,t);var n=this.field,r=this.textAttribute;this.joinedFieldName="".concat(n,"__").concat(r)},getPicklistTranslation:function(e){return e[this.textAttribute]},filterDependencies:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.prototype.filterDependencies.apply(this,t)},onSelectizeValueChange:function(e){e||(e=[]);var t=this.model.get(this.field)||[];if(!n.isEqual(e,t)){var i=this.selectize.options,a=this.field,r=this.textAttribute,s=this.joinedFieldName,l={};l[a]=e,l[s]=n.map(e,(function(e){return i[e][r]})),this.model.set(l),o.prototype.onEditableValueChange.call(this,e)}},_addRows:function(e){var t,i=this,n=this.field,a=this.joinedFieldName,r=this.model,o=r.get(a)||[],s=r.get(n)||[];null==e||null===(t=e.filter((function(e){var t=s.indexOf(e.id);return-1===t||o[t]})))||void 0===t||t.forEach((function(e,t){e.sortNum=t,i.selectize.addOption(e)}))},_selectValue:function(){var e,t=this.field,i=this.joinedFieldName,n=this.model,a=n.get(i)||[],r=null===(e=n.get(t))||void 0===e?void 0:e.filter((function(e,t){return a[t]}));this.selectize.setValue(r,!0)}})},592891:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(420204)})},324259:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(428706),i(311927);var n=i(96190),a=i(447578),r=i(433144),o=i(800030);e.exports=a.extend(r,{name:"picklistApi[]",caption:"Picklist API Multiple",includeInFormBuilder:!1,db:{customJoin:function(e,t){var i=e.knexEntity,a=e.entityService,r=e.rows,s=e.field,l=e.values,d=e.joinFields,c=e.joinTables,u=e.typeOptions,p=(void 0===u?{}:u).picklistName;if(null==d||!d.length||!p)return t();i(a.get(o.getEntityCanon(c[0]))).list({joins:!1,limit:-1,q:{ids:l}},(function(e,i){if(e)return t(e);var a=n.keyBy(i,"id"),o=n.map(r,(function(e){var t={id:e.id};return n.each(d,(function(i){t["".concat(s,"__").concat(i)]=n.map(e[s],(function(e){var t=a[e];return t&&t[i]||null}))})),t}));t(null,o)}))}},ui:{component:function(){return i(420204)},formComponent:function(){return i(592891)}},format:function(e,t){if(null==e)return"";var i=t.fieldDef,a=i.picklistName,r=i.field,o="".concat(r,"__").concat(t.picklistConfig[a].text),s=t.data[o]?t.data[o]:e;return n.compact(s).join(", ")}})},172939:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(962062),i(874423),i(21699),i(250113),i(428706);var a=i(96190),r=i(633514);e.exports=r.extend({getPicklistTranslation:function(e){return a.get(e,this.textAttribute)},filterDependencies:function(e){var t=this,i=a.get(this,"fieldDef.picklistDependencies")||[];return a.filter(e,(function(e){var n=a.map(t.picklistConfig.parentAttributes,(function(t){return e[t]}));if(n&&!a.isEmpty(n)){var r=a.map(i,(function(e){return t.model.get(e)})),o=n.length===r.length;return a.each(r,(function(e,t){o=a.isArray(e)?o&&a.includes(e,n[t]):o&&e===n[t]})),o}return!0}))},_getJoinDataToSet:function(e){var t,i,r,o={},s=this.$element.data("data"),l=a.find(s,(t={},i=this.valueAttribute,r=e,(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t));return l&&(o["".concat(this.field,"__").concat(this.textAttribute)]=l[this.textAttribute]),o}})},784426:(e,t,i)=>{"use strict";var n=i(580921);e.exports=n.extend({Component:i(172939)})},710652:(e,t,i)=>{"use strict";i(428706);var n=i(447578),a=i(728129);e.exports=n.extend(a,{name:"picklistApi",caption:"Picklist API",includeInFormBuilder:!1,ui:{component:function(){return i(172939)},formComponent:function(){return i(784426)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(628956)}}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_exactLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}},format:function(e,t){if(null==e)return"";var i=t.fieldDef,n=i.picklistName,a=i.field,r="".concat(a,"__").concat(t.picklistConfig[n].text);return t.data[r]?t.data[r]:e}})},628956:(e,t,i)=>{"use strict";var n=i(172939);e.exports=n.extend({ignoreParents:!0})},859399:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(938781),i(202008),i(250113),i(672890);var n=i(96190);i(493793);var a=i(40785),r=i(428064),o=i(971409);e.exports=o.extend({selectize:null,ignoreParents:!1,className:"picklist-multiple-component-tmpl",template:i(280745),onSelectizeValueChange:function(e){e||(e=[]);var t=this.model.get(this.field)||[];n.isEqual(e,t)||(this.model.set(this.field,e),r.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this,t=this.model.get(this.field);if(!n.isEqual(t,this.selectize.items)){var i=n.difference(t,n.keys(this.selectize.options));n.each(i,(function(t){e.selectize.addOption({value:t,translation:e.translateNewOption(t)})})),this.selectize.setValue(t,!0)}},translateNewOption:function(e){var t=a.picklistTranslationKey({name:this.picklistName,value:e});return a.translateKey(t,{missingTranslationValue:e})},_refreshModelAttribute:function(e){var t=this,i=this.model.get(this.field),a=n.map(i,(function(e){return n.isNumber(e)?e.toString():e})),r=n.filter(a,(function(i){return n.find(e,(function(e){return e[t.valueAttribute]===i}))}));this.model.set(this.field,r)},_registerPicklistPlugin:function(){var e,t=this.picklistConfig,i=null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.placeholder;this.selectize=this.$element.selectize({valueField:t.value||"value",labelField:"translation",searchField:"translation",sortField:"sortNum",plugins:["remove_button"],placeholder:i?a.translateKey({key:i}):a.translateKey("select"),maxItems:t.maxItems||null})[0].selectize,this.selectize.on("change",this.onSelectizeValueChange.bind(this))}})},154090:(e,t,i)=>{"use strict";var n=i(386859),a=i(859399);e.exports=n.extend({Component:a.extend({fetchPicklistData:function(e){return e(null,[])}})})},667662:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(859399)})},433144:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(311927),i(962062),i(938781),i(428706);var n=i(96190),a=i(447578),r=i(489256),o=i(728129);e.exports=a.extend(r,{name:"picklist[]",caption:"Picklist Multiple",description:"A dropdown list of values where multiple values can be selected.",includeInFormBuilder:!0,ui:{component:function(){return i(859399)},formComponent:function(){return i(667662)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(839184)}},gridConfiguration:{dataFilterComponent:function(){return i(288655)},dataFilterOperators:{includes:{getFilterData:function(e){return{operator:"includes",fieldValues:e.values}}},is:{getFilterData:function(e){return{operator:"is",fieldValues:e.values}}}}},gridFilterUniqueIdentifiers:["picklistName","typeOptions.picklistName"],configurationTabs:o.ui.configurationTabs,dragComponent:function(){return i(154090)},createForm:"base-properties-form",propertiesForm:"picklist-properties-form",icon:"fa-bars",image:function(){return i(387437)}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_sort:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"._sort")}},operators:i(350301),escape:function(e){return n.escape(e)},format:function(e,t){return e?n.map(e,(function(e){n.isNumber(e)&&(e=e.toString());var i=e||"";return t.translateKey({groupName:"picklist",subgroupName:n.get(t,"fieldDef.picklistName",""),key:a.picklistTranslationKeyFromValue(e)},{missingTranslationValue:i})||""})).join(", "):""},aggregationMethods:function(e){var t=["expression"];return e?t.concat([]):t}})},288655:(e,t,i)=>{"use strict";var n=i(40785),a=i(317167);e.exports=a.extend({customFilterOptionsMenuOpts:{enableSearch:!0,sortList:!1,showClearAllBtn:!0,allowNoOptionsSelected:!0,searchPlaceholder:n.translateKey({groupName:"placeholders",key:"search_picklist"}),enableToggle:!0},onInit:function(){a.prototype.onInit.call(this),this.filterOptionName=this.getSelectedFilterOptionName()||"is",this.toggleOptions={checkedCaption:n.translateKey({key:"and"}),uncheckedCaption:n.translateKey({key:"or"}),value:this.getInitialToggleState()}},onToggleChange:function(e){this.filterOptionName=e?"is":"includes",this.toggleOptions.value=e},getInitialToggleState:function(){return"is"===this.filterOptionName}})},839184:(e,t,i)=>{"use strict";var n=i(859399);e.exports=n.extend({ignoreParents:!0})},570307:(e,t,i)=>{"use strict";i(962010);var n=i(447578),a=i(858364);e.exports=n.extend(a,{name:"picklistName",caption:"Picklist Name",includeInFormBuilder:!1,es:{mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"},_exactWords:{type:"text",analyzer:"standard"},_exact:{type:"keyword"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}},highlight:{fragment_size:140,number_of_fragments:4},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},format:function(e,t){return null==e||""===e?"":t.translateKey({groupName:"picklist_type",subgroupName:"caption",key:t.data.name||e},{missingTranslationValue:e})}})},174104:(e,t,i)=>{"use strict";i(411392),i(699449),i(134782),i(202008),i(426099),i(962062),i(874423),i(21699),i(250113),i(944114),i(428706);var n=i(96190),a=i(971409),r=i(689708),o=i(40785);i(249906),e.exports=a.extend({className:"picklist-selectize-api-component-tmpl",missingValues:[],onInit:function(){for(var e,t,i,n,r,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];a.prototype.onInit.apply(this,s),(null!==(e=this.fieldDef)&&void 0!==e&&e.highlightMissingValue||null!==(t=this.fieldDef)&&void 0!==t&&null!==(t=t.typeOptions)&&void 0!==t&&t.highlightMissingValue)&&(this.highlightMissingValue=!0),this.missingValueTranslation=null!==(i=null===(n=this.fieldDef)||void 0===n?void 0:n.missingValueTranslation)&&void 0!==i?i:null===(r=this.fieldDef)||void 0===r||null===(r=r.typeOptions)||void 0===r?void 0:r.missingValueTranslation},isStringTemplated:function(e){return e.startsWith("{")&&e.endsWith("}")},parseLiteralValue:function(e,t){return this.isStringTemplated(t)?n.get(e,t.slice(1,-1)):t},getPicklistTranslation:function(e){var t=this.fieldDef.typeOptions.itemTranslationKey;return t?n.isString(t)?o.escapedTranslateKey(this.parseLiteralValue(e,t)):o.escapedTranslateKey({groupName:this.parseLiteralValue(e,t.groupName),subgroupName:this.parseLiteralValue(e,t.subgroupName),key:this.parseLiteralValue(e,t.key)}):n.get(e,this.textAttribute)},filterDependencies:function(e){var t=this,i=this;return n.filter(e,(function(a){var r=e.parents||n.map(t.picklistConfig.parentAttributes,(function(e){return a[e]}));if(!n.isEmpty(r)){var o=n.map(t.dependencyAttributes,(function(e){return i.model.get(e)})),s=r.length===o.length;return n.each(o,(function(e,t){s=n.isArray(e)?s&&n.includes(e,r[t]):s&&e===r[t]})),s}return!0}))},_addValueIfMissing:function(e,t){var i=this,a=this.model.get(this.field),o=this.valueAttribute,s=n.cloneDeep(e);function l(e){var a={};a[o]=e;var l=n.find(t,a);if(!n.isEmpty(e)&&!l){var d={};d[o]=e,d.translation=i.missingValueTranslation?i.missingValueTranslation:e,i.missingValues.push(e),s=s.concat([d]),s=r.sortRows(s),i.setMissingValueClass(e)}}return n.isArray(a)?n.each(a,l):l(a),s},setMissingValueClass:function(e){this.highlightMissingValue&&(n.includes(this.missingValues,e)?this.$(".selectize-input").addClass("missing-value"):this.$(".selectize-input").removeClass("missing-value"))},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],o=n.isEmpty(r)?null:r;o!==this.model.get(this.field)&&this.setMissingValueClass(o),a.prototype.onSelectizeValueChange.apply(this,t)},setApiJoinData:function(e){this.textAttribute in e&&this.model.set("".concat(this.field,"__").concat(this.textAttribute),e[this.textAttribute])}})},435391:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(174104)})},476335:(e,t,i)=>{"use strict";i(428706);var n=i(447578),a=i(710652);e.exports=n.extend(a,{name:"picklistSelectizeApi",caption:"Picklist Selectize API",includeInFormBuilder:!1,ui:{component:function(){return i(174104)},formComponent:function(){return i(435391)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(699989)}}},format:function(e,t){var i,n;if(null==e)return"";var a=t.fieldDef,r=a.picklistName,o=a.field,s="".concat(o,"__").concat(t.picklistConfig[r].text),l=null!==(i=null===(n=t.fieldDef)||void 0===n||null===(n=n.typeOptions)||void 0===n?void 0:n.missingValueTranslation)&&void 0!==i?i:e;return t.data[s]?t.data[s]:l}})},699989:(e,t,i)=>{"use strict";var n=i(174104);e.exports=n.extend({ignoreParents:!0})},971409:(e,t,i)=>{"use strict";i(428706),i(672890);var n=i(96190),a=i(428064),r=i(633514),o=i(40785),s=i(38659),l=o.getPicklistsConfig();e.exports=r.extend({selectize:null,className:"picklist-selectize-component-tmpl",template:i(729573),onInit:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.prototype.onInit.apply(this,i),this.subTextAttr=this.picklistConfig.subText,this.maxOptions=null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.maxOptions},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],o=n.isEmpty(r)?null:r;if(o!==this.model.get(this.field)){var s=this.selectize.options[o]||{},l=this.model.pickJoinData({attribute:this.field,joinedEntityData:s});l[this.field]=o,this.model.set(l),this.setApiJoinData&&n.isFunction(this.setApiJoinData)&&this.setApiJoinData(s),a.prototype.onEditableValueChange.apply(this,t)}},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);n.isEmpty(t)&&this.selectize.addOption({id:e}),this.selectize.setValue(e,!0)},_registerPicklistPlugin:function(){var e,t,i,a=this,r=n.get(this,"fieldDef.picklistName"),s=l[r];this.selectize=this.$element.selectize({create:!0===(null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.allowCreate),valueField:(null==s?void 0:s.value)||"value",labelField:n.get(this,"fieldDef.typeOptions.labelField","translation"),sortField:"sortNum",placeholder:null!==(t=null===(i=this.fieldDef)||void 0===i||null===(i=i.typeOptions)||void 0===i?void 0:i.placeholder)&&void 0!==t?t:o.translateKey("select"),searchField:[a.textAttribute,a.subTextAttr,n.get(this,"fieldDef.typeOptions.labelField","translation")],maxOptions:this.maxOptions,render:{option:function(e,t){var i=a._getSubText.call(a,e),r=a._disableItem.call(a,e),o=a._getSecondaryCaption.call(a,e),s=a._getDuplicateCaption.call(a,e);return'<div id="'.concat(t(e.id),'" role="option" ').concat(r?'class="option disabled-option"':'class="option"',">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t").concat(t(n.get(e,"translation")),"\n\t\t\t\t\t\t\t").concat(s||r&&o?"&nbsp;&nbsp;":"","\n\t\t\t\t\t\t\t").concat(s?'<em class="secondary-caption">'.concat(s,"</em>"):"","\n\t\t\t\t\t\t\t").concat(s&&o?'<em class="secondary-caption">,</em>':"","\n\t\t\t\t\t\t\t").concat(r&&o?'<em class="secondary-caption">'.concat(t(o),"</em>"):"","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t").concat(i?'<span class="highlight-sub-search-block">'.concat(t(i),"</span>"):"","</div>")}}})[0].selectize,this.selectize.on("change",this.onSelectizeValueChange.bind(this))},_getDuplicateCaption:function(e){if(!e.duplicateCaption)return null;var t=o.escapedTranslateKey({groupName:e.duplicateCaption,subgroupName:"general",key:"name"}),i=o.translateKey({groupName:"settings",subgroupName:"forms",key:"form"});return"".concat(i,": ").concat(t)},_disableItem:function(e){var t=n.get(this,"fieldDef.typeOptions.disabledItem"),i=s[t];return!!n.isFunction(i)&&i(e)},_getSecondaryCaption:function(e){var t=n.get(this,"fieldDef.typeOptions.secondaryCaption"),i=s[t];return n.isString(t)&&!n.isFunction(i)?o.translateKey(t):n.isFunction(i)?i(e):null},_getSubText:function(e){var t=n.get(e,this.subTextAttr);return n.isObject(t)?o.translateKey(t):t},_clearPicklistValues:function(){this.selectize.clearOptions()},_addBlankRow:function(){},_addRows:function(e){var t=this;n.each(e,(function(e,i){var n=e;n.sortNum=i,n.translation||(n.translation=n.value),t.selectize.addOption(n)}))},_selectValue:function(){var e=this.model.get(this.field);this.selectize.setValue(e,!0)},_markFieldAsLoading:function(){this.selectize.disable()},_markFieldAsLoaded:function(){"disabled"===this.$element.data("state")||this.selectize.enable(),this.$element.trigger("loaded")}})},803128:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(971409)})},525626:(e,t,i)=>{"use strict";var n=i(447578),a=i(728129);e.exports=n.extend(a,{name:"picklistSelectize",caption:"Picklist Selectize",includeInFormBuilder:!1,ui:{component:function(){return i(971409)},formComponent:function(){return i(803128)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(932314)}}}})},932314:(e,t,i)=>{"use strict";var n=i(971409);e.exports=n.extend({ignoreParents:!0})},792461:(e,t,i)=>{"use strict";i(962010);var n=i(447578),a=i(858364);e.exports=n.extend(a,{name:"picklistValue",caption:"Picklist Value",includeInFormBuilder:!1,es:{mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english"},_exactWords:{type:"text",analyzer:"standard"},_exact:{type:"keyword"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}},highlight:{fragment_size:140,number_of_fragments:4},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},format:function(e,t){return null==e||""===e?"":t.translateKey({groupName:"picklist",subgroupName:t.data.name,key:n.picklistTranslationKeyFromValue(e)},{missingTranslationValue:e})}})},633514:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(250113),i(962062),i(874423),i(21699),i(423500),i(428706),i(904660);var a=i(274692),r=i(96190),o=i(689708),s=i(40785),l=i(428064),d=i(549588),c=i(315481),u=s.getPicklistsConfig();e.exports=l.extend({field:null,$element:null,picklistName:null,ignoreParents:!1,picklistConfig:null,valueAttribute:"value",textAttribute:"value",template:d,className:"picklist-component-tmpl",onInit:function(){this.picklistName=r.get(this,"fieldDef.picklistName")||r.get(this,"fieldDef.typeOptions.picklistName"),this.picklistConfig=u[this.picklistName]||{},this.picklistTypeId=r.get(this,"fieldDef.typeOptions.picklistTypeId",this.picklistConfig.id),this.picklistConfig.value&&(this.valueAttribute=this.picklistConfig.value),this.picklistConfig.text&&(this.textAttribute=this.picklistConfig.text),this.picklistConfig.dataField&&(this.dataField=this.picklistConfig.dataField),!0===r.get(this,"fieldDef.disableWhenEmpty")&&(this.disableWhenEmpty=!0),!0===r.get(this,"fieldDef.ignoreParents")&&(this.ignoreParents=!0),!0===this.model.readOnly&&(this.ignoreParents=!0),this.typeOptions=r.get(this,"fieldDef.typeOptions",{}),this.refreshOnFields=r.get(this,"fieldDef.refreshOnFields"),this.dependencyAttributes=r.get(this,"fieldDef.picklistDependencies")||[]},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},refreshPicklistValues:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.noop,n=(e||{}).dependentChildrenValuesOnly,a=void 0!==n&&n;this._markFieldAsLoading(),this.fetchPicklistData((function(e,n){var o;if(e)return i(e);var s=r.cloneDeep(n),l=(null===(o=t.typeOptions)||void 0===o?void 0:o.filter)||t.picklistConfig.filter;!0!==t.ignoreParents&&(s=t.filterDependencies(s)),s=t._removeHiddenItems(s),l&&c[l]&&(s=c[l](s,t.model,t.picklistConfig)),a||(s=t._addValueIfMissing(s,n)),s=r.uniqBy(s,t.valueAttribute),t._refreshModelAttribute(s),t._clearPicklistValues();var d=r.groupBy(s,(function(e){return r.get(e,t.textAttribute)})),u=r.pickBy(d,(function(e){return e.length>1}));return r.each(u,(function(e){r.each(e,(function(e){var t=r.find(s,{id:e.id});if(!t)return!0;r.assign(t,{duplicateCaption:t.parentEntityCanon})}))})),t._addBlankRow(),t._addRows(s),t.$element.data("data",s),t._selectValue(),t._markFieldAsLoaded(),r.isEmpty(s)&&t.disableWhenEmpty&&t.$element.prop("disabled",!0),i()}))},_refreshModelAttribute:function(e){var t=this,i=this.model.get(this.field);r.find(e,(function(e){return e[t.valueAttribute]===i}))||this.model.set(this.field,null)},getValue:function(e){return e[this.valueAttribute]},getPicklistTranslation:function(e){var t=this.textAttribute,i=void 0===t?null:t,n=this.valueAttribute,a=this.model;return o.getDefaultPicklistTranslation({row:e,textAttribute:i,valueAttribute:n,picklistName:this.picklistName,model:a})},fetchPicklistData:function(e){return this.staticData?e(null,o.sortRows(this.staticData)):o.fetchPicklistData({fieldDef:this.fieldDef,picklistTypeId:this.picklistTypeId,dataField:this.dataField,model:this.model,picklistConfig:this.picklistConfig,translationFn:this.getPicklistTranslation.bind(this)},e)},filterDependencies:function(e){var t=this,i=this;return r.filter(e,(function(e){var n=e.parents;if(n&&!r.isEmpty(n)){var a=r.map(t.dependencyAttributes,(function(e){return i.model.get(e)})),o=n.length===a.length;return r.each(a,(function(e,t){o=r.isArray(e)?o&&r.includes(e,n[t]):o&&e===n[t]})),o}return!0}))},events:{"change select.loaded":"onEditableValueChange"},onEditableValueChange:function(){var e=arguments.length<=0?void 0:arguments[0],t=this.model.get(this.field),i=r.unescape(a(e.currentTarget).val());if(r.isEmpty(i)&&(i=null),i!==t){var n=this._getJoinDataToSet(i);n[this.field]=i,this.model.set(n),l.prototype.onEditableValueChange.call(this)}},onModelChange:function(){var e,t,i,o=r.escape(this.model.get(this.field));if(!r.find(this.$element[0],(function(e){return e.value===o}))){var s=this.getPicklistTranslation((e={},t=this.valueAttribute,i=o,(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e));this.$element.append(a("<option>",{value:o,text:s}))}this.$element.val(o)},onRendered:function(e){var t=this;this.$element=this.$('select[name="'.concat(this.field,'"]')),this.$spinner=this.$("img.spinner"),this.model.on("change:".concat(this.field),this.onModelChange,this),this._registerPicklistPlugin(),this.dataField?(this.onDataFieldChange=function(){t.refreshPicklistValues()},this.model.on("change:".concat(this.dataField),this.onDataFieldChange,this)):this.dependencyAttributes.length>0&&r.forEach(this.dependencyAttributes,(function(e){t.model.on("change:".concat(e),t.onDependencyAttributeChange,t)})),this.refreshOnFields&&(this.onRefreshOnFieldsChange=function(){t.refreshPicklistValues()},r.forEach(this.refreshOnFields,(function(e){t.model.on("change:".concat(e),t.onRefreshOnFieldsChange,t)}))),this.refreshPicklistValues(null,(function(){return e()}))},onRemove:function(){var e=this;this.model.off("change:".concat(this.field),this.onModelChange,this),this.dataField&&this.model.off("change:".concat(this.dataField),this.onDataFieldChange,this),this.dependencyAttributes.length>0&&r.forEach(this.dependencyAttributes,(function(t){e.model.off("change:".concat(t),e.onDependencyAttributeChange,e)})),this.refreshOnFields&&r.forEach(this.refreshOnFields,(function(t){e.model.off("change:".concat(t),e.onRefreshOnFieldsChange,e)}))},onReadOnlyModeChange:function(e){this.$element&&(r.get(this.typeOptions,"ignoreParents")||(this.ignoreParents=e,this.refreshPicklistValues()))},onDependencyAttributeChange:function(){this.refreshPicklistValues({dependentChildrenValuesOnly:!0})},_registerPicklistPlugin:function(){},_clearPicklistValues:function(){this.$element.empty()},_addValueIfMissing:function(e,t){var i=this.model.get(this.field),n=this.valueAttribute,a=r.cloneDeep(e);function s(e){var i={};i[n]=e;var s=r.find(t,i);if(!r.isEmpty(e)&&!s){var l={};l[n]=e,l.translation=e,a=a.concat([l]),a=o.sortRows(a)}}return r.isArray(i)?r.each(i,s):s(i),a},_addBlankRow:function(){if(!1!==r.get(this.typeOptions,"addBlankRow")){var e=r.get(this,"fieldDef.blankText"),t=e?s.translateKey({key:e}):"<".concat(s.translateKey("select"),">");this.$element.prepend('<option value="">'.concat(r.escape(t),"</option>"))}},_addRows:function(e){var t=this;t.$element.append(r.map(e,(function(e){var i=t.getValue(e),n=e.translation?e.translation:r.escape(i);return a("<option></option>").attr("value",r.escape(i)).text(n).data("picklistData",e)})))},_selectValue:function(){var e=this.model.get(this.field),t=r.isNil(e)?"":e;this.$element.val(r.escape(t))},_removeHiddenItems:function(e){var t=this,i=r.get(this,"fieldDef.hiddenValues");return r.isArray(i)?r.filter(e,(function(e){var n=t.getValue(e);return!r.includes(i,n)})):e},_getDependentFieldsToEmpty:function(){var e=this.field,t={};return r.each(this.fields,(function(i){var n=r.get(i,"picklistDependencies")||[];r.includes(n,e)&&(t[i.field]=null)})),t},_getJoinDataToSet:function(){return{}},_markFieldAsLoading:function(){this.$element.removeClass("loaded"),this.$element.attr("disabled","disabled"),this.$spinner.show();var e=s.translateKey({key:"loading_"});this.$element.append('<option value="">'.concat(r.escape(e),"</option>"))},_markFieldAsLoaded:function(){"disabled"===this.$element.data("state")||this.$element.attr("disabled",null),this.$spinner.hide(),this.$element.addClass("loaded"),this.$element.trigger("loaded")}})},671636:(e,t,i)=>{"use strict";var n=i(948122),a=i(570939),r=i(509897),o=i(83119);e.exports=[{id:"properties",caption:"properties",View:n,default:!0},{id:"value",caption:"values",View:a,disableSave:!0},{id:"rules",caption:"rules",TabView:r,View:o,disableSave:!0,displayRule:"!isDataForm"}]},758923:(e,t,i)=>{"use strict";i(311927),i(962062),i(250113),i(426099),i(874423),i(21699),i(202008),i(423500),i(944114);var n=i(274692),a=i(96190),r=i(122268),o=i(254266),s=i(667662),l=i(277137),d=i(939994),c=i(800030);e.exports=o.extend({template:i(795805),className:"picklist-properties-form-tmpl",events:{'click input[name="dependent"]':"onDependentToggle",'click select[name="dynamicKind"]':"onDependentToggle"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.prototype.onInit.call(this,e),this.picklistName=this.model.get("picklistName"),this.pickListcollection=new l(null,{name:this.picklistName,onlyShowInactiveRecords:!0}),this.getPicklistTypeFilter=e.getPicklistTypeFilter,this.defaultData=[]},onRendered:function(){for(var e=this,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];var d=this.layoutTreeCollection.getRootLayoutModel();d.isDataForm()&&this.model.set({showOnPortal:d.get("showOnPortal")});var c=n.Deferred(),u=this.getPicklists();return this.picklistDependenciesComponent=new s({model:this.model,staticData:u,fieldDef:{field:"directPicklistDependency",picklistName:"form_builder_parent_picklist_name"},width:"col-sm-12",labelWidth:"col-sm-12",readOnlyWidth:"col-sm-12",format:function(e){return e?e.map((function(e){return u.find((function(t){return t.id===e})).translation})).join(","):""}}),r.parallel([function(t){if(!a.isEmpty(e.defaultData))return t();e.fetchPicklistCollection((function(){e.defaultData=e.pickListcollection.models.map((function(e){return e.attributes})),t()}))},function(t){e.syncDependentPicklist(!0,t)}],(function(){return o.prototype.onRendered.apply(e,i),c.resolve()})),c.promise()},onBindEvents:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.onBindEvents.apply(this,t),this.model.on("sync",this.handleModelSync,this)},onUnbindEvents:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.onUnbindEvents.apply(this,t),this.model.off("sync",this.handleModelSync,this)},handleModelSync:function(){this.syncDependentPicklist()},syncDependentPicklist:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.noop,i=this.model.get("picklistDependencies"),r=this.model.get("directPicklistDependency"),o=a.head(r);if(!o)return e&&this.model.setInitial("dependent",!1),t();var s=this.layoutTreeCollection.entityFields,l=a.find(s,(function(e){return a.includes(["picklist","picklist[]"],e.type)&&o===a.get(e,"picklistName")&&a.includes(i,a.get(e,"field"))}));if(l){var d=[a.get(l,"field")];e&&this.model.setInitial("directPicklistDependency",d),this.model.set("directPicklistDependency",d)}if(n('input[name="dependent"]').prop("checked",!0),e)return this.model.setInitial("dependent",!0),this.renderDependentPicklist(t);t()},renderDependentPicklist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.addSubView(this.picklistDependenciesComponent).render(this.$(".dependent-picklist-container"),e)},onDependentToggle:function(){var e="editable"===n('select[name="dynamicKind"]').val();n('input[name="dependent"]').is(":checked")&&e?(this.renderDependentPicklist(),this.defaultValueView&&(this.removeSubView(this.defaultValueView),this.defaultValueView=null,this.model.set("default",null),this.model.addDirtyField("default"))):(this.model.set({picklistDependencies:null,directPicklistDependency:null}),this.model.addDirtyField("picklistDependencies"),this.model.addDirtyField("directPicklistDependency"),n('input[name="dependent"]').prop("checked",!1),this.removeSubView(this.picklistDependenciesComponent),this.displayDefaultValueComponent&&!this.defaultValueView&&e&&this.renderDefaultValueComponent())},getPicklists:function(){var e=this,t=a.map(d.getPartiallyDynamicEntities(),(function(e){return c.getEntityName(e.entity)})),i=c.getEntityFromCanon(this.model.get("entityName")),n=this.layoutTreeCollection.getFieldModels(),r=[];if(a.includes(t,a.get(i,"name"))){var o=this.layoutTreeCollection.entityFields,s=a.filter(o,(function(e){return a.includes(["picklist","picklist[]"],e.type)&&!1!==a.get(e,"kindOptions.flags.formVisible")&&"purge_reasons"!==a.get(e,"typeOptions.picklistName")}));a.forEach(s,(function(t){var i=t.caption,n=t.picklistName,a=t.field;n&&n!==e.model.get("picklistName")&&r.push({id:a,caption:i,translation:i})}))}return n&&a.forIn(n,(function(t){var i=a.includes(["picklist","picklist[]"],t.get("type")),n=t.get("picklistName"),o=n&&n!==e.model.get("picklistName");if(i&&o){var s=t.get("caption"),l=t.get("field");r.push({id:l,caption:s,translation:s})}})),r},fetchPicklistCollection:function(e){var t=this.pickListcollection.getFilter(),i=this.getPicklistTypeFilter(),n=this.pickListcollection.getEntDefs()[0].query();this.pickListcollection.setRowCount(-1),this.pickListcollection.setFilter(n.and([t,i]).toQuery()),this.pickListcollection.fetch({reset:!0,success:function(){return e()},error:function(){return e()}})}})},948122:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(122268),o=i(594013),s=i(758923),l=i(879176),d=i(277137),c=i(939994),u=i(40785);e.exports=o.extend({template:i(131582),className:"picklist-properties-tmpl",events:{"click #add-picklist-value":"onAddPicklistValueClick"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.prototype.onInit.call(this,e),this.picklistName=this.fieldModel.get("picklistName"),this.isPicklistFieldActive=this.fieldModel.get("sysActive"),this.collection=new d(null,{name:this.picklistName,onlyShowInactiveRecords:!e.readOnly||!this.isPicklistFieldActive})},rules:{isReadOnlyMode:function(){return this.readOnly}},onRendered:function(){var e=this,t=n.Deferred();return r.parallel([function(t){e.renderPropertiesForm(t)},function(t){e.renderGrid(t)}],(function(){return t.resolve()})),t.promise()},renderPropertiesForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.picklistPropertiesFormView=new s({model:this.fieldModel,layoutModelId:this.model.get("id"),layoutTreeCollection:this.layoutTreeCollection,getPicklistTypeFilter:this.getPicklistTypeFilter,readOnly:this.readOnly}),this.addSubView(this.picklistPropertiesFormView).render(".picklist-properties-form-container").done(e)},renderGrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.gridView=new l({configName:"field-config-listitems",condensedLayout:!0,collection:this.collection,fetchOnRender:!0,enableEntityFilters:!1,enableSearchFilter:!1,enableDataFilters:!1,buttons:[],alwaysOnFilters:this.getPicklistTypeFilter(),filters:[],pluginsOptions:[{hover:!1,enableDynamicColumns:!1,enableBatchDelete:!1,linearBatch:!1,multiSelect:!1,customColumnOptions:[{field:"rank",caption:u.translateKey("hash")},{field:"parents",caption:u.translateKey("parent_picklist")},{field:"value",caption:u.translateKey("value")}]}]}),this.addSubView(this.gridView).render(this.$(".picklist-grid-container")).done(e)},onAddPicklistValueClick:function(){n('a[data-id="value"]').click()},getPicklistTypeFilter:function(){return c.get({base:"sys",name:"listItem"}).query().is("name",this.picklistName).toQuery()}})},310375:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(874423),i(21699),i(533110),i(428706),i(962010),i(944114),i(426099),i(423500),i(250113);var o=i(274692),s=i(96190),l=i(402193),d=i(858612),c=i(635452),u=i(93216),p=i(344427),f=i(896727),h=i(493793),m=i(40785),g=i(897132),y=i(809375);e.exports=c.extend({navigateUrl:null,crumbs:null,template:i(117631),features:{dirtyFormHandling:!0},onInit:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0];this.validationTooltipOpts={placement:"bottom",trigger:"hover focus"},this.picklistType=n.picklistType,c.prototype.onInit.apply(this,t),this._picklistData&&this.model.set(this._picklistData),this.fieldOptions={labelOnTop:!0,labelWidth:"col-sm-12",width:"col-sm-12",componentWidth:"col-sm-12",sysActive:!1},this.fieldModel=n.fieldModel,this.parents=this.getPicklistParents(),this.parentCaptions=[],this.maxBatchValueItems=n.maxItems,this.isAddDisabled=!1,this.formIsReadOnlyMode=n.formIsReadOnlyMode,this.isDataFormField=n.isDataFormField,this.isDataFormField&&(this.picklistType.external=this.fieldModel.get("showOnPortal")),this.overridePicklistUpdate=!0;var a=d({mandatory$:this.parents?this.parents:[],dependentMandatory$:[{condition:"isLanguageListItem",fields:["reportingLanguage"]},{fields:["batchValues"],condition:"isBatchSave"},{fields:["value"],condition:"!isBatchSave"}],dependentPattern$:[{fields:["value"],pattern:"^^[a-zA-Z0-9-_ ]*$",code:"languagePattern$",allowNull:!0,condition:"isLanguageListItem"}]},$appData.validation.prefs);this.model.validator=a},rules:{isExternalConfig:function(){return this.picklistType.external},isDataFormField:function(){return!0===this.isDataFormField},isNew:function(){return!0===this.model.isNew()},isEdit:function(){return!1===this.model.isNew()},isReadOnlyMode:function(){return this.formIsReadOnlyMode},lockedPicklist:function(){var e=this.picklistConfig[this.model.get("name")];return!!e&&!0===e.locked},lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canSave:function(){return this.model.isNew()?u.hasRole("create_picklist_item"):u.hasRole("edit_picklist_item")}},events:{"click #add":"onSaveClickThrottled","click #save-value":"onSaveClickThrottled","click #delete-value":"onDeleteClick","loaded .parent-selector":"onParentSelectorLoaded","keydown #rank":"onRankKeyDown","keyup #value":"onValueKeyUp","change #value":"onValueChange","change #rank":"onRankChange","change #external":"onExternalChange"},onRendered:function(){this.$("#external")&&this.rules.isDataFormField.call(this)&&this.$("#external").prop("checked",!0);for(var e=o.Deferred(),t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return c.prototype.onRendered.apply(this,i),this.renderBatchValues().done((function(){return e.resolve()})),e.promise()},renderBatchValues:function(){var e=o.Deferred(),t=this.model.getEntityDefinition();return this.batchValues=new g({model:this.model,fieldDef:{name:"batchValues",type:"textbox[]",caption:m.translateKey("value"),field:"batchValues",typeOptions:{maxItems:100,itemMaxLength:255,maxHeight:250,splitOnEOL:!0,displayMaxTooltip:!0}},fields:t.fields(),field:"batchValues",escape:s.get(y,["textbox[]","escape"]),caption:m.translateKey("value")}),this.batchValues.render(this.$(".batch-values"),(function(){return e.resolve()})),e.promise()},onBindEvents:function(){this.model.on("change:value",this.onModelValueChange,this),this.model.on("change:rank",this.onModelRankChange,this),this.model.on("change:external",this.onModelExternalChange,this),c.prototype.onBindEvents.call(this)},onUnbindEvents:function(){this.model.off("change:value",this.onModelValueChange,this),this.model.off("change:rank",this.onModelRankChange,this),this.model.off("change:external",this.onModelExternalChange,this),c.prototype.onBindEvents.call(this)},onModelValueChange:function(){this.updateInputValue("value","#value"),c.prototype.clearErrors.apply(this)},onModelRankChange:function(){var e=this.model.get("rank");s.isNumber(e)&&!s.isNaN(e)||(e=null),e!==this.$("#rank").val()&&this.$("#rank").val(e)},onModelExternalChange:function(){var e=this.model.get("external");e===this.$("#external").prop("checked")||this.rules.isDataFormField.call(this)||this.$("#external").prop("checked",e)},updateInputValue:function(e,t){var i=this.model.get(e);i!==this.$(t).val()&&this.$(t).val(i)},onCancelClick:function(){this.clearAndKeepName()},clearAndKeepName:function(){var e=this.model.get("picklistTypeId"),t=this.model.get("name");this.model.clear(),this.model.set("external",!1),this.model.set("name",t),this.model.set("picklistTypeId",e)},onDeleteClick:function(){var e=this,t=this.model.get("name");p.display(m.translateKey("delete_confirmation"),{type:"confirm",title:m.translateKey("delete_confirmation_title"),confirmText:m.translateKey("delete"),cancelText:m.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(i){i&&e.model.destroy({wait:!0,success:function(){var i=e.fieldModel.get("default");s.includes(i,e.model.get("value"))&&(s.isArray(i)?e.fieldModel.set("default",s.xor(i,[e.model.get("value")])):e.fieldModel.set("default",null)),h.clearPicklistCache(t),e.clearAndKeepName(),f.info(f.getCrudMessage(e.model,"deleted"))}})}})},onSaveClickThrottled:s.throttle((function(){var e=this.model.isNew(),t=this.model.get("name");h.clearPicklistCache(t),e?this.saveMultipleModels():this.saveSingleModel()})),saveMultipleModels:function(){var e=this,t=this,i=this.getRelatedData(),n=this._getParentValues();if(this.model.set("parents",n),!this.model.validate(this.model.attributes)){i=this._unsetRelatedData(i),this.model.set("relatedData",i);var a={commonData:r(r({},i),{},{parents:n,rank:this.model.get("rank"),external:this.model.get("external"),name:this.model.get("name"),picklistTypeId:this.model.get("picklistTypeId"),inactive:!0}),batchValues:this.model.get("batchValues")},s=l.create(this.$("#add")[0]).start();o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/list_item_batch"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a)}).done((function(i){var n=m.translateKey({groupName:"sys/listItem",subgroupName:"actions",key:"batch_created"},{context:{numberItems:i.length}});f.info(n),t.model.trigger("saved"),t.clearAndKeepName(),s.stop(),e.$("#add").prop("disabled",e.isAddDisabled)})).fail((function(e){"picklist_limit_exceeded"===e.responseJSON.value&&(t.clearAndKeepName(),t.model.trigger("saved")),s.stop()}))}},saveSingleModel:function(){var e=this,t=this.getRelatedData();this.model.set("parents",this._getParentValues()),this.model.validate(this.model.attributes)||(t=this._unsetRelatedData(t),this.model.set("relatedData",t),this.model.set("inactive",!0),this.model.save(null,{success:function(t){f.info(f.getCrudMessage(e.model,"updated",{includeLink:!1})),e.clearAndKeepName()},validate:!1}))},getPicklistParents:function(){return this.picklistType.parents},locals:function(){return{entity:this.model.getEntityCanon(),model:this.model.attributes,picklistName:this.translatedPicklistName,picklistData:this.model.attributes,parents:this.parents,isExternal:this.picklistType.external,handle:this.handle,locked:this.picklistType.locked}},getParentFieldDef:function(e){var t,i,n,a;return o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/picklist_type/parents/").concat(e),method:"GET",async:!1,dataType:"json",contentType:"application/json",success:function(e){t=e.caption,n=e.id,i=e.name,a=e.parents}}),this.parentCaptions.push({caption:t,picklistTypeId:n,picklistName:i}),{caption:t,field:e,type:"picklist",editRule:"!isEdit",picklistName:i,picklistDependencies:a,typeOptions:{picklistTypeId:n},sysActive:!1}},getParentCaption:function(e){return e.caption},onValidated:function(e,t){var i=this,n="translations.picklist_type.caption",a=[];s.isEmpty(this.parentCaptions)||s.each(e,(function(e){if(e.parambulator){var t=e.parambulator.property;s.isArray(t)&&s.forEach(t,(function(e){var t=s.find(i.parentCaptions,(function(t){return t.picklistName===e}));if(t&&!s.has($appData,"".concat(n,".").concat(t.picklistName))){var r=t.picklistName,o=t.caption;s.set($appData,"".concat(n,".").concat(r),o),a.push(t)}}))}})),c.prototype.onValidated.call(this,e,t),s.isEmpty(a)||s.forEach(a,(function(e){var t=e.picklistName;s.unset($appData,"".concat(n,".").concat(t))}))},disableAdd:function(){var e=this.$("#add-tooltip-wrapper"),t=this.$("#add"),i=m.translateKey({groupName:"validation",subgroupName:"tooltip",key:"value_limit_reached"});this.isAddDisabled=!0,t.prop("disabled",this.isAddDisabled),e.tooltip({title:i,trigger:"hover",placement:"top"})},enableAdd:function(){var e=this.$("#add-tooltip-wrapper"),t=this.$("#add");this.isAddDisabled=!1,this.formIsReadOnlyMode||t.prop("disabled",this.isAddDisabled),e.tooltip("destroy")}})},74418:(e,t,i)=>{"use strict";i(998474),i(750195);var n=i(96190),a=i(325425),r=i(40785),o=i(939994);e.exports=a.extend({className:"picklist-value-limit-count-tmpl",template:i(336200),locals:function(){return{value:this.currentCount,percentage:this.percentage,indicator:this.indicator,subtitle:this.subtitle,title:this.getTitle()}},onInit:function(e){this.currentCount=e.currentCount||0,this.setValueLimitProperties()},onRendered:function(){this.$el.addClass("progress-".concat(this.indicator))},setValueLimitProperties:function(){var e=o.get("sys/listItem"),t=$appData.globalConfig.recordLimits[e.entityType],i=t.warning,n=t.limit;this.warning=i,this.limit=n,this.elementCountType=r.translateKey({groupName:"settings",subgroupName:"element-limit",key:"values"}),this.subtitle=r.translateKey({groupName:"settings",subgroupName:"element-limit",key:"picklist_value_count_subtext"},{context:{limit:this.limit}}),this.updateValueLimitProperties()},updateValueLimitProperties:function(){this.indicator=this.getElementLimitIndicator(),this.percentage=n.round(this.currentCount/this.limit*100,2)},getTitle:function(){return r.sanitizeHtml(r.translateKey({groupName:"settings",subgroupName:"element-limit",key:"element_limit_content"},{context:{currentCount:this.currentCount,elementLimit:this.limit,elementCountType:this.elementCountType}}))},updatePicklistCount:function(e){this.currentCount=e,this.$el.removeClass("progress-".concat(this.indicator)),this.updateValueLimitProperties(),this.render()},getElementLimitIndicator:function(){return this.currentCount>=this.limit?"danger":this.currentCount>=this.warning?"warning":"default"}})},570939:(e,t,i)=>{"use strict";i(16280),i(327495),i(725440),i(428706);var n=i(274692),a=i(96190),r=i(122268),o=i(325425),s=i(879176),l=i(277137),d=i(993816),c=i(310375),u=i(74418),p=i(897132),f=i(939994),h=i(40785),m=f.get({base:"sys",name:"listItem"});e.exports=o.extend({template:i(90619),className:"picklist-values-tmpl",onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.fieldModel)throw new Error("fieldModel is required");if(this.fieldModel=e.fieldModel,this.fieldType=this.fieldModel.get("type"),!this.fieldType)throw new Error("fieldType is required");var t=this.fieldModel.get("typeOptions");this._picklistName=this.fieldModel.get("picklistName"),this._picklistTypeId=t.picklistTypeId,this.isPicklistFieldActive=this.fieldModel.get("sysActive"),this.collection=new l(null,{name:this._picklistName,picklistTypeId:this._picklistTypeId,onlyShowInactiveRecords:!e.readOnly||!this.isPicklistFieldActive}),this.picklistModel=new d({name:this._picklistName,picklistTypeId:this._picklistTypeId}),this.recordCount=0,this.maxLimit=this.getMaxValueLimit(),this.formIsReadOnlyMode=e.readOnly,this.isDataForm=e.isDataForm},onRenderedBindEvents:function(){this.picklistModel.on("saved",this.onSavePicklistModel,this),this.picklistModel.on("destroy",this.onDestroyPicklistModel,this)},onUnbindEvents:function(){this.picklistModel.off("saved",this.onSavePicklistModel,this),this.picklistModel.off("destroy",this.onDestroyPicklistModel,this)},onRendered:function(){var e=this,t=n.Deferred();return r.series([function(i){r.parallel([function(t){return e.getPicklistTypeDef(t)},function(t){return e.getPicklistItemsCount(t)},function(t){return e.renderBatchValues().done(t)}],(function(e){return e?t.reject():i()}))},function(t){return e.renderPicklistValueLimitCountView().done(t)},function(t){return e.renderGrid().done(t)},function(t){return e.renderForm().done(t)}],(function(i){if(i)return t.reject();e.checkMaxValueLimit(),e.onRenderedBindEvents(),t.resolve()})),t.promise()},renderPicklistValueLimitCountView:function(){var e=n.Deferred();return this.picklistValueLimitCountView=new u({currentCount:this.recordCount}),this.addSubView(this.picklistValueLimitCountView).render(this.$(".picklist-value-limit-container")).done((function(){return e.resolve()})),e.promise()},renderBatchValues:function(){var e=n.Deferred(),t=this.picklistModel.getEntityDefinition();return this.batchValues=new p({model:this.picklistModel,fieldDef:{name:"batchValues",caption:"Batch Values",type:"textbox[]"},fields:t.fields(),field:"batchValues"}),this.batchValues.render(this.$(".batch-values"),(function(){return e.resolve()})),e.promise()},renderForm:function(){var e=this,t=n.Deferred();return this.formIsReadOnlyMode?t.resolve():(this.formView=new c({model:this.picklistModel,picklistType:this.picklistType,fieldModel:this.fieldModel,formIsReadOnlyMode:this.formIsReadOnlyMode,isDataFormField:this.isDataForm}),this.addSubView(this.formView).render(this.$(".itemlist-form-container")).done((function(){return e.batchValues=e.formView.batchValues,t.resolve()})),t.promise())},renderGrid:function(){var e=n.Deferred();return this.gridView=new s({configName:"field-config-listitems",condensedLayout:!0,collection:this.collection,fetchOnRender:!0,enableEntityFilters:!1,enableSearchFilter:!1,enableDataFilters:!1,buttons:[],alwaysOnFilters:this.getPicklistTypeFilter(),filters:[],pluginsOptions:[{enableDynamicColumns:!1,enableBatchDelete:!1,linearBatch:!1,multiSelect:!1,onRowClicked:this.onPicklistValueClick.bind(this),customColumnOptions:[{field:"rank",caption:h.translateKey("hash")},{field:"parents",caption:h.translateKey("parent_picklist")},{field:"value",caption:h.translateKey("value")}]}]}),this.addSubView(this.gridView).render(this.$(".picklist-grid-container")).done((function(){return e.resolve()})),e.promise()},onPicklistValueClick:function(e){if(this.canRemove()){var t=e.get("parents"),i={};a.isArray(t)&&a.each(this.picklistParents,(function(e,n){i[e]=t[n]})),this.picklistModel.clear({silent:!0}),this.picklistModel.set(a.extend(e.attributes,i))}},checkMaxValueLimit:function(){var e=this.maxLimit-this.recordCount;e<100&&this.batchValues&&this.batchValues.updateMaxItems(e),this.formView&&(e<=0?this.formView.disableAdd():this.formView.enableAdd())},getMaxValueLimit:function(){var e=f.get("sys/listItem");return $appData.globalConfig.recordLimits[e.entityType].limit},getPicklistTypeFilter:function(){return m.query().is("picklistTypeId",this._picklistTypeId).toQuery()},getPicklistItemsCount:function(e){var t=this,i=a.replace(this.picklistType.parentEntityCanon,"/","_");return n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/picklist_type/count/").concat(i),method:"GET",async:!1,dataType:"json",contentType:"application/json",data:{includeInactive:!0},success:function(i){t.recordCount=i,t.checkMaxValueLimit(),e()}})},onSavePicklistModel:function(){this.gridView.fetchCollection(),this.updatePicklistCount()},onDestroyPicklistModel:function(){this.gridView.getSelectedPlugin().updateSelection(this.picklistModel,!1),this.gridView.onQueryChange(),this.updatePicklistCount()},updatePicklistCount:function(){var e=this;this.getPicklistItemsCount((function(){e.picklistValueLimitCountView.updatePicklistCount(e.recordCount)}))},getPicklistTypeDef:function(e){var t=this,i="".concat($appData.globalConfig.apiRoot,"/picklist_type/").concat(this._picklistTypeId)+(this.isPicklistFieldActive&&this.formIsReadOnlyMode?"":"?inactive=true");return n.ajax({url:i,method:"GET",async:!1,dataType:"json",contentType:"application/json",success:function(i){t.picklistType=i,t.picklistParents=i.parents,e()}})}})},390665:(e,t,i)=>{"use strict";var n=i(386859),a=i(633514);e.exports=n.extend({Component:a.extend({fetchPicklistData:function(e){return e(null,[])},_refreshModelAttribute:function(){},_addValueIfMissing:function(e){return e}})})},580921:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(633514)})},728129:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(938781),i(428706);var n=i(96190),a=i(447578),r=i(955505);e.exports=a.extend(r,{name:"picklist",caption:"Picklist",description:"A dropdown list of values where only one value can be selected.",includeInFormBuilder:!0,includeInSSOValueMap:!0,es:{sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}},ui:{component:function(){return i(633514)},formComponent:function(){return i(580921)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(288887)}},dragComponent:function(){return i(390665)},gridConfiguration:{dataFilterComponent:function(){return i(317167)},dataFilterOperators:{is_any:{getCaption:function(e){return"isany"},getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},createForm:"base-properties-form",propertiesForm:"picklist-properties-form",configurationTabs:function(){return i(671636)},icon:"fa-minus",gridFilterUniqueIdentifiers:["picklistName","typeOptions.picklistName"]},escape:n.escape,format:function(e,t){var i,r;if(null==e||""===e)return"";if(n.isNumber(e))return e;var o=e.toString()||"",s=(null===(i=t.fieldDef)||void 0===i?void 0:i.picklistName)||(null===(r=t.fieldDef)||void 0===r||null===(r=r.typeOptions)||void 0===r?void 0:r.picklistName)||"";return t.translateKey({groupName:"picklist",subgroupName:s,key:a.picklistTranslationKeyFromValue(e)},{missingTranslationValue:o})||""},aggregationMethods:function(e){var t=["mostCommon","expression","mostRecent","first"];return e?t.concat([]):t}})},317167:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(428706),i(962062),i(202008),i(426099);var a=i(96190),r=i(40785),o=i(810489),s=i(689708),l=i(315481);e.exports=o.extend({FilterOptionsMenuView:i(174989),className:"picklist-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!0,sortList:!1,showClearAllBtn:!0,allowNoOptionsSelected:!0,searchPlaceholder:r.translateKey({groupName:"placeholders",key:"search_picklist"})},onInit:function(){var e,t,i;this.fieldDef=this.getFieldDef(),this.picklistName=this.fieldDef.picklistName||(null===(e=this.fieldDef.typeOptions)||void 0===e?void 0:e.picklistName),this.picklistConfig=null!==(t=r.getPicklistsConfig()[this.picklistName])&&void 0!==t?t:{},this.picklistTypeId=null!==(i=this.fieldDef.typeOptions.picklistTypeId)&&void 0!==i?i:this.picklistConfig.id,this.valueAttribute=this.picklistConfig.value||"value",this.textAttribute=this.picklistConfig.text||null,this.filterOptionName="is_any"},getSelectedFilterValues:function(e){return e[0].fieldValues},mapPicklistOptionsToFilterOptions:function(e){var t,i=this,r=a.uniqBy(e,this.valueAttribute);return[this.getNoValueOption()].concat(function(e){if(Array.isArray(e))return n(e)}(t=a.map(r,(function(e){return{caption:e.translation,value:e[i.valueAttribute]}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},getNoValueOption:function(){return{caption:r.translateKey("empty"),value:""}},getPicklistTranslation:function(e){var t=this.textAttribute,i=void 0===t?null:t,n=this.valueAttribute,a=this.model;return s.getDefaultPicklistTranslation({row:e,textAttribute:i,valueAttribute:n,picklistName:this.picklistName,model:a})},fetchPicklistData:function(e){var t=this;return s.fetchPicklistData({fieldDef:this.fieldDef,picklistTypeId:this.picklistTypeId,picklistConfig:this.picklistConfig,model:this.model,translationFn:this.getPicklistTranslation.bind(this)},(function(i,n){var a;if(i)return e(i);var r=null===(a=t.fieldDef.typeOptions)||void 0===a?void 0:a.filter,o=l[r];return r&&o&&(n=o(n,t.model,t.picklistConfig)),e(null,t.mapPicklistOptionsToFilterOptions(n))}))},getAllFilterOptions:function(e){var t=this;this.fetchPicklistData((function(i,n){return i?e(i):e(null,t.addMissingFilterOptions(n))}))},getMissingFilterCaption:function(e){var t=r.translateKey({groupName:"errors",subgroupName:"general",key:"unknown_value"});return"".concat(t," (").concat(e,")")},getSelectedFilterOptions:function(){var e=this,t=this.model.getUniqueFilterData()[0];return a.map(t.fieldValues,(function(t){return t||e.getNoValueOption().value}))}})},288887:(e,t,i)=>{"use strict";var n=i(633514);e.exports=n.extend({ignoreParents:!0})},689708:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(327495),i(725440),i(428706),i(962062),i(426099),i(938781),i(16280),i(202008),i(944114);var o=i(274692),s=i(96190),l=i(122268),d=i(40785),c={fetchQueue:l.queue((function(e,t){var i={};-1!==e.indexOf("?")&&(i=d.queryParams(e.substring(e.indexOf("?")))),c.fetchInBatches({url:e.replace(/\?.+/g,""),qParams:i,skip$:0,limit$:1e3},t)}),3),fetchInBatches:function(e,t){var i=s.assign({},e.qParams,s.pick(e,["skip$","limit$"])),n="".concat(e.url,"?").concat(decodeURIComponent(o.param(i)));o.get(n,(function(n){var a=(e.concat||[]).concat(n);n.length<i.limit$?t(null,a):c.fetchInBatches({url:e.url,concat:a,qParams:e.qParams,skip$:i.skip$+i.limit$,limit$:i.limit$},t)}))},setupCache:function(e){var t=e.rows,i=e.sysActive,n=e.picklistTypeId,a=e.locked;!1!==i&&($appData.picklists.data[n]=t,!0!==a&&setTimeout((function(){delete $appData.picklists.data[n]}),$appData.globalConfig.defaultPicklistTtl))},translateRows:function(e,t){return s.map(e,(function(e){var i=s.cloneDeep(e);return i.translation=t(i),i}))},sortRows:function(e){var t=s.sortBy(e,(function(e){return s(e.translation).toString().toLowerCase()}));return s.sortBy(t,(function(e){return e.rank}))},populateUrlTemplate:function(e,t){return e?s.template(t,{interpolate:/{([\s\S]+?)}/g})(s.defaults(e.attributes,{entity:e.entity})):t},sortAndTranslateRows:function(e,t){var i=this.translateRows(e,t);return this.sortRows(i)},fetchPicklistData:function(e,t){var i=this,n=e.fieldDef,a=e.picklistTypeId,r=e.dataField,o=e.model,l=e.picklistConfig,c=e.translationFn;if(!a)return t(new Error("must provide picklistTypeId"));var u,p=s.get(n,"typeOptions.onlyShowInactiveRecords"),f=n.sysActive;if($appData.picklists.data[a]&&!p&&!1!==f){var h=s.filter($appData.picklists.data[a],(function(e){return d.hasEnabledFeature(e)}));return t(null,this.sortAndTranslateRows(h,c))}if(r){var m=o.get(r);m&&!s.isArray(m)&&(m=[m]);var g=s.map(m,(function(e){return{value:e}}));return t(null,this.sortAndTranslateRows(g,c))}if(l.url)u=this.populateUrlTemplate(o,l.url),u=$appData.globalConfig.apiRoot+u;else{var y="";!1!==f&&!p||!l.dynamic&&!s.isUndefined(l.dynamic)||(y="&onlyShowInactiveRecords=true"),u="".concat($appData.globalConfig.apiRoot,"/list?picklistTypeId=").concat(a).concat(y)}return this.fetchQueue.push(u,(function(e,r){if(e)return t(e);var o=s.cloneDeep(r);return!1!==s.get(n,"typeOptions.cachePicklist")&&!1!==l.cache&&i.setupCache({rows:o,sysActive:f,picklistTypeId:a,locked:l.locked}),o=s.filter(o,(function(e){return d.hasEnabledFeature(e)})),t(null,i.sortAndTranslateRows(o,c))}))},getDefaultPicklistTranslation:function(e){var t=e.textAttribute,i=void 0===t?null:t,n=e.valueAttribute,a=e.picklistName,o=e.model,s=e.row,l=d.picklistTranslationKey({name:a,value:s[n]});return d.translateKey(l,{missingTranslationValue:s[i]||s[n],context:r({},o.attributes)})}};e.exports=c},728660:(e,t,i)=>{"use strict";var n=i(96190),a=i(274692),r=i(259046),o=i(428064),s=i(358253);e.exports=o.extend({field:null,placeholder:null,$element:null,template:i(131184),className:"postal-code-component-tmpl",locals:function(){var e=this._getTypeOptions();return{field:this.field,value:this.model.get(this.field),placeholder:e.placeholder,ariaLabel:this.fieldDef.ariaLabel}},events:{"change input":"onValueChange"},onValueChange:function(e){var t=a(e.currentTarget).val(),i=this.model.get(this.field);n.isEmpty(t)&&(t=null),t!==i&&(this.model.set(this.field,t),o.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this.model.get(this.field);this.$element.val(e)},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),new r(this._getMaskOptions()).mask(this.$element[0]),this.model.on("change:".concat(this.field),this.onModelChange,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},_getTypeOptions:function(){var e=this.fieldDef.typeOptions||{},t=e.postalCodeCountry||$appData.globalConfig.defaultPostalCodeProfile,i=s[t]||{};return n.defaults({},e,i)},_getMaskOptions:function(){var e=this._getTypeOptions();return{casing:e.casing,regex:e.regex}}})},177279:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(728660)})},662083:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(728660)})},772491:(e,t,i)=>{"use strict";var n=i(447578),a=i(955505);e.exports=n.extend(a,{name:"postalCode",caption:"Postal Code",description:"A text field with validation to ensure postal code formatting.",includeInFormBuilder:!0,ui:{component:function(){return i(728660)},formComponent:function(){return i(662083)},searchComponent:function(){return i(728660)},dragComponent:function(){return i(177279)},configurationTabs:function(){return i(101786)},createForm:"postal-code-properties-form",propertiesForm:"postal-code-properties-form",icon:"fa-map-marker"}})},358253:e=>{"use strict";e.exports={CANADA:{regex:"^[A-Za-z]\\d[A-Za-z] \\d[A-Za-z]\\d$",casing:"upper",placeholder:"A1A 1A1"},UNITED_STATES:{regex:"^\\d{5}(?:[-\\s]\\d{4})?$",placeholder:"12345"}}},247987:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(656409);e.exports=a.extend(r,{name:"primaryParty",caption:"Primary Party",db:{foreign:"sys_party",defaultJoinAttribute:"partyName",join:["partyName"]},ui:{searchComponent:function(e){var t=i(809375);switch(e){case"is_empty":case"is_not_empty":return null;default:return t.textbox.ui.searchComponent()}}},es:{esReverseJoinPriority:"high",mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(830042),escape:function(e){return n.escape(e)},format:function(e,t){if(!e)return null;var i=t.fieldDef.field;return t.data["".concat(i,"__partyName")]||null}})},830042:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953);var r=i(96190),o=r.extend,s=r.lowerCase,l=i(656409),d=i(955505).getOperators("es"),c=i(703114).es,u=i(18063);e.exports={es:o({},l.getOperators("es"),{contains:d.contains,contains_partial:c.containsPartialFormatted,does_not_contain:d.does_not_contain,contains_exact_words:d.contains_exact_words,does_not_contain_exact_words:d.does_not_contain_exact_words,is:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return u.must({term:a({},t,s(e.value))})}},is_not:{conditionOperator:!0,getFieldName:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")},getQuery:function(e){var t=this.getFieldName(e);return u.mustNot({term:a({},t,s(e.value))})}}}),obj:o({},l.getOperators("obj"),{is:{getFieldName:function(e){return"".concat(e.field,"__formatted")},getFunc:function(e){var t=this.getFieldName(e);return function(i){return s(i[t])===s(e.value)}}},is_not:{getFieldName:function(e){return"".concat(e.field,"__formatted")},getFunc:function(e){var t=this.getFieldName(e);return function(i){return s(i[t])!==s(e.value)}}}}),db:l.getOperators("db")}},416734:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(656409);e.exports=a.extend(r,{name:"primary",caption:"Primary Key",db:{type:function(e,t){var i=n.snakeCase(t.field);return e.string(i,36).primary().notNullable()}},es:{mapping:{type:"keyword",fields:{_exact:{type:"keyword"}}}}})},860212:(e,t,i)=>{"use strict";i(428706),i(426099),i(423500),i(962062),i(202008),i(250113),i(311927),i(203754);var n=i(96190),a=i(274692),r=i(40785),o=r.getPicklistsConfig(),s=i(428064),l=i(633514),d=i(315481);e.exports=l.extend({field:null,typeOptions:null,orientation:"vertical",template:i(177424),className:"radio-component-tmpl",onInit:function(){this.picklistName=n.get(this,"fieldDef.picklistName"),this.typeOptions=n.get(this,"fieldDef.typeOptions",{}),this.options=n.get(this,"fieldDef.typeOptions.options"),this.picklistConfig=o[this.picklistName]||{},this.picklistTypeId=n.get(this,"fieldDef.typeOptions.picklistTypeId",this.picklistConfig.id),this.refreshOnFields=this.fieldDef.refreshOnFields,this.picklistConfig.value&&(this.valueAttribute=this.picklistConfig.value),this.picklistConfig.text&&(this.textAttribute=this.picklistConfig.text),this.viewId||(this.viewId=this.cid),this.subTextAttr=this.picklistConfig.subText},locals:function(){return{field:this.field}},events:{'change input[type="radio"]':"onEditibleValueChange"},onEditibleValueChange:function(){var e=this.model.get(this.field),t=this.$("#".concat(this.field,"-").concat(this.viewId,' input[type="radio"]:checked')).val();if(n.isEmpty(t)&&(t=null),t!==e){this.model.set(this.field,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];s.prototype.onEditableValueChange.apply(this,a)}},onModelChange:function(){var e=this.model.get(this.field);this.$('input[type="radio"]').prop("checked",!1),this.$('input[type="radio"][value="'.concat(e,'"]')).prop("checked",!0)},onRendered:function(e){var t=this;this.$spinner=this.$("img.spinner"),this.$element=this.$('div[id="'.concat(this.field,"-").concat(this.viewId,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this.dependencyAttributes=n.get(this,"fieldDef.picklistDependencies")||[],this.onDependencyAttributeChange=function(){t.refreshPicklistValues()},n.forEach(this.dependencyAttributes,(function(e){t.model.on("change:".concat(e),t.onDependencyAttributeChange,t)})),this.onRefreshOnFieldsChange=function(){t.refreshPicklistValues()},this.refreshOnFields&&n.each(this.refreshOnFields,(function(e){t.model.on("change:".concat(e),t.onRefreshOnFieldsChange,t)})),this.typeOptions.fillRemainingSpace&&this.$el.addClass("fill-remaining-space"),this.refreshPicklistValues(null,(function(){return e()}))},onRemove:function(){var e=this;this.model.off("change:".concat(this.field),this.onModelChange,this),n.forEach(this.dependencyAttributes,(function(t){e.model.off("change:".concat(t),e.onDependencyAttributeChange,e)})),this.refreshOnFields&&n.each(this.refreshOnFields,(function(t){e.model.off("change:".concat(t),e.onRefreshOnFieldsChange,e)}))},getOptions:function(e){var t=this;if(this.options&&!n.isEmpty(this.options))return e(null,n.map(this.options,(function(e){return{translation:t.getOptionTranslation(e),value:e}})));this.fetchPicklistData(e)},getOptionTranslation:function(e){var t={groupName:this.model.getEntityCanon(),subgroupName:"".concat(this.field,"-options"),key:e};return r.translateKey(t,{missingTranslationValue:e})},refreshPicklistValues:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop;this._markFieldAsLoading(),this.getOptions((function(e,a){var r;if(e)return i(e);var o=n.cloneDeep(a),s=null!==(r=t.picklistConfig.filter)&&void 0!==r?r:t.typeOptions.filter;!0!==t.ignoreParents&&(o=t.filterDependencies(o)),o=t._removeHiddenItems(o),s&&d[s]&&(o=d[s](o,t.model,t.picklistConfig)),o=t._addValueIfMissing(o,a),o=n.uniq(o),t._refreshModelAttribute(o);var l=t.$element.find("fieldset").is(":disabled");return t._clearPicklistValues(),t._addRows(o),t.$element.data("data",o),t._selectValue(),t._markFieldAsLoaded(),l&&t.$element.find("fieldset").attr("disabled","disabled"),i()}))},_selectValue:function(){this.onModelChange()},_addRows:function(e){var t=this,i=a("<div></div>"),r=n.get(this,"fieldDef.orientation")||this.orientation,o=n.some(e,this._getSubText.bind(this));n.each(e,(function(e){var s=t.getValue(e),l=t.model.get(t.field)===s,d=t._getSubText(e),c=a(["<div>",'\t<label class="radio-inline '.concat(o&&"vertical"!==r?"subtext":"",'">'),'\t\t<input type="radio" role="radio" name="'.concat(n.escape(t.field),'" value="').concat(n.escape(s),'"'),"\t\t".concat(l?'checked="checked"':"","/>"),"\t\t".concat(n.escape(e.translation)),"".concat(d?'<span class="highlight-sub-search-block">'.concat(n.escape(d),"</span>"):""),"\t</label>","</div>"].join(""));"vertical"===r&&c.append("<br/>"),i.append(c.html())}));var s=n.get(this,"fieldDef.caption",this.field);this.$element.append('<fieldset role="radiogroup" aria-label="'.concat(s,'">').concat(i.html(),"</fieldset>"))},_getSubText:function(e){var t=n.get(e,this.subTextAttr);return n.isObject(t)?r.escapedTranslateKey(t):t}})},569567:(e,t,i)=>{"use strict";var n=i(386859),a=i(860212);e.exports=n.extend({Component:a.extend({fetchPicklistData:function(e){return e(null,[])},_refreshModelAttribute:function(){},_addValueIfMissing:function(e){return e}})})},698787:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(860212)})},455595:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(938781);var n=i(96190),a=i(447578),r=i(955505),o=i(800030);e.exports=a.extend(r,{name:"radio",caption:"Radio",includeInFormBuilder:!0,includeInSSOValueMap:!0,description:"Used to reference a list of options where only one option can be selected.",ui:{component:function(){return i(860212)},formComponent:function(){return i(698787)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(860212)}},dragComponent:function(){return i(569567)},gridConfiguration:{dataFilterComponent:function(){return i(189591)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},gridFilterUniqueIdentifiers:["picklistName","typeOptions.picklistName","options","typeOptions.options"],createForm:"radio-properties-form",propertiesForm:"radio-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-circle-o"},escape:function(e){return n.escape(e)},format:function(e,t){var i;if(null==e||""===e)return"";if(n.isNumber(e))return e;var r=e.toString()||"",s=n.get(t,"fieldDef.picklistName",""),l=null!==(i=o.getEntityCanon(n.get(t,"data.entity$")))&&void 0!==i?i:n.get(t,"fieldDef.entityName"),d=n.get(t,"fieldDef.field",""),c=s?"picklist":l,u=s||"".concat(d,"-options"),p=a.picklistTranslationKeyFromValue(e);return t.translateKey({groupName:c,subgroupName:u,key:p},{missingTranslationValue:r})||""}})},189591:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(962010),i(327495),i(690906),i(426099),i(938781),i(962062),i(428706),i(16280);var a=i(96190),r=i(317167);e.exports=r.extend({className:"radio-grid-data-filter-component-tmpl",onInit:function(){var e;r.prototype.onInit.call(this),this.options=this.fieldDef.options||(null===(e=this.fieldDef.typeOptions)||void 0===e?void 0:e.options)},sortRows:function(e){return a.sortBy(e,(function(e){return a(e.caption).toString().toLowerCase()}))},mapOptionsToSelectItemsOptions:function(){var e,t=a.map(this.options,(function(e){return{caption:e,value:e}}));return[this.getNoValueOption()].concat(function(e){if(Array.isArray(e))return n(e)}(e=this.sortRows(t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},getAllFilterOptions:function(e){var t=this;if(this.options){var i=this.mapOptionsToSelectItemsOptions();return e(null,this.addMissingFilterOptions(i))}return this.picklistName?this.fetchPicklistData((function(i,n){return i?e(i):e(null,t.addMissingFilterOptions(n))})):e(new Error("No options found for ".concat(this.fieldDef.field)))}})},818004:(e,t,i)=>{"use strict";var n=i(743780),a=i(670750),r=i(428064),o=i(720502).JSONToCSVConverter;e.exports=r.extend({template:i(349074),className:"script-component-tmpl",locals:function(){return{field:this.field,value:this.transformedValue,placeholder:this.placeholder,ariaLabel:this.fieldDef.ariaLabel}},onInit:function(){this.fieldValue=this.model.get(this.field)},renderCodeMirror:function(){if(!a(this.fieldValue)){this.converter=new o(this.model.get(this.field)),this.cmMode=this.converter.hasValidJSONScheme?"csv":"json",this.transformedValue=this.converter.hasValidJSONScheme?this.converter.convertToCSVString():this.converter.convertToJSONString();var e={mode:this.cmMode,lineNumbers:!0,lineWrapping:!1,lint:!0,autoRefresh:!0,autofocus:!0,readOnly:!0,screenReaderLabel:this.fieldDef.ariaLabel};this.cm=n.fromTextArea(this.$("textarea").get(0),e),this.cm.setValue(this.transformedValue)}},removeCodeMirror:function(){this.cm&&(this.cm.toTextArea(),this.cm=null)},onRendered:function(e){return this.renderCodeMirror(),e()},onRemove:function(){this.removeCodeMirror()}})},438915:(e,t,i)=>{"use strict";i(428706);var n=i(743780),a=i(670750),r=i(794503),o=i(720502).JSONToCSVConverter;e.exports=r.extend({template:i(172441),className:"form-group base-form-component-tmpl script-form-component-tmpl",Component:i(818004),onInit:function(){this.fieldValue=this.model.get(this.field)},renderCodeMirror:function(){if(!a(this.fieldValue)){this.converter=new o(this.fieldValue),this.cmMode=this.converter.hasValidJSONScheme?"csv":"json",this.transformedValue=this.converter.hasValidJSONScheme?this.converter.convertToCSVString():this.converter.convertToJSONString();var e={mode:this.cmMode,lineNumbers:!0,lineWrapping:!1,readOnly:!0,autoRefresh:!0,lint:!0};this.cm=n.fromTextArea(document.getElementById("".concat(this.field,"-").concat(this.cid,"-readonly")),e),this.cm.setValue(this.transformedValue)}},removeCodeMirror:function(){this.cm&&(this.cm.toTextArea(),this.cm=null)},onRendered:function(e){this.renderCodeMirror(),e()}})},430731:(e,t,i)=>{"use strict";var n=i(447578),a=i(421610);e.exports=n.extend(a,{name:"script",caption:"Script",db:{afterRead:function(e,t){return""===t?null:t}},ui:{component:function(){return i(818004)},formComponent:function(){return i(438915)},sizes:{medium:{width:"col-xs-12 col-sm-3",readOnlyWidth:"col-xs-12 col-sm-8 col-xl-7"}}}})},720502:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(879432),i(16280),i(426099),i(533110),i(45700),i(689572),i(752675),i(489463),i(102892);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parsedJSON=this.tryParseJSONString(t),this.hasValidJSONScheme=this.validateJSON(this.parsedJSON)}var t,i;return t=e,(i=[{key:"tryParseJSONString",value:function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(e){return Error("Could not parse JSON data")}}},{key:"validateJSON",value:function(e){return["header","row","fileName","rowLineNumber"].every((function(t){return Object.hasOwnProperty.call(e,t)}))}},{key:"appendOptionalProperties",value:function(e){var t="";return e.fileName&&(t+="filename|".concat(e.fileName,"\n")),e.rowLineNumber&&(t+="rownumber|".concat(e.rowLineNumber,"\n")),t}},{key:"convertToCSVString",value:function(){var e=this.parsedJSON,t=e.header,i=e.row,n="";return t&&(n+="".concat(t,"\n")),i&&(n+="".concat(i,"\n")),n+this.appendOptionalProperties(this.parsedJSON)}},{key:"convertToJSONString",value:function(){return JSON.stringify(this.parsedJSON)}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports={JSONToCSVConverter:r}},669751:(e,t,i)=>{"use strict";i(388439);var n=i(96190),a=i(974859),r=i(40785),o=i(990973);e.exports=a.extend({revealOnHoverAndFocus:!1,template:i(247623),className:"secret-component-tmpl",hideIcon:"fa-eye-slash",showIcon:"fa-eye",events:{"focus input":"onFocus","blur input":"onBlur","mouseover input":"onMouseOver","mouseout input":"onMouseOut","keyup input":"onKeyup","change input":"onEditibleValueChange","click .hide-show-btn":"onHideShowButtonClicked","keydown input":"onKeyDown","click .clear-btn":"onClearButtonClick"},hasWriteOnlyValue:function(){return this.writeOnly&&this.model.get(this.field)===$appData.globalConfig.writeOnlyFieldPlaceholder},rules:o,onInit:function(){var e;this.revealOnHoverAndFocus=n.get(this,"fieldDef.typeOptions.revealOnHoverAndFocus"),this.writeOnly=n.get(this,"fieldDef.typeOptions.writeOnly"),this.writeOnly&&(this.trailingButton={id:"".concat(this.field,"-clear-button"),ariaLabel:"clear",tooltip:"clear",icon:"fa fa-trash",buttonClass:"clear-btn"}),this.hideShowButton=n.get(this,"fieldDef.typeOptions.hideShowButton"),this.hideShowButton&&!this.trailingButton&&(this.trailingButton={id:"".concat(this.field,"-hide-show-button"),ariaLabel:"show",tooltip:"show",icon:"fa ".concat(this.showIcon),buttonClass:"hide-show-btn"}),this.isPassword=null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.isPassword;for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];a.prototype.onInit.apply(this,i)},locals:function(){var e=a.prototype.locals.call(this);return n.extend({},e,{trailingButton:this.trailingButton,isPassword:this.isPassword})},toggleShowHideIcon:function(e){var t=e.removeClass,i=e.addClass,n=e.translationKey,a=this.$(".hide-show-btn"),o=this.$(".hide-show-btn > i");a.attr("data-original-title",r.translateKey(n)),a.attr("aria-label",r.translateKey(n)),o.addClass(i),o.removeClass(t)},onHideShowButtonClicked:function(){if(this.hideShowButton){var e=this.$("input");e.toggleClass("masked-value"),e.hasClass("masked-value")?(this.isPassword&&(e[0].type="password"),this.toggleShowHideIcon({removeClass:this.hideIcon,addClass:this.showIcon,translationKey:"show"})):(this.isPassword&&(e[0].type="text"),this.toggleShowHideIcon({removeClass:this.showIcon,addClass:this.hideIcon,translationKey:"hide"}))}},onFocus:function(e){this.revealOnHoverAndFocus&&!this.hasWriteOnlyValue()&&this.$(e.target).removeClass("masked-value")},onBlur:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0];this.revealOnHoverAndFocus&&!this.hasWriteOnlyValue()&&this.$(n.target).addClass("masked-value"),a.prototype.onBlur.apply(this,t)},onMouseOver:function(e){this.revealOnHoverAndFocus&&!this.hasWriteOnlyValue()&&this.$(e.target).removeClass("masked-value")},onMouseOut:function(e){this.revealOnHoverAndFocus&&document.activeElement!==e.target&&!this.hasWriteOnlyValue()&&this.$(e.target).addClass("masked-value")},onKeyDown:function(e){this.hasWriteOnlyValue()&&e.preventDefault()},onClearButtonClick:function(){this.model.set(this.field,null)}})},99930:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(669751)})},75326:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(669751)})},107592:(e,t,i)=>{"use strict";i(42781);var n=i(96190),a=i(447578),r=i(704567),o=i(836385);e.exports=a.extend(r,{name:"secret",caption:"Secret",description:"A text field that uses password input to hide the value. The value appears when hovered over or focused on.",includeInFormBuilder:!0,gridSortable:!1,ui:{component:function(){return i(669751)},formComponent:function(){return i(75326)},searchComponent:function(){return null},dragComponent:function(){return i(99930)},configurationTabs:function(){return i(101786)},gridConfiguration:!1,createForm:"secret-properties-form",propertiesForm:"secret-properties-form",icon:"fa-user-secret"},es:{mapping:!1},format:function(e){return e?n.repeat("*",e.length):""},escape:function(e){return n.escape(e)},db:{type:function(e,t){var i=n.snakeCase(t.field);return n.get(t,"typeOptions.disableEncrypt",!0)?e.text(i):e.json(i)},beforeSave:function(e,t,i){var a,r;return t?t!==(null==i||null===(a=i.globalOptions)||void 0===a?void 0:a.writeOnlyFieldPlaceholder)||!0!==(null==i||null===(r=i.fieldDef)||void 0===r||null===(r=r.typeOptions)||void 0===r?void 0:r.writeOnly)?n.get(i,"fieldDef.typeOptions.disableEncrypt",!0)?t:o.encrypt(t):void 0:null},afterRead:function(e,t,i){var r;if(""===t)return null;if(!0===(null==i||null===(r=i.fieldDef)||void 0===r||null===(r=r.typeOptions)||void 0===r?void 0:r.writeOnly)&&!1!==(null==i?void 0:i.maskWriteOnlyFields))return t||null;if(n.get(i,"fieldDef.typeOptions.disableEncrypt",!0))return t;var s=a.parseJSON(e,t);if(n.isEmpty(s))return null;var l=s.encryptedText,d=s.iv,c=s.authTag;return o.decrypt(l,d,c)}},yellowfin:!1})},91174:(e,t,i)=>{"use strict";var n=i(96190),a=i(779031);e.exports=a.extend({getSelectizeOptions:function(){return{valueField:"caseNumber",labelField:"caseNumber",loadThrottle:"300",searchField:"caseNumber",sortField:"caseNumber",preload:!1,create:!1,plugins:["remove_button"],placeholder:n.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,load:this.loadFn.bind(this)}}})},494629:(e,t,i)=>{"use strict";var n=i(447578),a=i(858364);e.exports=n.extend(a,{name:"sequenceNumber",caption:"Sequence Number",includeInFormBuilder:!1,ui:{searchComponent:function(e,t){var n=t.entity;if("is"===e&&"sys/case"===n)return i(91174);var a=i(809375);switch(e){case"contains":case"does_not_contain":return a.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(458275)}}},es:{mapping:{type:"text",analyzer:"standard",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_sequenceNumber:{type:"text",analyzer:"sequence_number",search_analyzer:"search_sequence_number"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(771740)})},771740:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(858364),s=i(18063);e.exports={es:r.extend({},o.getOperators("es"),{contains:{getFieldName:function(e){var t=null==e?void 0:e.esBoost,i="".concat(e.field,"__formatted");return t&&r.isNumber(t)&&(i+="^".concat(t)),i},getQuery:function(e){var t=this.getFieldName(e),i=e.queryOptions||{},n=r.defaults({query:e.value},i);n.operator="and";var o=e.fieldDef.esBoost;return r.isNumber(o)&&!r.isNaN(o)&&(n.boost=o),s.must({match:a({},t,n)})}},does_not_contain:{getFieldName:function(e){return"".concat(e.field,"__formatted")},getQuery:function(e){var t=this.getFieldName(e);return s.mustNot({match:a({},t,{query:e.value,operator:"and"})})}},contains_exact_words:null,does_not_contain_exact_words:null}),obj:o.getOperators("obj"),db:o.getOperators("db")}},458275:(e,t,i)=>{"use strict";i(428706),i(533110),i(962062),i(879432),i(672890);var n=i(96190),a=i(274692),r=i(428064),o=i(939994),s=i(348174),l=i(40785),d=i(250809);e.exports=r.extend({field:null,selectize:null,searchCaption:null,template:i(223358),className:"sequence-number-component-tmpl",onInit:function(e){this.entityName=this.model.get("entityName"),this.field=e.field,this.searchCaption=l.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_item_number"}),this.labelField="childNumber",this.selectizeAttribute="".concat(this.field,"__").concat(this.labelField)},locals:function(){return{field:this.field,ariaLabel:n.get(this,"fieldDef.ariaLabel")||n.get(this,"fieldDef.caption",this.field)}},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],o=n.isEmpty(a)?null:a;if(o!==this.model.get(this.field)){var s=this.selectize.options[o]||{},l=this.model.pickJoinData({attribute:this.field,joinedEntityData:s});l[this.field]=o,this.model.set(l),r.prototype.onEditableValueChange.apply(this,t)}},onModelChange:function(){var e=this.model.get(this.field);if(!this.selectize.getOption(e)){var t={id:e};t[this.labelField]=this.model.get(this.selectizeAttribute),this.selectize.addOption(t)}this.selectize.setValue(e)},buildTypeahead:function(){var e=this.$element.selectize(this.getSelectizeOptions());this.selectize=e[0].selectize,this.selectize.clearOptions();var t=this.model.get(this.field);if(t){var i={id:t};if(i[this.labelField]=this.model.get(this.selectizeAttribute),!i[this.labelField])return;this.selectize.addOption(i),this.selectize.setValue(t)}},clearSelectize:function(){this.model.set(this.field,null),this.selectize.clearOptions()},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.buildTypeahead(),this.model.on("change:".concat(this.field),this.onModelChange,this),this.selectize.on("change",this.onSelectizeValueChange.bind(this)),e()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},loadFn:function(e,t){return e.length<1?t():a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/sys_").concat(this.entityName),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(this.buildQuery(e))}).done((function(e){var i=n.map(e.hits.hits,"_source");t(i)}))},getSelectizeOptions:function(){var e=this;return{valueField:e.labelField,labelField:e.labelField,loadThrottle:"300",searchField:e.labelField,sortField:e.labelField,preload:!1,create:!1,persist:!1,hideSelected:!0,placeholder:e.searchCaption,maxItems:1,load:e.apiSearchEnabled()?e.loadFn.bind(e):null,render:{option:function(t,i){var n=t[e.labelField];return"<div>".concat(i(n),"</div>")}}}},buildQuery:function(e){var t=o.get({base:"sys",name:this.entityName})||s.get({entityName:"sys/".concat(this.entityName)}),i=t.query("es"),a=i.and([d.getEntitiesAnyTermsMatchQuery({entities:t,searchText:e,applyDefaultFilters:!1}),i.is_empty("pendingPurgeDate"),i.is_empty("datePurged")]),r=n.get(this,"fieldDef.filter");n.isString(r)&&(r=JSON.parse(r));var l={search:{query:i=i.and([a,r]).toQuery(),size:20,from:0},showInactiveRecords:!1,highlightOperator$:"contains",lang:$appData.intakeTranslationLanguage};return this.fullQuery=l,l}})},131441:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953);var n=i(96190),a=i(447578),r=i(858364),o=i(656409),s=i(955505),l=i(955505).getOperators("es");e.exports=a.extend(r,{name:"state",caption:"State",includeInFormBuilder:!1,db:{foreign:"sys_state",defaultJoinAttribute:"name",join:["name","description","primaryState","default"]},format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return t.data["".concat(i,"__name")]},es:n.extend({},s.es,{sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}}),operators:{es:n.extend({},o.getOperators("es"),{contains:l.contains}),obj:o.getOperators("obj")},escape:function(e){return n.escape(e)},ui:{searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(84519)}},gridConfiguration:{dataFilterComponent:function(){return i(921027)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}}}})},84519:(e,t,i)=>{"use strict";i(533110),i(944114);var n=i(274692),a=i(96190),r=i(966788),o=i(219051);e.exports=r.extend({template:o,className:"workflow-state-component-tmpl",onInit:function(e){var t;r.prototype.onInit.call(this,e),this.workflowName=null===(t=e.fieldDef)||void 0===t?void 0:t.caption},loadFn:function(e,t){if(e.length<1)return t();n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_state"),{data:JSON.stringify(this.buildSearchQuery(e)),contentType:"application/json",type:"POST"}).done((function(e){var i=a.sortBy(e.hits.hits,"_score").reverse(),n=[];a.each(i,(function(e){e&&e._source&&!a.isEmpty(e._source)&&n.push(e._source)})),t(n)}))}})},921027:(e,t,i)=>{"use strict";var n=i(939994),a=i(523835);e.exports=a.extend({FilterOptionsMenuView:i(174989),className:"state-grid-data-filter-component-tmpl",onInit:function(){this.filterOptionName="is_any",this.entDef=n.get("sys/state"),this.fieldName=this.model.get("fieldName")},getFilters:function(){return{}}})},812371:(e,t,i)=>{"use strict";i(962062),i(962010),i(123792),i(426099),i(962953),i(428706),i(154554),i(250113),i(944114),i(16280),i(533110),i(672890);var n=i(274692),a=i(96190),r=i(40785),o=i(428064),s=i(939994),l=i(38745);e.exports=o.extend({field:null,selectize:null,searchCaption:r.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_team_multiple"}),template:i(826833),className:"team-multiple-component-tmpl",onInit:function(e){this.teamNameAttribute="".concat(e.field,"__name"),!0===a.get(this,"fieldDef.hideCurrent")&&(this.originalValue=this.model.get(this.field),this.model.set(this.field,null))},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeItemsChange:function(){var e=this.selectize.options,t=a.clone(this.selectize.items),i=this.model.get(this.field);if(a.isEmpty(t)&&(t=null),!a.isEqual(t,i)){var n={};n[this.field]=t,n[this.teamNameAttribute]=a.map(t,(function(t){return e[t].name})),this.model.set(n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];o.prototype.onEditableValueChange.apply(this,s)}},onModelChange:function(){var e=this,t=this.model.get(this.field);if(!a.isEqual(t,this.selectize.items)){var i=this.model.get(this.teamNameAttribute)||[],n=a.difference(t,a.keys(this.selectize.options));a.each(n,(function(n){var o=a.indexOf(t,n);e.selectize.addOption({id:n,name:i[o]||r.translateKey("missing_team_name")})})),this.selectize.setValue(t,!0)}},getSelectizeOptions:function(){return{valueField:"id",labelField:"name",searchField:["name"],preload:!1,create:!1,persist:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),sortField:"name",load:this.apiSearchEnabled()?this.loadFn.bind(this):null,render:{option:function(e,t){var i=e&&e.members&&e.members.length;return"".concat('<div id="'.concat(t(e.id),'" role="option" class="option">')+"<span>").concat(t(e.name),"</span>").concat(i?'<span class="highlight-sub-search-block">'.concat(i," member(s)</span>"):"","\n\t\t\t\t\t\t</div>")}}}},buildTypeahead:function(){var e=this,t=this.getSelectizeOptions(),i=this.$element.selectize(t);this.selectize=i[0].selectize,this.selectize.clearOptions();var n=this.model.get(this.field)||[],o=this.model.get(this.teamNameAttribute)||[];n.length>0&&(a.remove(o,(function(e,t){return!e&&(n.splice(t,1),!0)})),a.each(n,(function(t,i){e.selectize.addOption({id:t,name:o[i]||r.translateKey("missing_team_name")})})),e.selectize.setValue(n,!0))},fetchAndSetJoinData:function(e){var t=this,i=this.model.get(this.field);if(a.isEmpty(i))return e();var n=new l(null,{ids:i});n.setRowCount(i.length),n.fetch({success:function(){if(a.isEmpty(n.models))return e();var r=[];return a.each(i,(function(e){var t=a.find(n.models,(function(t){return t.get("id")===e}));r.push(t?t.get("name"):null)})),t.model.set(t.teamNameAttribute,r),e()},error:function(t,i){return 403===i.status?(i.weAlreadyPreviouslyHandledThis=!0,e()):e(new Error("Failed to load collection"))}})},onRendered:function(e){var t=this;this.$element=this.$('input[name="'.concat(this.field,'"]'));var i=function(i){if(i)return e(i);t.buildTypeahead(),t.selectize.on("change",t.onSelectizeItemsChange.bind(t)),t.model.on("change:".concat(t.field),t.onModelChange,t),e()};this.model.isNew()||this.fetchOnRender?this.fetchAndSetJoinData(i):i()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},loadFn:function(e,t){if(e.length<1)return t();var i=s.get({base:"sys",name:"team"}).query("es"),r=i.and([i.is("sysActive",!0),i.is_not_empty("members"),i.contains_partial("name",e)]);return i=i.and([r,this.shouldHideCurrent()&&this.getHideCurrentQuery(),this.getFieldDefQuery()]).toQuery(),n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_team"),{data:JSON.stringify({search:{size:100,query:i}}),contentType:"application/json",type:"POST"}).done((function(e){var i=a.sortBy(e.hits.hits,"_score").reverse(),n=[];a.each(i,(function(e){e&&e._source&&!a.isEmpty(e._source)&&n.push(e._source)})),t(n)}))},shouldHideCurrent:function(){return!0===a.get(this,"fieldDef.hideCurrent")},getHideCurrentQuery:function(){var e=s.get({base:"sys",name:"team"}).query("es");return a.isEmpty(this.originalValue)?null:e.is_not("id",this.teamId)},getFieldDefQuery:function(){return a.get(this,"fieldDef.filter")}})},803846:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(812371)})},316242:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(812371),onRendered:function(e){this.renderReadOnlyValue(e)},renderReadOnlyValue:function(e){if(!this.model.isNew())return e();var t=this.locals.translatedValue,i=this.getFormattedValue({escape:!1});return t===i||this.$("p[name=read-only-value]").text(i),e()}})},192740:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(428706),i(311927);var n=i(96190),a=i(447578),r=i(927554);e.exports=a.extend(r,{name:"team[]",caption:"Team Multiple",description:"Select one or more Teams.",normalizeMultiValuePicklistEntries:!1,includeInFormBuilder:!0,availableOnPortal:!1,db:{foreign:"sys_team",defaultJoinAttribute:"name",join:["name"],customJoin:function(e,t){var i=e.knexEntity,a=e.entityService,r=e.rows,o=e.field,s=e.values,l=e.joinFields;return i(a.get("sys/team")).list({joins:!1,limit:-1,q:{ids:s}},(function(e,i){if(e)return t(e);var a=n.keyBy(i,"id"),s=n.map(r,(function(e){var t={id:e.id};return n.each(l,(function(i){t["".concat(o,"__").concat(i)]=n.map(e[o],(function(e){var t=a[e];return t&&t[i]||null}))})),t}));return t(null,s)}))}},ui:{component:function(){return i(812371)},formComponent:function(){return i(316242)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(812371)}},dragComponent:function(){return i(803846)},configurationTabs:function(){return i(101786)},createForm:"base-properties-form",propertiesForm:"base-properties-form",icon:"fa-users"},escape:function(e){return n.escape(e)},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}},operators:i(111265)},format:function(e,t){if(!e)return"";var i=n.get(t,"fieldDef.field");return n.chain(e).map((function(e,a){return n.get(t,"data.".concat(i,"__name[").concat(a,"]"))})).compact().value().join(", ")}})},111265:(e,t,i)=>{"use strict";var n=i(96190),a=i(927554),r=i(489256).getOperators("es"),o=i(955505),s=i(703114),l=s.es,d=s.db,c=o.getOperators("es"),u=o.getOperators("obj");e.exports={es:n.extend({},a.getOperators("es"),{contains:r.contains,contains_partial:l.containsPartialFormatted,does_not_contain:r.does_not_contain,contains_exact_words:r.contains_exact_words,does_not_contain_exact_words:r.does_not_contain_exact_words,is_empty:c.is_empty,is_not_empty:c.is_not_empty}),obj:n.extend({},a.getOperators("obj"),{is_empty:u.is_empty,is_not_empty:u.is_not_empty}),db:{contains:d.contains,is_empty:d.isEmpty,is_not_empty:d.isNotEmpty}}},958329:(e,t,i)=>{"use strict";i(102892),i(16280);var n=i(974859),a=i(990973);e.exports=n.extend({field:null,$element:null,template:i(852189),className:"textarea-component-tmpl",onInit:function(){var e,t,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=null===(e=this.fieldDef)||void 0===e?void 0:e.typeOptions,s=Math.min(null!==(t=null==o?void 0:o.charMaxTextArea)&&void 0!==t?t:Number.MAX_VALUE,a.charMaxLength),l=null!==(i=null==o?void 0:o.charMin)&&void 0!==i?i:a.charMinLength;if(this.maxLength=r.maxLength||parseInt(s,10),this.minLength=r.minLength||parseInt(l,10),this.minLength<0)throw new Error("Minimum length allowed is 0");if(this.minLength>this.maxLength)throw new Error("Minimum length must be less than or equal Maximum length");n.prototype.setupTooltipDisplayText.call(this,r),n.prototype.setupPlaceholderDisplayText.apply(this,[r.placeholder])},locals:function(){return{field:this.field,value:this.model.get(this.field),placeholder:this.placeholder,maxLength:this.maxLength,ariaLabel:this.fieldDef.ariaLabel}},events:{"keyup textarea":"onKeyup","change textarea":"onKeyup","blur textarea":"onBlur"},onRendered:function(e){this.$element=this.$('textarea[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this.setupPlaceholderDisplayTextEvents(),this._setupValidationTooltip(),e()}})},366216:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(958329)})},474272:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(958329)})},710882:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(550794);e.exports=a.extend(r,{name:"textarea",caption:"Text Area",includeInFormBuilder:!0,enableTranslation:!0,description:"A large text field. Use this field for longer text such as narratives or summaries.",ui:{component:function(){return i(958329)},formComponent:function(){return i(474272)},searchComponent:function(){return n.get(i(858364),"ui.searchComponent")()},image:function(){return i(460183)},sizes:{medium:{width:"col-xs-12 col-sm-8 col-xl-7"}},dragComponent:function(){return i(366216)},createForm:"textarea-properties-form",propertiesForm:"textarea-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-paragraph"},es:{disableSorting:!0},escape:function(e){return n.escape(e)}})},897132:(e,t,i)=>{"use strict";i(102892),i(842762),i(327495),i(790744),i(134782),i(962062),i(123792),i(426099),i(962953),i(725440),i(672890);var n=i(96190),a=i(274692);i(969990),i(493793);var r=i(40785),o=i(428064),s=i(600235);e.exports=o.extend({selectize:null,className:"textbox-multiple-component-tmpl",template:i(582978),onInit:function(){var e,t=this.fieldDef,i=(void 0===t?{}:t).typeOptions;this.displayMaxTooltip=n.get(i,"displayMaxTooltip",!0),this.splitOnEOL=null==i?void 0:i.splitOnEOL,this.itemMaxLength=Math.min(null!==(e=null==i?void 0:i.itemMaxLength)&&void 0!==e?e:Number.MAX_VALUE,s.charMaxLength);var a=null==i?void 0:i.maxHeight;this.maxHeight=n.isNumber(a)&&a>0?a:0;var r=$appData.globalConfig.maxNumberOfDynamicRadioOptions;this.maxItems=n.get(i,"maxItems",r),this.pasting=!1},events:{"change select.loaded":"onEditibleValueChange","keyup input":"onKeyup:default","blur input":"onBlur","paste input":"pasteValue"},pasteValue:function(e){var t=this;if(this.splitOnEOL){var i=e.originalEvent,a=n.trim(i.clipboardData.getData("text")).split(/[\n\r]+/g);if(1!==a.length){var r=n.size(a);a=n.slice(a,0,this.maxItems),this.itemMaxLength>0&&(a=n.map(a,(function(e){return n.truncate(e,{length:t.itemMaxLength})}))),this.pasting=!0,this.selectize.$wrapper.addClass("loading"),setTimeout((function(){n.each(a,(function(e){return t.selectize.createItem(e,null)})),t.selectize.$wrapper.removeClass("loading"),t.pasting=!1,t.displayMaxTooltip&&r>t.maxItems&&t.$selectizeWrapper.tooltip("show")}),100),e.preventDefault()}}},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onRendered:function(e){this.$element=this.$('select[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this._registerPicklistPlugin(),this.maxHeight&&this.selectize.$control.css({maxHeight:this.maxHeight,overflowY:"auto"}),this.displayMaxTooltip&&this._addMaxTooltip(),e()},updateMaxItems:function(e){this.maxItems=e<0?0:e,this.selectize.settings.maxItems=this.maxItems,this.displayMaxTooltip&&this._addMaxTooltip()},_addMaxTooltip:function(){this.tooltipTitles={maxItems:0===this.maxItems?r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value_reached"}):r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_value"},{context:{valueLimit:this.maxItems}}),itemMaxLength:r.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_characters"},{context:{characterLimit:this.itemMaxLength}})},r.setupValidationTooltip(this,this.$selectizeWrapper)},onKeyup:function(e){this.displayMaxTooltip&&this._handleMaxTooltip(e)},onBlur:function(e){this.displayMaxTooltip&&this.$selectizeWrapper.tooltip("hide")},_handleMaxTooltip:function(e){if(13!==e.keyCode){var t=a(e.currentTarget).val();this.selectize.isFull()?this.$selectizeWrapper.attr("title",this.tooltipTitles.maxItems).tooltip("fixTitle").tooltip("show"):t.length>=this.itemMaxLength?this.$selectizeWrapper.attr("title",this.tooltipTitles.itemMaxLength).tooltip("fixTitle").tooltip("show"):this.$selectizeWrapper.tooltip("hide")}},onEditibleValueChange:function(e){var t=this.model.get(this.field),i=a(e.currentTarget).val();n.isEmpty(i)&&(i=null),i!==t&&this.model.set(this.field,i)},onSelectizeValueChange:function(e){e||(e=[]);var t=this.model.get(this.field)||[];n.isEqual(e,t)||(this.model.set(this.field,e),o.prototype.onEditableValueChange.call(this,e))},onModelChange:function(){var e=this;!this.displayMaxTooltip||this.selectize.isFull()||this.pasting||this.$selectizeWrapper.tooltip("hide");var t=this.model.get(this.field);if(!n.isEqual(t,this.selectize.items)){var i=n.difference(t,n.keys(this.selectize.options));n.each(i,(function(t){e.selectize.addOption({value:t,text:t})})),this.selectize.setValue(t,!0)}},getPlaceholderText:function(){var e,t=this.fieldDef,i=(void 0===t?{}:t).typeOptions,a=null==i?void 0:i.placeholderText;if(a)e=r.translateKey({groupName:n.replace(this.model.get("entity$"),"-/",""),subgroupName:"".concat(this.field,"-placeholderText"),key:n.toLower(a)},{missingTranslationValue:a});else{var o=null==i?void 0:i.blankText;e=o?r.escapedTranslateKey(o):r.escapedTranslateKey("add")}return e},_registerPicklistPlugin:function(){this.selectize=this.$element.selectize({create:!0,plugins:["remove_button"],placeholder:this.getPlaceholderText(),itemMaxLength:this.itemMaxLength,maxItems:this.maxItems,delimiter:!1})[0].selectize,this.$selectizeWrapper=this.selectize.$wrapper,this._selectValue(),this.selectize.on("change",this.onSelectizeValueChange.bind(this))},_addBlankRow:function(){},_selectValue:function(){var e=this,t=this.model.get(this.field);n.each(t,(function(t){return e.selectize.addOption({value:t,text:t})})),this.selectize.setValue(t,!0)}})},599319:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(897132)})},310139:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(897132)})},11939:(e,t,i)=>{"use strict";i(311927);var n=i(96190),a=i(447578),r=i(489256);e.exports=a.extend(r,{name:"textbox[]",caption:"Textbox Multiple",description:"An input field where the user can enter data.",includeInFormBuilder:!0,ui:{component:function(){return i(897132)},formComponent:function(){return i(310139)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(897132)}},gridConfiguration:{dataFilterComponent:function(){return i(567831)},dataFilterOperators:{includes:{getCaption:function(e){return e.translateKey("includes")},getFilterData:function(e){return{operator:"includes",fieldValues:e.value}}}}},image:function(){return i(500804)},dragComponent:function(){return i(599319)},configurationTabs:function(){return i(101786)},defaultValueOnPropertiesForm:!1,createForm:"textbox-multiple-properties-form",propertiesForm:"textbox-multiple-properties-form",icon:"fa-font"},escape:function(e){return n.escape(e)},format:function(e){return e?n.isString(e)?e:e.join(", "):""}})},567831:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500);var o=i(96190),s=i(11939).format,l=i(810489);e.exports=l.extend({filterOptionName:"includes",FilterOptionsMenuView:i(582664),customFilterOptionsMenuOpts:{enableSearch:!1},getText:function(e){return s(this.getValues(e))},getValues:function(e){return e[0].fieldValues},getAllFilterOptions:function(e){return e(null,[{caption:this.model.getFilterOption(this.filterOptionName).getCaption(this.filterOptionContext),value:"text"}])},getSelectedFilterOptions:function(){var e=this.model.getUniqueFilterData();return this.getValues(e)},getSelectedFilterOptionsText:function(){var e=this.model.getUniqueFilterData(),t=this.getText(e);return o.isEmpty(t)?this.getNoSelectedFilterOptionsText():'"'.concat(t,'"')},updateModelSelectedFilterOptions:function(e){var t=this,i=this.model.getFilterData();o.forEach(i,(function(i){var n;if(o.isEmpty(e))n=r(r({},t.model.getDefaultFilterData()),{},{selectedFilterOptions:[]});else{var a=t.model.getFilterOption(t.filterOptionName),s=r(r({},t.filterOptionContext),{},{value:e});n=r(r({},a.getFilterData(s)),{},{selectedFilterOptions:t.selectedFilterOptions})}o.assign(i,n)}))}})},346216:(e,t,i)=>{"use strict";var n=i(974859);e.exports=n.extend({template:i(540154)})},398031:(e,t,i)=>{"use strict";var n=i(27498);e.exports=n.extend({Component:i(346216)})},507167:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(704567);e.exports=a.extend(r,{name:"textbox-search",ui:{component:function(){return i(346216)},formComponent:function(){return i(398031)},searchComponent:function(){return i(710853)}},escape:function(e){return n.escape(e)}})},710853:(e,t,i)=>{"use strict";var n=i(974859);e.exports=n.extend({template:i(873843)})},974859:(e,t,i)=>{"use strict";i(102892),i(16280),i(962010),i(327495),i(725440),i(250113),i(426099),i(433003);var n=i(96190),a=i(40785),r=i(428064),o=i(600235);e.exports=r.extend({field:null,$element:null,template:i(747285),className:"textbox-component-tmpl",rules:o,onInit:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=null===(e=this.fieldDef)||void 0===e?void 0:e.typeOptions,r=Math.min(null!==(t=null==a?void 0:a.charMaxTextbox)&&void 0!==t?t:Number.MAX_VALUE,this.rules.charMaxLength),o=null!==(i=null==a?void 0:a.charMin)&&void 0!==i?i:0;if(this.maxLength=n.maxLength||parseInt(r,10),this.minLength=n.minLength||parseInt(o,10),this.minLength<0)throw new Error("Minimum length allowed is 0");if(this.minLength>this.maxLength)throw new Error("Minimum length must be less than or equal Maximum length");this.name=(null==a?void 0:a.nameAttrValue)||this.field,this.maxLengthCharCount=!(null==a||!a.maxLengthCharacterCount),this.setupTooltipDisplayText(),this.setupPlaceholderDisplayText(n.placeholder)},locals:function(){var e;return{field:this.field,value:this.model.get(this.field),name:this.name,maxLength:this.maxLength,ariaLabel:this.fieldDef.ariaLabel,placeholder:this.placeholder,trailingButton:null===(e=this.fieldDef)||void 0===e||null===(e=e.typeOptions)||void 0===e?void 0:e.trailingButton,maxLengthCharCount:this.maxLengthCharCount}},events:{"keyup input":"onKeyup:default","change input":"onKeyup:default","blur input":"onBlur"},setupTooltipDisplayText:function(){this.tooltipDisplayText={minLengthTitle:a.translateKey({groupName:"validation",subgroupName:"tooltip",key:"minimum_characters"},{context:{characterLimit:this.minLength}}),maxLengthTitle:a.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_characters"},{context:{characterLimit:this.maxLength}})}},setupPlaceholderDisplayText:function(e){var t,i;if(e)this.placeholder=e;else{var r=null===(t=this.fieldDef)||void 0===t?void 0:t.typeOptions,o=null==r?void 0:r.placeholder,s=null==r?void 0:r.placeholderText;this.placeholderTextField=(null==r?void 0:r.placeholderTextField)||(null===(i=this.fieldDef)||void 0===i?void 0:i.placeholderTextField),this.placeholderTextField||(s?this.placeholder=a.escapedTranslateKey({groupName:n.replace(this.model.get("entity$"),"-/",""),subgroupName:"".concat(this.field,"-placeholderText"),key:n.toLower(s)},{missingTranslationValue:s}):!0===o||"true"===o?this.placeholder=a.escapedTranslateKey({groupName:"placeholders",subgroupName:this.fieldDef.type,key:this.name.toLowerCase()},{context:{minLength:this.minLength,maxLength:this.maxLength}}):o&&(this.placeholder=o))}},updatePlaceholderText:function(){var e=this.model.get(this.placeholderTextField);this.$element.attr("placeholder",e)},setupPlaceholderDisplayTextEvents:function(){this.placeholderTextField&&(this.updatePlaceholderText(),this.model.on("change:".concat(this.placeholderTextField),this.updatePlaceholderText,this))},onKeyup:function(e){var t=this.model.get(this.field),i=this.$element.val();this.updateModelValue(t,i),this.updateTooltip(i),this.updateCharacterCount(e)},updateCharacterCount:function(e){var t;if(this.maxLengthCharCount){var i=this.$(".character-count-container"),a=this.$element.val(),r=n.isString(a)?a.length:0;this.$("#".concat(this.field,"-current-char-count")).text(r),1===(null==e||null===(t=e.key)||void 0===t?void 0:t.length)&&this.prevCharCount===this.maxLength?i.addClass("character-limit"):i.removeClass("character-limit"),this.prevCharCount=r}},updateModelValue:function(e,t){n.isEmpty(t)&&(t=null),t!==e&&(this.model.set(this.field,t),r.prototype.onEditableValueChange.call(this,e,t))},updateTooltip:function(e){var t,i=this.$element.parent(),n=this.$element;if(i.find(".trailing-btn-container").length&&(n=i,this.trailingBtn=!0),e.length>=this.maxLength&&!this.maxLengthCharCount)t=this.tooltipDisplayText.maxLengthTitle;else{if(!(e.length<this.minLength))return n.tooltip("hide");t=this.tooltipDisplayText.minLengthTitle}n.attr("title",t).tooltip({placement:"right",container:"body",trigger:"manual"}).tooltip("fixTitle").tooltip("show")},onModelChange:function(){var e=this.model.get(this.field);e!==this.$element.val()&&this.$element.val(e)},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.name,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this.setupPlaceholderDisplayTextEvents(),this._setupValidationTooltip(),this.updateCharacterCount(),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},onBlur:function(){(this.trailingBtn?this.$element.parent():this.$element).tooltip("hide")},_setupValidationTooltip:function(){a.setupValidationTooltip(this,this.$element,{title:this.tooltipDisplayText.minLengthTitle})}})},511262:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(974859)})},27498:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(974859)})},858364:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(704567);e.exports=a.extend(r,{name:"textbox",caption:"Textbox",description:"A small text field. Use this field for short text such as names, or one to four word answers.",includeInFormBuilder:!0,enableTranslation:!0,ui:{component:function(){return i(974859)},formComponent:function(){return i(27498)},searchComponent:function(){return i(974859)},dragComponent:function(){return i(511262)},createForm:"textbox-properties-form",propertiesForm:"textbox-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-font"},operators:i(94505),escape:function(e){return n.escape(e)}})},94505:(e,t,i)=>{"use strict";var n=i(96190),a=i(704567),r=i(703114).es;e.exports={es:n.extend({},a.getOperators("es"),{contains_partial:r.containsPartialFormatted}),db:a.getOperators("db")}},600235:e=>{"use strict";e.exports={charMaxLength:255,charMinLength:0}},99769:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(962010),i(944114),i(428706),i(327495),i(725440);var o=i(274692),s=i(96190),l=i(122268),d=i(330747),c=i(428064),u=i(40785);i(724167);var p={customConfig:"",language:"en_US",enterMode:d.ENTER_BR,resize_enabled:!1,extraPlugins:"wordcount,notification, editorplaceholder",removePlugins:"elementspath",disableNativeSpellChecker:!1,format_tags:"h1;h2;h3",toolbar:[{name:"basicformatting",items:["Bold","Italic","Underline","Strike"]},{name:"extended",items:["BulletedList","NumberedList","Table"]},{name:"headers",items:["Format"]},{name:"linking",items:["Link","Unlink"]}],wordcount:{showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,maxWordCount:-1,maxCharCount:1e4},on:{instanceReady:function(e){var t=this,i=d.dtd,n=d.tools.extend({},i.$block,i.$listItem,i.$tableContent);s.each(n,(function(e,i){t.dataProcessor.writer.setRules(i,{indent:!0,breakBeforeOpen:!0,breakAfterOpen:!0,breakBeforeClose:!0,breakAfterClose:!1})})),e.editor.on("beforeCommandExec",(function(e){"paste"===e.data.name&&(e.editor._.forcePasteDialog=!0),"pastetext"===e.data.name&&"keystrokeHandler"===e.data.commandData.from&&e.cancel()}))}}};e.exports=c.extend({field:null,editor:null,template:i(185365),className:"texteditor-component-tmpl",onModelChangeCargo:null,onInit:function(e){this.onModelChangeCargo=l.cargo(this._onModelChangeCargo.bind(this)),this.customEditorConfig=e.customEditorConfig||{}},locals:function(){return{cid:this.cid,field:this.field,value:this.model.get(this.field),ariaLabel:this.fieldDef.ariaLabel}},onCkeditorChange:s.debounce((function(){var e=d.instances[this.editor.name];if(e&&!this.model.readOnly){var t=this.model.get(this.field),i=this.editor.getData();if((s.isEmpty(i)||0===o("<div>".concat(i,"</div>")).text().length)&&(i=null),i!==t){this.model.set(this.field,i,{from:"ckeditor"});for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.checkDirty()?c.prototype.addToDirtyList.apply(this,a):c.prototype.removeFromDirtyList.apply(this,a),this._updateScreenReaderCounts()}}}),250),onModelChange:function(e,t,i){i&&"ckeditor"===i.from||this.onModelChangeCargo.push()},_onModelChangeCargo:function(e,t){var i=this,n=this.model.get(this.field);"destroyed"!==this.editor.status?this.editor.setData(n||"",{callback:function(){i.editor.destroyIt&&d.instances[i.editor.name]&&i.editor.destroy(!0),t()}}):t()},onRendered:function(e){var t="";s.get(this,"fieldDef.typeOptions.placeholder")&&(t=u.translateKey({groupName:"placeholders",subgroupName:"components",key:this.fieldDef.typeOptions.placeholder})),p.editorplaceholder=t;var i="".concat(this.field,"-").concat(this.cid),n=this.$('textarea[name="'.concat(i,'"]'));this.editor=d.replace(n[0],r(r({},this.customEditorConfig),p)),d.instances[this.editor.name].config.extraAllowedContent="p; span(field-label)",n.data("ckeditor",this.editor),this.editor.on("change",this.onCkeditorChange,this),this.model.on("change:".concat(this.field),this.onModelChange,this),this.editor.on("notificationShow",this.handleEditorNotification,this),this._setupValidationTooltip(),this.editor.on("instanceReady",(function(){e()}))},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this);try{"unloaded"!==this.editor.status&&(this.onModelChangeCargo.length>0?this.editor.destroyIt=!0:d.instances[this.editor.name]&&(this.editor.removeAllListeners(),this.editor.destroy(!0)))}catch(e){}},handleEditorNotification:function(e){e.cancel(),this.notify(e.data.notification.message)},notify:function(e){var t=s.isNumber(this._notificationTimer),i=e!==this._notificationLastMessage;t&&!i||(this.$el.attr("title",e).tooltip("fixTitle").tooltip("show"),this._notificationLastMessage=e),clearTimeout(this._notificationTimer),this._notificationTimer=s.delay(s.bind((function(){this.$el.tooltip("hide"),this._notificationTimer=null}),this),5e3)},_updateScreenReaderCounts:function(){if(d.instances[this.editor.name]){var e,t=d.instances[this.editor.name].config.wordcount,i=t.wordCount,n=t.charCount,a=p.wordcount.maxCharCount;e=n>=a&&-1!==a?"texteditor_character_count_exceeded":"texteditor_character_count";var r=u.translateKey(e,!1,{words:1===i?u.translateKey("word"):u.translateKey("words"),characters:1===n?u.translateKey("character"):u.translateKey("characters"),wordCount:i,charCount:n}),s=o("#".concat(this.field,"-").concat(this.viewId,"-sr-counts"));r!==s.text()&&s.text(r)}},_setupValidationTooltip:function(){u.setupValidationTooltip(this,this.$el)}})},196296:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(370921)})},384736:(e,t,i)=>{"use strict";i(411392);var n=i(794503),a=i(344427),r=i(40785);e.exports=n.extend({Component:i(99769),template:i(896356),className:"form-group base-form-component-tmpl texteditor-form-component-tmpl",onInit:function(e){this.customEditorConfig=e.customEditorConfig},getComponentOpts:function(){return{field:this.field,model:this.model,fields:this.fields,format:this.format,escape:this.escape,fieldDef:this.fieldDef,viewId:this.cid,parentFormView:this.parentFormView,fetchOnRender:this.fetchOnRender,staticData:this.staticData,formComponent:this,customEditorConfig:this.customEditorConfig}},isLinkInCurrentDomain:function(e){return e.indexOf(window.location.host)>-1},events:{'click p[name="read-only-value"] a':"onLinkClick"},getLink:function(e){if(e)return this.isEmailorPhone(e)||-1===e.toLowerCase().lastIndexOf("http://",0)&&-1===e.toLowerCase().lastIndexOf("https://",0)&&(e="http://".concat(e)),e},isEmailorPhone:function(e){return!!e&&(e.toLowerCase().startsWith("mailto:")||e.toLowerCase().startsWith("tel:"))},onLinkClick:function(e){var t=e.target.href||e.target.baseURI,i=this.getLink(t);i&&!this.isEmailorPhone(i)&&!1===this.isLinkInCurrentDomain(i)&&(a.display(r.translateKey("going_outside_domain"),{type:"confirm",title:r.translateKey("going_outside_domain_title"),callback:function(e){e&&window.open(i,"_blank")}}),e.preventDefault(),e.stopPropagation())},getFormattedValue:function(e){return e.escape=!0,n.prototype.getFormattedValue.call(this,e)}})},11106:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(683178),l=i(409593),d=i(447578),c=i(550794),u=i(703114).es,p={allowedAttributes:r(r({},s.defaults.allowedAttributes),{},{table:["border","cellpadding","cellspacing","style","summary"]}),allowedStyles:{table:{height:[/^\d+(?:px|em|%)$/],width:[/^\d+(?:px|em|%)$/]}}};e.exports=d.extend(c,{name:"texteditor",caption:"Text Editor",includeInFormBuilder:!0,enableTranslation:!0,description:"A large text field with rich text support. Use this field for longer text such as narratives or summaries containing rich text.",ui:{component:function(){return i(99769)},formComponent:function(){return i(384736)},searchComponent:function(){return o.get(i(858364),"ui.searchComponent")()},image:function(){return i(46963)},sizes:{medium:{width:"col-xs-12 col-sm-8 col-xl-7"},large:{width:"col-xs-12 col-sm-8"}},dragComponent:function(){return i(196296)},createForm:"texteditor-properties-form",configurationTabs:function(){return i(101786)},propertiesForm:"texteditor-properties-form",icon:"fa-paragraph"},escape:function(e){return o.isEmpty(e)?e:s(e,p)},format:function(e,t){return!1===t.html?l.fromString(e,{wordwrap:!1}):e},es:{disableSorting:!0,mapping:{type:"text",analyzer:"exact_lowercase",fields:{_english:{type:"text",analyzer:"english_html"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"rich_text"},_exactLowercase:{type:"text",analyzer:"exact_lowercase"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}}},operators:{es:{contains_exact_words:u.containsExactWordsFormattedEscaped,does_not_contain_exact_words:u.doesNotContainExactWordsFormattedEscaped}}})},370921:(e,t,i)=>{"use strict";var n=i(428064);e.exports=n.extend({template:i(760355),className:"texteditor-component-tmpl"})},889206:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(947432),r=i(126186),o=i(428064),s=i(766821);e.exports=o.extend({field:null,$elementTime:null,$elementAmPm:null,template:i(441660),className:"time-component-tmpl",mask:"99:99",locals:function(){var e=this.model.get(this.field),t=a(e,"HH:mm:ss");return{field:this.field,displayAMPM:!this.is24H,amPm:t.format("A"),value:t.format(this.timeFormat),ariaLabel:this.fieldDef.ariaLabel}},onInit:function(e){this.timeFormat=this.getTimeFormat(),this.is24H="HH:mm"===this.timeFormat},events:{'change input[name="editible-time"]':"onEditibleValueChange:50",'change select[name="editible-ampm"]':"onEditibleValueChange:50"},onEditibleValueChange:function(){var e=this.model.get(this.field),t=this.$elementTime.val(),i=this.$elementAmPm.val(),r=null;if(!n.isEmpty(t)&&a(t,this.timeFormat).isValid()&&(r=a("".concat(t," ").concat(i),this.timeFormat).format("HH:mm:ss")),r!==e){this.model.set(this.field,r);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];o.prototype.onEditableValueChange.apply(this,l)}else this.onModelChange()},onModelChange:function(){var e=this.model.get(this.field);if(n.isEmpty(e))this.$elementTime.val(null);else{var t=a(e,"HH:mm:ss"),i=t.format(this.timeFormat),r=t.format("A");this.$elementTime.val(i),this.$elementAmPm.val(r)}},onRendered:function(e){this.$elementTime=this.$('input[name="editible-time"]'),this.$elementAmPm=this.$('select[name="editible-ampm"]'),new r(this.mask).mask(this.$elementTime),this.model.on("change:".concat(this.field),this.onModelChange,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)},getTimeFormat:function(){var e=n.get(this,"fieldDef.format")||n.get(this,"fieldDef.timeFormat")||n.get(this,"fieldDef.typeOptions.timeFormat")||$appData.timeFormat;return s.ensureTwoHourDigits(e)}})},316837:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(889206)})},647485:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(889206)})},794237:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(962062),i(428706);var a=i(96190),r=i(947432),o=i(182116),s=i(447578),l=i(58565);function d(e){var t=e.compareFn;return{getFieldName:function(e){return e.field},getFunc:function(e){var i=this;return function(n){var o=e.globalOptions.timeFormat||e.globalOptions.defaultTimeFormat,s=r(n[i.getFieldName(e)],o),l=a.isArray(e.value)?a.map(e.value,(function(e){return r(e,o)})):r(e.value,o);return t(s,l)}}}}var c=o.getOperators("es");e.exports=s.extend(l,{name:"time",caption:"Time",description:"Specify a time value.",includeInFormBuilder:!0,db:{joiType:function(e){return e.string().regex(/(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)/).invalid("")},type:function(e,t){var i=a.snakeCase(t.field);return e.time(i)},createIndex:function(e,t){if("mysql"!==e.client.config.client){var i=a.snakeCase(t.field);return e.index(i,null,t.dbIndexType)}},beforeSave:function(e,t){var i="HH:mm:ss";if(a.isEmpty(t)&&!a.isDate(t))return null;var n=r(t,i);return n.isValid()?n.format(i):null},dbViewCastType:"time without time zone"},ui:{component:function(){return i(889206)},formComponent:function(){return i(647485)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(889206)}},image:function(){return i(728258)},dragComponent:function(){return i(316837)},configurationTabs:function(){return i(101786)},createForm:"time-properties-form",propertiesForm:"time-properties-form",icon:"fa-clock-o",sizes:{medium:{width:"col-xs-12 col-sm-6 col-md-3"}}},es:{mapping:{type:"date",format:"hour_minute_second"},formatSearchText:function(e,t){var i=t.globalOptions.timeFormat;return i?s.convertToEsFormattedTime(e,i,t):e}},operators:{es:a.assign({},o.getOperators("es"),{contains:a.assign({},c.contains,{ui:!1}),does_not_contain:a.assign({},c.does_not_contain,{ui:!1})}),obj:a.extend({},o.getOperators("obj"),{is:d({compareFn:function(e,t){return e.isSame(t)}}),is_not:d({compareFn:function(e,t){return!e.isSame(t)}}),less_than_or_equals:d({compareFn:function(e,t){return!a.isNil(t)&&e.isSameOrBefore(t)}}),less_than:d({compareFn:function(e,t){return!a.isNil(t)&&e.isBefore(t)}}),greater_than_or_equals:d({compareFn:function(e,t){return!a.isNil(t)&&e.isSameOrAfter(t)}}),greater_than:d({compareFn:function(e,t){return!a.isNil(t)&&e.isAfter(t)}}),between:d({compareFn:function(e,t){var i,r,o=(r=2,function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(i,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],l=o[1];return!a.isNil(t)&&e.isSameOrAfter(s)&&e.isSameOrBefore(l)}})}),db:o.getOperators("db")},format:function(e,t){if(!e)return"";var i=a.get(t,"fieldDef.format")||a.get(t,"fieldDef.timeFormat")||t.globalOptions.timeFormat||t.globalOptions.defaultTimeFormat;return r.utc(e,"HH:mm:ss").format(i)},yellowfin:{customDataType:"com.hof.mi.custom.format.TimeFormatter",convertedDataType:"TIME",fieldTypeCode:"DIMENSION",dimensionTypeCode:"DATE",dataTypeCode:"TIME"},aggregationMethods:function(e){var t=["latest","earliest","expression","mostRecent","first"];return e?t.concat([]):t}})},479073:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(274692),r=i(498199),o=i(40785),s=i(428064);e.exports=r.extend({template:i(998387),onInit:function(e){var t=this.model.get(this.field);n.isBoolean(t)||this.model.set(this.field,!0),this.greyOnOff=n.get(this,"fieldDef.typeOptions.greyOnOff",!0),this.showCaptionsOnButton=n.get(this,"fieldDef.typeOptions.showCaptionsOnButton",!1),this.checkedCaption=n.get(this,"fieldDef.typeOptions.checkedTranslation")?o.translateKey(this.fieldDef.typeOptions.checkedTranslation):o.translateKey({key:"yes"}),this.uncheckedCaption=n.get(this,"fieldDef.typeOptions.uncheckedTranslation")?o.translateKey(this.fieldDef.typeOptions.uncheckedTranslation):o.translateKey({key:"no"}),this.tooltip=n.get(this,"fieldDef.typeOptions.tooltip",null)},onEditibleValueChange:function(e){var t=this.model.get(this.field),i=!a(e.currentTarget).prop("checked");if(i!==t){var n;this.model.set(this.field,i);for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];(n=s.prototype.onEditableValueChange).call.apply(n,[this,e].concat(o))}},onModelChange:function(){!0===this.model.get(this.field)?this.$element.prop("checked",!1):this.$element.prop("checked",!0)}})},917640:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(479073)})},121962:(e,t,i)=>{"use strict";var n=i(447578),a=i(137704);e.exports=n.extend(a,{name:"toggle-inverted",includeInFormBuilder:!1,ui:{component:function(){return i(479073)},formComponent:function(){return i(917640)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(479073)}}},format:function(e,t){var i,n=(null===(i=t.fieldDef)||void 0===i?void 0:i.typeOptions)||{};return!0===e?t.translateKey(n.checkedTranslation||{key:"no"}):t.translateKey(n.uncheckedTranslation||{key:"yes"})}})},498199:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(194478),s=i(40785);e.exports=o.extend({field:null,$element:null,template:i(939427),className:"toggle-component-tmpl",onInit:function(e){var t=this.model.get(this.field);r.isBoolean(t)||this.model.set(this.field,!1),this.greyOnOff=r.get(this,"fieldDef.typeOptions.greyOnOff",!0),this.showCaptionsOnButton=r.get(this,"fieldDef.typeOptions.showCaptionsOnButton",!1),this.checkedCaption=r.get(this,"fieldDef.typeOptions.checkedTranslation")?s.translateKey(this.fieldDef.typeOptions.checkedTranslation):s.translateKey({key:"yes"}),this.uncheckedCaption=r.get(this,"fieldDef.typeOptions.uncheckedTranslation")?s.translateKey(this.fieldDef.typeOptions.uncheckedTranslation):s.translateKey({key:"no"}),this.tooltip=r.get(this,"fieldDef.typeOptions.tooltip",null)},locals:function(){return{field:this.field,value:this.model.get(this.field),ariaLabel:r.get(this,"fieldDef.ariaLabel"),greyOnOff:this.greyOnOff,showCaptionsOnButton:this.showCaptionsOnButton,checkedCaption:this.checkedCaption,uncheckedCaption:this.uncheckedCaption,disableRule:this.fieldDef.disableRule}},onRendered:function(e){this.tooltip&&this.$(".slider").tooltip(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({container:this.$(".slider")},this.tooltip)),o.prototype.onRendered.call(this,e)}})},533434:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(498199)})},383710:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(498199)})},137704:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(965013),o=i(167590);e.exports=a.extend(r,{name:"toggle",caption:"Toggle",description:"An input field where the user can enter data.",includeInFormBuilder:!0,includeInSSOValueMap:!0,ui:{component:function(){return i(498199)},formComponent:function(){return i(383710)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(498199)}},dragComponent:function(){return i(533434)},defaultValueOnPropertiesForm:!1,createForm:"base-properties-form",propertiesForm:"base-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-toggle-on"},operators:o.operators,escape:function(e){return n.escape(e)},format:function(e,t){var i=n.get(t,"fieldDef.typeOptions")||{};return!0===e?t.translateKey(i.checkedTranslation||{key:"yes"}):t.translateKey(i.uncheckedTranslation||{key:"no"})}})},280917:(e,t,i)=>{"use strict";var n=i(447578),a=i(858364);e.exports=n.extend(a,{name:"typeahead",caption:"Typeahead",includeInFormBuilder:!1,es:{mapping:{type:"text",fields:{_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"}}}}})},159438:(e,t,i)=>{"use strict";var n=i(974859);e.exports=n.extend({})},239901:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(159438)})},626325:(e,t,i)=>{"use strict";var n=i(96190),a=i(344427),r=i(40785),o=i(794503);e.exports=o.extend({Component:i(159438),template:i(888601),isLinkInCurrentDomain:function(e){return e.indexOf(window.location.host)>-1},getLink:function(){var e=this.model.get(this.field);if(e)return-1===e.toLowerCase().lastIndexOf("http://",0)&&-1===e.toLowerCase().lastIndexOf("https://",0)&&(e="http://".concat(e)),e},locals:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=o.prototype.locals.apply(this,t);return n.formattedLink=this.getLink(),n},events:{"click a":"onLinkClick"},onModelChange:function(){if(this.$link){var e=this.getLink(),t=this.model.get(this.field);this.$link.html(n.escape(t)),this.$link.attr("href",e)}},onLinkClick:function(e){var t=this.getLink();!1===this.isLinkInCurrentDomain(t)&&(a.display(r.translateKey("going_outside_domain"),{type:"confirm",title:r.translateKey("going_outside_domain_title"),callback:function(e){e&&window.open(t,"_blank")}}),e.preventDefault(),e.stopPropagation())},onRendered:function(e){this.$link=this.$('a[name="'.concat(this.field,'"]')),e()}})},455285:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(704567);e.exports=a.extend(r,{name:"url",caption:"URL",description:"Use for fields that will store a link.",includeInFormBuilder:!0,ui:{component:function(){return i(159438)},formComponent:function(){return i(626325)},searchComponent:function(){return i(159438)},image:function(){return i(275002)},dragComponent:function(){return i(239901)},configurationTabs:function(){return i(101786)},createForm:"base-properties-form",propertiesForm:"base-properties-form",icon:"fa-link"},escape:function(e){return n.escape(e)}})},429629:(e,t,i)=>{"use strict";i(962062),i(962010),i(123792),i(426099),i(962953),i(428706),i(533110),i(944114),i(202008),i(672890);var n=i(274692),a=i(96190),r=i(40785),o=i(428064),s=i(939994),l=i(158315);e.exports=o.extend({field:null,selectize:null,searchCaption:r.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_user_multiple"}),template:i(464119),className:"user-multiple-component-tmpl",onInit:function(e){var t,i,n;this.userNameAttribute="".concat(e.field,"__name"),this.userEmailAttribute="".concat(e.field,"__email");var a=this.fieldDef,r=this.fieldDef,o=(void 0===r?{}:r).typeOptions;this.maxItems=null!==(t=null==a?void 0:a.maxItems)&&void 0!==t?t:null,this.dependentMaxItemField=null!==(i=null==o?void 0:o.dependentMaxItemField)&&void 0!==i?i:null,this.maxItemFunction=null!==(n=null==o?void 0:o.maxItemFunction)&&void 0!==n?n:null,!0===(null==a?void 0:a.hideCurrent)&&(this.originalValue=this.model.get(this.field),this.model.set(this.field,null))},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeItemsChange:function(){var e=this.selectize.options,t=a.clone(this.selectize.items),i=this.model.get(this.field);if(a.isEmpty(t)&&(t=null),!a.isEqual(t,i)){var n={};n[this.field]=t,n[this.userNameAttribute]=a.map(t,(function(t){return e[t].name})),n[this.userEmailAttribute]=a.map(t,(function(t){return e[t].email})),this.model.set(n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];o.prototype.onEditableValueChange.apply(this,s)}},onModelChange:function(){var e=this,t=this.model.get(this.field);if(!a.isEqual(t,this.selectize.items)){var i=this.model.get(this.userNameAttribute)||[],n=this.model.get(this.userEmailAttribute)||[],o=a.difference(t,a.keys(this.selectize.options));a.each(o,(function(o){var s=a.indexOf(t,o);e.selectize.addOption({id:o,name:i[s]||r.translateKey("missing_user_name"),email:n[s]||""})})),this.selectize.setValue(t,!0)}},getSelectizeOptions:function(){var e=this.field;return{valueField:"id",labelField:"name",searchField:["name","email"],preload:!1,create:!1,persist:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),sortField:"name",load:this.apiSearchEnabled()?this.loadFn.bind(this):null,maxItems:this.getMaxItems(),mode:"multi",render:{option:function(t,i){var n="";return t.email&&(n='<span class="highlight-sub-search-block">'.concat(i(t.email),"</span>")),'<div id="'.concat(e,":").concat(i(t.id),'" role="option" class="option">')+"<span>".concat(i(t.name),"</span>").concat(n,"</div>")}}}},buildTypeahead:function(){var e=this,t=this.getSelectizeOptions(),i=this.$element.selectize(t);this.selectize=i[0].selectize,this.selectize.clearOptions();var n=this.model.get(this.field)||[],o=this.model.get(this.userNameAttribute)||[],s=this.model.get(this.userEmailAttribute)||[];n.length>0&&(a.each(n,(function(t,i){e.selectize.addOption({id:t,name:o[i]||r.translateKey("missing_user_name"),email:s[i]||""})})),this.selectize.setValue(n,!0))},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.buildTypeahead(),this.model.on("change:".concat(this.field),this.onModelChange,this),this.selectize.on("change",this.onSelectizeItemsChange.bind(this)),this.dependentMaxItemField&&this.maxItemFunction&&this.model.on("change:".concat(this.dependentMaxItemField),this.updateMaxItems,this),e()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.dependentMaxItemField&&this.maxItemFunction&&this.model.off("change:".concat(this.dependentMaxItemField),this.updateMaxItems,this),this.model.off("change:".concat(this.field),this.onModelChange,this)},loadFn:function(e,t){if(e.length<1)return t();var i=s.get({base:"sys",name:"user"}).query("es"),r=i.and([i.is("active",!0),i.or([i.contains_partial("name",e),i.contains_partial("email",e)])]);i=i.and([r,this.shouldHideCurrent()&&this.getHideCurrentQuery(),this.getFieldDefQuery(),this.getHideUserRolesQuery()]).toQuery(),n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_user"),{data:JSON.stringify({search:{size:100,query:i}}),contentType:"application/json",type:"POST"}).done((function(e){var i=a.sortBy(e.hits.hits,"_score").reverse(),n=[];a.each(i,(function(e){e&&e._source&&!a.isEmpty(e._source)&&n.push(e._source)})),t(n)}))},shouldHideCurrent:function(){var e;return!0===(null===(e=this.fieldDef)||void 0===e?void 0:e.hideCurrent)},getHideCurrentQuery:function(){var e=s.get({base:"sys",name:"user"}).query("es");return a.isEmpty(this.originalValue)?null:e.is_not("id",this.userId)},getFieldDefQuery:function(){var e;return null===(e=this.fieldDef)||void 0===e?void 0:e.filter},getMaxItems:function(){var e=l[this.maxItemFunction];return a.isFunction(e)?e.call(this.model):this.maxItems},updateMaxItems:function(){var e=this.getMaxItems(),t=this.$element[0].selectize;t.settings.maxItems=e,e&&t.items.length>e&&t.clear()}})},568300:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(429629)})},669436:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(429629)})},272582:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(428706),i(311927);var n=i(96190),a=i(447578),r=i(927554);e.exports=a.extend(r,{name:"user[]",caption:"User Multiple",description:"Use to reference one or many users in the system. Search for active users and select which to display.",normalizeMultiValuePicklistEntries:!1,includeInFormBuilder:!0,availableOnPortal:!1,db:{foreign:"sys_user",defaultJoinAttribute:"name",join:["name","email"],customJoin:function(e,t){var i=e.knexEntity,a=e.entityService,r=e.rows,o=e.field,s=e.values,l=e.joinFields;i(a.get("sys/user")).list({joins:!1,limit:-1,q:{ids:s}},(function(e,i){if(e)return t(e);var a=n.keyBy(i,"id"),s=n.map(r,(function(e){var t={id:e.id};return n.each(l,(function(i){t["".concat(o,"__").concat(i)]=n.map(e[o],(function(e){var t=a[e];return t&&t[i]||null}))})),t}));t(null,s)}))}},ui:{component:function(){return i(429629)},formComponent:function(){return i(669436)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(429629)}},dragComponent:function(){return i(568300)},configurationTabs:function(){return i(101786)},gridConfiguration:{dataFilterComponent:function(){return i(136715)},dataFilterOperators:{includes:{getFilterData:function(e){return{operator:"includes",fieldValues:e.values}}},is:{getFilterData:function(e){return{operator:"is",fieldValues:e.values}}}}},defaultValueOnPropertiesForm:!1,createForm:"base-properties-form",propertiesForm:"base-properties-form",icon:"fa-user-plus",image:function(){return i(923611)}},escape:function(e){return n.escape(e)},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"}}}},operators:i(743267),format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return n.map(e,(function(e,a){return n.get(t,"data.".concat(i,"__name[").concat(a,"]"))||e})).join(", ")}})},743267:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(874423),i(21699),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(927554),l=i(489256).getOperators("es"),d=i(489256).getOperators("obj"),c=i(955505),u=i(703114),p=u.es,f=u.db,h=c.getOperators("es");e.exports={es:o.extend({},s.getOperators("es"),{contains:l.contains,contains_partial:p.containsPartialFormatted,does_not_contain:l.does_not_contain,contains_exact_words:l.contains_exact_words,does_not_contain_exact_words:l.does_not_contain_exact_words,is:l.is,is_empty:h.is_empty,is_not_empty:h.is_not_empty,includes:r(r({},l.includes),{},{getFieldName:function(e){return e.field}})}),obj:o.extend({},s.getOperators("obj"),{is_empty:d.is_empty,is_not_empty:d.is_not_empty}),db:{contains:f.contains,is_empty:f.isEmpty,is_not_empty:f.isNotEmpty}}},136715:(e,t,i)=>{"use strict";var n=i(40785),a=i(509871);e.exports=a.extend({customFilterOptionsMenuOpts:{enableSearch:!0,showSearchIcon:!1,overrideSearch:!0,showClearAllBtn:!0,allowNoOptionsSelected:!0,enableToggle:!0},onInit:function(){this.filterOptionName=this.getSelectedFilterOptionName()||"is",this.toggleOptions={checkedCaption:n.translateKey({key:"and"}),uncheckedCaption:n.translateKey({key:"or"}),value:this.getInitialToggleState()}},onToggleChange:function(e){this.filterOptionName=e?"is":"includes",this.toggleOptions.value=e},getInitialToggleState:function(){return"is"===this.filterOptionName}})},311924:(e,t,i)=>{"use strict";i(962010),i(428706),i(533110),i(944114),i(16280),i(672890);var n=i(274692),a=i(96190),r=i(96190),o=r.get,s=r.isEmpty,l=r.each,d=r.sortBy,c=i(428064),u=i(18063),p=i(939994),f=i(557494),h=i(40785),m=i(291428);e.exports=c.extend({field:null,selectize:null,fetchOnRender:!1,enableSelfAssign:"disabled",searchCaption:h.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_user"}),selfAssignCaption:h.translateKey({groupName:"sys/user",subgroupName:"actions",key:"self_assign_caption"}),template:f,className:"user-component-tmpl",getRoleQuery:function(){var e=o(this,"fieldDef.roleFilter");return e?u.must({term:{"perm.roles":e}}):this.userRoleIdFilter?u.must({term:{userRoleId:this.userRoleIdFilter}}):null},getHideCurrentQuery:function(){var e=p.get({base:"sys",name:"user"}).query("es");return s(this.originalValue)?null:e.is_not("id",this.originalValue)},getFieldDefQuery:function(){return o(this,"fieldDef.filter")},getShouldHideCurrent:function(){return!0===o(this,"fieldDef.hideCurrent")},onInit:function(e){var t;this.userNameAttribute="".concat(e.field,"__name"),this.userEmailAttribute="".concat(e.field,"__email"),this.allowInactiveUsers=e.allowInactiveUsers||!1,this.fetchOnRender=o(e,"fetchOnRender",this.fetchOnRender),!0===o(this,"fieldDef.hideCurrent")&&(this.originalValue=this.model.get(this.field),this.model.set(this.field,null)),this.userRoleIdFilter=o(this,"fieldDef.typeOptions.userRoleIdFilter"),this.enableSelfAssign=null===(t=this.fieldDef)||void 0===t||null===(t=t.typeOptions)||void 0===t?void 0:t.enableSelfAssign},locals:function(){var e=(this.fieldDef.typeOptions||{}).selfAssignCaption;return{field:this.field,ariaLabel:this.fieldDef.ariaLabel,selfAssignCaption:e||this.selfAssignCaption,enableSelfAssign:this.enableSelfAssign,roleFilter:o(this,"fieldDef.roleFilter")}},events:{"click #self-assign":"onClickSelfAssign","keydown #self-assign":"onClickSelfAssign"},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=s(n)?null:n;if(a!==this.model.get(this.field)){var r=this.selectize.options[a]||{},o=this.model.pickJoinData({attribute:this.field,joinedEntityData:r});o[this.field]=a,this.model.set(o),this.setJoinData(r.name,r.email),c.prototype.onEditableValueChange.apply(this,t)}},onClickSelfAssign:function(e){if(13===e.which||1===e.which){var t=$appData.user;this.setJoinData(t.name,t.email),this.selectize.addOption({id:t.id,name:this.model.get(this.userNameAttribute)||h.translateKey("missing_user_name"),email:this.model.get(this.userEmailAttribute)}),this.selectize.setValue(t.id,!0),this.onSelectizeValueChange(t.id),n("#".concat(this.field,"-").concat(this.viewId,"-selectized")).trigger("focus")}},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);s(t)&&this.selectize.addOption({id:e,name:this.model.get(this.userNameAttribute)||h.translateKey("missing_user_name"),email:this.model.get(this.userEmailAttribute)}),this.selectize.setValue(e,!0),this.showHideSelfAssign()},showHideSelfAssign:function(){"enabled"===this.enableSelfAssign&&(this.model.get(this.field)===$appData.user.id?this.$("#self-assign").hide():this.$("#self-assign").show())},buildTypeahead:function(){var e=this.field,t=this.$element.selectize({valueField:"id",labelField:"name",searchField:["name","email"],loadThrottle:"300",preload:!1,persist:!1,create:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,sortField:"name",load:this.apiSearchEnabled()?this.loadFn.bind(this):null,render:{option:function(t,i){return'<div id="'.concat(e,":").concat(i(t.id),'" role="option" class="option"><span>').concat(i(t.name),"</span>\n\t\t\t\t\t\t").concat(t.email?'<span class="highlight-sub-search-block">\n\t\t\t\t\t\t'.concat(i(t.email),"</span>"):"","</div>")}}});this.selectize=t[0].selectize,this.selectize.clearOptions();var i=this.model.get(this.field);i&&(this.selectize.addOption({id:i,name:this.model.get(this.userNameAttribute)||h.translateKey("missing_user_name"),email:this.model.get(this.userEmailAttribute)}),this.selectize.setValue(i,!0))},refreshUserRoleIdFilter:function(){this.userRoleIdFilter=this.model.get("userRoleIdFilter"),this.buildTypeahead()},onRendered:function(e){var t=this;this.$element=this.$('input[name="'.concat(this.field,'"]')),this.model.on("change:".concat(this.field),this.onModelChange,this),this.userRoleIdFilter&&this.model.on("change:userRoleIdFilter",this.refreshUserRoleIdFilter,this),this.showHideSelfAssign();var i=function(i){return t.buildTypeahead(),t.selectize.on("change",t.onSelectizeValueChange.bind(t)),i?e(i):e()};this.model.isNew()?this.model.joinField(this.field,m,i):this.fetchOnRender?this.fetchAndSetJoinData(i):i()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},loadFn:function(e,t){e.length<1?t():n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_user"),{data:JSON.stringify(this.buildSearchQuery(e)),contentType:"application/json",type:"POST"}).done((function(e){var i=d(e.hits.hits,"_score").reverse(),n=[];l(i,(function(e){e&&e._source&&!s(e._source)&&n.push(e._source)})),t(n)}))},buildSearchQuery:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=p.get({base:"sys",name:"user"}).query("es");return t=this.allowInactiveUsers?n.and([n.or([n.contains_partial("name",e),n.contains_partial("email",e)])]):n.and([n.or([n.contains_partial("name",e),n.contains_partial("email",e)]),n.is("active",!0)]),{search:{query:n.and([t,this.getRoleQuery(),this.getShouldHideCurrent()&&this.getHideCurrentQuery(),this.getFieldDefQuery()]).toQuery(),size:i}}},setJoinData:function(e,t){this.model.set(this.userNameAttribute,e),this.model.set(this.userEmailAttribute,t)},fetchAndSetJoinData:function(e){var t=this,i=this.model.get(this.field);if(!i)return e();var n=new m({id:i});return n.fetch({success:function(){t.setJoinData(n.get("name"),n.get("email")),e()},error:function(){e(new Error("Failed to load model"))}})}})},432159:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(311924)})},77731:(e,t,i)=>{"use strict";i(765903);var n=i(96190),a=i(608758),r=i(460219),o=i(794503);e.exports=o.extend({template:i(210565),Component:i(311924),locals:function(){var e=this.model.get("".concat(this.field,"__active")),t=o.prototype.locals.call(this);return n.extend(t,{userIsInactive:!1===e})},onRendered:function(e){this.renderReadOnlyValue(e)},renderReadOnlyValue:function(e){var t=this;if(!this.model.isNew())return e();var i=this.locals.translatedValue,n=this.locals.userIsInactive,o=this.locals();return o.translatedValue===i&&o.userIsInactive===n?e():a.render(r,o,(function(i,n){return i?e(i):(t.$("div[data-readonly=true]").html(n),e())}))}})},241451:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953);var n=i(96190),a=i(447578),r=i(656409);e.exports=a.extend(r,{name:"user",caption:"User",description:"Use to reference one user in the system.",includeInFormBuilder:!0,availableOnPortal:!1,db:{foreign:"sys_user",defaultJoinAttribute:"name",join:["name","email","active"]},ui:{component:function(){return i(311924)},formComponent:function(){return i(77731)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(311924)}},dragComponent:function(){return i(432159)},configurationTabs:function(){return i(101786)},gridConfiguration:{dataFilterComponent:function(){return i(509871)},dataFilterOperators:{is_any:{getCaption:function(e){return e.translateKey("is_any")},getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},createForm:"user-properties-form",propertiesForm:"user-properties-form",icon:"fa-user",image:function(){return i(368836)}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(184962),escape:function(e){return n.escape(e)},format:function(e,t){var i=t.fieldDef.field;return e?t.data["".concat(i,"__name")]||t.translateKey("unknown_user"):"-/sys/case"===n.get(t,"data.entity$")&&"owner"===i?t.translateKey("unassigned"):null}})},184962:(e,t,i)=>{"use strict";var n=i(96190).extend,a=i(656409),r=i(955505).getOperators("es"),o=i(703114).es;e.exports={es:n({},a.getOperators("es"),{is_any:r.is_any,contains:r.contains,contains_partial:o.containsPartialFormatted,does_not_contain:r.does_not_contain,contains_exact_words:r.contains_exact_words,does_not_contain_exact_words:r.does_not_contain_exact_words}),obj:a.getOperators("obj"),db:a.getOperators("db")}},509871:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(533110),i(16280),i(426099),i(962010),i(944114),i(423500),i(250113),i(428706);var o=i(96190),s=i(274692),l=i(810489),d=i(939994),c=i(40785);e.exports=l.extend({FilterOptionsMenuView:i(538558),className:"user-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!0,showSearchIcon:!1,overrideSearch:!0,showClearAllBtn:!0,allowNoOptionsSelected:!0},onInit:function(){this.filterOptionName="is_any"},getExtraUserOptions:function(){var e=$appData.user.email;return[{caption:c.translateKey("empty"),value:""},{caption:"System",value:"0"},{caption:c.translateKey("only_mine"),secondaryCaption:e,value:"currentUser"}]},getUserFilters:function(){return d.get("sys/user").query().is("active",!0).toQuery()},fetchUserOptions:function(e){s.ajax("".concat($appData.globalConfig.apiRoot,"/grid_search/sys_user"),{data:JSON.stringify({size:20,from:0,filters:this.getUserFilters(),entitiesSelectedFields:{sys_user:["id","name","email"]}}),contentType:"application/json",type:"POST",success:function(t){return e(null,t)},error:function(t){var i;return e(new Error(null===(i=t.responseJSON)||void 0===i?void 0:i.message))}})},getAllFilterOptions:function(e){var t=this;this.fetchUserOptions((function(i,r){if(i)return e(i);var s=r.hits.hits,l=o.reduce(s,(function(e,t){return t&&t._source&&t._source.name&&t._source.id&&e.push({caption:t._source.name,secondaryCaption:t._source.email,value:t._source.id}),e}),[]),d=t.model.getUniqueFilterData()[0].joinData,u=t.model.get("fieldName");o.forEach(t.getSelectedFilterOptions(),(function(e){if(!o.find(l,{value:e})){var t=o.find(d,(i={},r=e,(a=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(a=u))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i));l.push({caption:t["".concat(u,"__name")]||c.translateKey("unknown_user"),secondaryCaption:t["".concat(u,"__email")],value:e,errorHighlight:!t["".concat(u,"__name")]})}var i,a,r}));var p=t.getExtraUserOptions();return l=o.chain(l).reject((function(e){return o.find(p,{value:e.value})})).orderBy((function(e){return o.toLower(e.caption)})).value(),e(null,[].concat(a(p),a(l)))}))},getSelectedFilterOptions:function(){return this.model.getUniqueFilterData()[0].fieldValues}})},447578:(e,t,i)=>{"use strict";i(879432),i(533110),i(962010),i(752675),i(489463),i(16280),i(311927),i(327495),i(5746),i(250113),i(426099),i(944114),i(725440),i(842762),i(134782),i(202008),i(874423),i(21699),i(840150),i(102892);var n=i(96190),a=i(647451).parsePhoneNumberFromString,r=i(878778),o=i(522609)(),s=i(439862).file("/index.js"),l={prepareJSONForDb:function(e,t,i){if(t&&n.isString(t)&&"pg"===e&&!i)try{t=JSON.parse(t)}catch(e){s&&s.error(e),t=null}return!t||n.isString(t)||"pg"===e&&!i||(t=JSON.stringify(t)),t},parseJSON:function(e,t){return""===t?t=null:n.isString(t)&&this.isJSON(t)&&(t=JSON.parse(t)),t},isJSON:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},extend:function(e,t){var i=n.cloneDeep(e);if(i.enableTranslation=!0===t.enableTranslation,t.name&&(i.name=t.name),t.coerce&&(i.coerce=t.coerce),t.format&&(i.format=t.format),t.formatHtml&&(i.formatHtml=t.formatHtml),t.escape&&(i.escape=t.escape),t.caption&&(i.caption=t.caption),t.description&&(i.description=t.description),t.export&&(t.export.numFmt&&n.set(i,"export.numFmt",t.export.numFmt),t.export.format&&n.set(i,"export.format",t.export.format)),t.db){if(t.db.joiType&&n.set(i,"db.joiType",t.db.joiType),t.db.type&&n.set(i,"db.type",t.db.type),t.db.beforeSave&&n.set(i,"db.beforeSave",t.db.beforeSave),t.db.afterRead&&n.set(i,"db.afterRead",t.db.afterRead),t.db.foreign){if(!n.isEmpty(i.db.foreign)&&i.db.foreign!==t.db.foreign)throw new Error("Can't change foreign table");n.set(i,"db.foreign",t.db.foreign)}t.db.join&&n.set(i,"db.join",n.union(i.db.join,t.db.join)),t.db.additionalJoinFilter&&n.set(i,"db.additionalJoinFilter",t.db.additionalJoinFilter),t.db.defaultJoinAttribute&&n.set(i,"db.defaultJoinAttribute",t.db.defaultJoinAttribute),t.db.customJoin&&n.set(i,"db.customJoin",t.db.customJoin),t.db.createIndex&&n.set(i,"db.createIndex",t.db.createIndex),t.db.viewSelectQuery&&n.set(i,"db.viewSelectQuery",t.db.viewSelectQuery),t.db.dbViewCastType&&(n.isFunction(i.db.dbViewCastType)||n.isFunction(t.db.dbViewCastType)?i.db.dbViewCastType=t.db.dbViewCastType:n.set(i,"db.dbViewCastType",t.db.dbViewCastType))}return t.search&&(i.search=n.extend({},i.search,t.search)),t.es&&(i.es=n.extend({},i.es,t.es)),t.operators&&(i.operators||(i.operators={}),t.operators.es&&(i.operators.es=n.extend({},i.operators.es||{},t.operators.es)),t.operators.obj&&(i.operators.obj=n.extend({},i.operators.obj||{},t.operators.obj)),t.operators.db&&(i.operators.db=n.extend({},i.operators.db||{},t.operators.db))),t.ui&&(i.ui=n.extend({},i.ui,t.ui)),t.formBuilderDefault&&(i.formBuilderDefault=n.extend({},i.formBuilderDefault,t.formBuilderDefault)),n.has(t,"rules")&&(i.rules=t.rules),void 0!==t.includeInFormBuilder&&(i.includeInFormBuilder=t.includeInFormBuilder),void 0!==t.includeInDataForm&&(i.includeInDataForm=t.includeInDataForm),void 0!==t.normalizeMultiValuePicklistEntries&&(i.normalizeMultiValuePicklistEntries=t.normalizeMultiValuePicklistEntries),void 0!==t.excludeFrom&&(i.excludeFrom=t.excludeFrom),void 0!==t.includeInSSOValueMap&&(i.includeInSSOValueMap=t.includeInSSOValueMap),void 0!==t.availableOnPortal&&(i.availableOnPortal=t.availableOnPortal),n.isBoolean(t.gridSortable)&&(i.gridSortable=t.gridSortable),t.defaultConfigurations&&(i.defaultConfigurations=t.defaultConfigurations),null!==t.yellowfin&&!1!==t.yellowfin||delete i.yellowfin,t.yellowfin&&(n.isFunction(i.yellowfin)||n.isFunction(t.yellowfin)?i.yellowfin=t.yellowfin:i.yellowfin=n.extend({},i.yellowfin,t.yellowfin)),void 0!==t.containsFieldData&&(i.containsFieldData=t.containsFieldData),t.historyDisplayProperty&&(i.historyDisplayProperty=t.historyDisplayProperty),n.has(t,"aggregationMethods")&&(i.aggregationMethods=t.aggregationMethods),i},formExtend:function(e,t){var i=n.cloneDeep(e);return void 0!==t.name&&(i.name=t.name),void 0!==t.entity&&(i.entity=t.entity),void 0!==t.defaultFieldsLayout&&(i.defaultFieldsLayout=t.defaultFieldsLayout),void 0!==t.defaultDisplayRule&&(i.defaultDisplayRule=t.defaultDisplayRule),n.isArray(t.elements)&&n.each(t.elements,(function(e){var t=n.find(i.elements,{field:e.field});t?n.extend(t,e):i.elements.push(e)})),i},removeSeconds:o.removeSeconds,truncateNumber:o.truncateNumber,validateFileName:o.validateFileName,isValidPhoneNumber:o.isValidPhoneNumber,shiftDateTimezone:o.shiftDateTimezone,convertToEsFormattedDateTime:o.convertToEsFormattedDateTime,convertToEsFormattedDate:o.convertToEsFormattedDate,convertToEsFormattedTime:o.convertToEsFormattedTime,applyMask:function(e,t){var i=0;return t.replace(/9/g,(function(){return e[i++]}))},transformMask:function(e){return e.replace(/\D/g," ").replace(/  +/g," ").trim()},parsePhoneNumber:function(e){var t=a(e).format("E.164"),i=a(e).formatInternational(),n=i.split(" "),r=n.shift();return{phoneNumberwithE164:t,internationalNumber:i,nationalNumber:n.join(""),countryCode:r.slice(1)}},removeSpecialCharsFromPhoneNumber:function(e){if("string"==typeof e&&e){var t=e.split("");return n.filter(t,(function(e){return n.includes("+0123456789",e)})).join("")}return""},validateNumberMaxMin:function(){var e=this.fieldDef,t=e.max,i=e.min,a=this.model.get(this.field);return this.hasNullValue&&n.isNil(a)?(this.model.set(this.field,this.nullValue),!1):!(!n.isNil(a)&&(n.isNumber(t)&&a>t||n.isNumber(i)&&a<i))},getPrecision:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;if("dynamic"===e.kind)return 9+l.getScale(e);var i=n.get(e,"precision");if(n.isNumber(i)&&!Number.isNaN(i))return i;var a=n.get(e,"mask",{}),r=null==a?void 0:a.integerDigits,o=null==a?void 0:a.digits;return n.isNumber(r)&&!Number.isNaN(r)&&n.isNumber(o)&&!Number.isNaN(o)?r+o:t},getScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=n.get(e,"scale");if(n.isNumber(i)&&!Number.isNaN(i))return i;var a=n.get(e,"mask",{});return n.isNumber(null==a?void 0:a.scale)&&!Number.isNaN(null==a?void 0:a.scale)?a.scale:t},compileNumeralFormat:function(e){var t=e.fieldDef,i=e.defaultFormat,a=e.defaultScaleFormat;if(!t||!i||!a)throw new Error("missing required opts");var r=l.getScale(t,null),o=n.isNull(r)?a:n.pad("",r,"0");return n.template(i,{variable:"scale",interpolate:/{{([\s\S]+?)}}/g})(o)},coercion:r,picklistTranslationKeyFromValue:o.picklistTranslationKeyFromValue};e.exports=l},966788:(e,t,i)=>{"use strict";i(428706),i(962010),i(533110),i(944114),i(672890);var n=i(274692),a=i(96190),r=i(96190),o=r.get,s=r.isEmpty,l=r.each,d=r.sortBy,c=i(428064),u=i(939994),p=i(214608);e.exports=c.extend({field:null,selectize:null,searchCaption:null,template:p,className:"workflow-component-tmpl",getHideCurrentQuery:function(){var e=u.get({base:"sys",name:"workflow"}).query("es");return s(this.originalValue)?null:e.is_not("id",this.originalValue)},getFieldDefQuery:function(){return o(this,"fieldDef.filter")},getShouldHideCurrent:function(){return!0===o(this,"fieldDef.hideCurrent")},onInit:function(e){this.workflowNameAttribute="".concat(e.field,"__name"),!0===o(this,"fieldDef.hideCurrent")&&(this.originalValue=this.model.get(this.field),this.model.set(this.field,null))},locals:function(){return{field:this.field,ariaLabel:this.fieldDef.ariaLabel}},onSelectizeValueChange:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=s(n)?null:n;if(a!==this.model.get(this.field)){var r=this.selectize.options[a]||{},o=this.model.pickJoinData({attribute:this.field,joinedEntityData:r});o[this.field]=a,this.model.set(o),c.prototype.onEditableValueChange.apply(this,t)}},onModelChange:function(){var e=this.model.get(this.field),t=this.selectize.getOption(e);s(t)&&this.selectize.addOption({id:e,name:this.model.get(this.workflowNameAttribute)}),this.selectize.setValue(e,!0)},buildTypeahead:function(){var e=this.field,t=this.$element.selectize({valueField:"id",labelField:"name",searchField:["name"],loadThrottle:"300",preload:!1,persist:!1,create:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,sortField:"name",load:this.loadFn.bind(this),render:{option:function(t,i){return'<div id="'.concat(e,"-").concat(i(t.id),'" role="option" class="option"><span>').concat(i(t.name),"</span>\n\t\t\t\t\t\t</div>")}}});this.selectize=t[0].selectize,this.selectize.clearOptions();var i=this.model.get(this.field),n=this.model.get(this.workflowNameAttribute);return!(!i||!n||(this.selectize.addOption({id:i,name:n}),this.selectize.setValue(i,!0),0))},onRendered:function(e){this.$element=this.$('input[name="'.concat(this.field,'"]')),this.buildTypeahead()||this.model.set(this.field,null),this.model.on("change:".concat(this.field),this.onModelChange,this),this.selectize.on("change",this.onSelectizeValueChange.bind(this)),e()},onRemove:function(){this.selectize&&this.selectize.destroy(),this.model.off("change:".concat(this.field),this.onModelChange,this)},loadFn:function(e,t){e.length<1?t():n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_workflow"),{data:JSON.stringify(this.buildSearchQuery(e)),contentType:"application/json",type:"POST"}).done((function(e){var i=d(e.hits.hits,"_score").reverse(),n=[];l(i,(function(e){e&&e._source&&!s(e._source)&&n.push(e._source)})),t(n)}))},buildSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=u.get({base:"sys",name:"workflow"}).query("es");return{search:{query:i.and([i.and([i.contains_partial("name",e)]),this.getShouldHideCurrent()&&this.getHideCurrentQuery(),this.getFieldDefQuery()]).toQuery(),size:t}}}})},782643:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(966788)})},702683:(e,t,i)=>{"use strict";var n=i(96190).escape,a=i(447578),r=i(656409);e.exports=a.extend(r,{name:"workflowName",caption:"Workflow Name",db:{foreign:"sys_workflow",defaultJoinAttribute:"name",join:["entityName","name","hardLocked"]},ui:{component:function(){return i(966788)},formComponent:function(){return i(782643)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"contains_exact_words":case"does_not_contain":case"does_not_contain_exact_words":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(966788)}}},es:{mapping:{type:"keyword",fields:{_english:{type:"text",analyzer:"english"},_exact:{type:"keyword"},_exactWords:{type:"text",analyzer:"standard"},_partial:{type:"text",analyzer:"typeahead",search_analyzer:"standard"},_exactKeywordLowercase:{type:"keyword",normalizer:"lowercase_normalizer"}}},sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactKeywordLowercase")}},operators:i(184962),escape:function(e){return n(e)},format:function(e,t){if(!e)return null;var i=t.fieldDef.field;return t.data["".concat(i,"__name")]||null}})},128177:(e,t,i)=>{"use strict";var n=i(447578),a=i(17783);e.exports=n.extend(a,{name:"workflowPicklist",caption:"Workflow",db:{foreign:"sys_workflow",defaultJoinAttribute:"name",join:["name","entityName","sysActive","sysSubmitted","status"]}})},780793:(e,t,i)=>{"use strict";var n=i(447578),a=i(17783);e.exports=n.extend(a,{name:"workflowState",caption:"Workflow State",db:{foreign:"sys_state",defaultJoinAttribute:"name",join:["name","description","primaryState","default"]}})},688673:(e,t,i)=>{"use strict";i(533110),i(944114);var n=i(274692),a=i(96190),r=i(966788),o=i(489371);e.exports=r.extend({template:o,className:"workflow-status-component-tmpl",onInit:function(e){var t;r.prototype.onInit.call(this,e),this.workflowName=null===(t=e.fieldDef)||void 0===t?void 0:t.caption},loadFn:function(e,t){var i=this;e.length<1?t():n.ajax("".concat($appData.globalConfig.apiRoot,"/search/sys_state"),{data:JSON.stringify(this.buildSearchQuery(e)),contentType:"application/json",type:"POST"}).done((function(e){var n=a.sortBy(e.hits.hits,"_score").reverse(),r={},o=[];a.each(n,(function(e){var t;null!==(t=e._source)&&void 0!==t&&t.copiedToId&&(r[e._source.copiedToId]=!0)})),a.each(n,(function(e){var t,n;r[null===(t=e._source)||void 0===t?void 0:t.id]||i.workflowName!==(null===(n=e._source)||void 0===n?void 0:n.workflowId__name)||o.push(e._source)})),t(o)}))}})},322154:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(428706);var n=i(96190),a=i(656409),r=i(955505),o=i(447578),s=i(955505).getOperators("es"),l=o.extend(a,{name:"workflowStatus",caption:"Workflow Status",db:{foreign:"sys_state",defaultJoinAttribute:"id",join:["name","description","primaryState","default"]},es:n.extend({},r.es,{sort:function(e){return"".concat(e.fieldDef.field,"__formatted._exactLowercase")}}),operators:{es:n.extend({},a.getOperators("es"),{contains:s.contains}),obj:a.getOperators("obj")},escape:function(e){return n.escape(e)},ui:{cellTemplate:function(){return i(646509)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":return t.textbox.ui.searchComponent();case"is_not_empty":case"is_empty":return null;default:return i(688673)}},gridConfiguration:{dataFilterComponent:function(){return i(523835)},dataFilterOperators:{is_any:{getFilterData:function(e){return{operator:"is_any",fieldValues:e.values}}}}},gridFilterUniqueIdentifiers:["typeOptions.workflowId"]},format:function(e,t){if(!e)return"";var i=t.fieldDef.field;return t.data["".concat(i,"__").concat("name")]||""}});e.exports=l},523835:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(533110),i(123792),i(426099),i(962953),i(944114),i(962010),i(428706),i(250113);var r=i(96190),o=i(274692),s=i(40785),l=i(939994),d=i(810489);e.exports=d.extend({FilterOptionsMenuView:i(174989),className:"workflow-status-grid-data-filter-component-tmpl",customFilterOptionsMenuOpts:{enableSearch:!0,sortList:!1,showClearAllBtn:!0,allowNoOptionsSelected:!0,searchPlaceholder:s.translateKey({groupName:"placeholders",key:"search_workflow_status"})},onInit:function(){this.filterOptionName="is_any",this.fieldDef=this.getFieldDef(),this.workflowId=r.get(this,"fieldDef.typeOptions.workflowId"),this.entDef=l.get("sys/state"),this.fieldName=this.model.get("fieldName")},getNoValueOption:function(){return{caption:s.translateKey("empty"),value:""}},getFilters:function(){return this.entDef.query().is("workflowId",this.workflowId).toQuery()},getAllFilterOptions:function(e){var t=this;o.ajax("".concat($appData.globalConfig.apiRoot,"/grid_search/sys_state"),{contentType:"application/json",type:"POST",data:JSON.stringify({size:100,from:0,filters:this.getFilters()})}).done((function(i){var n=i.hits.hits,o={};r.each(n,(function(e){var t=e._source;t&&null!=t&&t.copiedToId&&(o[t.copiedToId]=!0)}));var s,l=r.chain(n).reduce((function(e,t){var i;return o[null===(i=t._source)||void 0===i?void 0:i.id]||e.push({caption:t._source.name,value:t._source.id}),e}),[]).sortBy("caption").values(),d=[t.getNoValueOption()].concat(function(e){if(Array.isArray(e))return a(e)}(s=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return e(null,t.addMissingFilterOptions(d))}))},getMissingFilterCaption:function(e){var t,i,a,o=this.model.getFilterData()[0],l=r.find(o.joinData,(t={},i=this.fieldName,a=e,(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t));return(null==l?void 0:l["".concat(this.fieldName,"__name")])||s.translateKey("deleted_workflow_status")},getSelectedFilterValues:function(e){return e[0].fieldValues},getSelectedFilterOptions:function(){var e=this,t=this.model.getUniqueFilterData()[0];return r.reduce(t.fieldValues,(function(t,i){return i?t.push(i):t.push(e.getNoValueOption().value),t}),[])}})},365316:(e,t,i)=>{"use strict";i(428706),i(752675),i(489463),i(533110),i(962062),i(426099),i(423500);var n=i(274692),a=i(96190),r=i(99840);e.exports=r.extend({getSelectizeOptions:function(){var e=this;return{valueField:"id",labelField:this.textField,loadThrottle:"100",searchField:this.textField,sortField:this.textField,preload:!0,create:!1,plugins:["remove_button"],placeholder:a.get(this,"fieldDef.typeOptions.placeholder",this.searchCaption),maxItems:1,load:this.loadFn.bind(this),render:{option:function(t,i){return'<div id="'.concat(i(t.id),'" role="option" class="option">\n\t\t\t\t\t\t<span>').concat(i(t[e.textField]),"</span>\n\t\t\t\t\t\t").concat(t.description?'<span class="highlight-sub-search-block">\n\t\t\t\t\t\t'.concat(i(t.description),"</span>"):"",'\n\t\t\t\t\t\t<span class="highlight-sub-search-block">\n\t\t\t\t\t\t\t').concat(i(t.stateFromId__name),'\n\t\t\t\t\t\t\t<i class="fa fa-icon fa-long-arrow-right"></i>\n\t\t\t\t\t\t\t').concat(i(t.stateToId__name),"\n\t\t\t\t\t\t</span></div>")}}}},buildQuery:function(e){var t,i=!this.model.get("workflowId__sysActive"),n=this.entDef.query("es"),r=30;this.filterBy&&this.model.get(this.filterBy)?t=n.and([n.is(this.filterBy,this.model.get(this.filterBy)),!a.isEmpty(e)&&n.contains(this.textField,e)]):this.filterBy&&(r=0);var o=a.get(this,"fieldDef.filter");return{search:{query:n=n.and([t,{term:{sysSubmitted:!0}},o]).toQuery(),size:r,from:0},showInactiveRecords:i}},loadFn:function(e,t){var i=this;n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/").concat(this.entityTable),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(this.buildQuery(e))}).done((function(e){var n=a.map(e.hits.hits,"_source");i.updateExistingOptions(n),t(n)}))},updateExistingOptions:function(e){var t=this;a.forEach(e,(function(e){t.selectize.options[e.id]&&t.selectize.updateOption(e.id,e)}))}})},478374:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(365316)})},653275:(e,t,i)=>{"use strict";var n=i(447578),a=i(17783);e.exports=n.extend(a,{name:"workflowTransition",caption:"Workflow Transition",db:{foreign:"sys_transition",defaultJoinAttribute:"name",join:["name"]},ui:{component:function(){return i(365316)},formComponent:function(){return i(478374)}}})},28435:(e,t,i)=>{"use strict";var n=i(96190),a=i(40785),r=i(428064);e.exports=r.extend({$no:null,$yes:null,field:null,template:i(292557),className:"yesno-component-tmpl",onInit:function(){var e=this.model.get(this.field);n.isBoolean(e)||!0===n.get(this,"fieldDef.allowNull")||this.model.set(this.field,!1)},locals:function(){return{field:this.field,noCaption:a.translateKey({key:"no"}),yesCaption:a.translateKey({key:"yes"}),value:this.model.get(this.field),ariaLabel:this.fieldDef.ariaLabel,inputname:this.cid}},events:{'change input[type="radio"]':"onEditibleValueChange"},onEditibleValueChange:function(){var e=this.model.get(this.field),t=null;if(this.$yes.is(":checked")?t=!0:this.$no.is(":checked")&&(t=!1),t!==e){this.model.set(this.field,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];r.prototype.onEditableValueChange.apply(this,n)}},onModelChange:function(){var e=this.model.get(this.field);!0===e?(this.$yes.prop("checked",!0),this.$no.prop("checked",!1)):!1===e?(this.$no.prop("checked",!0),this.$yes.prop("checked",!1)):(this.$yes.prop("checked",!1),this.$no.prop("checked",!1))},onRendered:function(e){this.$yes=this.$('input[type="radio"][value="yes"]'),this.$no=this.$('input[type="radio"][value="no"]'),this.model.on("change:".concat(this.field),this.onModelChange,this),e()},onRemove:function(){this.model.off("change:".concat(this.field),this.onModelChange,this)}})},720390:(e,t,i)=>{"use strict";var n=i(386859);e.exports=n.extend({Component:i(28435)})},939026:(e,t,i)=>{"use strict";var n=i(794503);e.exports=n.extend({Component:i(28435)})},629220:(e,t,i)=>{"use strict";var n=i(96190),a=i(447578),r=i(167590);e.exports=a.extend(r,{name:"yesno",caption:"Yes/No",description:"An input field where the user can enter data.",includeInFormBuilder:!1,includeInSSOValueMap:!0,ui:{component:function(){return i(28435)},formComponent:function(){return i(939026)},searchComponent:function(e){var t=i(809375);switch(e){case"contains":case"does_not_contain":return t.textbox.ui.searchComponent();case"is_empty":case"is_not_empty":return null;default:return i(28435)}},gridConfiguration:{dataFilterComponent:function(){return i(146623)},dataFilterOperators:{is:{getCaption:function(e){return e.translateKey("is")},getFilterData:function(e){return{operator:"is",fieldValues:[e.value]}}},is_not:{getCaption:function(e){return e.translateKey("is_not")},getFilterData:function(e){return{operator:"is_not",fieldValues:[e.value]}}},is_empty:{getCaption:function(e){return e.translateKey("is_empty")},getFilterData:function(e){return{operator:"is_empty",fieldValues:[]}}}}},dragComponent:function(){return i(720390)},defaultValueOnPropertiesForm:!1,createForm:"textbox-properties-form",propertiesForm:"textbox-properties-form",configurationTabs:function(){return i(101786)},icon:"fa-circle-o"},escape:function(e){return n.escape(e)},format:function(e,t){return!0===e?t.translateKey({key:"yes"}):!1===e?t.translateKey({key:"no"}):""}})},598938:(e,t,i)=>{"use strict";var n=i(550095),a=i(83119);e.exports=[{id:"properties",caption:"properties",View:n,default:!0},{id:"rules",caption:"rules",View:a,disableSave:!0,disableForStaticTab:!0}]},831208:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(879432),i(83851),i(681278),i(802259),i(747764),i(523418),i(134782),i(690906),i(962010),i(426099),i(944114),i(250113),i(962062),i(202008),i(428706),i(533110),i(123792),i(962953),i(839202),i(343359),i(327495),i(725440),i(423500),i(879978),i(884864),i(757465),i(87745),i(938781),i(311927),i(816034),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(672890),i(312166);var o=i(96190),s=i(274692),l=i(330747),d=i(410114).A,c=i(896727),u=i(354960),p=i(435557),f=i(401335),h=i(408219),m=i(680553),g=i(18063),y=i(644438),v=i(621299),b=i(40785),w=i(809375),A=i(93216),C=i(344427),k=i(45701);e.exports=u.extend({selectize:null,className:"data-form-section-component-tmpl",template:i(804836),minQueryLength:3,events:{"mousedown .search-control-btn":"onSearchClickedThrottled","click .clear-fields-btn":"onClearSectionClickedThrottled","mousedown .select-all button":"onSearchClickedThrottled"},sizes:{default:{searchLabelWidth:"col-xs-12 col-sm-2",searchContainerWidth:"col-xs-12 col-sm-3"}},_getSearchCaption:function(){var e=b.translateKey({groupName:this.dataForm,subgroupName:"general",key:"nameplural"},{missingTranslationValue:""});return b.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_entity"},{context:{captionPlural:e}})},_getClearCaption:function(){return b.translateKey("clear_data_form_section_modal_title",{context:{name:this.caption}})},onReadOnlyChange:function(){this.model.readOnly?this.$(".search-component").hide():(this.$(".search-component").show(),this.addEditModeTooltips(),this.updateValidationTooltips())},locals:function(){var e=u.prototype.locals.call(this),t=this.sizes.default.searchLabelWidth,i=this.sizes.default.searchContainerWidth;return this.defaultFieldsLayout&&(this.defaultFieldsLayout.labelWidth&&(t=this.defaultFieldsLayout.labelWidth),this.defaultFieldsLayout.width&&(i=this.defaultFieldsLayout.width)),function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({searchAriaLabel:this._getSearchCaption(),clearAriaLabel:this._getClearCaption(),showSearch:this.showSearch,searchLabelWidth:t,searchContainerWidth:i},e)},onInit:function(e){this.maxRecentSelections=e.maxRecentSelections||3,this.dataFormEntDef=b.getEntDef(this.dataForm),this.dataFormEntDef&&(this.userPreferenceKey="".concat(o.camelCase(this.dataFormEntDef.entity.name),"RecentSearches"),this.cacheableFieldNames=b.getCacheableFieldNames(this.dataFormEntDef.fields()),this.searchCaption=this._getSearchCaption());var t=o.keyBy(this.fields,"id");this.sectionFields=o.reduce(this.elements,(function(e,i){var n=t[i.fieldId];return n&&e.push(n),e}),[]),this.showSearch=this._canViewDataFormEntries()},_canViewDataFormEntries:function(){return!this._isDataFormDeactivated()&&(A.hasRole("external_user")?this.dataFormEntDef.allowOnPortal:A.hasRole("hotline_agent")?this.dataFormEntDef.allowOnHotline:A.hasRole(["view_data_form_entry","dataForm-view:".concat(this.dataFormEntDef.dynamicEntityId)],"OR"))},_isDataFormDeactivated:function(){return!this.dataFormEntDef||!b.getEntDef(this.dataFormEntDef.entity)},_getSortedDataFormFields:function(){if(this._isDataFormDeactivated())return[];var e=this.dataFormEntDef.fields(),t=o.find($appData.layouts,{id:this.dataFormEntDef.layoutId});return o.map(t.elements,(function(t){if("field"!==!t.layoutType)return o.find(e,{id:t.fieldId})}))},_getSearchableFields:function(){var e=k.getEnabledFeatures(),t=this.dataFormEntDef.getSearchableFields("contains",e);return o.filter(t,{dynamicKind:"editable"})},_loadFn:function(e,t){if(e.length<this.minQueryLength)return t([]);if(this._isDataFormDeactivated())return c.error(b.translateKey({groupName:"errors",subgroupName:"general",key:"invalid_entity_id"})),t([]);var i=$appData.globalConfig,n=i.autoPopulateMaxValueLength,a=i.autoPopulateMaxHighlightsPerField;this.selectize.clearCache(),this.selectize.clearOptions();var r=g.must(y.getAllTermsEntitesQuery({entDefs:[this.dataFormEntDef],searchText:e,operator:"contains",fields:this._getSearchableFields(),context:{globalOptions:$appData.globalConfig},enabledFeatures:k.getEnabledFeatures()}));if(!r)return t([]);s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/").concat(o.snakeCase(this.dataForm)),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{query:r,from:0,size:10},entityType:this.dataForm,highlightOperator$:"contains",fragmentSize$:n,numberOfFragments$:a,showInactiveRecords:!1})}).done((function(i){var n=o.map(i.hits.hits,(function(t){var i=t._source,n=v.getHighlights(t,e);return o.assign(i,{highlightedFields:n},{optgroup:"searchResults"}),i}))||[];t(n)}))},_getRecentSearchesOptions:function(){if(this.userPreferencesModel||(this.userPreferencesModel=new h),!this.recentSearches&&(this.recentSearches=o.clone(this.userPreferencesModel.getPreference(this.userPreferenceKey))||[],this.recentSearches.length>0)){var e=o.keys(this.recentSearches[0]);if(o.difference(e,this.cacheableFieldNames).length>0)return this.userPreferencesModel.setPreference(this.userPreferenceKey,[]),[]}return o.map(this.recentSearches,(function(e){return o.assign({optgroup:"recentSearches"},e)}))},_refreshSelectize:function(){this.selectize.$dropdown.find(".no-matches").hide(),this.selectize.clearCache(),this.selectize.loadedSearches={};var e=this._getRecentSearchesOptions();this.selectize.clearOptions(),this.selectize.addOption(e),this.selectize.refreshOptions(!1)},_onOptionSelect:function(e){var t=s(e.target);if(t.closest(".read-more").length>0||t.hasClass("read-more")){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation();var i=s(e.currentTarget).closest("[data-selectable]");i.siblings(".expanded").removeClass("expanded"),i.toggleClass("expanded")}else this.originalOnOptionSelect(e)},_refreshOptions:function(e){this.originalRefreshOptions(e),this.$dropdown_content.find(".option").each((function(){var e=s(this);e.find(".option-content").first().innerHeight()<50&&e.find(".read-more").hide()}))},_truncateVal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$appData.globalConfig.autoPopulateMaxValueLength;if(!o.isString(e))return"";var i=s("<div>".concat(e,"</div>")).text().replace(/\s+/g," ").trimStart().trimEnd();return t?d(i,t,{breakWords:!0,indicator:""}):i},_getSelectizeOptions:function(){var e=this,t=this.caption;return{valueField:"id",dontFilter:!0,highlight:!1,loadThrottle:"300",preload:!1,create:!1,persist:!1,hideSelected:!0,placeholder:e.searchCaption,maxItems:"1",optgroups:[{value:"recentSearches",label:b.translateKey("most_recent_selections")},{value:"searchResults",label:""}],options:this._getRecentSearchesOptions(),onInitialize:function(){this.$dropdown.off("click"),this.originalOnOptionSelect=this.onOptionSelect,this.onOptionSelect=e._onOptionSelect,this.originalRefreshOptions=this.refreshOptions,this.refreshOptions=e._refreshOptions},load:e._loadFn.bind(e),onLoad:function(t){var i=this.$dropdown.find(".no-matches"),n=this.$control_input.val(),a=!e.recentSearches||0!==e.recentSearches.length;i.hide(),0===t.length&&n.length>=e.minQueryLength?(this.refreshOptions(),i.show(),this.$dropdown.show()):0===t.length&&a?(e._refreshSelectize(),this.$dropdown.show()):0===t.length&&this.$dropdown.hide(),this.$dropdown_content.scrollTop(0)},onDropdownOpen:function(){this.$dropdown_content.scrollTop(0)},onBlur:function(){e._refreshSelectize.call(e)},onChange:function(){this.clear(!0),e._refreshSelectize.call(e)},render:{option:function(i,n){var a=$appData.globalConfig,r=a.autoPopulateMaxFieldsToShow,s=a.autoPopulateFormFieldsToShow,l=[],d=new f(i).getHighlightedData({escape:!0});return o.forEach(e._getSortedDataFormFields(),(function(t,n){if(l.length===r)return!1;var a=n<s,c=o.find(null==d?void 0:d.highlightedFields,{fieldName:t.field});if(a||c){var u;if(c)u=o.map(c.highlight,(function(t){var i=e._truncateVal(t,0),n=e.selectize.$control_input.val();return i.replaceAll(new RegExp("(".concat(n,")"),"ig"),'<span class="highlight-result">$1</span>')})).join(", ");else{var p=w[t.type];u=i[t.field],p.format&&(u=p.format(u,{globalOptions:$appData.globalConfig,fieldDef:t,translateKey:b.translateKey})),u=e._truncateVal(u)}var f=b.translateFieldCaption({fieldName:t.field,entCanon:e.dataFormEntDef.entityCanon});l.push('<span class="caption">'.concat(f,"</span>:")+' <span class="val">'.concat(u,"</span>"))}})),'<div id="'.concat(t,"-").concat(n(i.id),'" role="option" class="option">\n\t\t\t\t\t\t\t\t<div class="option-content">').concat(o.join(l,", "),'</div>\n\t\t\t\t\t\t\t\t<div class="read-more fade-away">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-chevron-down fa-fw"></i>\n\t\t\t\t\t\t\t\t\t<i class="fa fa-chevron-up fa-fw"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>')},item:function(t,i){var n=new f(t);return e._onRowClicked(n),"<div></div>"}}}},_buildTypeahead:function(){var e=this.$(".data-form-section-search input").selectize(this._getSelectizeOptions());this.selectize=e[0].selectize;var t='<div class="select-all"><button class="btn-link btn">'.concat(b.escapedTranslateKey("view_all"),"</button></div>"),i='<div class="no-matches" style="display: none;">'.concat(b.escapedTranslateKey("no_matches_found"),"</div>");this.selectize.$dropdown.append(i),this.selectize.$dropdown.append(t)},updateReadOnlyFields:function(){this.$readOnlyFields.removeClass("readonly"),this.showSearch&&this.$readOnlyFields.each((function(){s(this).find("input, select, textarea, fieldset").each((function(){s(this).data("state","disabled"),this.selectize?this.selectize.disable():l.instances[this.id]?l.instances[this.id].setReadOnly(!0):this.setAttribute("disabled","disabled")}))}))},addEditModeTooltips:function(){if(this.showSearch){var e=this,t=b.translateKey({groupName:"sys/data_form_section_layout_type",subgroupName:"general",key:"read_only_tooltip"}),i=b.translateKey({groupName:"sys/data_form_section_layout_type",subgroupName:"general",key:"submit_only_tooltip"});this.$readOnlyFields.each((function(){var n=s(this);if(!n.hasClass("has-error")){var a=n.find(".component-container"),r=n.hasClass("submit-only")?i:t;a.data("original-title")!==r&&a.attr("title",r).tooltip({placement:"right",template:b.getTooltipTemplate({customClasses:"data-form-section-read-only-tooltip"})}).tooltip("fixTitle").on("inserted.bs.tooltip",(function(t){e.model.readOnly&&s(t.target).data("bs.tooltip").$tip.hide()}))}}))}},updateValidationTooltips:function(){s(".validation-tooltip").each((function(){var e=s(this).data("bs.tooltip"),t=e.options.animation;e.options.animation=!1,e.show(),e.options.animation=t}))},onRendered:function(e){this.$readOnlyFields=this.$(".elements > .readonly:not(.search-component)"),this.updateReadOnlyFields(),this.onReadOnlyChange();var t=o.map(this.sectionFields,(function(e){return"change:".concat(e.field)})).join(" ");this.model.on(t,this._toggleClearButtonThrottled,this),this.model.on("readOnlyChange",this.onReadOnlyChange,this),this.showSearch&&this._buildTypeahead(),this._toggleClearButtonThrottled(),e()},onRemove:function(){var e=o.map(this.sectionFields,(function(e){return"change:".concat(e.field)})).join(" ");this.model.off(e,this._toggleClearButtonThrottled,this),this.model.off("readOnlyChange",this.onReadOnlyChange,this)},_checkAndRemoveSearchView:function(){this.searchModalView&&(m.remove(this.searchModalView),this.searchModalView=null)},_getDataFormFieldDef:function(e){return this._isDataFormDeactivated()?null:this.dataFormEntDef.fields()[e]},_isNotSubmittedOrActive:function(){return!this.model.get("sysSubmitted")||!this.model.get("sysActive")},_onRowClicked:function(e){var t,i=this;if(!o.find(this.recentSearches,{id:e.get("id")})){var n=o.pick(e.attributes,this.cacheableFieldNames),r=o.omit(n,"id");Object.values(r).every((function(e){return null===e}))||(this.recentSearches=[n].concat(function(e){if(Array.isArray(e))return a(e)}(t=this.recentSearches)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.recentSearches.length>this.maxRecentSelections&&this.recentSearches.pop(),this.userPreferencesModel.setPreference(this.userPreferenceKey,this.recentSearches))}var s={};o.each(this.sectionFields,(function(t){var n=!!i._getDataFormFieldDef(t.mappedField);("submit-only"!==t.dynamicKind||i._isNotSubmittedOrActive())&&t.mappedField&&n&&(s[t.field]=e.get(t.mappedField),i.model.addDirtyField(t.field))})),this.model.set(s),this._checkAndRemoveSearchView()},_renderSearchView:function(e){if(this._checkAndRemoveSearchView(),this._isDataFormDeactivated())return c.error(b.translateKey({groupName:"errors",subgroupName:"general",key:"invalid_entity_id"}));this.searchModalView=new p({onRowClicked:this._onRowClicked.bind(this),searchText:e,entDef:this.dataFormEntDef,model:this.model}),this.addSubView(this.searchModalView).renderAsModal()},onSearchClickedThrottled:o.throttle((function(){var e=this.selectize.lastValue;this._renderSearchView(e)}),$appData.globalConfig.buttonClickEventsThrottle),onClearSectionClickedThrottled:o.throttle((function(){var e=this,t=this.model.attributes.sysSubmitted?"clear_data_form_section_modal_content_except_submit_only":"clear_data_form_section_modal_content";C.display(b.translateKey(t),{type:"confirm",title:this._getClearCaption(),confirmCaption:"clear_data_form_section_modal_confirm_caption",cancelCaption:"clear_data_form_section_modal_cancel_caption",callback:function(t){t&&o.forEach(e.sectionFields,(function(t){("submit-only"!==t.dynamicKind||e._isNotSubmittedOrActive())&&e.model.set(t.field,"toggle"!==t.type&&"checkbox"!==t.type&&null)}))}})}),$appData.globalConfig.buttonClickEventsThrottle),_toggleClearButtonThrottled:o.throttle((function(){var e=this,t=this.$(".clear-fields-btn");o.some(this.sectionFields,(function(t){var i=e.model.get(t.field);return!o.isNull(i)&&("color"===t.type?i&&i!==$appData.globalConfig.defaultColor:"number"==typeof i||("object"===n(i)?!o.isEmpty(i):i))}))?t.removeAttr("disabled"):t.attr("disabled","disabled")}),$appData.globalConfig.defaultThrottle)})},265747:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(866455);var o=i(432283),s=i(40785);e.exports=o.extend({className:"base-drag-component-tmpl data-form-section-drag-component-tmpl",template:i(858067),events:{"hide.bs.collapse .data-form-section-fields":"onCollapseHide","show.bs.collapse .data-form-section-fields":"onCollapseShow","hidden.bs.collapse .collapse":"onCollapseHidden","shown.bs.collapse .collapse":"onCollapseShown"},_getPlaceholderTranslation:function(){var e=s.translateKey({groupName:this.model.get("dataForm__canon"),subgroupName:"general",key:"nameplural"},{missingTranslationValue:""});return s.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_entity"},{context:{captionPlural:e},missingTranslationValue:""})},_updatePlaceholderTranslation:function(){var e=this._getPlaceholderTranslation();this.$(".data-form-section-search input").attr("placeholder",e)},locals:function(){return r(r({},o.prototype.locals.call(this)),{},{placeHolderText:this._getPlaceholderTranslation()})},onRendered:function(e){this.model.on("saved",this._updatePlaceholderTranslation,this),o.prototype.onRendered.call(this,e),this.$collapseControl=this.$("#data-form-section-collapse-control-".concat(this.cid)),this.$control=this.$(".data-form-section-collapse-control:first")},remove:function(){var e;this.model.off("saved",this._updatePlaceholderTranslation,this);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=o.prototype.remove).call.apply(e,[this].concat(i))}})},111583:(e,t,i)=>{"use strict";e.exports={name:"data-form-section",caption:"Data Form Section",includeInFormBuilder:!0,includeInDataForm:!1,description:"Select a data form that will auto-populate data for your users. Filled data form entries of the data form must be complete.",ui:{formComponent:function(){return i(831208)},dragComponent:function(){return i(265747)},configurationTabs:function(){return i(598938)},createForm:"data-form-section-properties-form",propertiesForm:"data-form-section-properties-form",icon:"fa-database"}}},435557:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(96190),a=i(325425),r=i(219531),o=i(262686),s=i(40785),l=i(45701);e.exports=a.extend({className:"search-modal-tmpl",template:i(303059),onInit:function(e){this.entDef=e.entDef,this.options=e},locals:function(){var e=a.prototype.locals.call(this),t=s.translateKey({groupName:this.entDef.entityCanon,subgroupName:"general",key:"name"},{missingTranslationValue:""});return e.title=s.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_title_entity"},{context:{caption:t}}),e},_getSearchableFields:function(){var e=l.getEnabledFeatures(),t=this.entDef.getSearchableFields("contains",e);return n.filter(t,{dynamicKind:"editable"})},onRendered:function(){var e,t;function i(e){return n.filter(e,(function(e){return"dynamic"===e.kind}))}this.entitySearchWithResultsView=new o({entity:this.entDef.entity,initialSearchText:this.options.searchText,dataContainerOptions:{enableResetDefault:!(null!==(e=this.options.model)&&void 0!==e&&e.isExternalForm()),enableDefaultConfiguration:!(null!==(t=this.options.model)&&void 0!==t&&t.isExternalForm()),collection:new r(null,{entDefs:[this.entDef],fields:this._getSearchableFields()}),configName:"dataForm:".concat(this.entDef.entDef.id),selectOptionsMenuFilter:i,pluginOptions:{exportFieldFilter:i,onRowClicked:this.options.onRowClicked}}}),this.addSubView(this.entitySearchWithResultsView).render(this.$("#search-container"))}})},732233:(e,t,i)=>{"use strict";i(16280),i(428706),i(962010),i(327495),i(725440),i(123885);var n=i(96190),a=i(504542),r=i(608758),o=i(879176),s=i(219531),l=i(810191),d=i(680553),c=i(45701),u=i(185999),p=i(40785);e.exports=a.View.extend({template:i(162047),className:"entity-grid-component-tmpl",getCollection:function(){return this.entDef.isDynamicEntity()?s:this.entDef.collection?this.entDef.collection():l.extend({entity:this.entDef.entity})},initialize:function(e){if(n.extend(this,e),!this.gridEntity)throw new Error("gridEntity required");if(this.entDef=p.getEntDef(this.gridEntity),this.entDef){this.Collection=this.getCollection(),p.hideByIntakeMethod({$el:this.$el,entDef:this.entDef,model:this.model,hideOnIntakeLayout:this.hideOnIntake,showOnPortalLayout:!n.has(this,"showOnPortal")||this.showOnPortal,showOnHotlineLayout:!n.has(this,"showOnHotline")||this.showOnHotline}),this.loader=d.getByRef("main-loader");var t=this.displayRule||this.displayRuleGroupId;t&&this.$el.attr("data-display-rule",t)}this.templateName=this.template.templateName,this.handle="".concat(this.templateName,"-").concat(this.cid),this.layoutId=this.id,this.id=this.handle,this.$el.attr("data-handle",this.handle)},addSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.reference,n=t.group;return d.add(e,{parent:this.handle,reference:i,group:n})},getAddBtnRoute:function(){return this.entDef.isDynamicEntity()?"/form/".concat(this.entDef.entity.name,"/new"):$appData.router.entityMap["-/".concat(this.entDef.entityCanon)].replace("{id}","new")},showMainLoader:function(){this.loader&&this.loader.show({overlay:!0})},hideMainLoader:function(){this.loader&&this.loader.hide()},getAddBtnId:function(){return"entity-grid-".concat(this.layoutId,"-add-btn")},saveCase:function(e){var t=this,i={};this.model.isNew()&&(i.sysSubmitted=!1),this.model.save(i,{success:function(){return e()},error:function(i){t.hideMainLoader(),e(i)},validate:!1})},onAddBtnClick:function(){var e=this;this.saveCase((function(t){var i;if(!t){var n=e.model.id;null===(i=e.parentFormView)||void 0===i||i.disableDraftHandling(),$appData.appRouter.navigate("/case/".concat(n).concat(e.model.readOnly?"":"/edit")),p.navigateTo("/case/".concat(n).concat(e.getAddBtnRoute()),{initiator:e.getAddBtnId()})}}))},onRowClicked:function(e){var t=this;this.saveCase((function(i){var n;i||(null===(n=t.parentFormView)||void 0===n||n.disableDraftHandling(),$appData.appRouter.navigate("/case/".concat(t.model.id).concat(t.model.readOnly?"":"/edit")),p.navigateToUrlByModelType(e,{initiator:t.id}))}))},renderGrid:function(e){var t=!!this.model.id,i=p.translateKey({groupName:this.entDef.entityCanon,subgroupName:"actions",key:"add"}),a=new o({title:p.translateKey({groupName:this.model.getEntityCanon(),subgroupName:"layouts",key:p.getTranslationKeyFromFieldValue(this.caption)}),configName:"entityGrid:".concat(this.originalId),collection:new this.Collection(null,{entDefs:[this.entDef],caseId:this.model.id,showInactiveRecords:!0}),lightLayout:!0,enableDataFilters:!1,enableSearchFilter:!1,fetchOnRender:t,alwaysOnFilters:t?null:[u.impossibleTerm()],pluginsOptions:[{enableBatchExport:!this.model.isNew()&&!this.model.isDraft(),enableDragColumns:!0,enableDynamicColumns:!0,multiSelect:!1,onRowClicked:this.onRowClicked.bind(this)}],buttons:[n.extend({btnId:this.getAddBtnId(),onClicked:this.onAddBtnClick.bind(this),btnClasses:"btn btn-md buttons-bar-btn-secondary buttons-bar-btn-with-icon buttons-bar-btn-no-caption",ariaLabel:i,icon:"fa-plus",iconBefore:!0,tooltip:{container:this.$el,placement:"top",trigger:"hover",title:i},navigationAnchor:!0},p.getDefaultAddBtnControls(this.entDef,this.model))],helpText:this.helpText});this.addSubView(a).render(this.$(".entity-grid-container")).done(e)},render:function(e,t){var i=this;n.isFunction(e)&&(t=e,e=null);var a=c.isEnabled("entityGrids");if(!this.entDef||!a)return t();r.render(this.template,{},(function(e,n){if(e)return t(e);setTimeout((function(){i.$el.html(n),i.renderGrid(t)}),0)}))}})},231384:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706);var o=i(386859),s=i(40785);e.exports=o.extend({className:"base-drag-component-tmpl entity-grid-drag-component-tmpl",Component:i(732233),template:i(828682),onInit:function(){this.gridEntityEntDef=s.getEntDef(this.model.get("gridEntity")),this.model.on("change:gridEntity",this.onGridEntityChange,this)},isGridEntityInactive:function(){return this.model.get("gridEntity")&&!this.gridEntityEntDef},getEntityIcon:function(){return!this.gridEntityEntDef||this.gridEntityEntDef.dynamic||this.gridEntityEntDef.customForm?s.getEntDef("isight/dynamic_entity").icon:this.gridEntityEntDef.icon?this.gridEntityEntDef.icon:"fa-file-o"},locals:function(){var e=o.prototype.locals.call(this),t=this.isGridEntityInactive(),i=this.model.get("caption");return i&&t&&(i="".concat(i," (").concat(s.translateKey("unavailable"),")")),r(r({},e),{},{entityIsInactive:t,entityGridCaption:i,entityIcon:this.getEntityIcon(),hasCaption:!!this.caption})},toggleInactiveUIElements:function(){if(this.isGridEntityInactive())return this.$el.attr("title",s.escapedTranslateKey("entity_grid_inactive_form")),this.$tooltip=this.$el.tooltip(),void this.$el.closest(".layout-card-tmpl").addClass("warning");this.$tooltip&&(this.$tooltip.tooltip("destroy"),this.$tooltip=null,this.$el.removeAttr("title"),this.$el.closest(".layout-card-tmpl").removeClass("warning"))},onRendered:function(e){this.toggleInactiveUIElements(),e()},onRemove:function(){this.model.off("change:gridEntity",this.onGridEntityChange,this)},renderComponent:function(e){e()},onGridEntityChange:function(e,t){this.gridEntityEntDef=s.getEntDef(t),this.toggleInactiveUIElements()}})},306642:(e,t,i)=>{"use strict";e.exports={name:"entity-grid",caption:"Entity Grid",includeInFormBuilder:["sys/case"],includeInDataForm:!1,description:"",features:["entityGrids"],ui:{formComponent:function(){return i(732233)},dragComponent:function(){return i(231384)},configurationTabs:function(){return i(598938)},createForm:"entity-grid-properties-form",propertiesForm:"entity-grid-properties-form",icon:"fa-table"},model:function(){return i(867262)}}},519679:(e,t,i)=>{"use strict";var n=i(260556).aj,a=i(96190),r=i(504542);e.exports=r.View.extend({className:"form-group col-xs-12 html-text-component-tmpl",initialize:function(e){a.extend(this,e),this.id=this.cid,this.handle=this.cid,this.$el.attr("data-handle",this.handle),this.displayRule&&this.$el.attr("data-display-rule",this.displayRule),this.onInit&&this.onInit(e),this.caption&&(this.text=this.caption)},render:function(e){var t=this;return t.$el.html(n(this.text)),t.onRendered?t.onRendered((function(i){e.call(t,i)})):e.call(t)},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.View.prototype.remove.apply(this,t)}})},277487:(e,t,i)=>{"use strict";e.exports={name:"html-text",ui:{formComponent:function(){return i(519679)}}}},133956:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962010);var n=i(96190),a=i(809375),r={},o=i(63025);n.each(o.keys(),(function(e){var t=o(e);r[t.name]=t})),e.exports={get:function(e){return r[e]||a[e]},getAll:function(){return r}}},748191:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962010);var n=i(96190),a=i(133956),r={},o=i(437618);n.each(o.keys(),(function(e){var t=o(e);r[t.name]=t})),e.exports={get:function(e){return r[e]||a.get(e)},getAll:function(){return n.extend(a.getAll(),r)}}},790444:(e,t,i)=>{"use strict";i(9026);var n=i(386859);e.exports=n.extend({className:"base-drag-component-tmpl information-box-drag-component-tmpl",Component:i(662972),template:i(388982)})},662972:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(789854);var o=i(96190),s=i(122268),l=i(504542),d=i(260556).aj,c=i(608758),u=i(40785);e.exports=l.View.extend({className:"information-box-element-tmpl",template:i(779154),initialize:function(e){o.extend(this,e),this.id=this.cid,this.handle=this.cid,this.$el.attr("data-handle",this.handle);var t=this.displayRule||this.displayRuleGroupId;t&&this.$el.attr("data-display-rule",t);var n=this.model.getEntityDefinition();u.hideByIntakeMethod({$el:this.$el,entDef:n,model:this.model,hideOnIntakeLayout:this.hideOnIntake,showOnPortalLayout:!o.has(this,"showOnPortal")||this.showOnPortal,showOnHotlineLayout:!o.has(this,"showOnHotline")||this.showOnHotline}),this.onInit&&this.onInit(e),this.fieldIcons=i(448420)},locals:function(){return{text:d(this.caption),informationBoxType:this.informationBoxType||"info",showOnPortal:this.showOnPortal,dataPlacement:"auto right"}},renderFieldIcons:function(e){var t=this,i=this.locals?this.locals():{};s.eachSeries(this.fieldIcons,(function(e,n){var a=e.locals?e.locals():{},s=r(r({},i),a);if(!o.isFunction(e.renderRule)||!e.renderRule(s,t.model))return n();c.render(e.template,s,(function(e,i){if(e)return n(e);t.$(".field-icon-container")&&t.$(".field-icon-container").append(i),n()}))}),(function(t){return e(t)}))},render:function(e,t){var i=this;t||(t=e);var n=this,a=this.locals?this.locals():{};c.render(this.template,a,(function(e,a){return e?t.call(n,e):setTimeout((function(){return n.$el.html(a),n.onRendered?n.onRendered((function(e){if(e)return t.call(n,e);i.renderFieldIcons((function(e){t.call(n,e)}))})):n.renderFieldIcons(t)}),0)}))}})},712198:(e,t,i)=>{"use strict";e.exports={name:"information-box",caption:"Information Box",includeInFormBuilder:!0,includeInDataForm:!1,description:"A layout field type, used to add more context to the form.",ui:{formComponent:function(){return i(662972)},dragComponent:function(){return i(790444)},configurationTabs:function(){return i(598938)},createForm:"information-box-properties-form",propertiesForm:"information-box-properties-form",icon:"fa-info-circle"}}},664093:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(16280),i(962062),i(874423),i(250113),i(426099),i(478350),i(730237),i(944114),i(423500),i(21699),i(962010),i(311927),i(428706);var r=i(96190),o=i(274692),s=i(122268),l=i(402193),d=i(325425),c=i(637527),u=i(939994),p=i(40785),f=i(680553),h=i(879176),m=i(707598),g=i(383894),y=i(344427),v=i(896727),b=i(730295),w=i(509367),A=i(446322);e.exports=d.extend({template:i(934407),className:"inline-form-tmpl",onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fields,i=e.parentElement,n=void 0===i?{}:i,a=e.config,o=e.parentFormView;if(!t)throw new Error("fields is required");if(this.parentRules=a.parentRules,this.parentFields=t,this.parentFormView=o,this.parentModel=n.model,!this.parentModel)throw new Error("parentModel is missing.");if(!a)throw new Error("config is required");if(r.isEmpty(a.entities))throw new Error("entities is required");if(this.external=!0===a.external,this.originalEntityConfigs=this.transformEntityConfigs(a.entities),this.entityConfigs=r.cloneDeep(this.originalEntityConfigs),this.validateEntities(),this.defaultTitle=this.getDefaultTitle(a.title),this.enableFilesDefaultRowActions=a.enableFilesDefaultRowActions,this.dataContainerOptions=a.dataContainerOptions,this.referenceField=this.getReferenceField(),this.resolvedReferenceField=this.getResolvedReferenceField(),this.model=new w({selectedEntity:null},{referenceField:this.referenceField,parentModel:this.parentModel,parentFields:this.parentFields,parentFormView:this.parentFormView,parentRules:this.parentRules,entityConfigs:this.entityConfigs}),this.gridView=a.gridView,this.dataContainerOptions&&(this.gridView=this.getDefaultGridView()),!this.gridView)throw new Error("gridView is missing");this.enableEntityFilters=this.gridView.enableEntityFilters,r.isFunction(e.beforeSavingFn)&&(this.beforeSavingFn=e.beforeSavingFn),r.isFunction(e.onCancelFn)&&(this.onCancelFn=e.onCancelFn),this.includeEntityInTitle=a.includeEntityInTitle,this.collapseOnSave=a.collapseOnSave,this.expandedByDefault=a.expandedByDefault,this.readOnlyByDefault=r.get(a,"readOnlyByDefault",!0),this.inheritReadOnly=a.inheritReadOnly,this.onInitForm=r.isFunction(e.onInitForm)?e.onInitForm:r.noop,this.onRenderedForm=r.isFunction(e.onRenderedForm)?e.onRenderedForm:r.noop,this.minimizeOnParentFieldChange=a.minimizeOnParentFieldChange||[],this.forceSaveParentModel=r.get(a,"forceSaveParentModel",!1),this.skipDirtyCheckOnFormViewRemoval=e.skipDirtyCheckOnFormViewRemoval||!1},events:{"click .entity-type-item":"onEntityTypeAddClick","click .cancel-btn":"onCancelBtnClick","click .save-btn":"onSaveBtnClickThrottled","click .save-and-copy":"onSaveBtnClickThrottled","click .edit-btn":"onEditBtnClick","click .delete-btn":"onDeleteBtnClick","click .add-btn-single":"onSingleAddBtnClick","click .collapse-control[aria-expanded=false]":"onExpandClick","click .collapse-control[aria-expanded=true]":"onMinimizeClick","keydown .collapse-control[aria-expanded=false]":"onExpandKeydown","keydown .collapse-control[aria-expanded=true]":"onMinimizeKeydown","shown.bs.collapse .collapse":"onCollapseShown","hidden.bs.collapse .collapse":"onCollapseHidden","show.bs.collapse .collapse":"onCollapseShow","hide.bs.collapse .collapse":"onCollapseHide","mouseenter .cancel-btn":"onCancelMouseOver"},locals:function(){var e=this,t=r.map(this.entityConfigs,(function(t){var i=t.aclRoles;return r.extend({},t,{aclRoles:{createACLRole:e.joinAclRoles(i.createACLRole),editACLRole:e.joinAclRoles(i.editACLRole),deleteACLRole:e.joinAclRoles(i.deleteACLRole)}})}));return{cid:this.cid,title:this.title,entities:t,selectedEntity:this.selectedEntity}},render:function(e,t){r.isFunction(e)?d.prototype.render.call(this).then(e):d.prototype.render.call(this,e).then(t)},onBindEvents:function(){var e=this;this.parentModel.on("change:".concat(this.resolvedReferenceField),this.onReferenceFieldChange,this),this.parentModel.on("change:id",this.onParentIdChange,this),this.model.on("change:selectedEntity",this.onSelectedEntityChange,this),r.each(this.minimizeOnParentFieldChange,(function(t){e.parentModel.on("change:".concat(t),e.minimizeForm,e)})),this.parentFormView&&(this.parentFormView.on("change:readOnly",this.onParentFormViewReadOnlyChange,this),this.parentFormView.on("dynamic-rules-applied",this.onParentFormGenerated,this))},onUnbindEvents:function(){var e=this;this.model.off("change:selectedEntity",this.onSelectedEntityChange,this),this.parentModel.off("change:".concat(this.resolvedReferenceField),this.onReferenceFieldChange,this),this.parentModel.off("change:id",this.onParentIdChange,this),r.each(this.minimizeOnParentFieldChange,(function(t){e.parentModel.off("change:".concat(t),e.minimizeForm,e)})),this.parentFormView&&(this.parentFormView.off("change:readOnly",this.onParentFormViewReadOnlyChange,this),this.parentFormView.off("dynamic-rules-applied",this.onParentFormGenerated,this))},onSelectedModelChange:function(e){this.applyRules()},onRendered:function(){var e=this,t=o.Deferred();return this.collapseControl=this.$(".collapse:first"),this.parentFormView&&this.parentFormView.isReadOnly()&&this.onParentFormViewReadOnlyChange(!0),this.entityConfigs.length>1&&this.$(".collapse-control").addClass("hidden"),this.enableEntityFilters&&this.$el.addClass("entity-filters"),this.renderGrid((function(){e.renderActionButtons((function(){e.expandedByDefault&&1===e.entityConfigs.length?(e.updateSelectedEntity(),e.setMode("edit")):e.setMode("minimized"),t.resolve()}))})),t.promise()},renderForm:function(e,t,i,n){var a=this;this.setBusyStatus(!0);var r,o=this.$(".form-fields:first");if(this.formView){var l=o.parent().height();o.parent().height(l),r=f.remove(this.formView,{skipRemovalCheck:this.skipDirtyCheckOnFormViewRemoval}),this.formView=null}if(!e||!t||!1===r)return!1===r&&o.parent().css("height","auto"),this.setBusyStatus(!1),n();var d=i||g;return this.formView=new d({model:e,formConfigName:t,parentCid:this.cid,inlineView:this}),s.series({formInit:function(t){var i=a.onInitForm(a.formView,e);return i?i.done(t):t()},formRendered:function(t){return a.addSubView(a.formView).render(o).done((function(){o.parent().css("height","auto");var i=a.onRenderedForm(a.formView,e);return i?i.done(t):t()}))}},(function(){a.setBusyStatus(!1),n()}))},renderActionButtons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop;this.actionButtonsView&&(f.remove(this.actionButtonsView),this.actionButtonsView=null),this.actionButtonsView=new m({model:this.model,parentModel:this.parentModel,selectedEntity:this.model.get("selectedEntity"),entityConfigs:this.entityConfigs}),this.shouldUseButtonsBarAdvancedMenu()?this.$(".form-actions").removeClass("advanced-menu-spacing"):this.$(".form-actions").addClass("advanced-menu-spacing");var t=this.$(".toolbar-content:first");this.addSubView(this.actionButtonsView).render(t).done((function(){e()}))},renderGrid:function(e){var t=this.$(".inline-form-grid:first");this.addSubView(this.gridView).render(t).done(e)},lockSelectedModel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop;this.model.getSelectedModel().lock({customMessageContainer:this.$("#messages-container-".concat(this.cid))},e)},checkSelectedModelLock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop,t=this.model.getSelectedModel();if(!t.id)return e(null,!1);t.checkLockedByAnotherUser({customMessageContainer:this.$("#messages-container-".concat(this.cid))},e)},expand:function(){this.collapseControl.is(":hidden")?this.collapseControl.collapse("show"):this.$(".collapse-control").removeAttr("disabled")},collapse:function(){this.collapseControl.is(":visible")&&this.collapseControl.collapse("hide")},setBusyStatus:function(e){!0===e&&!0!==this.isBusyRenderingForm?(this.isBusyRenderingForm=!0,this.trigger("render-form-start")):!1===e&&!1!==this.isBusyRenderingForm&&(this.isBusyRenderingForm=!1,this.trigger("render-form-end"))},getDefaultTitle:function(e){if(1===this.entityConfigs.length&&!e)return p.translateKey({groupName:this.entityConfigs[0].entityName,subgroupName:"general",key:"namePlural"});if(!e)throw new Error("title is required");return p.translateKey(e)},updateTitle:function(){var e,t=this.$("h3.title").first(),i=this.model.get("selectedEntity"),n=i&&i.model,a=n&&n.getEntityDefinition(),r=i&&i.model.isNew();e="edit"===this.mode&&r?p.translateKey({groupName:n.getEntityCanon(),subgroupName:"general",key:"new"}):"edit"!==this.mode||r?"readOnly"===this.mode&&n?a.caption:this.defaultTitle:p.getEditCaption(a),t.text(e)},setMode:function(e){var t=this;if(!["edit","readOnly","minimized"].includes(e))throw new Error("Unknown inline form mode: ".concat(e));if(this.isBusyRenderingForm)this.once("render-form-end",(function(){return t.setMode(e)}),this);else{var i=this.$(".inline-form-fields"),n="editmode",a="readonly";this.$el.removeClass(n),this.$el.removeClass(a),this.$el.removeClass("new");var r=function(){t.$el.addClass(n),t.trigger("change:readOnly",!1),i.css("visibility","visible"),t.setReadOnly(!1),t.expand()};if("edit"===e){var o=this.model.getSelectedModel(),s=o&&o.isNew(),l=this.model.rules.canCreate.call(this.model),d=this.model.rules.canEdit.call(this.model),c=this.inheritReadOnly&&this.parentFormView&&this.parentFormView.isReadOnly();if(s&&!l||!s&&!d||c)return void this.setMode("readOnly");s?(this.$el.addClass("new"),r()):this.lockSelectedModel((function(e,i){if(!i)return t.setMode("readOnly");r()}))}else"readOnly"===e?(this.checkSelectedModelLock(),this.$el.addClass(a),this._hideAllTooltips(),i.css("visibility","visible"),this.setReadOnly(!0),this.expand()):"minimized"===e&&(i.css("visibility","hidden"),this.collapse());this.mode=e,this.updateTitle()}},setReadOnly:function(e){if(this._hideAllTooltips(),e&&!this.$el.hasClass("readonly")?this.$el.addClass("readonly"):!e&&this.$el.hasClass("readonly")&&(this.$el.removeClass("readonly"),this._displayTooltips(this.validationIssues,this.model||null)),this.trigger("change:readOnly",e),this.model){var t=this.model.getSelectedModel();t&&(t.trigger("readOnlyChange",e),t.readOnly=e)}},onSelectedEntityChange:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.get("selectedEntity"),a=e.getSelectedModel(),o=r.get(n,"formName"),s=r.get(n,"View"),d="";if(a){a.on("change:id",this.onNewChange,this),a.on("change",this.applyRules,this);var c=this.$(".add-btn:first")[0],u=c&&l.create(c);if(u&&u.start(),this.updateJoinedData(),this._updateRecordSource(),this.updateParentId(),this.includeEntityInTitle){var f=p.translateKey({groupName:n.entityName,subgroupName:"general",key:"name"});d=" / ".concat(f)}}!0!==r.get(i,"noRender")&&this.renderForm(a,o,s,(function(){t.$(".title-entity:first").html(d),t.renderActionButtons()}))},onEntityTypeAddClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.$(e.currentTarget).data("type");this.updateSelectedEntity(t),this.setMode("edit")},onSingleAddBtnClick:function(e){e.stopPropagation(),e.preventDefault(),this.updateSelectedEntity(),this.setMode("edit"),this.clearSelectedRow()},onEditBtnClick:function(e){e.stopPropagation(),e.preventDefault(),this.setMode("edit")},onSaveBtnClickThrottled:function(e){e.stopPropagation(),e.preventDefault();var t=this.$(e.currentTarget);if(t.attr("disabled","disabled"),!this.isBusyRenderingForm){var i=this;i.beforeSavingFn?i.beforeSavingFn(this.formView,(function(n,a){if(n)throw t.removeAttr("disabled"),n;a?i.saveModels(e):t.removeAttr("disabled")})):i.saveModels(e)}},saveModels:function(e){var t=this,i=this.$(e.currentTarget).hasClass("save-and-copy"),n=this.getParentModels(),a=o("button[data-ladda-disable-on-save]:not([disabled])"),r=this.model.getSelectedModel(),l=this.$(e.currentTarget);if(r.isProcessing)return v.error(p.translateKey("files_are_still_being_uploaded")),void l.removeAttr("disabled");this.isSafeToLeaveDirtyInlines()?s.eachSeries(n,(function(e,i){return e instanceof c&&(e.isNew()||t.forceSaveParentModel)&&e.get("entity$")?e.save({sysSubmitted:e.get("sysSubmitted")||!1},{wait:!0,validate:!1,success:function(){return i()},error:function(e,t,n){return i(t)}}):i()}),(function(e){e||t.saveSelectedModel({isSaveAndCopy:i},(function(){l.removeAttr("disabled"),a.removeAttr("disabled")}))})):l.removeAttr("disabled")},updateSelectedEntity:function(e){var t=e?r.find(this.originalEntityConfigs,{entityName:e}):this.originalEntityConfigs[0];this.model.set("selectedEntity",r.cloneDeep(t))},cancel:function(){var e=this.model.getSelectedModel(),t=e&&e.isNew(),i=!1;return this.canRemove()&&(this.disableAllDirtyFormHandling(),this.clearErrors(),t?this.model.clear():e&&(e.unlock(),e.reset({silent:!0})),this.updateSelectedEntity(),this.enableAllDirtyFormHandling(),i=!0,this.onCancelFn&&this.onCancelFn(this.formView,this.model)),i},delete:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop;y.display(p.translateKey("delete_confirmation"),{type:"confirm",title:p.translateKey("delete_confirmation_title"),confirmText:p.translateKey("delete"),cancelText:p.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(i){if(i){var n=e.model.getSelectedModel();n.destroy({success:function(){e.gridView.getSelectedPlugin().updateSelection(e.model,!1),e.gridView.onQueryChange(),v.info(v.getCrudMessage(n,"deleted",!1)),e.model.clear(),t()}})}}})},onCancelMouseOver:function(e){this.$("#".concat(e.currentTarget.id)).tooltip({container:this.$el,placement:"bottom"}).tooltip("show")},onCancelBtnClick:function(e){if(e.stopPropagation(),e.preventDefault(),this.cancel()){var t=this.model.getSelectedModel(),i=!t||t.isNew()||t.isDraft()?"minimized":"readOnly";this.trigger("cancel"),this.setMode(i),this._hideAllTooltips()}},onDeleteBtnClick:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.delete((function(){return t.setMode("minimized")}))},onParentFormViewReadOnlyChange:function(e){if(this.inheritReadOnly){var t="inline-form-read-only";if(e){if(this.cancel()){var i=this.model.getSelectedModel(),n=i&&!i.isNew()?"readOnly":"minimized";this.setMode(n),this.$el.addClass(t)}}else this.$el.removeClass(t)}},onExpandClick:function(e){e.stopPropagation(),e.preventDefault(),this.onSingleAddBtnClick(e)},minimizeForm:function(){if("minimized"!==this.mode){var e=this.model.getSelectedModel();e&&e.reset({silent:!0}),this.setMode("minimized"),this.clearSelectedRow(),this.$(".collapse-control").css("pointer-events","auto")}},onMinimizeClick:function(e){e.stopPropagation(),e.preventDefault(),!1!==this.canRemove()&&this.minimizeForm()},onExpandKeydown:function(e){13===e.which&&this.onExpandClick(e)},onMinimizeKeydown:function(e){13===e.which&&this.onMinimizeClick(e)},onCollapseShown:function(e){if(e.target===this.collapseControl[0]){var t=p.escapedTranslateKey("minimize");this.updateCollapseControlTooltip(t),this.$(".collapse-control").css("pointer-events","auto"),this.$(".collapse-control").removeAttr("disabled")}},onCollapseHidden:function(e){if(e.target===this.collapseControl[0]){var t=p.escapedTranslateKey("expand");this.updateCollapseControlTooltip(t),this.disableAllDirtyFormHandling(),this.enableAllDirtyFormHandling(),this.model.rules.canCreate.call(this.model)&&this.$(".collapse-control").css("pointer-events","auto")}},onCollapseShow:function(e){e.target===this.collapseControl[0]&&(this.$(".collapse-control").css("pointer-events","none"),this.entityConfigs.length>1&&this.$("#collapse-control-".concat(this.cid)).removeClass("hidden"))},onCollapseHide:function(e){e.target===this.collapseControl[0]&&(this.$(".collapse-control").css("pointer-events","none"),this.entityConfigs.length>1&&this.$("#collapse-control-".concat(this.cid)).addClass("hidden"))},onRowClicked:function(e){if(!this.formView||this.formView.canRemove()){this.disableAllDirtyFormHandling();var t=this.model.getSelectedModel();if(t&&(t.off("change:id",this.onNewChange,this),t.off("change",this.applyRules,this)),"minimized"===this.mode||"readOnly"===this.mode){var i=this.readOnlyByDefault?"readOnly":"edit";this.model.setSelectedModel(e,{setReadOnly:"readOnly"===i}),this.enableAllDirtyFormHandling(),this.setMode(i)}else this.model.setSelectedModel(e),this.enableAllDirtyFormHandling(),this.setMode(this.mode)}},onReferenceFieldChange:function(){this.model.set("referenceFieldValue",this.parentModel.get(this.getReferenceField())),this.updateJoinedData()},onParentIdChange:function(){this.updateParentId()},onNewChange:function(e){e.id?this.$el.removeClass("new"):this.$el.addClass("new")},getBatchActions:function(){return this.model.getParentRuleResult("canEdit")?[{caption:p.translateKey("delete"),aclRole:r.flatMap(this.entityConfigs,"aclRoles.deleteACLRole"),onClicked:this.batchDelete.bind(this),aclRoleOperator:"AND"}]:[]},batchDelete:function(e,t){var i=this,n=r.get(this.model.getSelectedModel(),"id"),a=r.find(e,(function(e){return e.id===n}));this.gridView.getSelectedPlugin().onBatchDelete(e,(function(e,n){return n&&!n.actionCancelled&&a&&(i.resetModel(i.model.getSelectedModel()),i.setMode("minimized")),t()}))},getDefaultGridView:function(){var e=this.parentModel.isNew(),t=!this.parentModel.isActive(),i={showInactiveRecords:t,showCanceledCases:!0,entityNames:r.map(this.entityConfigs,"entityName")};this.collection=new b(null,i),this.collection.setFilter({operator:"and",values:[{field:"sysSubmitted",operator:"is",type:"yesno",values:[!0]}]});var n=r.defaults(this.dataContainerOptions.pluginOptions||{},{enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enablePager:!0,fetchOnRender:!e,multiSelect:!0,enableBatchExport:!e&&!t,onRowClicked:this.onRowClicked.bind(this),batchButtons:this.getBatchActions(),highlightSelectedRow:!0}),a=r.defaults(this.dataContainerOptions,{condensedLayout:!0,collection:this.collection,enableDataFilters:!1,enableEntityFilters:this.entityConfigs.length>1,entityFilterPillView:!0,applyDefaultFilters:!1,alwaysOnFilters:this.getGridAlwaysOnFiltersQuery(),enableSearchFilter:!1,showTitleSeparator:!1,useButtonsBarAdvancedMenu:this.shouldUseButtonsBarAdvancedMenu(),model:this.model});return this.enableFilesDefaultRowActions&&(n.rowActions=A.getRowActions.call(this)),a.pluginsOptions=[n],new h(a)},shouldUseButtonsBarAdvancedMenu:function(){return!1!==this.dataContainerOptions.entityFilterPillView&&this.entityConfigs.length>1},getGridAlwaysOnFiltersQuery:function(){var e=this,t=this.parentModel.isNew(),i=this.getParentField(),n=this.collection.getEntDefs();return u.queryMap(n,(function(n){return t?n.no_results():n.is(i,e.parentModel.id)})).toQuery()},getEntityDefinitions:function(e){return r.map(e,(function(e){return u.get(e).entDef}))},getAttributesToCopyFromModel:function(e){var t=e.getSaveAndCopyExcludeFields();return r.omit(e.attributes,t)},getParentRelationConfig:function(e){var t=this.parentModel.getEntity();return r.find(e.parents,(function(e){return r.isEqual(t,e.entity)}))},getParentField:function(e){var t=e;return t||(t=u.get(this.originalEntityConfigs[0].entityName).entDef),this.getParentRelationConfig(t).field},getReferenceField:function(e){var t=e;return t||(t=u.get(this.originalEntityConfigs[0].entityName).entDef),t.audit.parentFieldId},getResolvedReferenceField:function(){return r.has(this.parentFields,this.referenceField)?this.referenceField:"id"},getSelectedEntityConfig:function(){var e,t=this.model.getSelectedModel();if(t){var i=t.getEntityCanon();e=r.find(this.entityConfigs,{entityName:i})}return e},_updateRecordSource:function(){this.parentModel.get("recordSource")&&this.model.set("recordSource",this.parentModel.get("recordSource"))},getParentViews:function(){for(var e=[],t=f.getParentView(this);t;)e.push(t),t=f.getParentView(t);return e},getParentModels:function(){var e=[],t=[];return this.getParentViews().forEach((function(i){var n=i.model;n&&!r.includes(t,n.cid)&&(e.push(n),t.push(n.cid))})),r.reverse(e)},saveSelectedModel:function(e,t){var i=!0,n=this.$(".save-btn")[0],a=l.create(n),s=this,d=this.model.getSelectedModel(),c=d.isNew()||!d.get("sysSubmitted"),u=e.isSaveAndCopy,p=void 0!==u&&u;d.once("validated",(function(e){if(r.isNil(e)||r.isEmpty(e))return o(n).attr("disabled","disabled"),void setTimeout((function(){i&&a.start()}),$appData.globalConfig.spinnerDelay);o(n).removeAttr("disabled")})),d.save({sysSubmitted:!0},{wait:!0,success:function(e){d.unlock(),p?s.resetModel(e,s.getAttributesToCopyFromModel(e)):c?(s.resetModel(e),s.collapseOnSave&&s.setMode("minimized")):s.setMode("readOnly"),s.gridView.fetchCollection((function(){i=!1,a.stop();var n=c?"created":"updated";v.info(v.getCrudMessage(e,n,{includeLink:!1})),t()}))},error:function(){o(n).removeAttr("disabled"),i=!1,a.stop()}})},resetModel:function(e,t){var i=e.getEntityDefinition().model();this.model.setSelectedModel(new i(t)),this.onNewChange(this.model)},transformEntityConfigs:function(e){return r.chain(e).map((function(e){var t=u.get(e.entityName),i=r.result(t.entDef,"model");if(!i)throw new Error("Entity model is missing.");var n=new i,a={addCaption:p.translateKey({groupName:e.entityName,subgroupName:"actions",key:"add"}),aclRoles:{createACLRole:e.aclRoles.createACLRole,editACLRole:e.aclRoles.editACLRole,deleteACLRole:e.aclRoles.deleteACLRole},model:n};return r.assign(e,a)})).sortBy(["addCaption"]).value()},updateJoinedData:function(){var e=this.model.getSelectedModel();if(e){var t=this.resolvedReferenceField,i=this.parentModel.get(t);e.set(this.referenceField,i);var n=e.pickJoinData({attribute:this.referenceField,joinedEntityData:this.parentModel.attributes,transferJoinToJoin:!1});e.set(r.extend(n,a({parentType:this.parentModel.getEntity().name},this.getParentField(),this.parentModel.get("id"))))}},updateParentId:function(){var e=this.model.getSelectedModel();e&&(e.set(a({parentType:this.parentModel.getEntity().name},this.getParentField(),this.parentModel.get("id"))),this.gridView&&this.gridView.setAlwaysOnFilters(this.getGridAlwaysOnFiltersQuery()))},validateEntitiesRelationship:function(e){var t=this,i=r.remove(e,(function(e){return!t.getParentRelationConfig(e)})),n=r.map(i,"entity.name");if(!r.isEmpty(n))throw new Error("Invalid parent relationship for ".concat(n.join(", ")))},validateUniqueParentField:function(e){var t=r.map(e,this.getParentField.bind(this));if(1!==r.uniq(t).length)throw new Error("Parent field is not unique")},validateUniqueReferenceField:function(e){var t=r.map(e,this.getReferenceField.bind(this));if(1!==r.uniq(t).length)throw new Error("Reference field is not unique")},validateEntities:function(){var e=r.map(this.entityConfigs,"entityName"),t=this.getEntityDefinitions(e);this.validateEntitiesRelationship(t),this.validateUniqueParentField(t),this.validateUniqueReferenceField(t)},joinAclRoles:function(e){return r.isArray(e)?e.join(","):e},updateCollapseControlTooltip:function(e){var t=this.$(".collapse-control:first i");r.isEmpty(t)||(t.attr("title",e).tooltip("fixTitle"),this.$(".collapse-control:first").attr("aria-label","".concat(e," ").concat(this.title)),t.is(":hover")&&t.tooltip("show"))},onParentFormGenerated:function(){this.actionButtonsView&&r.isFunction(this.actionButtonsView.applyRules)&&this.actionButtonsView.applyRules(),this.applyRules()},clearSelectedRow:function(){this.gridView.getSelectedPlugin().clearSelectedRow()}})},195238:(e,t,i)=>{"use strict";e.exports={name:"inline-form",ui:{formComponent:function(){return i(664093)}}}},707598:(e,t,i)=>{"use strict";i(16280),i(962062),i(311927);var n=i(96190),a=i(40785),r=i(325425);e.exports=r.extend({template:i(680900),tagName:"ul",className:"toolbar",onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.model)throw new Error("model is required");this.model=e.model,this.transformEntityConfigs()},locals:function(){var e=this,t=n.map(this.model.entityConfigs,(function(t){var i=t.aclRoles;return n.extend({},t,{aclRoles:{createACLRole:e.joinAclRoles(i.createACLRole),editACLRole:e.joinAclRoles(i.editACLRole),deleteACLRole:e.joinAclRoles(i.deleteACLRole)}})}));return{cid:this.cid,entityConfigs:t,selectedEntity:this.model.get("selectedEntity")}},joinAclRoles:function(e){return n.isArray(e)?e.join(","):e},transformEntityConfigs:function(){return n.map(this.model.entityConfigs,(function(e){return n.assign(e,{name:a.translateKey({groupName:e.entityName,subgroupName:"general",key:"name"})})}))}})},383894:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(680553),r=i(454568);e.exports=n.extend({template:i(390276),features:{validation:!0,dirtyFormHandling:!0},onInit:function(e){if(!e.formConfigName)throw new Error("formConfigName is required");if(!e.parentCid)throw new Error("parentCid is required");this.formConfigName=e.formConfigName,this.parentCid=e.parentCid},locals:function(){return{parentCid:this.parentCid,model:this.model.attributes,formattedData:this.model.getFormattedData()}},rules:{isNew:function(){return this.model.isNew()},isNotNew:function(){return!this.model.isNew()}},onRendered:function(){a.addToGroup("inline-form",this.handle)},onRemove:function(){this.model.isNew()||r.hideWarningMessageByModelId(this.model.id)}})},509367:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099),i(250113);var n=i(96190),a=i(637527),r=i(93216);e.exports=a.extend({onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.referenceField)throw new Error("referenceField is required");if(!t.parentFields)throw new Error("parentFields is required");if(!t.parentModel)throw new Error("parentModel is required");if(!t.entityConfigs)throw new Error("entityConfigs is required");this.selector=t.selector,this.referenceField=t.referenceField,this.parentFields=t.parentFields,this.parentModel=t.parentModel,this.parentRules=t.parentRules||{},this.entityConfigs=t.entityConfigs,this.parentFormView=t.parentFormView},getParentRuleResult:function(e){var t=!0,i=this.parentRules[e];return i&&this.parentFormView&&this.parentFormView.rules[i]?t=this.parentFormView.rules[i].call(this.parentFormView):i&&this.parentModel.rules[i]&&(t=this.parentModel.rules[i].call(this.parentModel)),t},evaluateRule:function(e){var t,i;if("string"!=typeof e)throw new Error("ruleInput must be a string");return null!==(t=this.parentFormView)&&void 0!==t&&t.rules[e]?this.parentFormView.rules[e].call(this.parentFormView):null===(i=this.parentModel)||void 0===i||!i.rules[e]||this.parentModel.rules[e].call(this.parentModel)},rules:{isParentAChild:function(){return n.has(this.parentFields,this.referenceField)},isParentReferenceFieldSet:function(){return!!this.parentModel.get(this.referenceField)},isParentReferenceFieldVisible:function(){return!!this.parentFormView&&this.parentFormView.$('[data-field-name="'.concat(this.referenceField,'"]:visible')).length>=1},isParentReferenceFieldNeeded:function(){return this.rules.isParentAChild.call(this)&&!this.rules.isParentReferenceFieldSet.call(this)&&this.rules.isParentReferenceFieldVisible.call(this)},areParentsMarkedOrPurged:function(){var e=this.parentModel.get("pendingPurgeDate")||this.parentModel.get("datePurged"),t=this.rules.isParentAChild.call(this)&&this.rules.isParentReferenceFieldSet.call(this)&&(this.parentModel.get("".concat(this.referenceField,"__pendingPurgeDate"))||this.parentModel.get("".concat(this.referenceField,"__datePurged")));return!!e||!!t},isLockedByAnotherUser:function(){var e=this.getSelectedModel();return!!e&&e.rules.lockedByAnotherUser.call(e)},isMarkedOrPurged:function(){var e=this.getSelectedModel();return e&&e.rules.isMarkedOrPurged.call(e)||this.rules.areParentsMarkedOrPurged.call(this)},canCreate:function(){var e=!0,t=this.get("selectedEntity");t&&(e=r.hasRole(t.aclRoles.createACLRole));var i=this.getParentRuleResult("canCreate");return e&&!this.rules.isMarkedOrPurged.call(this)&&!this.rules.isParentReferenceFieldNeeded.call(this)&&i},canEdit:function(){var e=this.getSelectedModel();return!!e&&(r.hasRole(this.get("selectedEntity").aclRoles.editACLRole)||!1===e.get("sysActive")&&e.get("createdBy")===$appData.user.id)&&!this.rules.isMarkedOrPurged.call(this)&&!this.rules.isLockedByAnotherUser.call(this)&&this.getParentRuleResult("canEdit")},canDelete:function(){var e=this.getSelectedModel();return!!e&&(r.hasRole(this.get("selectedEntity").aclRoles.deleteACLRole)||!1===e.get("sysActive")&&e.get("createdBy")===$appData.user.id)&&!this.rules.isMarkedOrPurged.call(this)&&!this.rules.isLockedByAnotherUser.call(this)&&this.getParentRuleResult("canDelete")},isEntitiesToCreate:function(){var e=n.filter(this.entityConfigs,(function(e){return r.hasRole(e.aclRoles.createACLRole)})),t=this.getParentRuleResult("canCreate");return e.length>0&&!this.rules.isMarkedOrPurged.call(this)&&!this.rules.isLockedByAnotherUser.call(this)&&!this.rules.isParentReferenceFieldNeeded.call(this)&&t}},getSelectedModel:function(){var e=this.get("selectedEntity");return e?e.model:null},setSelectedModel:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).setReadOnly&&(e.readOnly=!0);var t=e.getEntityCanon(),i=n.find(this.entityConfigs,{entityName:t}),a=e.getEntityDefinition().model();this.set("selectedEntity",n.extend({},i,{model:new a(e.attributes)}))},destroy:function(e){this.get("selectedEntity").model.destroy(),a.prototype.destroy.call(this,e)},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.prototype.clear.call(this,e),!1!==e.forceClear&&1===this.entityConfigs.length&&this.set("selectedEntity",this.entityConfigs[0],{noRender:!0})}})},186269:(e,t,i)=>{"use strict";var n=i(354960);e.exports=n.extend({})},834828:(e,t,i)=>{"use strict";i(559278);var n=i(96190),a=i(386859),r=i(344427),o=i(40785);e.exports=a.extend({className:"base-drag-component-tmpl insertion-point-drag-component-tmpl",Component:i(186269),template:i(15766),defaultContextMessageKey:"default_context_message",getContextMessage:function(e){var t,i;"above"===e?(t=this.model.get("aboveContextHint"),i=this.model.get("hasElementsAbove")):"below"===e&&(t=this.model.get("belowContextHint"),i=this.model.get("hasElementsBelow"));var a=i?this.defaultContextMessageKey:null;return n.isString(t)?t:a},onRendered:function(e){var t=this;return n.each(["above","below"],(function(e){var i=t.getContextMessage(e);if(i){var n=t.$(".".concat(e,"-context-message-container"));n.addClass(e),r.display(o.translateKey({groupName:"settings",subgroupName:"form-builder",key:i}),{type:"notification",modal:!1,showTitle:!1,sticky:!0,canClose:!1,container:n})}})),e()}})},375078:(e,t,i)=>{"use strict";e.exports={name:"insertionPoint",ui:{formComponent:function(){return i(186269)},dragComponent:function(){return i(834828)}}}},371181:(e,t,i)=>{"use strict";i(202008),i(426099),i(962010),i(962062),i(327495),i(725440),i(879432),i(671761),i(884864),i(757465),i(87745),i(938781),i(906117);var n=i(96190),a=i(274692),r=i(325425),o=i(40785),s=i(710572),l=i(748191),d=i(522609)();e.exports=r.extend({className:"layout-component-tmpl col-xs-12",template:i(456965),onInit:function(e){n.extend(this,e),n.extend(this,this._getFormLayoutDetails()),delete this.overrideFormLayout,n.defaults(this,{defaultFieldsLayout:$appData.globalConfig.defaultFieldsLayout}),this.dynamicEntityDataDetailsLayout=this._getDynamicEntityDataDetailsLayout(),this.renderComponent=l.get("section").ui.formComponent().prototype.renderComponent.bind(this),this.renderElement=l.get("section").ui.formComponent().prototype.renderElement.bind(this)},render:function(e){return r.prototype.render.call(this).then((function(){var t=this;this._createFormElement(this.$(".elements")),this.$el.hide(),this.renderComponent((function(i){if(i)return e(i);t.$el.show(),n.isFunction(t.applyRules)&&t.applyRules(),e()}))}))},preventDefaultOnSubmit:function(){},_getFromLayoutDetailsByNameOrId:function(e,t){var i=e?n.filter(s,{name:e}):n.filter(s,{id:t});if(i.length>1)throw'Duplicate definition of form Layout: "'+e||0;if(1!==i.length)throw'Unknown definition of form Layout: "'+e||0;return i=n.cloneDeep(i[0]),i=this._flattenElementTypeOptions(i),this._translateCaptions(i)},_getFormLayoutDetails:function(){return this._getFromLayoutDetailsByNameOrId(this.name,this.formId)},_getDynamicEntityDataDetailsLayout:function(){return this._getFromLayoutDetailsByNameOrId("dynamic-entity-data-details-form")},_flattenElementTypeOptions:function(e){return e.typeOptions&&(e=n.extend({},e.typeOptions,e)),e.elements&&(e.elements=n.map(e.elements,this._flattenElementTypeOptions.bind(this))),e},_translateCaptions:function(e){if(e.caption){var t=d.getTranslationKeyFromFieldValue(e.caption);e.untranslatedCaption=e.caption,e.caption=o.translateKey({groupName:n.replace(this.model.get("entity$"),"-/",""),subgroupName:"layouts",key:t},{missingTranslationValue:o.translateKey(e.caption)})}return e.elements&&(e.elements=n.map(e.elements,this._translateCaptions.bind(this))),e.tabs&&(e.tabs=n.map(e.tabs,this._translateCaptions.bind(this))),e},_createFormElement:function(e){var t=this.formAttributes,i=this.determineFormAttributes(t,this._locals),n=a("<form "+i+"></form>");return n.addClass("auto-generated"),e.replaceWith(n),n},determineFormAttributes:function(e,t){var i=n.extend({},t,{csrf:$appData.csrf}),a={class:"form-horizontal elements col-md-12 col-lg-12"};a=n.defaults({},e,a);var r="";return n.each(Object.keys(a),(function(e){r+=e+'="'+a[e]+'"'})),this._replacePlaceholdersWithValues(r,i)},_replacePlaceholdersWithValues:function(e,t){var i=e.match(/({\w*})/g);i&&i.length>0&&n.each(i,(function(i){var n=i.replace(/{/gi,"").replace(/}/gi,""),a=t[n],r=new RegExp(i,"gi");e=e.replace(r,a)}));var a=e.match(/({\w*\.\w*})/g);return a&&a.length>0&&n.each(a,(function(i){var n=i.replace(/{/gi,"").replace(/}/gi,""),a=n.split(".")[0],r=n.split(".")[1],o=t[a][r],s=new RegExp(i,"gi");e=e.replace(s,o)})),e}})},971222:(e,t,i)=>{"use strict";e.exports={name:"layout",ui:{formComponent:function(){return i(371181)}}}},340236:(e,t,i)=>{"use strict";var n=i(16871).v4,a=i(96190),r=i(504542),o=i(608758);e.exports=r.View.extend({className:"form-group raw-form-component-tmpl row",$readOnly:null,Component:null,initialize:function(e){if(e=e||{},a.extend(this,e),this.id=this.handle=this.templateName+"-"+this.cid,this.$el.attr("data-handle",this.handle),this.displayRule&&this.$el.attr("data-display-rule",this.displayRule),this.customClassName&&this.$el.addClass(this.customClassName),this.onInit&&this.onInit(e),e.template){var t=n();o.loadSource(o.compile(e.template,t)),this.template=t,this.templateName=this.template?this.template.templateName:null}},locals:function(){return{model:a.get(this,"model.attributes"),parentElement:this.parentElement}},render:function(e){var t=this,i=this.locals?this.locals():{};o.render(this.template,i,(function(i,n){if(i)return e.call(t,i);setTimeout((function(){t.$el.html(n),t.onRendered?t.onRendered((function(i){e.call(t,i)})):e.call(t)}),0)}))},remove:function(){this.onRemove&&this.onRemove(),r.View.prototype.remove.apply(this,arguments)}})},856566:(e,t,i)=>{"use strict";e.exports={name:"raw",ui:{formComponent:function(){return i(340236)}}}},354960:(e,t,i)=>{"use strict";i(428706),i(250113),i(426099),i(278976);var n=i(96190),a=i(122268),r=i(504542),o=i(608758),s=i(748191),l=i(680553),d=i(794503),c=i(40785),u=i(522609)(),p=r.View.extend({caption:null,template:i(742308),className:"section-component-tmpl",initialize:function(e){e=e||{},n.extend(this,e),this.parentElement&&n.defaults(this,{defaultFieldsLayout:this.parentElement.defaultFieldsLayout,defaultDisplayRule:this.parentElement.defaultDisplayRule}),this.templateName=this.template?this.template.templateName:null,this.handle="".concat(this.templateName,"-").concat(this.cid),this.id=this.handle,this.$el.attr("data-handle",this.handle);var t=this.displayRule||this.displayRuleGroupId;t&&this.$el.attr("data-display-rule",t);var i=this.model.getEntityDefinition();c.hideByIntakeMethod({$el:this.$el,entDef:i,model:this.model,hideOnIntakeLayout:this.hideOnIntake,showOnPortalLayout:!n.has(this,"showOnPortal")||this.showOnPortal,showOnHotlineLayout:!n.has(this,"showOnHotline")||this.showOnHotline}),this.customClassName&&this.$el.addClass(this.customClassName),n.isFunction(this.onInit)&&this.onInit(e)},locals:function(){var e;return this.helpText&&(e=n.isPlainObject(this.helpText)?c.translateKey(this.helpText,{missingTranslationValue:this.helpText||""}):c.translateKey({groupName:this.model.getEntityDefinition().entityCanon,subgroupName:"layouts",key:u.getSectionHelpTextTranslationKey(this.untranslatedCaption)},{missingTranslationValue:this.helpText||""})),{model:this.model.attributes,caption:this.caption,width:this.width,readOnlyWidth:this.readOnlyWidth,helpText:e,renderTabsAsInlineForm:this.renderTabsAsInlineForm}},render:function(e,t){var i=this;t||(t=e);var n=this.locals?this.locals():{};o.render(this.template,n,(function(e,n){if(e)return t.call(i,e);setTimeout((function(){i.$el.html(n),i.renderComponent((function(e){if(e)return t.call(i,e);i.onRendered?i.onRendered((function(e){t.call(i,e)})):t.call(i)}))}),0)}))},remove:function(){this.onRemove&&this.onRemove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.View.prototype.remove.apply(this,t)},injectDynamicEntityDataDetailsLayout:function(e,t){var i=this,n=e.$renderTo,r=e.caseIdElement;this.renderedCaseId=!0;var o=this.dynamicEntityDataDetailsLayout;return a.each(null==o?void 0:o.elements,(function(e,t){var a=e;"caseId"===e.field&&(a=r),i.renderElement.bind(i,n)(a,t)}),t)},renderComponent:function(e){var t=this.$(".elements");a.each(this.elements,this.renderElement.bind(this,t),(function(t){if(t)return e(t);e()}))},renderElement:function(e,t,i){t.className&&(t.customClassName=t.className,delete t.className);var a={model:this.model,fields:this.fields,fieldDef:{},parentElement:this,parentFormView:this.parentFormView,printing:this.printing,renderTabsAsInlineForm:this.renderTabsAsInlineForm,dynamicEntityDataDetailsLayout:this.dynamicEntityDataDetailsLayout,renderedCaseId:this.renderedCaseId},r=n.extend(a,t);if(t.field||t.fieldId){var o,l=this.fields[t.field]||n.find(this.fields,{id:t.fieldId}),u=this.model.getEntityDefinition();if(!this.model.isExternalForm()&&"custom"===u.type&&"caseId"===(null===(o=l)||void 0===o?void 0:o.field)&&!this.renderedCaseId&&this.model.get("caseId__reporterAccess"))return p.prototype.injectDynamicEntityDataDetailsLayout.bind(this)({$renderTo:e,caseIdElement:t},i);var f=(l||t).features;if(!c.hasEnabledFeature({features:f}))return i();l=n.assign({},l,t),n.has(t,"tabHideOnIntake")&&n.set(l,"typeOptions.hideOnIntake",t.tabHideOnIntake),n.has(t,"tabShowOnPortal")&&n.set(l,"typeOptions.showOnPortal",t.tabShowOnPortal),n.has(t,"tabShowOnHotline")&&n.set(l,"typeOptions.showOnHotline",t.tabShowOnHotline),r.fieldDef=l}var h,m=r.type||r.fieldDef.type||r.layoutType,g=n.get(s.get(m),"ui.formComponent"),y=g?g():d;try{h=new y(r)}catch(e){return i(e)}if(!h)return i();e.append(h.$el),this.addSubView(h).render(i)},addSubView:function(e,t){var i={parent:this.handle,reference:t?t.reference:null,group:t?t.group:null};return l.add(e,i)}});e.exports=p},432283:(e,t,i)=>{"use strict";i(428706),i(827435);var n=i(96190),a=i(386859),r=i(40785);e.exports=a.extend({className:"base-drag-component-tmpl section-drag-component-tmpl",Component:i(354960),template:i(439315),events:{"hide.bs.collapse .section-fields":"onCollapseHide","show.bs.collapse .section-fields":"onCollapseShow","hidden.bs.collapse .collapse":"onCollapseHidden","shown.bs.collapse .collapse":"onCollapseShown"},onRendered:function(e){this.$collapseControl=this.$("#section-collapse-control-".concat(this.cid)),this.$control=this.$(".section-collapse-control:first"),e()},onCollapseHide:function(e){this.$collapseControl.addClass("collapse").css("pointer-events","none")},onCollapseShow:function(e){this.$collapseControl.removeClass("collapse").css("pointer-events","none")},onCollapseHidden:function(e){var t=r.escapedTranslateKey("expand");this.updateCollapseControlTooltip(t),this.$collapseControl.css("pointer-events","auto")},onCollapseShown:function(e){var t=r.escapedTranslateKey("minimize");this.updateCollapseControlTooltip(t),this.$collapseControl.css("pointer-events","auto")},updateCollapseControlTooltip:function(e){n.isEmpty(this.$control)||(this.$control.attr("title",e).tooltip("fixTitle"),this.$control.attr("aria-label","".concat(e," ").concat(this.caption," ").concat(r.escapedTranslateKey("section"))),this.$control.is(":hover")&&this.$control.tooltip("show"))}})},506279:(e,t,i)=>{"use strict";e.exports={name:"section",caption:"Section",includeInFormBuilder:!0,includeInDataForm:!1,description:"Layout field to aid field organization. Add display rules to sections that apply to the fields within it.",ui:{formComponent:function(){return i(354960)},dragComponent:function(){return i(432283)},configurationTabs:function(){return i(598938)},createForm:"section-properties-form",propertiesForm:"section-properties-form",icon:"fa-grab-handle"}}},629423:(e,t,i)=>{"use strict";e.exports={name:"tab",caption:"Tab",includeInFormBuilder:!1,ui:{configurationTabs:function(){return i(598938)},createForm:"tab-properties-form",propertiesForm:"tab-properties-form"}}},559471:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099),i(478350),i(730237),i(423500),i(962062);var n=i(96190),a=i(274692),r=i(40785),o=i(325425),s=i(899184),l=i(410177),d=i(880777);e.exports=o.extend({className:"tabs-component-tmpl",onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.extend(this,e),this.getDepthRecursive([{type:"tabs",tabs:this.tabs}])>2)throw new Error("Max-depth of ".concat(2," for tabs has been exceeded."));this.tabs=this.convertToBBTabs(this.tabs)},getDepthRecursive:function(e){var t=this,i=1,a=n.filter(e,{type:"tabs"});if(0===a.length)return 0;var r=n.flatMap(a,"tabs");return n.forEach(r,(function(e){var n=t.getDepthRecursive(e.elements)+1;i=Math.max(i,n)})),i},convertToBBTabs:function(e){var t=this,i=this.model.isDraft(),a=this.model.getEntityDefinition(),o=this.parentElement.showOnPortal;return n.map(e,(function(e){return{caption:e.caption,View:d,id:e.id,elements:e.elements,fields:t.fields,default:e.default,hideOnIntake:e.hideOnIntake&&i,hideOnPortal:r.shouldHideOnPortal({entDef:a,model:t.model,showOnPortal:o&&e.showOnPortal}),displayRule:e.displayRule||e.displayRuleGroupId,showOnPortal:o&&e.showOnPortal,showOnHotline:e.showOnHotline,renderedCaseId:t.renderedCaseId,dynamicEntityDataDetailsLayout:t.dynamicEntityDataDetailsLayout}}))},render:function(e,t){n.isFunction(e)?o.prototype.render.call(this).then(e):o.prototype.render.call(this,e).then(t)},onRendered:function(){var e,t=a.Deferred();return e=this.renderTabsAsInlineForm?new l({model:this.model,tabs:this.tabs,parentElement:this.parentElement}):new s({model:this.model,tabs:this.tabs,printing:this.printing,parentFormView:this.parentFormView}),this.addSubView(e).render(this.$el).done(t.resolve),t.promise()}})},357792:(e,t,i)=>{"use strict";e.exports={name:"tabs",caption:"Tabs",includeInFormBuilder:!1,ui:{formComponent:function(){return i(559471)}}}},285623:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(880777),s=i(40785);e.exports=o.extend({template:i(639315),translateCaption:function(){var e,t=null===(e=this.model)||void 0===e?void 0:e.getEntityDefinition(),i=this.tab.caption;return null!=t&&t.isDynamicEntity()?s.translateKey({groupName:t.entityCanon,subgroupName:"layouts",key:i},{missingTranslationValue:i}):s.translateKey(i,{missingTranslationValue:i})},locals:function(){return r(r({},o.prototype.locals.call(this)||{}),{},{displayRule:this.tab.displayRule,caption:this.translateCaption()})}})},880777:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(608758),o=i(325425),s=i(748191);e.exports=o.extend({template:i(920539),onInit:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.extend(this,i),this.elements=this.tab.elements,this.fields=this.tab.fields,this.renderComponent=s.get("section").ui.formComponent().prototype.renderComponent.bind(this),this.renderElement=s.get("section").ui.formComponent().prototype.renderElement.bind(this),a.defaults(this,{defaultFieldsLayout:null===(e=this.parentElement)||void 0===e?void 0:e.defaultFieldsLayout,renderTabsAsInlineForm:null===(t=this.parentElement)||void 0===t?void 0:t.renderTabsAsInlineForm,dynamicEntityDataDetailsLayout:this.tab.dynamicEntityDataDetailsLayout,renderedCaseId:this.tab.renderedCaseId})},render:function(e){var t=this,i=n.Deferred(),a=this.locals?this.locals():{};return this.showMainLoader(),r.render(this.template,a,(function(a,r){return a?i.reject(a):setTimeout((function(){var a;t.$el.html(r),t.$el.attr({"data-handle":t.handle}),e&&((a=n(e)).append(t.$el),a.hide()),t.renderComponent((function(e){return e?i.reject(e):(t.enableFeatures(t.$el),a&&a.show(),t.hideMainLoader(),i.resolveWith(t))}))}),0)})),i.promise()}})},516816:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(122268),r=i(325425),o=i(40785),s=i(748191);e.exports=r.extend({className:"tombstone-component-tmpl col-xs-12",template:i(336404),rules:{},onInit:function(e){n.extend(this,e)},locals:function(){return{elements:n.map(this.elements,function(e){var t=e.caption?e.caption:{groupName:this.model.getEntityCanon(),subgroupName:"fields",key:e.field};return n.extend({},e,{caption:o.translateKey(t)})}.bind(this))}},render:function(e){var t=this;return r.prototype.render.call(this).then((function(){t.renderComponent(e)}))},renderComponent:function(e){var t=this.$(".elements");a.each(this.elements,this.renderElement.bind(this,t),e)},renderElement:function(e,t,i){var a=n.extend({model:this.model,fields:this.fields,fieldDef:{},parentElement:this},t);if(t.field){var r=this.fields[t.field]||{};r=n.assign({},r,t),a.fieldDef=r}var o=a.type||a.fieldDef.type,l=n.get(s.get(o),"ui.formComponent");if(!l)return i();var d=new(l())(a);e.append(d.$el),this.addSubView(d).render(i)}})},528679:(e,t,i)=>{"use strict";e.exports={name:"tombstone",ui:{formComponent:function(){return i(516816)}}}},405350:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(523418),i(327495),i(690906),i(16280),i(962062),i(428706),i(962010);var o=i(96190),s=i(122268),l=i(800030);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=e.seneca,n=e.entityCanon,a=e.ids,r=e.fields;if(!i)return t(new Error("seneca required"));if(!n)return t(new Error("entityCanon required"));if(!a)return t(new Error("ids required"));var o=function(e){return e.delegate({user$:{id:"0"},perm$:null})}(i);return o.delegate({showInactiveRecords:!0}).make$(n).list$({limit$:"ALL",ids:a,fields$:r,joins$:!1},t)}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"getEntityNameFn",value:function(e){return function(t,i,n){var r={seneca:t,ids:o.map(i,e),fields:["id","base","name"]};s.parallel([d.bind(this,o.extend({entityCanon:"isight/entity"},r)),d.bind(this,o.extend({entityCanon:"isight/dynamic_entity"},r))],(function(t,r){if(t)return n(t);var s,d,c=(d=2,function(e){if(Array.isArray(e))return e}(s=r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(s,d)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(s,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],p=c[1],f=o.concat(u,p),h=o.keyBy(f,"id"),m=o.map(i,(function(t){var i=t[e];if(!i)return null;var n=h[i];return n?l.getEntityNameAndBaseAsCanon(n.base,n.name):null}));return n(null,m)}))}}},{key:"getEntityFieldAttrFn",value:function(e,t){return function(i,n,a){d({seneca:i,ids:o.map(n,e),fields:["id",t],entityCanon:"isight/field"},(function(i,r){if(i)return a(i);var s=o.keyBy(r,"id"),l=o.map(n,(function(i){var n=i[e];if(!n)return null;var a=s[n];return a?a[t]:null}));return a(null,l)}))}}}])&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=new c},827399:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(16280),i(962062),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var r=i(96190),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"buildSerializableError",value:function(e,t){var i=new Error(e.message);return i.httpstatus=400,i.critical=!1,i.errortype="entity-invalid",i.code="entity-invalid",e.parambulator&&(i.valmap={code:e.parambulator.code,entity:t,property:e.parambulator.property,value:e.parambulator.value,expected:e.parambulator.expected}),i}},{key:"buildSerializableErrors",value:function(e,t){var i=this;if(!r.isArray(e))return this.buildSerializableError(e,t);var n=new Error("Entity validation errors");return n.critical=!1,n.httpstatus=400,n.validationErrors=r.map((function(e){return i.buildSerializableError(e,t)})),n}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=new o},553604:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(962062),i(962010),i(428706),i(944114),i(202008),i(426099),i(311927),i(16280);var r=i(96190),o=i(541369),s=i(786641);function l(e,t){return r.map(t,(function(t){var i,a=s[t],o=r.cloneDeep(e);o.name="".concat(e.name," ").concat(a.name),o.roles=r.map(e.roles,(function(e){return a.permissionCodeFn(e)})),(i=o.roles).push.apply(i,n(e.roles));var l=r.filter(e.conditions,(function(e){return!e.doNotAddToGeneratedRule}));return o.conditions=[].concat(n(a.conditions||[]),n(l||[])),delete o.generatePermissions,o}))}e.exports={initialize:function(){var e=[],t={required:function(i){i=r.omit(i,"control","entities");var a=r.extend({name:"required "+(e.length+1)+" "+i.roles.join(","),control:"required"},i);return r.isEmpty(i.generatePermissions)||e.push.apply(e,n(l(a,i.generatePermissions))),e.push(a),t},filter:function(i){i=r.omit(i,"control","entities");var a=r.extend({name:"filter "+(e.length+1)+" "+i.roles.join(","),control:"filter"},i);return r.isEmpty(i.generatePermissions)||e.push.apply(e,n(l(a,i.generatePermissions))),e.push(a),t},entity:function(i){i=r.omit(i,"control","entities");var n=r.extend({name:"entity "+(e.length+1),control:"entity"},i);return e.push(n),t},raw:function(i){return e.push(i),t},value:function(){return{accessControls:e}}};return r.each(o,(function(i,n){if(t[n])throw new Error("attribute already taken: "+n);t[n]=function(n){return e.push(i(n)),t}})),t},getEditGroupPermissionCode:function(e){return"edit_".concat(e,"_group")},getStandardGroupPermissionDetails:function(){return{isGroup:!0,dynamic:!0,restricted:!1}},conditionForInternalRecord:{doNotAddToGeneratedRule:!0,attributes:{"!externalRecord":!0}}}},785340:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(250113),i(426099),i(202008),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var r=i(96190),o=i(800030),s=i(934854),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getDynamicEntitiesAndFields=t.getDynamicEntitiesAndFields}var t,i;return t=e,i=[{key:"get",value:function(e,t){if(!e.entityId&&!e.entityName)return null;var i=this.getDynamicEntitiesAndFields(),n=i.dynamicEntities,a=i.dynamicEntityFields,l={};e.entityId&&(l.id=e.entityId),e.entityName&&(l.canon=o.getEntityCanon(e.entityName));var d=r.find(n,l),c=s.getAsEntDefWithFields(d,a);return r.isFunction(t)?t(null,c):c}},{key:"getAll",value:function(){var e=this.getDynamicEntitiesAndFields(),t=e.dynamicEntities,i=e.dynamicEntityFields;return s.getAsEntDefsWithFields(t,i)}},{key:"getByFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.filter(this.getAll(),e)}},{key:"getByParentId",value:function(e){if(!e.parentEntityId)return null;var t=this.getDynamicEntitiesAndFields(),i=t.dynamicEntities,n=t.dynamicEntityFields,a=r.filter(i,{parentEntityId:e.parentEntityId});return s.getAsEntDefsWithFields(a,n)}},{key:"getFromSchema",value:function(e){var t=e.entitySchema,i=e.fields,n=[{entity:o.getEntityFromCanon(t.canon),entityId:t.id,fields:r.keyBy(i,"field")}];return s.getAsEntDefWithFields(t,n)}}],i&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},934854:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(962010),i(250113),i(426099),i(962062),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892);var r=i(96190),o=i(939994),s=i(522609)(),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"getAsEntityDefinition",value:function(e){var t=function(e){var t="data"===e.type?"sys_data_form_entry":"sys_dynamic_entity_data";return o.get(t).entDef}(e),i=r.assign({},t,e);return i.entity={base:e.base,name:e.name},i.entity$=s.slashEntityNameFromObj(i.entity),i.validation=t.validation,i.inactive=!1===e.sysActive,i.allowPurge=!0,"data"!==i.type&&(i.allowAdvancedSearch=!0,i.allowQuickSearch=!0,i.report=!0),o.getDefFromJSON(i)}},{key:"getFields",value:function(e,t){var i=r.find(t,{entity:e});return i?i.fields:null}},{key:"getAsEntDefWithFields",value:function(e,t){if(!e)return null;var i=this.getAsEntityDefinition(e);return i._fields=this.getFields(i.entity,t),i}},{key:"getAsEntDefsWithFields",value:function(e,t){var i=this;return r.isEmpty(e)?[]:r.map(e,(function(e){return i.getAsEntDefWithFields(e,t)}))}},{key:"getAsEntDefCallback",value:function(e){var t=this;return function(i,n){if(i)return e(i);if(r.isArray(n)){if(r.isEmpty(n))return e(null,[]);var a=r.map(n,t.getAsEntityDefinition);return e(null,a)}if(!n)return e();var o=t.getAsEntityDefinition(n);return e(null,o)}}},{key:"getAsSingleEntDefCallback",value:function(e){var t=this;return function(i,n){t.getAsEntDefCallback((function(t,i){return t?e(t):r.isEmpty(i)?e():i.length>1?e(new Error("Expected only one dynamic entity schema")):e(null,i[0])}))(null,n)}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=new l},893979:(e,t,i)=>{"use strict";e.exports=i(274901),e.exports.ui=i(785340)},154563:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function r(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}i(802259),i(123792),i(747764),i(962953),i(874423),i(21699),i(16280),i(428706),i(962062),i(962010),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var o=i(96190),s=i(809375);e.exports=function(){function e(t,i,n,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entDef=t,this.operator=i,this.field=n,this.fieldDef=this.getFieldDef(),this.value=a,null!=r&&r.lang&&(this.lang=r.lang),this.queryOptions=o.omit(r,"lang")}var t,i;return t=e,(i=[{key:"getFieldDef",value:function(){return o.includes(["or","and","not","type"],this.operator)?null:this.entDef.fields()[this.field]}},{key:"toQuery",value:function(){if(this.fieldDef){var e=s[this.fieldDef.type].getOperators("es")[this.operator];if(!o.isFunction(e.getQuery))throw new Error("Type '".concat(this.fieldDef.type,"' does not support search operator\n\t\t\t\t\t'").concat(this.operator,"'"));return e.getQuery(this)}return this[this.operator](this)}},{key:"getQueryFieldName",value:function(){if(!this.fieldDef)throw new Error("No field definition to get query field name from");var e=s[this.fieldDef.type].getOperators("es")[this.operator];if(!e)throw new Error("Type '".concat(this.fieldDef.type,"' does not support search operator\n\t\t\t\t'").concat(this.operator,"'"));return e.getFieldName(this)}},{key:"or",value:function(e){var t=this;return{bool:{should:o.compact(o.map(e.value,(function(e){return t.evaluateExpression(e)})))}}}},{key:"and",value:function(e){var t=this;return{bool:{must:o.compact(o.map(e.value,(function(e){return t.evaluateExpression(e)})))}}}},{key:"not",value:function(e){return{bool:{must_not:o.compact([this.evaluateExpression(e.value)])}}}},{key:"type",value:function(){var e,t,i,n=this.entDef.reuseEsIndex;return this.entDef.isDynamicEntity()?{bool:{filter:{bool:{must:[{term:{_type:this.entDef.table}},{term:{entityId:this.entDef.dynamicEntityId}}]}}}}:{bool:{filter:n?{term:(e={},t=n.typeField,i=this.entDef[n.typeField],(t=r(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e)}:{term:{_type:this.entDef.entity.base+"_"+this.entDef.entity.name}}}}}},{key:"evaluateExpression",value:function(e){return e&&o.isFunction(e.toQuery)?e.toQuery():e}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},715479:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(747764),i(962062),i(123792),i(426099),i(962953),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var r=i(96190),o=i(809375),s=i(154563);e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._entDef=t,this.addOperatorsAsFunctions()}var t,i;return t=e,(i=[{key:"addOperatorsAsFunctions",value:function(){var e=this,t=this.getAllOperators();r.each(t,(function(t){e[t]=e.operator.bind(e,t)}))}},{key:"getAllOperators",value:function(){return r.chain(o).values().map((function(e){var t=e.getOperators("es");return r.keys(t)})).flatten().uniq().value()}},{key:"operator",value:function(e,t,i,n){return new s(this._entDef,e,t,i,n)}},{key:"or",value:function(e){return new s(this._entDef,"or",null,e)}},{key:"and",value:function(e){return new s(this._entDef,"and",null,e)}},{key:"not",value:function(e){return new s(this._entDef,"not",null,e)}},{key:"type",value:function(){return new s(this._entDef,"type")}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},983256:(e,t,i)=>{"use strict";i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280),i(426099),i(938781),i(45700),i(689572),i(752675),i(489463),i(102892);var n=["entDef","entData","engine","excludeFields","disableDefaults","fields"];function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var l=i(390936),d=function(){function e(t){var i=t.parambulatorPrefs;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parambulatorPrefs=i}var t,i;return t=e,i=[{key:"validate",value:function(e,t){var i=e.entDef,a=e.entData,o=e.engine,d=e.excludeFields,c=e.disableDefaults,u=e.fields,p=function(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,n);if(!i)return t(new Error("entDef required"));if(!a)return t(new Error("entData required"));var f=o||"parambulator",h=l.getEngine({engine:f,parambulatorPrefs:this.parambulatorPrefs,excludeFields:d,disableDefaults:c});return h?h.validate(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=s(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({entDef:i,entData:a,fields:u},p),t):t(new Error("Unable to find validation engine ".concat(o)))}},{key:"getEntityParambulatorRules",value:function(e){if(!e||!e.entDef)return null;var t=e.entDef,i=e.excludeFields,n=l.getEngine({engine:"parambulator",parambulatorPrefs:this.parambulatorPrefs,excludeFields:i});return n?n.toString({entDef:t}):null}},{key:"getValidationSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.engine,i=void 0===t?"parambulator":t,n=e.excludeFields,a=e.schema,r=e.entDef,o=e.rules,s=e.disableDefaults,d=e.fields;return l.getEngine({engine:i,excludeFields:n,disableDefaults:s,parambulatorPrefs:this.parambulatorPrefs}).getValidationSchema({entDef:r,schema:a,rules:o,excludeFields:n,fields:d})}}],i&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=d},405345:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(96190),a=i(809375);e.exports={getCharMaxLength:function(e){var t,i,r,o=e.typeOptions,s=e.type,l=null!==(t=null==o?void 0:o.charMaxTextbox)&&void 0!==t?t:e.charMaxTextbox,d=null!==(i=null==o?void 0:o.charMaxTextArea)&&void 0!==i?i:e.charMaxTextArea,c=[l||d,null===(r=a[s].rules)||void 0===r?void 0:r.charMaxLength].filter(n.isNumber);if(c.length)return Math.min.apply(null,c)},getCharMinLength:function(e){var t,i,r=e.typeOptions,o=e.type,s=[null!==(t=null==r?void 0:r.charMin)&&void 0!==t?t:e.charMin,null===(i=a[o].rules)||void 0===i?void 0:i.charMinLength].filter(n.isNumber);if(s.length)return Math.max.apply(null,s)}}},9197:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(16280),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"getValidationSchema",value:function(e){throw new Error("getValidationSchema needs to be implemented")}},{key:"validate",value:function(e,t){throw new Error("validate needs to be implemented")}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=r},390936:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(63649),o=i(905973),s=i(537427),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engineClassMap={parambulator:r,joi:o,ruleEntityValidation:s}}var t,i;return t=e,(i=[{key:"getEngine",value:function(e){return e&&e.engine?new(0,this.engineClassMap[e.engine])(e):null}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=new l},974157:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}i(715472),i(860825),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(747764),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(202008),i(426099),i(874423),i(21699),i(123792),i(962953),i(16280),i(240875);var l=i(96190),d=i(922721),c=i(535300),u=i(898716),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(g,e);var t,i,p,f,h,m=(f=g,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(f);if(h){var i=s(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=m.call(this,e)).joi=g.createJoi(e.disableDefaults),t}return t=g,p=[{key:"createJoi",value:function(e){var t,i=d.extend.apply(d,function(e){if(Array.isArray(e))return a(e)}(t=u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return e||(i=i.defaults((function(e){switch(e.schemaType){case"string":case"phoneNumber":return e.allow(null,"");case"array":return e.sparse().allow(null);default:return e.allow(null)}}))),i}}],(i=[{key:"getValidationSchema",value:function(e){var t=this,i=e.fields,n=e.entDef,a={},r=n.fields();return l.isEmpty(i)||(r=l.filter(r,(function(e){return l.includes(i,e.field)}))),l.each(r,(function(e){var i=e.field,r=n.getFieldInfo(i).typeDef,o=l.get(r,"db.joiType");o&&d.isSchema(o)?a[i]=o:l.isString(o)?a[i]=t.joi[o]():l.isFunction(o)&&(a[i]=o(t.joi,e,n.dbToUse))})),this.joi.object().keys(a)}},{key:"getValidationOptions",value:function(e){return l.extend({},{abortEarly:!1,allowUnknown:!0},e)}},{key:"validate",value:function(e,t){var i=e.entData,n=e.entDef,a=e.schema,r=e.fields;if(!l.isPlainObject(i))return t(new Error("options.entData needs to be a plain object"));if(a&&!a.isJoi)return t(new Error("options.schema needs to be a joi"));var o=a||this.getValidationSchema({fields:r,entDef:n}),s=this.getValidationOptions(l.omit(e,["entDef","entData","schema","fields"]));c.callbackify(o.validateAsync).bind(o)(i,s,t)}}])&&r(t.prototype,i),p&&r(t,p),Object.defineProperty(t,"prototype",{writable:!1}),g}(i(9197));e.exports=p},898716:(e,t,i)=>{"use strict";e.exports=[i(492139),i(936740)]},936740:(e,t,i)=>{"use strict";var n=i(96190),a=i(572485);e.exports=function(e){return{type:"phoneNumber",base:e.string(),messages:{"phoneNumber.format":"({#label}) must have a valid country code and phone number."},validate:function(e,t){return n.isNil(e)||a.validatePhoneNumber(e)?{value:e}:{value:e,errors:t.error("phoneNumber.format")}}}}},905973:(e,t,i)=>{"use strict";e.exports=i(974157)},272075:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}i(715472),i(860825),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(962010),i(327495),i(690906),i(428706),i(16280),i(879432),i(426099),i(938781),i(240875);var d=i(96190),c=i(858612),u=i(9197),p=i(202352),f=i(627746),h=i(950430),m=i(562829),g=i(192305),y=i(591919),v=i(676853),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(w,e);var t,i,r,u,b=(r=w,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(u){var i=l(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=b.call(this,e)).parambulatorPrefs=e.parambulatorPrefs,t.excludeFields=e.excludeFields,t.fieldRuleGenerators=[p,f,h,m,g,y,v],t}return t=w,i=[{key:"getPrefs",value:function(){return this.parambulatorPrefs}},{key:"getRules",value:function(e){var t=e.entDef,i=e.excludeFields,n=void 0===i?[]:i,a=d.assign({},t.validation);return this.generateRules({entDef:t,rules:a,excludeFields:n}),a}},{key:"getValidationSchema",value:function(e){var t=e.schema,i=e.entDef,n=e.excludeFields,a=e.rules,r=void 0===a?{}:a;this.addMandatoryFields({schema:t,rules:r}),this.generateRules({entDef:i,rules:r,excludeFields:n});var o=this.getPrefs();return this.getParambulator({rules:r,prefs:o})}},{key:"addMandatoryFields",value:function(e){var t=e.schema,i=e.rules,n=t.mandatoryFields;return n?(d.assignWith(i,{mandatory$:n},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d.uniq([].concat(a(e),a(t)))})),i):i}},{key:"generateRules",value:function(e){var t=e.entDef,i=e.rules,n=e.excludeFields,a=void 0===n?[]:n;if(!t)return null;var r=t.fields();return d.each(this.fieldRuleGenerators,(function(e){new e({entityFields:r,excludeFields:a}).add(i)})),i}},{key:"getParambulator",value:function(e){var t=e.rules,i=e.prefs;return c(t,i)}},{key:"validate",value:function(e,t){var i=e.entDef,n=e.entData;i||t(new Error("entDef required"));var a=this.getRules({entDef:i,excludeFields:this.excludeFields}),r=this.getPrefs();this.getParambulator({rules:a,prefs:r}).validate(n,t)}},{key:"toString",value:function(e){var t=e.entDef,i=this.getRules({entDef:t,excludeFields:[]}),n=this.getPrefs(),a=this.getParambulator({entDef:t,rules:i,prefs:n});return JSON.parse(a.toString())}}],i&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),w}(u);e.exports=b},63649:(e,t,i)=>{"use strict";e.exports=i(272075)},627746:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=i(96190),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(u,e);var t,i,l,d,c=(l=u,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(d){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return t=u,(i=[{key:"name",get:function(){return"dateRange$"}},{key:"ruleFieldFilter",value:function(e){return!s.isEmpty(e.dateConstraint)}},{key:"ruleTransformer",value:function(e){return{date:e.field,constraint:e.dateConstraint}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(i(90611));e.exports=l},202352:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(962010),i(240875);var s=i(96190),l=i(90611),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(p,e);var t,i,d,c,u=(d=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(d);if(c){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),u.apply(this,arguments)}return t=p,i=[{key:"name",get:function(){return"mandatory$"}},{key:"ruleFieldFilter",value:function(e){return!0===e.mandatory}},{key:"ruleTransformer",value:function(e){return e.field}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.prototype.add.call(this,e),e[this.name]=s.uniq(e[this.name])}}],i&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),p}(l);e.exports=d},676853:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=i(96190),l=i(90611),d=i(809375),c=i(405345),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(f,e);var t,i,l,u,p=(l=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(u){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),p.apply(this,arguments)}return t=f,(i=[{key:"name",get:function(){return"maxLength$"}},{key:"ruleFieldFilter",value:function(e){var t,i,n=e.typeOptions;return!((null!==(t=null==n?void 0:n.bypassDefaultTypeValidation)&&void 0!==t?t:e.bypassDefaultTypeValidation)||s.isNil(e.charMaxTextbox)&&s.isNil(e.charMaxTextArea)&&s.isNil(null===(i=d[e.type].rules)||void 0===i?void 0:i.charMaxLength))}},{key:"ruleTransformer",value:function(e){return{name:e.field,value:c.getCharMaxLength(e)}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(l);e.exports=u},591919:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=i(96190),l=i(90611),d=i(405345),c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(p,e);var t,i,l,c,u=(l=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(c){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),u.apply(this,arguments)}return t=p,(i=[{key:"name",get:function(){return"minLength$"}},{key:"ruleFieldFilter",value:function(e){return!e.bypassDefaultTypeValidation&&!s.isNil(e.charMin)}},{key:"ruleTransformer",value:function(e){return{name:e.field,value:d.getCharMinLength(e)}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),p}(l);e.exports=c},192305:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=i(96190),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(u,e);var t,i,l,d,c=(l=u,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(d){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return t=u,(i=[{key:"name",get:function(){return"numberRange$"}},{key:"ruleFieldFilter",value:function(e){return!(s.isNil(e.min)&&s.isNil(e.max)&&s.isNil(e.startValue)&&s.isNil(e.endValue))}},{key:"ruleTransformer",value:function(e){var t=e.field,i=e.min,n=e.max,a=e.startValue,r=e.endValue,o={number:t};return s.isNil(i)||(o.minimumNumber={number:i}),s.isNil(n)||(o.maximumNumber={number:n}),s.isNil(a)||(o.minimumNumber={number:a}),s.isNil(a)||(o.maximumNumber={number:r}),o}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(i(90611));e.exports=l},90611:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(962062),i(16280),i(962010),i(428706),i(45700),i(689572),i(752675),i(489463),i(102892);var r=i(96190),o=function(){function e(t){var i=t.entityFields,n=t.excludeFields,a=void 0===n?[]:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entityFields=i,this.excludeFields=a}var t,i;return t=e,i=[{key:"getRulesToAdd",value:function(){var e=this;if(!this.ruleFieldFilter)return[];if(!this.ruleTransformer)return[];var t=r.filter(this.entityFields,(function(t){return!(e.excludeFields.indexOf(t.field)>=0)&&e.ruleFieldFilter.call(e,t)}));return 0===t.length?[]:r.map(t,this.ruleTransformer.bind(this))}},{key:"ruleFieldFilter",value:function(){throw new Error("must be implemented")}},{key:"ruleTransformer",value:function(){throw new Error("must be implemented")}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name&&this.entityFields&&0!==this.entityFields.length){var t=this.getRulesToAdd();if(0!==t.length){var i=this.name,n=e[i]||[];n=n.concat(t),e[i]=n}}}}],i&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=o},950430:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=i(96190),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(u,e);var t,i,l,d,c=(l=u,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(d){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return t=u,(i=[{key:"name",get:function(){return"phoneNumber$"}},{key:"ruleFieldFilter",value:function(e){var t=s.isEqual(e.kind,"dynamic"),i=s.isEqual(e.type,"phone-number");return t&&i}},{key:"ruleTransformer",value:function(e){return e.field}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(i(90611));e.exports=l},562829:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(240875);var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(c,e);var t,i,s,l,d=(s=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(s);if(l){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d.apply(this,arguments)}return t=c,(i=[{key:"name",get:function(){return"postalCode$"}},{key:"ruleFieldFilter",value:function(e){return"postalCode"===e.type}},{key:"ruleTransformer",value:function(e){return{postalCode:e.field,profile:e.postalCodeCountry}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(i(90611));e.exports=s},764695:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=s(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function p(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}i(240875),i(715472),i(860825),i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(944114),i(423500),i(681278),i(802259),i(428706),i(16280),i(202008),i(426099),i(123792),i(747764),i(430958),i(962953),i(874423);var f=i(122268),h=i(939994),m=i(315305),g=i(9197),y=i(730631),v=new WeakSet,b=new WeakSet,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(w,e);var t,i,a,s,g=(a=w,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(a);if(s){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function w(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return u(d(e=g.call.apply(g,[this].concat(i))),b),u(d(e),v),e}return t=w,(i=[{key:"getValidationSchema",value:function(e,t){p(this,v,A).call(this,e,(function(e,i){if(e)return t(e);m(h.get("sys/rule_entity_validation")).list({q:{entityId:i},limit:-1,joins:!1},t)}))}},{key:"evaluateCondition",value:function(e,t){var i=e.conditionId,n=e.entDef,a=e.entData,o=e.seneca,s=e.evalutorOpts,l=e.rule,d=e.user;y.evaluate({seneca:o,conditionId:i,user:d,entityName:n.entityCanon,entityRecordId:a.id,entityRecord:a,evalutorOpts:r(r({},s),{},{rule:l})},t)}},{key:"validateRule",value:function(e,t){var i=this,n=e.rule,a=e.entData;if(!p(this,b,C).call(this,n,a))return t();var o=n.criteriaId,s=n.validationId,l=n.id,d={critieraMet:!0,validationId:s,validationPasses:!0,ruleId:l,conditionResponse:{}};return s?o?void this.evaluateCondition(r({conditionId:o},e),(function(n,a){return n?t(n):(d.critieraMet=a,a?void i.evaluateCondition(r({conditionId:s},e),(function(e,i,n){if(e)return t(e);d.validationPasses=i,d.conditionResponse=n,t(null,d)})):t(null,d))})):this.evaluateCondition(r({conditionId:s},e),(function(e,i,n){if(e)return t(e);d.validationPasses=i,d.conditionResponse=n,t(null,d)})):t()}},{key:"validate",value:function(e,t){var i=this,n=e.entDef,a=e.entData,r=e.seneca,o=e.evalutorOpts,s=e.user;if(!n)throw new Error("entDef is required");if(!a)throw new Error("entData is required");if(!r)throw new Error("seneca is required");if(!s)return t(new Error("user required to evaluate rule entity validation"));var l={entDef:n,entData:a,seneca:r,evalutorOpts:o,user:s};this.getValidationSchema(n,(function(e,n){if(e)return t(e);f.mapLimit(n,5,(function(e,t){l.rule=e,i.validateRule(l,t)}),(function(e,i){if(e)return t(e);t(null,i.filter(Boolean))}))}))}}])&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),w}(g);function A(e,t){return e.getEntityId(t)}function C(e,t){var i=e.submissionType,n=t.externalRecord,a=t.intakeMethod;return!["hotline","email"].includes(a)&&"hotline"!==a&&(!("Portal"!==i||!n)||"Internal Intake Form"===i&&!n)}e.exports=w},537427:(e,t,i)=>{"use strict";e.exports=i(764695)},303741:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}i(879432),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(523418),i(690906),i(16280),i(327495),i(5746),i(962010),i(428706),i(874423),i(21699),i(202008),i(426099),i(269479),i(250113),i(962062),i(726910),i(703362),i(311927),i(944114),i(45700),i(689572),i(752675),i(489463),i(102892);var d=i(96190),c=i(122268),u=i(13288)("entity:entity-definition"),p=i(624109),f=i(715479),h=i(453162),m=i(226367),g=i(809375),y=i(635869),v=i(903745),b=i(800030),w=i(439862).file("/index.js");function A(e){return e?{base:"isight",name:"dynamic_entity"}:{base:"isight",name:"entity"}}e.exports=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("options are required for entity definitions");this.options=t,this.entDef=t.entDef,this._fieldCache=t.fieldCache}var t,i;return t=e,i=[{key:"table",get:function(){return this.entDef.table}},{key:"joins",get:function(){return this.entDef.joins}},{key:"reuseEsIndex",get:function(){return this.entDef.reuseEsIndex}},{key:"partiallyDynamic",get:function(){return this.entDef.partiallyDynamic}},{key:"allowDynamicFieldsOnPortal",get:function(){return this.entDef.allowDynamicFieldsOnPortal}},{key:"enablePortalUserNotifications",get:function(){return this.entDef.enablePortalUserNotifications}},{key:"includeInElementCount",get:function(){return this.entDef.includeInElementCount}},{key:"createTable",get:function(){return!1!==this.entDef.createTable}},{key:"entity",get:function(){return this.entDef.entity}},{key:"search",get:function(){return this.entDef.search}},{key:"report",get:function(){return this.entDef.report}},{key:"reportOptions",get:function(){return this.entDef.reportOptions}},{key:"caption",get:function(){return this.entDef.caption}},{key:"captionPlural",get:function(){return this.entDef.captionPlural}},{key:"addCaption",get:function(){return this.entDef.addCaption}},{key:"newCaption",get:function(){return this.entDef.newCaption}},{key:"customForm",get:function(){return this.entDef.customForm}},{key:"calendarMapping",get:function(){return this.entDef.calendarMapping}},{key:"workflowActionConfig",get:function(){return this.entDef.workflowActionConfig}},{key:"primaryConfig",get:function(){return this.entDef.primaryConfig}},{key:"db",get:function(){return this.entDef.db}},{key:"acl",get:function(){return this.entDef.acl}},{key:"esAggregates",get:function(){return this.entDef.esAggregates}},{key:"queryFilter",get:function(){return this.entDef.queryFilter}},{key:"audit",get:function(){return this.entDef.audit}},{key:"parents",get:function(){return this.entDef.parents}},{key:"validation",get:function(){return this.entDef.validation}},{key:"historyNav",get:function(){return this.entDef.historyNav}},{key:"workflowHistoryUrl",get:function(){return this.entDef.workflowHistoryUrl}},{key:"customWorkflows",get:function(){return this.entDef.customWorkflows}},{key:"dynamicFlags",get:function(){return this.entDef.dynamicFlags}},{key:"ruleEvents",get:function(){return this.entDef.ruleEvents}},{key:"icon",get:function(){return this.entDef.icon}},{key:"iselContextName",get:function(){return this.entDef.customIselName||this.entDef.entity.name}},{key:"identifierField",get:function(){return this.entDef.identifierField}},{key:"backgroundColor",get:function(){return this.entDef.backgroundColor}},{key:"textColor",get:function(){return this.entDef.textColor}},{key:"aclHierarchy",get:function(){return this.entDef.aclHierarchy}},{key:"importTransformer",get:function(){return this.entDef.importTransformer}},{key:"customDependencies",get:function(){var e=this.entDef.customDependencies;return"function"==typeof e?e.call(this,this.options.entities):e}},{key:"exportTransformer",get:function(){return this.entDef.exportTransformer}},{key:"exportGridTransformer",get:function(){return this.entDef.exportGridTransformer}},{key:"allowAdvancedSearch",get:function(){return this.entDef.allowAdvancedSearch}},{key:"allowQuickSearch",get:function(){return this.entDef.allowQuickSearch}},{key:"allowExternalSearch",get:function(){return this.entDef.allowExternalSearch}},{key:"normalizeMultiValuePicklistEntries",get:function(){return this.entDef.normalizeMultiValuePicklistEntries}},{key:"enableTranslation",get:function(){return this.entDef.enableTranslation}},{key:"configurationExport",get:function(){return this.entDef.configurationExport}},{key:"exportCaption",get:function(){return this.entDef.exportCaption}},{key:"dataExport",get:function(){return this.entDef.dataExport}},{key:"configurationImport",get:function(){return this.entDef.configurationImport}},{key:"copyTransformer",get:function(){return this.entDef.copyTransformer}},{key:"copyPostAction",get:function(){return this.entDef.copyPostAction}},{key:"esReverseJoinPriority",get:function(){return this.entDef.esReverseJoinPriority}},{key:"esDefaultFilters",get:function(){return this.entDef.esDefaultFilters}},{key:"autoGenerateNumber",get:function(){return this.entDef.autoGenerateNumber}},{key:"api",get:function(){return this.entDef.api}},{key:"allowExternalFlag",get:function(){return this.entDef.allowExternalFlag}},{key:"rules",get:function(){return this.entDef.rules}},{key:"computeFunctions",get:function(){return this.entDef.computeFunctions}},{key:"defaultValueFunctions",get:function(){return this.entDef.defaultValueFunctions}},{key:"rowTemplates",get:function(){return this.entDef.rowTemplates}},{key:"grids",get:function(){return this.entDef.grids}},{key:"relationshipFieldMappings",get:function(){return this.entDef.relationshipFieldMappings}},{key:"similarSearchConfig",get:function(){return this.entDef.similarSearchConfig}},{key:"model",get:function(){return this.entDef.model}},{key:"view",get:function(){return this.entDef.view}},{key:"GridView",get:function(){return this.entDef.GridView}},{key:"FormView",get:function(){return this.entDef.FormView}},{key:"calendarView",get:function(){return this.entDef.calendarView}},{key:"collection",get:function(){return this.entDef.collection}},{key:"externalMapping",get:function(){return this.entDef.externalMapping}},{key:"staticFieldWorkflows",get:function(){return this.entDef.staticFieldWorkflows}},{key:"entityEvaluators",get:function(){return this.entDef.entityEvaluators}},{key:"lockWithParent",get:function(){return this.entDef.lockWithParent}},{key:"entityCanon",get:function(){return this.entDef.entity.base+"/"+this.entDef.entity.name}},{key:"entityType",get:function(){return"".concat(this.entDef.entity.base,"_").concat(this.entDef.entity.name)}},{key:"entityId",get:function(){return this.entDef.id}},{key:"type",get:function(){return this.entDef.type}},{key:"dbToUse",get:function(){return this.options.dbs[this.entDef.db]}},{key:"dbAclViewName",get:function(){return this.isDynamicEntity()?"vw_".concat(this.entity.base,"_").concat(this.entity.name):"vw_".concat(this.table)}},{key:"dbPivotViewName",get:function(){return"vw_".concat(this.table,"_pivot")}},{key:"createPivotView",get:function(){return this.entDef.createPivotView}},{key:"pivotViewExtraColumns",get:function(){return this.entDef.pivotViewExtraColumns}},{key:"tableNamespace",get:function(){return"public"}},{key:"yfViewName",get:function(){return'"'.concat(this.tableNamespace,'"."vw_').concat(this.table,'"')}},{key:"esType",get:function(){var e=this.entity,t=e.zone||"-",i=e.base||"-",n=e.name||"-";return"".concat(t,"/").concat(i,"/").concat(n)}},{key:"allowPurge",get:function(){return this.entDef.allowPurge}},{key:"bypassValidationOnDraft",get:function(){return this.entDef.bypassValidationOnDraft}},{key:"usageStatistics",get:function(){return this.entDef.usageStatistics}},{key:"allowMetaDataHardDelete",get:function(){return this.entDef.allowMetaDataHardDelete}},{key:"allowDataAggregation",get:function(){return this.entDef.allowDataAggregation}},{key:"importTypes",get:function(){return this.entDef.importTypes}},{key:"includeInDataDictionary",get:function(){return this.entDef.includeInDataDictionary}},{key:"cacheBustGroups",get:function(){return this.entDef.cacheBustGroups}},{key:"dynamic",get:function(){return this.entDef.dynamic}},{key:"dynamicDataStore",get:function(){return this.entDef.dynamicDataStore}},{key:"layoutId",get:function(){return this.entDef.layoutId}},{key:"aclRolesForCopy",get:function(){return this.entDef.aclRolesForCopy}},{key:"customExportColumns",get:function(){return this.entDef.customExportColumns}},{key:"excludeFromDataExport",get:function(){return this.entDef.excludeFromDataExport}},{key:"excludeFromAggregation",get:function(){return this.entDef.excludeFromAggregation}},{key:"layoutType",get:function(){return this.entDef.layoutType}},{key:"rootLayoutType",get:function(){return this.entDef.rootLayoutType}},{key:"caseDetailsTabs",get:function(){return this.entDef.caseDetailsTabs}},{key:"caseDetailsTabsExternal",get:function(){return this.entDef.caseDetailsTabsExternal}},{key:"gridFilterExcludeFields",get:function(){return this.entDef.gridFilterExcludeFields}},{key:"gridFilterExcludeFieldsByPerm",get:function(){return this.entDef.gridFilterExcludeFieldsByPerm}},{key:"customGridQueries",get:function(){return this.entDef.customGridQueries}},{key:"features",get:function(){return this.entDef.features}},{key:"dynamicEntityId",get:function(){return this.isDynamicEntity()?this.entDef.id:null}},{key:"dynamicEntityName",get:function(){return this.isDynamicEntity()?this.entDef.name:null}},{key:"inactive",get:function(){return this.isDynamicEntity()&&this.entDef.inactive}},{key:"dynamicEntityDataEntity",get:function(){return{base:"sys",name:"dynamic_entity_data"}}},{key:"dataFormEntryEntity",get:function(){return{base:"sys",name:"data_form_entry"}}},{key:"allowOnPortal",get:function(){return d.isBoolean(this.entDef.allowDynamicFieldsOnPortal)?this.entDef.allowDynamicFieldsOnPortal:this.entDef.allowOnPortal}},{key:"allowOnHotline",get:function(){return this.entDef.allowOnHotline}},{key:"dynamicEntityDataEntCanon",get:function(){return b.getEntityCanon(this.dynamicEntityDataEntity)}},{key:"dataFormEntryEntCanon",get:function(){return b.getEntityCanon(this.dataFormEntryEntity)}},{key:"dynamicEntityDataTable",get:function(){return b.getEntityTable(this.dynamicEntityDataEntity)}},{key:"dataFormEntryTable",get:function(){return b.getEntityTable(this.dataFormEntryEntity)}},{key:"dbEntity",get:function(){return this.isDynamicEntityData()?this.dynamicEntityDataEntity:this.isDataFormEntry()?this.dataFormEntryEntity:this.entity}},{key:"dbEntCanon",get:function(){return this.isDynamicEntityData()?this.dynamicEntityDataEntCanon:this.isDataFormEntry()?this.dataFormEntryEntCanon:this.entityCanon}},{key:"esEntity",get:function(){return this.dbEntity}},{key:"dynamicEntityDataESIndex",get:function(){return this.dynamicEntityDataTable}},{key:"dataFormEntryESIndex",get:function(){return this.dataFormEntryTable}},{key:"esIndex",get:function(){return"custom"===this.type?this.dynamicEntityDataESIndex:"data"===this.type?this.dataFormEntryESIndex:this.entDef.esIndex}},{key:"fieldsCacheRedisTtl",get:function(){return this.isDynamicEntity()||this.isPartiallyDynamicEntity()?this.options.fieldRedisCacheTtl:null}},{key:"isDynamicEntity",value:function(){return!0===this.dynamic}},{key:"isPartiallyDynamicEntity",value:function(){return!0===this.partiallyDynamic}},{key:"isDynamicEntityData",value:function(){return this.table===this.dynamicEntityDataTable}},{key:"isDataFormEntry",value:function(){return this.table===this.dataFormEntryTable}},{key:"isFieldFeatureEnabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!d.isNil(e.features)||(1===e.features.length?t.includes(e.features[0]):d.intersection(e.features,t).length>0)}},{key:"fields",value:function(){return this._fields?this._fields:this.getOriginalFields()}},{key:"setFields",value:function(e){this._fields=e}},{key:"dateFields",value:function(){return d.filter(this.fields(),(function(e){return"date"===e.type||"datetime"===e.type}))}},{key:"getFieldFlags",value:function(e){var t={};return"custom"===e.kind?t=e.kindOptions.flags:"join"===e.kind?(t=v[e.kind]).search=e.search:t="dynamic"===e.kind&&!0===e.showOnPortal?v["dynamic-external"]:v[e.kind],e.customKindFlags&&(t=d.assign({},t,e.customKindFlags)),t}},{key:"fieldHasFlag",value:function(e,t){var i=this.getFieldFlags(e);return!!d.get(i,t)}},{key:"isDynamicField",value:function(e){return this.fieldHasFlag(e,"toJSONB")}},{key:"isReadableField",value:function(e){var t=this.getFieldFlags(e);return!1!==d.get(t,"readable")}},{key:"getOriginalFields",value:function(){var e=d.keyBy(this.options.entDef.fields,"field");return d.mapValues(e,(function(e){return d.assign({},e.typeOptions,e)}))}},{key:"filterDbFields",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return d.filter(e,(function(e){var a=t.getFieldFlags.call(n,e);return i?a.schema||a.toJSONB:a.schema&&!0!==a.toJSONB}))}},{key:"filterJoinFields",value:function(e){return d.filter(e,{kind:"join"})}},{key:"filterDbJoinFields",value:function(e){return d.filter(e,(function(t){if("join"!==t.kind)return!1;var i=d.find(e,{field:t.kindOptions.referenceField}),n=g[i.type];return!d.get(n,"db.customJoin")}))}},{key:"filterFormattedFields",value:function(e){return d.filter(e,(function(e){return"join"!==e.kind&&e.search&&-1===["json","json[]"].indexOf(e.type)}))}},{key:"filterReportableFields",value:function(e){var t=this;return d.filter(e,(function(e){return t.getFieldFlags(e).reportable})).map((function(e){return d.pick(e,["field","type","caption","createdDate","deletedDate"])}))}},{key:"filterApiWritableFields",value:function(e){var t=this,i=d.filter(e,(function(e){return t.getFieldFlags(e).apiWritable})),n=d.map(i,"field"),a=d.get(this,"api.writableFields");return d.union(n,a)}},{key:"isSubmitOnlyField",value:function(e){var t=this.getFieldFlags(e);return!!d.get(t,"submitOnly")}},{key:"filterSubmitOnlyFields",value:function(e){var t=this,i=this.fields();return d.filter(e,(function(e){var n=i[e];return!(!n||!t.isSubmitOnlyField(n))}))}},{key:"filterApiExternalWritableFields",value:function(e){var t=this,i=d.filter(e,(function(e){var i=t.getFieldFlags(e);return!("dynamic"===e.kind&&!t.allowOnPortal)&&i.apiExternalWritable}));return d.map(i,"field")}},{key:"filterWorkflowStateFields",value:function(e){var t=d.filter(e,(function(e){return"state"===e.type}));return d.map(t,"field")}},{key:"filterSaveAndCopyExcludeFields",value:function(e){var t=d.filter(e,(function(t){var i=!0===t.excludeFromSaveAndCopy,n="join"===t.kind&&!0===e[t.kindOptions.referenceField].excludeFromSaveAndCopy;return i||n}));return d.map(t,"field")}},{key:"filterAutofillExcludeFields",value:function(e){var t=d.filter(e,(function(t){var i=!0===t.excludeFromAutofill,n="join"===t.kind&&!0===e[t.kindOptions.referenceField].excludeFromAutofill;return i||n}));return d.map(t,"field")}},{key:"filterDisabledFeaturesFields",value:function(e,t){var i=this;return d.filter(e,(function(e){return!i.isFieldFeatureEnabled(e,t)}))}},{key:"filterEnabledFeaturesFields",value:function(e,t){var i=this;return d.filter(e,(function(e){return i.isFieldFeatureEnabled(e,t)}))}},{key:"getFieldInfo",value:function(e){var t=this.fields()[e];if(t)return t.typeDef=g[t.type],t.flags=this.getFieldFlags(t),t.sort=this.getFieldSort(t),t}},{key:"getFieldOperators",value:function(e){var t=this.fields()[e];if(t){var i=g[t.type];if(i)return i.getOperators("es")}}},{key:"getFieldSort",value:function(e){var t=d.get(e,"typeDef.db.defaultJoinAttribute"),i=e.field;if(!0===d.get(e,"typeDef.es.disableSorting"))i=null;else if(e.esSort)i=e.esSort;else if(d.get(e,"typeDef.es.sort"))i=d.get(e,"typeDef.es.sort")({fieldDef:e});else if(t){var n=d.get(e,"typeDef.db.foreign"),a=this.options.entities.get(n).getFieldInfo(t);i=a?e.field+"__"+a.sort:null}return i}},{key:"pickJoinData",value:function(e,t){if(!e)throw new Error("options required");if(!e.attribute)throw new Error("attribute required");var i=this;c.parallel({joinData:function(t){i.pickNonCustomJoinData(e,t)},customJoinData:function(t){return!0!==e.pickCustomJoinData?t(null,{}):e.entityData?i.pickCustomJoinData(e,t):(i.options.logger.debug("No entity data provided for picking custom join data"),t(null,{}))}},(function(e,i){return e?t(e):t(null,d.extend(i.joinData,i.customJoinData))}))}},{key:"pickCustomJoinData",value:function(e,t){var i=this;if(!e)throw new Error("options required");if(!e.attribute)throw new Error("attribute required");if(!e.entityData)throw new Error("entityData required");var n=this;this.withSyncFields((function(a,r){if(a)return t(a);var o=i.getFieldInfo(e.attribute),s=d.get(o,"typeDef.db.customJoin"),l=[e.entityData],c=d.chain(l).map(e.attribute).flatten().compact().uniq().value();return d.isFunction(s)?s({entityService:n.options.entities,field:e.attribute,knexEntity:m,rows:l,values:c},(function(e,i){if(e)return t(e);var n=d.isArray(i)?i[0]:i;return t(null,n)})):t(null,{})}))}},{key:"pickNonCustomJoinData",value:function(e,t){if(!e)throw new Error("options required");if(!e.attribute)throw new Error("attribute required");this.withSyncFields((function(i,n){if(i)return t(i);var a=n.fields(),r=d.filter(a,{kind:"join",kindOptions:{referenceField:e.attribute}}),o={};d.each(r,(function(t){o[t.field]=e.joinedEntityData?e.joinedEntityData[t.kindOptions.joinField]:e.entityData[t.field]})),t(null,o)}))}},{key:"withSyncFields",value:function(){for(var e,t,i=this,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(1===a.length)t=a[0];else{var o=a[0].trxManager;e=void 0===o?null:o,t=a[1]}if("isight"===this.entity.base&&("entity"===this.entity.name||"field"===this.entity.name))return this._fields=this.getOriginalFields(),t(null,this);this.getFieldsAsync({trxManager:e},(function(e,n){return e?t(e):(i._fields=n,t(null,i))}))}},{key:"withSyncFieldsAsync",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trxManager;return new Promise((function(i,n){e.withSyncFields({trxManager:t},(function(e,t){return e?n(e):i(t)}))}))}},{key:"clearFieldCache",value:function(e){var t=this.entityCanon;this._fieldCache.del(t,e)}},{key:"getFieldsAsync",value:function(e,t){var i=this,n=e.trxManager,a=this.entityCanon;if(n&&(this.isDynamicEntity()||this.isPartiallyDynamicEntity()))return this.options.logger.silly("Reading fields from db within a transaction for",this.entityCanon),this.getFieldsFromDbDenormalized(n,(function(e,i){return e?t(e):t(null,i)}));this._fieldCache.get(a,(function(e,n){if(e)return t(e);n?(i.options.logger.silly("Reading fields from cache for",i.entity.base+"/"+i.entity.name),t(null,n)):(i.options.logger.silly("Reading fields from db for",i.entityCanon),i.getFieldsFromDbDenormalized(null,(function(e,n){if(e)return t(e);i._fieldCache.set(a,n,i.fieldsCacheRedisTtl,(function(e){e&&i.options.logger.error("Failed to cache entity fields",e)})),t(null,n)})))}))}},{key:"getFieldsFromDbDenormalized",value:function(e,t){var i=this;this.getEntityFieldsFromDb(e,(function(n,a){if(n)return t(n);var r=d.cloneDeep(i.entDef.joins),s=d.keyBy(a,"field");d.each(a,(function(e){e.cellTemplate&&(e.compiledCellTemplate=p.compile(e.cellTemplate));var t=e.type,n=g[t],a=d.get(n,"es.esReverseJoinPriority"),o=e.esReverseJoinPriority||i.esReverseJoinPriority||a||"low";if(n.db.join){var s=n.db.join,l=d.find(r,{referenceField:e.field});if(l){l.fields=d.union(l.fields,s),l.additionalFieldsFilter||(l.additionalFieldsFilter=n.db.additionalJoinFilter);var c=[l.esReverseJoinPriority,o];c.includes(!1)?l.esReverseJoinPriority=!1:c.includes("high")&&(l.esReverseJoinPriority="high")}else r.push({referenceField:e.field,table:n.db.foreign,fields:s,additionalFieldsFilter:n.db.additionalJoinFilter,esReverseJoinPriority:o})}}));var u=d.uniq(d.map(r,"table")),f={};c.each(u,(function(t,n){t===i.table?(f[t]=s,n()):i.options.entities.get(t).getEntityFieldsFromDb(e,(function(e,i){if(e)return n(e);f[t]=d.keyBy(i,"field"),n()}))}),(function(e){return e?t(e):(d.each(r,(function(e){if(n)return!1;var t=f[e.table],r=[];e.additionalFieldsFilter&&(r=d.chain(t).filter(e.additionalFieldsFilter).map((function(e){return e.field})).value()),e.fields=d.union(e.fields,r),d.each(e.fields,(function(r){var c=d.cloneDeep(t[r]),u=s[e.referenceField];if(!u)return n="Could not find the field definition for"+' entity: "'.concat(i.entityCanon,'",')+' field: "'.concat(e.referenceField,'",')+" while creating the join field"+' "'.concat(i.entity.name,".").concat(e.referenceField,"__").concat(r,'"')+' (using the join table "'.concat(e.table,'")'),w.error(n),!1;var p=i.getFieldFlags(u),f="".concat(u.caption," → ").concat(c.caption);a.push(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=l(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({field:e.referenceField+"__"+r,type:c.type,typeOptions:c.typeOptions,kind:"join",kindOptions:{joinField:r,joinFieldKind:c.kind,joinFieldKindOptions:c.kindOptions,referenceField:e.referenceField,table:e.table},esReverseJoinPriority:e.esReverseJoinPriority,search:p.search,caption:f,features:c.features},c.typeOptions))}))})),n?t(new Error(n)):(a=d.keyBy(a,"field"),void t(null,a)));var n}))}))}},{key:"getEntityFieldsFromDb",value:function(e,t){var i=this;u("EntityDefinition getEntityFieldsFromDb %s",this.entity);var n=A(this.isDynamicEntity()),r=this.options.entities.get(n),o=m(r),s=this.isDynamicEntity()&&this.inactive;o.list({q:this.entity,limit:1,includeInactive:s,fields:["id"],trxManager:e},(function(n,r){if(n)return t(n);var o=a(r,1)[0];if(!o)return t(null,[]);var l=i.isDynamicEntity()?{base:"isight",name:"dynamic_entity_field"}:{base:"isight",name:"field"},d=i.options.entities.get(l);m(d).list({q:{entityId:o.id},includeInactive:s,limit:-1,trxManager:e},(function(e,n){var a;if(e)return t(e);u("EntityDefinition getEntityFieldsFromDb %s number of fields retrieved %s",i.entity,null!==(a=null==n?void 0:n.length)&&void 0!==a?a:0),t(null,n)}))}))}},{key:"query",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"filter";if("filter"===e)return new h(this);if("es"===e)return new f(this);throw new Error("Unknown type: ".concat(e))}},{key:"getAnyTermsMatchQuery",value:function(e){var t=e.operator,i=e.searchText,n=e.applyDefaultFilters,a=void 0===n||n,r=e.context,o=e.fields,s=e.enabledFeatures,l=e.lang;return y.getAnyTermsMatchQuery({entDef:this,operator:t,searchText:i,applyDefaultFilters:a,context:r,fields:o,enabledFeatures:s,lang:l})}},{key:"getAllTermsMatchQuery",value:function(e){var t=e.operator,i=e.matchAllTerms,n=e.searchText,a=e.applyDefaultFilters,r=void 0===a||a,o=e.context,s=e.fields,l=e.enabledFeatures,d=e.lang;return y.getAllTermsMatchQuery({entDef:this,operator:t,matchAllTerms:i,searchText:n,applyDefaultFilters:r,context:o,fields:s,enabledFeatures:l,lang:d})}},{key:"getExactWordsQuery",value:function(e){var t=e.searchText,i=e.applyDefaultFilters,n=void 0===i||i,a=e.context,r=e.fields,o=e.enabledFeatures,s=e.lang;return y.getExactWordsQuery({entDef:this,searchText:t,applyDefaultFilters:n,context:a,fields:r,enabledFeatures:o,lang:s})}},{key:"getDefaultFilters",value:function(){return y.getDefaultFilters(this)}},{key:"getSearchableFields",value:function(e,t){if(!e||!t)return[];var i=this,n=this.fields();if(!n||0===n.length)throw new Error("Fields not defined");return d.chain(n).filter((function(n){var a=i.getFieldFlags(n),r=g[n.type],o=!1!==d.get(r,"es.mapping",!1),s=r.getOperators("es")[e],l=!e||!!s&&d.isFunction(s.getQuery),c=i.isFieldFeatureEnabled(n,t);return o&&l&&c&&!0===a.searchVisible})).value()}},{key:"getSearchableCustomJoinFields",value:function(e){return d.filter(e,(function(e){if("join"!==e.kind){var t=g[e.type],i=d.get(t,"es.customJoin");return d.isFunction(i)}}))}},{key:"getTranslatableFields",value:function(){return d.filter(this.fields(),{enableTranslation:!0})}},{key:"getSubmitOnlyFields",value:function(){var e=this;return d.filter(this.fields(),(function(t){return e.isSubmitOnlyField(t)}))}},{key:"getFieldDefsFromFieldNames",value:function(e,t){return d.filter(e,(function(e){return-1!==t.indexOf(e.field)}))}},{key:"getEntityId",value:function(){for(var e,t,i=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(1===r.length)t=r[0];else{var s=r[0].trxManager;e=void 0===s?null:s,t=r[1]}if(this.entityId)return t(null,this.entityId);m(this.options.entities.get(A(this.isDynamicEntity()))).list({q:this.entity,limit:1,includeInactive:!0,fields:["id"],trxManager:e},(function(e,n){if(e)return t(e);var r=a(n,1)[0];return r&&r.id?(i.entDef.id=r.id,t(null,i.entityId)):t()}))}},{key:"getChildren",value:function(){return this.options.entities.getChildren(this.entDef.entity)}},{key:"getAggregableChildren",value:function(){return this.options.entities.getAggregableChildren(this.entDef.entity)}},{key:"isFieldEntity",value:function(){return"isight"===this.entity.base&&("field"===this.entity.name||"dynamic_entity_field"===this.entity.name)}}],i&&s(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},236229:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(250113),i(426099),i(962010),i(327495),i(790744),i(311927),i(944114),i(202008),i(16280),i(962062),i(423500),i(428706),i(690906),i(45700),i(689572),i(752675),i(489463),i(102892);var r=i(96190),o=i(122268),s=i(715479),l=i(453162),d=i(303741);e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this._entities=[],this._entityChildrenMapping=[],this.options.cache&&(this._fieldCache=this.options.cache({objectMode:!0,namespace:"isight_field_by_entity",localMemoryTtl:this.options.fieldsMemoryCacheTtl}))}var t,i;return t=e,i=[{key:"get",value:function(e){var t;if(r.isPlainObject(e))t=r.find(this._entities,{entity:{base:e.base,name:e.name}});else if(r.isString(e)){0===e.indexOf("-/")&&(e=e.substring(2));var i=e.split(/[_\/]/);if(1===i.length)t=r.find(this._entities,{entity:{base:"sys",name:i[0]}});else{var n=i.shift();t=r.find(this._entities,{entity:{base:n,name:i.join("_")}})}t||(t=r.find(this._entities,(function(t){return t.table===e||t.table==="sys_".concat(e)})))}if(t)return t}},{key:"add",value:function(e){r.remove(this._entities,{entity:{base:e.entity.base,name:e.entity.name}}),this._entities.push(e)}},{key:"remove",value:function(e){r.remove(this._entities,{entity:{base:e.entity.base,name:e.entity.name}})}},{key:"getAll",value:function(){return this._entities}},{key:"getCustomForms",value:function(){return r.filter(this.getAll(),{customForm:!0})}},{key:"getDynamicDataStoreEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.dynamicDataStore}))}},{key:"getQuickSearchableEntities",value:function(){return r.filter(this.getAll(),{allowQuickSearch:!0})}},{key:"getCalendarEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.calendarMapping)}))}},{key:"getWorkflowActionEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.workflowActionConfig)}))}},{key:"getPrimaryConfigEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.primaryConfig)}))}},{key:"getUsageStatisticEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.usageStatistics)}))}},{key:"getCustomWorkflowEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.customWorkflows}))}},{key:"getDynamicFlagsEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.dynamicFlags}))}},{key:"getRuleEventsEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.ruleEvents}))}},{key:"getPurgableEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.allowPurge}))}},{key:"getEntitiesToBypassDraftValidation",value:function(){return r.filter(this.getAll(),(function(e){return e.bypassValidationOnDraft}))}},{key:"getEntitiesEnablePortalUserNotifications",value:function(){return r.filter(this.getAll(),(function(e){return e.enablePortalUserNotifications}))}},{key:"getStaticFieldWorkflowEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.staticFieldWorkflows)}))}},{key:"getEntityEvaluatorEntities",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.entityEvaluators)}))}},{key:"getEntitiesWithoutTable",value:function(){return r.filter(this.getAll(),(function(e){return!1===e.createTable}))}},{key:"getPartiallyDynamicEntities",value:function(){return r.filter(this.getAll(),{partiallyDynamic:!0})}},{key:"getDataDictionaryEntities",value:function(){return r.filter(this.getAll(),{includeInDataDictionary:!0})}},{key:"getReportableEntities",value:function(){return r.filter(this.getAll(),(function(e){var t;if("sys_case"===e.table)return!0;if(!e.report)return!1;var i=1===e.parents.length&&"caseId"===e.parents[0].field,n=null===(t=e.reportOptions)||void 0===t?void 0:t.joins;return!(!i&&!n)}))}},{key:"getLayoutEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.layoutType}))}},{key:"getRootLayoutEntities",value:function(){return r.filter(this.getLayoutEntities(),(function(e){return e.rootLayoutType}))}},{key:"getChildLayoutEntities",value:function(){return r.filter(this.getLayoutEntities(),(function(e){return!e.rootLayoutType}))}},{key:"getConfigExportEntities",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.filter(this.getAll(),(function(t){return r.isFunction(t.configurationExport)?t.configurationExport(e):t.configurationExport}))}},{key:"getHotlineChildEntities",value:function(){return r.filter(this.getAll(),(function(e){return e.allowOnHotline&&"sys/case"!==e.entityCanon}))}},{key:"queryMap",value:function(e,t,i){var n;if(r.isFunction(t)&&!i&&(i=t,t="filter"),"filter"===t)n=new l;else{if("es"!==t)throw new Error("Unknown type: ".concat(t));n=new s}var a=r.map(e,(function(e){var n=e.query(t);return n.and([n.type(),i(n,e)])}));return n.or(a)}},{key:"queryMapAsync",value:function(e,t,i){var n=new s;o.map(e,(function(e,i){var n=e.query("es");t(n,e,(function(e,t){if(e)return i(e);var a=n.and([n.type(),t]);return i(null,a)}))}),(function(e,t){if(e)return i(e);var a=n.or(t);return i(null,a)}))}},{key:"getDefFromJSON",value:function(e){return new d({entDef:e,entities:this,dbs:this.options.dbs,fieldsMemoryCacheTtl:this.options.fieldsMemoryCacheTtl,fieldRedisCacheTtl:this.options.fieldRedisCacheTtl,logger:this.options.logger,fieldCache:this._fieldCache})}},{key:"getByDbAlias",value:function(e){return r.filter(this._entities,{db:e})}},{key:"createEntityChildrenMapping",value:function(){var e=this;return r.map(this.getAll(),(function(t){var i=[];return r.each(e.getAll(),(function(e){r.each(e.parents,(function(n){if(r.isEqual(t.entity,n.entity)){var a=r.mapKeys(n.filter,(function(e,t){return r.snakeCase(t)}));i.push({entity:e.entity,field:r.snakeCase(n.field),filter:a})}}))})),{children:i,entity:t.entity}}))}},{key:"getEntityChildrenMapping",value:function(){return 0===this._entityChildrenMapping.length&&(this._entityChildrenMapping=this.createEntityChildrenMapping()),this._entityChildrenMapping}},{key:"getChildren",value:function(e){var t=this,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).deep,n=void 0!==i&&i,a=this.get(e),o=r.find(this.getEntityChildrenMapping(),{entity:a.entity});if(0===o.children.length)return[];var s=o.children;return n&&r.forEach(s,(function(e){s=s.concat(t.getChildren(e.entity))})),s}},{key:"getAggregableChildren",value:function(e){var t=this,i=this.get(e),n=r.find(this.getEntityChildrenMapping(),{entity:i.entity});return 0===n.children.length?[]:r.filter(n.children,(function(e){return!t.get(e.entity).excludeFromAggregation}))}},{key:"getEntitiesForCacheBust",value:function(){return r.filter(this.getAll(),(function(e){return!r.isEmpty(e.cacheBustGroups)}))}},{key:"getParentField",value:function(e){var t=this.get(e),i=r.map(t.parents,"field");return r.uniq(i)[0]}},{key:"validateEntityNames",value:function(e){return(r.isArray(e)?e:[e]).every((function(e){return r.isString(e)&&/^(audit_log)|((isight|sys)(_[a-zA-Z0-9]+)+)$/.test(e)}))}}],i&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},635869:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500),i(944114);var s=i(96190),l=i(644438),d=i(18063);function c(e){if(!e)return null;if(!e.entDef)return null;if(!e.operator)return null;if(!e.enabledFeatures)return null;var t=e.entDef,i=e.operator,n=e.searchText,a=e.fields,c=e.enabledFeatures,u=e.lang,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entDef,i=e.operator,n=e.fields,a=e.enabledFeatures,l=e.lang,d=n||t.getSearchableFields(i,a),c={};return s.forEach(d,(function(e){var n=t.enableTranslation&&e.enableTranslation,a=t.getFieldOperators(e.field)[i].getFieldName(r(r({},e),{},{lang:n&&l})),d=t.getFieldInfo(e.field).typeDef;d.es.formatSearchText?(c[e.type]||s.assign(c,o({},e.type,{fieldNames:[],formatSearchText:d.es.formatSearchText})),c[e.type].fieldNames.push(a)):(s.has(c,"default")||(c.default={fieldNames:[]}),c.default.fieldNames.push(a))})),c}({entDef:t,operator:i,fields:a,enabledFeatures:c,lang:u}),f=[];s.forEach(p,(function(i){var a,r,d,c,u=function(e){var t=e.queryOpts||{},i=s.defaults(t,{query:e.searchText,lenient:!0});return i.operator=!0===e.matchAllTerms?"and":"or",i}({searchText:(a=i,r=n,d=e.context,a.formatSearchText?a.formatSearchText(r,d):r),queryOpts:e.queryOpts,matchAllTerms:e.matchAllTerms}),p=s.defaults({},u,{fields:i.fieldNames,type:e.multiMatchType||"best_fields"});f.push({multi_match:p}),"sys/attachment"===t.entityCanon&&f.push((c=u,l.getAttachmentContentMust((function(e){return{match:o({},e,c)}}))))}));var h=[d.should(f)];!1!==e.applyDefaultFilters&&h.push(t.getDefaultFilters());var m=t.query("es").type().toQuery();return h.push(m),d.must(h)}e.exports={getAnyTermsMatchQuery:c,getAllTermsMatchQuery:function(e){return s.isObject(e)?c(s.defaults(e,{matchAllTerms:!0,multiMatchType:"cross_fields"})):null},getExactWordsQuery:function(e){return s.isObject(e)?c(s.assign({},e,{operator:"contains_exact_words",queryOpts:{type:"phrase"}})):null},getDefaultFilters:function(e){return e?l.getFiltersForEntities(e):null}}},827956:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(16280),i(874423),i(21699),i(962062),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var r=i(96190),o=i(809375),s=i(98731),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.entDef,n=t.field,a=t.operator,r=t.value,o=t.queryOptions,l=void 0===o?{}:o;if(!a)throw new Error("operator required");this.entDef=i,this.field=n,this.operator=a,this.value=r,this.queryOptions=l,this.operatorsWithoutFields=s.getOperatorsWithoutFields(),this.fieldDef=this.getFieldDef()}var t,i;return t=e,(i=[{key:"and",value:function(e){return{operator:"and",values:this.evaluateExpressions(e)}}},{key:"or",value:function(e){return{operator:"or",values:this.evaluateExpressions(e)}}},{key:"not",value:function(e){return{operator:"not",values:this.evaluateExpressions(e)}}},{key:"type",value:function(){return{operator:"type",values:[this.entDef.entityCanon]}}},{key:"no_results",value:function(){return{field:"id",type:"primary",operator:"is_empty",values:[]}}},{key:"getFieldDef",value:function(){return this.operatorsWithoutFields.includes(this.operator)?null:this.entDef.fields()[this.field]}},{key:"evaluateExpression",value:function(e){if(r.isFunction(e.toQuery))return e.toQuery();if(e.field&&!e.type)throw new Error("type required");return e}},{key:"evaluateExpressions",value:function(e){var t=this;return r.chain(e.value).compact().map((function(e){return t.evaluateExpression(e)})).value()}},{key:"getFilterItem",value:function(){if(!o[this.fieldDef.type].getOperators("es")[this.operator])throw new Error("Unsupported operator: ".concat(this.operator));return{field:this.field,type:this.fieldDef.type,operator:this.operator,values:r.isArray(this.value)?this.value:[this.value]}}},{key:"toQuery",value:function(){return this.fieldDef?this.getFilterItem():this[this.operator](this)}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},453162:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(747764),i(962062),i(123792),i(426099),i(962953),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var r=i(96190),o=i(827956),s=i(809375),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entDef=t,this.addOperatorsAsFunctions()}var t,i;return t=e,(i=[{key:"addOperatorsAsFunctions",value:function(){var e=this,t=this.getAllOperators();r.each(t,(function(t){e[t]=e.operator.bind(e,t)}))}},{key:"getAllOperators",value:function(){return r.chain(s).values().map((function(e){return r.keys(e.getOperators("es"))})).flatten().uniq().value()}},{key:"operator",value:function(e,t,i,n){return new o({entDef:this.entDef,field:t,operator:e,value:i,queryOptions:n})}},{key:"and",value:function(e){return new o({entDef:this.entDef,operator:"and",value:e})}},{key:"or",value:function(e){return new o({entDef:this.entDef,operator:"or",value:e})}},{key:"not",value:function(e){return new o({entDef:this.entDef,operator:"not",value:e})}},{key:"type",value:function(){return new o({entDef:this.entDef,operator:"type"})}},{key:"no_results",value:function(){return new o({entDef:this.entDef,operator:"no_results"})}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},98731:(e,t,i)=>{"use strict";i(874423),i(21699),i(426099),i(423500),i(944114),i(123792),i(962953),i(311927),i(962062),i(428706),i(327495),i(5746),i(202008);var n=i(96190),a=i(809375);e.exports={getOperatorsWithoutFields:function(){return["and","or","not","type","no_results"]},getSearchFilters:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=n.reject(e,(function(e){return!!n.isEmpty(e.operator)||!!i.includes(e.fieldId)}));return a.length>1&&(t={operator:"and",values:[]}),n.forEach(a,(function(e){var i={field:e.fieldName,type:e.fieldType,operator:e.operator,values:e.fieldValues};a.length>1?t.values.push(i):t=i})),t},getFieldDefUniqueIdentifier:function(e){if(e){var t=a[e.type],i=n.get(t,"ui.gridFilterUniqueIdentifiers");if(i)return n.chain(i).map((function(t){return n.get(e,t)})).compact().uniq().join("::").value()}},getDataFilterUniqueId:function(e){if(e)return"".concat(e.field,"::").concat(e.type,"::").concat(this.getFieldDefUniqueIdentifier()||"")},isFilterableField:function(e,t,i,n){var a,r;if(null!==(a=i.typeOptions)&&void 0!==a&&a.allowGridFilter)return!0;if(!t.includes(i.type))return!1;var o=null==i||null===(r=i.typeOptions)||void 0===r?void 0:r.entityNameField;if(["fieldPicklist","fieldPicklist[]"].includes(i.type)&&o)return!1;if(e.gridFilterExcludeFields.includes(i.field))return!1;var s=e.gridFilterExcludeFieldsByPerm[i.field];if(s&&!n.hasRole(s))return!1;var l=e.getFieldFlags(i);return!(null==l||!l.gridVisible)&&!1!==(null==l?void 0:l.search)},getGridFilterFieldTypes:function(){return n.chain(a).filter((function(e){var t;return null===(t=e.ui)||void 0===t?void 0:t.gridConfiguration})).map("name").value()}}},439862:(e,t,i)=>{"use strict";i(311927),i(426099);var n=i(13288),a=i(96190);e.exports={file:function(e){var t=function(e,t){n(e.join(":"))(t)},i=["silly","trace","query","debug","info","warn","error"];a.reduce(i,(function(i,n){return t.bind(null,[e])}),{}).fn=function(n){return a.reduce(i,(function(i,a){return t.bind(null,[e,n])}),{})}}}},810874:e=>{"use strict";e.exports=function(){return[".docx"]}},521792:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(747764),i(16280),i(123792),i(426099),i(962953),i(45700),i(689572),i(752675),i(489463),i(102892);var r=i(96190),o=i(13288)("workflow"),s=i(827399),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.validator=t.validator,this.entDef=t.entDef}var t,i;return t=e,(i=[{key:"validate",value:function(e,t){var i=e.transitionData,n=e.entData,a=e.excludeFields;return o("[validate] validate options: %o",{transitionData:i,excludeFields:a,entData:n}),i?n?this.getValidationSchema({entDef:this.entDef,transitionData:i,excludeFields:a}).validate(n,(function(e){return e?t(s.buildSerializableErrors(e)):t()})):t(new Error("entData is required")):t(new Error("transitionData is required"))}},{key:"getValidationSchema",value:function(e){var t=e.entDef,i=e.transitionData,n=e.excludeFields,a=i.mandatoryFields,s=void 0===a?[]:a,l=r.difference(s,n),d=r.keys(t.fields());return o("[getValidationSchema] validation schema: %o",{filteredMandatoryFields:l,entityFieldsByName:d,excludeFields:n,transitionData:i}),this.validator.getValidationSchema({engine:"parambulator",entDef:t,excludeFields:n,schema:{mandatoryFields:r.intersection(l,d)},rules:r.assign({},t.validation)})}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},605366:(e,t,i)=>{"use strict";var n=i(325425),a=i(40785);e.exports=n.extend({formConfigName:"external-case-overview",template:i(87749),caption:a.translateKey("overview"),features:{readOnlyFields:!0}})},409746:(e,t,i)=>{"use strict";i(944114);var n=i(858612),a=i(291428);e.exports=a.extend({defaults:{type:"portal"},isCreatingNewUser:function(){var e;return"portal"!==(null===(e=$appData.user)||void 0===e?void 0:e.type)&&!0===this.get("createPortalUserAccount")},isAuthenticated:function(){var e;return"portal"===(null===(e=$appData.user)||void 0===e?void 0:e.type)},authenticatedDuringSubmission:function(){return!!this.get("portalUserAuthenticated")},isAnonymous:function(){return!0===this.get("portalUserRemainAnonymous")},getModelValidation:function(){var e={mandatory$:[],dependentMandatory$:[]};return $appData.twoWayPortalEnabled&&(e.dependentMandatory$.push({condition:"isReturningPortalUser && !portalUserAuthenticatedDuringSubmission",fields:["portalLoginUsernameEmail","portalLoginPassword"]},{condition:"isNotReturningPortalUser",fields:["createPortalUserAccount"]}),!0===$appData.globalConfig.anonymousPortalUsers?(e.dependentMandatory$.push({condition:"createPortalUserAccount && portalUserRemainAnonymous",fields:["portalUserProvideEmail"]},{condition:"portalUserProvideEmail || (createPortalUserAccount && portalUserNotRemainAnonymous)",fields:["portalUserEmail"]},{condition:"portalUserNotProvideEmail",fields:["portalUserUsername"]},{condition:"createPortalUserAccount && ((portalUserProvideEmail || portalUserNotProvideEmail) || portalUserNotRemainAnonymous)",fields:["portalUserNewPassword","portalUserConfirmedPassword"]}),this.isAuthenticated()||e.dependentMandatory$.push({condition:"portalUserRemainAnonymous || portalUserNotRemainAnonymous",fields:["isReturningPortalUser"]})):(this.isAuthenticated()||e.mandatory$.push("isReturningPortalUser"),e.dependentMandatory$.push({condition:"createPortalUserAccount",fields:["portalUserEmail","portalUserNewPassword","portalUserConfirmedPassword"]}))),n(e,$appData.validation.prefs)},getCreateData:function(){return{locale:$appData.locale,nick:this.get("portalUserUsername"),email:this.get("portalUserEmail"),password:this.get("portalUserNewPassword"),confirmedPassword:this.get("portalUserConfirmedPassword")}}})},38198:(e,t,i)=>{"use strict";var n=i(681127);e.exports=n.extend({defaults:{partyType:"Reporter",portalReporterParty:!0,apiType:"external",externalRecord:!0,recordSource:"external",bypassCaseIdValidation:!0}})},831311:(e,t,i)=>{"use strict";i(754423),i(244883),i(307078),i(196135),i(483252),i(769774),i(411339),i(862897),i(682808),i(679471),i(362047),i(369104).addFocusListeners()},679471:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(274692),r=i(122268),o=i(488841),s=i(604480),l=i(581783),d=i(680553),c=i(940277),u=i(450048),p=i(27022),f=i(425423),h=i(610421),m=i(36742),g=i(40785);m.initGlobalErrorHandling();var y=m.create("index-portal.js"),v=o.extend({_definedRoutes:null,onInit:function(){var e=this;y.fn("onInit",arguments),this.route("*path",(function(){e.setupView(new f)})),this._definedRoutes=n.merge({},s,l);var t=n.union($appData.router.routes,$appData.router.fileSharingRoutes);t=n.clone(t).reverse(),n.each(t,(function(t){"/"===t[0]&&(t=t.substring(1)),e._definedRoutes[t]&&e.route(t,e._definedRoutes[t])}))},load:function(e,t){if(y.fn("load",arguments),!this._definedRoutes[e])throw new Error("Route not found: ".concat(e));return this._definedRoutes[e].call(this,t)},loadBase:function(){y.fn("loadBase");var e=!1,t=a.Deferred();return r.parallel([function(e){a("body").removeClass("loading"),e()},function(t){if(d.getByRef("navbar"))return t();e=!0,d.add(new c,{reference:"navbar"}).render("#navbar-container").done(t)},function(e){if(d.getByRef("main-loader"))return e();d.add(new u,{reference:"main-loader"}).render("#main-loader-container").done(e)},function(e){if(d.getByRef("footer"))return e();d.add(new p,{reference:"footer"}).render("#footer-container").done(e)},function(e){return!d.getByRef("main-view")||d.removeByReference("main-view")?e():e(new Error("Failed to remove main view"))}],(function(i){if(e){var n=g.translateKey("webapp_load_alert");a("#webapp-load-alert").text(n)}i?t.reject(i):t.resolve()})),t.promise()},setupView:function(e,t){var i=this;y.fn("setupView",arguments);var o=a.Deferred();return r.series([function(t){!0!==e.noFetchOnInit&&e.model&&!e.model.isNew()?e.model.fetch({success:function(){t()},error:function(){t(new Error("failed to load model"))}}):t()},function(e){i.loadBase().then(e,e)},function(i){h.renderMainView(e,n.extend({navigate:!1},t)).done((function(){i(null,e)}))}],(function(e,t){return e?(i.cancelRouting(),o.reject(e)):o.resolveWith(t[2])})),o.promise()}});$appData.appRouter=new v,$appData.appRouter.start(),e.exports=$appData.appRouter},604480:(e,t,i)=>{"use strict";var n=i(146850),a=i(451267),r=i(385337),o=i(425423);e.exports={portal:function(){this.setupView(new n,"LandingPageView")},"portal/reportonline":function(){this.setupView(new a,"ReportOnlineView")},"portal/dialing-instructions":function(){if(!$appData.globalConfig.allowDialingReport)return this.setupView(new o,"404");this.setupView(new r,"DialingInstructions")}}},581783:(e,t,i)=>{"use strict";var n=i(274692),a=i(425423),r=i(824788),o=i(322946);e.exports={"shared-link/:id":function(e){var t=this;return function(e,t){n.ajax({method:"POST",url:"".concat($appData.globalConfig.apiRoot,"/check_shared_link_active"),data:{id:e},error:function(e){return t(e)},success:function(e){return t(null,e)}})}(e,(function(i,n){return $appData.user.sharedLinkAccessId=e,i||!n||n&&!n.auth&&"page_not_found"===n.reason?t.setupView(new a,"404"):n.auth?t.setupView(new o({id:e,res:n}),"SharedLinkView"):t.setupView(new r({errorMessage:n.reason}),"403")}))}}},27022:(e,t,i)=>{"use strict";var n=i(651424),a=i(40785),r=i(344427);e.exports=n.extend({template:i(867193),locals:function(){return{showCustomPrivacyStatement:$appData.globalConfig.showCustomPrivacyStatement,customerName:$appData.globalConfig.customerName,privacyPolicyUrl:$appData.globalConfig.privacyPolicyUrl}},events:{"click #customer-privacy-statement-link":"onCustomerPrivacyStatementClick"},onCustomerPrivacyStatementClick:function(){$appData.globalConfig.showCustomPrivacyStatement&&r.display(a.translateKey({groupName:"portal",subgroupName:"landing_page",key:"customer_privacy_policy"},{missingTranslationValue:""}),{type:"notification",title:a.translateKey({groupName:"portal",subgroupName:"landing_page",key:"customer_privacy_policy_title"}),html:!0,modal:!0,size:"large",sticky:!0})}})},940277:(e,t,i)=>{"use strict";i(327495),i(725440),i(962010),i(250113),i(426099),i(962062),i(428706),i(134782);var n=i(274692),a=i(96190),r=i(770780),o=i(652327),s=i(40785);e.exports=o.extend({template:i(773046),className:"portal-navbar-tmpl",events:{"click .language-selector":"onLanguageSelected","click .theme-selector":"onThemeSelected"},locals:function(){var e=o.prototype.locals.call(this);return a.extend(e,{languages:this.getLanguages(),themes:this.getThemes(),logoUrl:$appData.theme.logo.url.replace(/{apiRoot}/,$appData.globalConfig.apiRoot)})},onInit:function(){this.defaultLanguage=$appData.baseLanguage,this.defaultTheme=a.find($appData.themes,{default:!0}).name},getLanguages:function(){var e=$appData.languages;return a.find(e,{value:$appData.locale}).current=!0,a.chain(e).map((function(e){return{value:e.value,caption:e.nativeName,current:e.current}})).sortBy("caption").value()},getThemes:function(){var e=$appData.themes;return a.find(e,{name:$appData.theme.name}).current=!0,e},onPrimaryAddBtnClick:function(){window.location.href="/external".concat($appData.userConfigQueryParams)},onNavbarLogoClick:function(){var e=window.location.pathname,t=a.chain(e).split("/").compact().value()[0];if("shared-link"===t)return s.navigateTo("".concat(e).concat($appData.userConfigQueryParams));s.navigateTo("".concat(t).concat($appData.userConfigQueryParams))},onProfileLinkClick:function(){window.location.href="/external/profile"},onChangePasswordLinkClick:function(){window.location.href="/external/change-password"},onLanguageSelected:function(e){var t=n(e.currentTarget).data("value");if(t!==$appData.locale){var i=t===this.defaultLanguage?void 0:t;this.reloadCurrentPage({lang:i})}},onThemeSelected:function(e){var t=n(e.currentTarget).data("value");if(t!==$appData.theme.name){var i=t===this.defaultTheme?void 0:t;this.reloadCurrentPage({theme:i})}},reloadCurrentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.location.pathname,i=a.isEmpty($appData.userConfigQueryParams)?{}:r.parse($appData.userConfigQueryParams.slice(1)),n=a.assign({},i,e),o=r.stringify(n);a.isEmpty(o)||(o="?".concat(o)),window.location="".concat(t).concat(o)}})},385337:(e,t,i)=>{"use strict";var n=i(325425),a=i(40785),r=i(879176),o=i(298081);e.exports=n.extend({template:i(953410),className:"dialing-instructions-tmpl",navigateUrl:"/portal/dialing-instructions",caption:a.translateKey({groupName:"portal",subgroupName:"dialing_instructions",key:"dialing_instructions"}),locals:function(){return{pageTitle:this.caption,dialingInstructionsHelpText:a.translateKey({groupName:"portal",subgroupName:"dialing_instructions",key:"dialing_instructions_help_text"},{missingTranslationValue:""})}},onRendered:function(){var e=new r({configName:"dialing-instructions",condensedLayout:!0,collection:new o,enableDataFilters:!1,enableEntityFilters:!1,enableResetDefault:!1,enableDefaultConfiguration:!1,disableDefaultFilters:!0,pluginsOptions:[{enableDynamicColumns:!1,enableDragColumns:!1,multiSelect:!1}]});this.addSubView(e).render(this.$("#dialing-instructions-grid"))}})},146850:(e,t,i)=>{"use strict";i(428706),i(250113),i(426099),i(423500),i(18851);var n=i(274692),a=i(96190),r=i(325425),o=i(40785),s=i(344427);e.exports=r.extend({navigateUrl:"/portal",className:"landing-page-tmpl",template:i(155173),caption:o.translateKey({groupName:"portal",subgroupName:"landing_page",key:"page_title"}),events:{"click #go-to-dialing-instructions":"onGoToDialingInstructionsClick"},locals:function(){return{twoWayPortalEnabled:$appData.twoWayPortalEnabled,portalAddress:$appData.globalConfig.portalAddress,loginRoute:"".concat($appData.redirectLoginRoute).concat($appData.userConfigQueryParams),allowDialingReport:$appData.globalConfig.allowDialingReport,allowEmailReport:$appData.globalConfig.allowEmailReport}},rules:{isPortalUser:o.isPortalUser},onRendered:function(){this.addQueryParamsToDataRoutes()},addQueryParamsToDataRoutes:function(){var e=this.$el.find("a[data-route]");a.forEach(e,(function(e){var t=n(e),i=t.attr("data-route"),a="".concat(i).concat($appData.userConfigQueryParams);t.attr("data-route",a),t.attr("href")&&t.attr("href",a)}))},onGoToDialingInstructionsClick:function(){if(!$appData.globalConfig.showDialingReportTermsAndConditions)return o.navigateTo("/portal/dialing-instructions");s.display(o.translateKey({groupName:"portal",subgroupName:"dialing_instructions",key:"dialing_instructions_terms_and_conditions"},{missingTranslationValue:""}),{type:"confirm",title:o.translateKey({groupName:"portal",subgroupName:"dialing_instructions",key:"dialing_instructions_terms_and_conditions_title"}),size:"large",html:!0,confirmCaption:"accept",cancelCaption:"decline",canClose:!1,customClass:"policy",callback:function(e){e&&o.navigateTo("/portal/dialing-instructions")}})}})},367018:(e,t,i)=>{"use strict";i(426099),i(944114),i(998474);var n=i(96190),a=i(274692),r=i(40785),o=i(325425),s=i(680553),l=i(843401);e.exports=o.extend({template:i(799477),className:"portal-submission-confirmation-modal-tmpl",events:{"click #submit":"onSubmitClick"},locals:function(){return{title:this.hasFailedConditions?r.translateKey("add_forms"):r.translateKey({groupName:"portal",subgroupName:"report_online",key:"confirmation_modal_title"}),confirmName:this.hasFailedConditions?r.translateKey("case_submit_button"):r.translateKey({groupName:"portal",subgroupName:"report_online",key:"confirmation_modal_submit"}),cancelName:this.hasFailedConditions?r.translateKey("case_cancel_button"):r.translateKey({groupName:"portal",subgroupName:"report_online",key:"confirmation_modal_cancel"}),hasValidationError:this.hasFailedConditions}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSubmitClick,i=void 0===t?n.noop:t,a=e.model,r=e.ruleResults;this.onSubmitClickFn=i,this.model=a,this.ruleResults=r,this.hasFailedConditions=this.ruleResults.some((function(e){return!e.validationPasses}))},onRendered:function(){this.renderConditionsView()},renderConditionsView:function(){var e=a.Deferred(),t=n.reduce(this.ruleResults,(function(e,t){return n.some(t.conditionResponse,(function(e){var t="caseChildFormsMustExist"===e.conditionType,i=!n.isEmpty(e.additionalData);return!t||i}))&&e.push(t),e}),[]);if(t.length<1)return e.resolve();var i=new l({model:this.model,ruleResults:t}),r=this.$(".conditions-container");return this.addSubView(i).render(r).done((function(){e.resolve()})).fail((function(){e.reject()})),e},onSubmitClick:function(){this.onSubmitClickFn(),s.remove(this)}})},915612:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(40785),o=i(680553);e.exports=a.extend({template:i(631195),events:{"click #go-to-landing-page":"onGotoLandingPageClick","click #go-to-case-view":"onGotoCaseViewClick"},locals:function(){var e=a.prototype.locals.call(this);return n.extend(e,{caseNumber:this.caseNumber,modalType:this.modalType,canViewCase:this.canViewCase(),messageText:this.getMessageText()})},canViewCase:function(){return this.portalUserModel.isAuthenticated()||this.portalUserModel.authenticatedDuringSubmission()||this.portalUserModel.isCreatingNewUser()},getMessageText:function(){return this.canViewCase()?r.translateKey({groupName:"portal",subgroupName:"report_online",key:"success_message_two_way_case"}):r.translateKey({groupName:"portal",subgroupName:"report_online",key:"success_message_one_way_case"})},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.caseModel,i=e.portalUserModel;this.caseNumber=t.get("caseNumber"),this.caseId=t.get("id"),this.portalUserModel=i},closeView:function(){o.remove(this)},onGotoLandingPageClick:function(e){e.preventDefault(),this.closeView(),this.portalUserModel.authenticatedDuringSubmission()?window.location="/portal":r.navigateTo("/portal")},onGotoCaseViewClick:function(e){e.preventDefault(),this.closeView(),this.caseId?window.location="/external/case/".concat(this.caseId):window.location="/external/cases"}})},451267:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){a=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function p(e,t,i,n){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),s=new B(n||[]);return o(r,"_invoke",{value:S(e,i,s)}),r}function f(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function A(){}var C={};u(C,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(T([])));x&&x!==i&&r.call(x,l)&&(C=x);var _=A.prototype=b.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(a,o,s,l){var d=f(e[a],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==n(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(d.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(r,r):r()}})}function S(t,i,n){var a=h;return function(r,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===r)throw o;return{value:e,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var l=D(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var d=f(t,i,n);if("normal"===d.type){if(a=n.done?y:m,d.arg===v)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=y,n.method="throw",n.arg=d.arg)}}}function D(t,i){var n=i.method,a=t.iterator[n];if(a===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,D(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var r=f(a,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,v;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var i=t[l];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function i(){for(;++a<t.length;)if(r.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=A,o(_,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(I.prototype),u(I.prototype,d,(function(){return this})),t.AsyncIterator=I,t.async=function(e,i,n,a,r){void 0===r&&(r=Promise);var o=new I(p(e,i,n,a),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),u(_,c,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,a){return s.type="throw",s.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(l&&d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function r(e,t,i,n,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))}}i(752675),i(489463),i(802259),i(366412),i(978125),i(704731),i(960479),i(240875),i(423500),i(134782),i(250113),i(426099),i(202008),i(962010),i(123792),i(703362),i(747764),i(962953),i(962062),i(874423),i(21699),i(16280),i(428706),i(944114),i(533110);var s=i(96190),l=i(274692),d=i(122268),c=i(325425),u=i(687895),p=i(40785),f=i(409746),h=i(335987),m=i(789694),g=i(800030),y=i(185999),v=i(38198),b=i(550427),w=i(681127),A=i(516713),C=i(99503),k=i(905179),x=i(367018),_=i(915612),E=i(816577),I=i(344427),S=i(896727),D=i(45701).isEnabled("intakeTranslation");e.exports=c.extend({caption:p.translateKey({groupName:"portal",subgroupName:"report_online",key:"report_online"}),template:i(142304),navigateUrl:"/portal/reportonline",formConfigName:"report-online",features:{validation:!0,dirtyFormHandling:!0,draftHandling:!0},events:{"click #submit":"onSubmitClickThrottled"},locals:function(){var e=c.prototype.locals.call(this);return s.extend(e,{pageTitle:p.translateKey({groupName:"portal",subgroupName:"report_online",key:"report_online"})})},rules:{showIncidentDetails:function(){var e=s.find($appData.layouts,{name:this.formConfigName});return p.hasShowOnPortalFormElement(e,"case")}},onInit:function(){this.model=new u({apiType:"external",recordSource:"external",externalRecord:!0,intakeMethod:"portal",portalLanguage:D?$appData.locale:void 0}),this.portalUserModel=new f,this.reporterPartyModel=new v},showTermsAndConditionsModal:function(){var e=this;I.display(p.translateKey({groupName:"portal",subgroupName:"report_online",key:"report_online_terms_and_conditions"},{missingTranslationValue:""}),{type:"confirm",title:p.translateKey({groupName:"portal",subgroupName:"report_online",key:"report_online_terms_and_conditions_title"}),size:"large",html:!0,confirmCaption:"accept",cancelCaption:"decline",canClose:!1,isStatic:!0,parent:this,customClass:"policy",callback:function(t){t?e.model.set("acceptTermsAndConditions",!0):p.navigateTo("/portal")}})},onRendered:function(){var e=this,t=l.Deferred();return this.showTermsAndConditionsModal(),d.parallel([function(t){return e.getPartyCollection(t)},function(t){return e.renderCustomFormView(t)},function(t){return e.renderFilesView(t)},function(t){return e.renderReporterInformation(t)}],(function(){return t.resolve()})),t.promise()},renderPartiesView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop,t=new b({caseModel:this.model,Model:w,entityName:"sys/party",formName:"report-online-party-modal",dataContainerOptions:{configName:"portal-parties",collection:this.partiesCollection,title:p.translateKey({groupName:"sys/party",subgroupName:"general",key:"namePlural"}),helpText:{groupName:"portal",subgroupName:"report_online",key:"parties_help_text"}},addButtonDisplayRule:"displayParty",defaultModelAttributes:{apiType:"external",externalRecord:!0,recordSource:"external",portalLanguage:D?$appData.locale:void 0}});return this.addSubView(t).render(this.$(".dynamic-forms-container")).done(e)},renderFilesView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop;this.filesCollection=new m(null,{caseId:this.model.id,showInactiveRecords:!0});var t=new b({caseModel:this.model,Model:A,entityName:"sys/attachment",formName:"report-online-file-modal",dataContainerOptions:{configName:"portal-files",collection:this.filesCollection,title:p.translateKey({groupName:"sys/attachment",subgroupName:"general",key:"namePlural"}),helpText:{groupName:"portal",subgroupName:"report_online",key:"files_help_text"}},defaultModelAttributes:{apiType:"external",externalRecord:!0,recordSource:"external",parentType:"case"}});this.addSubView(t).render(this.$(".files-container")).done(e)},getPartyCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop;return this.partiesCollection=new h(null,{caseId:this.model.id,showInactiveRecords:!0}),e()},renderCustomFormView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop,i=!!this.model.id,n=s.filter($appData.layouts,(function(e){return"custom"===e.entityType&&!0===e.showOnPortal||!("report-online-party-modal"!==(null==e?void 0:e.name)||null==e||!e.showOnPortal)||void 0}));if(s.isEmpty(n))return t();var a=s.sortBy(n,["sequence","caption"]);Promise.all(s.map(a,(function(t){var n=l.Deferred(),a=t.entityName?t.entityName:t.entity,r=g.getEntityName(a),o=g.getEntityCanon(a);if("sys/party"===o)return e.renderPartiesView();var d=E.prototype.getFormInfo.call(e,t);if(!d)return null;var c=d.formCollection,u=d.gridTitle,p=d.buttonCaption;if(s.isEmpty(c.entDefs.filter(Boolean)))return null;var f=s.chain($appData.layoutRuleGroups).filter((function(e){return e.entityName===o})).value(),h=new b({caseModel:e.model,Model:C,entityName:r,isCustomForm:!0,addButtonCaption:p,fetchOnRender:i,alwaysOnFilters:i?null:[y.impossibleTerm()],displayRule:!s.isEmpty(f)&&"display".concat(s.upperFirst(r)),dataContainerOptions:{configName:"external-case-dynamic-form-grid",collection:c,title:u,helpText:{groupName:"portal",subgroupName:"report_online",key:"custom_forms_help_text"},pluginOptions:{ignoreGridWidths:!0}},defaultModelAttributes:{apiType:"external",externalRecord:!0,recordSource:"external",parentType:"case",entityName:r,portalLanguage:D?$appData.locale:void 0}});return e.addSubView(h).render(e.$(".dynamic-forms-container")).done((function(){n.resolve()})),n.promise()}))).then((function(){return t()}))},renderReporterInformation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.noop,t=new k({portalUserModel:this.portalUserModel,reporterPartyModel:this.reporterPartyModel,caseModel:this.model});this.addSubView(t).render(this.$(".reporter-container")).done(e)},getReporterEmailAddress:function(){return this.portalUserModel.isAuthenticated()?$appData.user.email:this.portalUserModel.get("portalUserEmail")?this.portalUserModel.get("portalUserEmail"):s.includes(this.portalUserModel.get("portalLoginUsernameEmail"),"@")?this.portalUserModel.get("portalLoginUsernameEmail"):void 0},createReporterParty:function(e){var t=this;if(this.model.get("reportedAnonymously"))return e();d.series([function(e){t.model.save({sysSubmitted:!1},{wait:!0,success:function(t){return e(null,t)},error:function(t,i){return e(i)}})},function(e){t.reporterPartyModel.save({sysSubmitted:!0,caseId:t.model.get("id"),emailAddress:t.getReporterEmailAddress(),portalLanguage:D?$appData.locale:void 0,bypassCaseIdValidation:!1},{wait:!0,validate:!0,success:function(){return e()},error:function(t,i){return e(i)}})}],e)},onSubmitClickThrottled:s.throttle(function(){var e=o(a().mark((function e(){var t,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(t=l("#submit")).prop("disabled",!0),this.getValidationResults((function(e,n){if(e)throw new Error("Could not get validation Error");i.showConfirmationModal(n),t.prop("disabled",!1)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),getValidationResults:function(e){var t=this;this.saveInitialCase((function(i){if(i)return e(i);if(!t.entityRecordId)return e(new Error("Case not found"));var n="".concat($appData.globalConfig.apiRoot,"/entity_validate/sys_case/").concat(t.entityRecordId);return l.ajax({url:n,method:"POST",dataType:"json",contentType:"application/json"}).done((function(t){e(null,t)})).fail(e)}))},saveInitialCase:function(e){var t=this,i=this.model.get("acceptTermsAndConditions");this.model.save({sysSubmitted:!1},{wait:!0,validate:!1,success:function(){return t.entityRecordId=t.model.get("id"),t.model.set("acceptTermsAndConditions",i),e()},error:function(t,i,n){return e(n)}})},getModelsToValidate:function(){var e=[{model:this.model,$formContainer:this.$(".case-form-container, .reporter-case-container")}];return!1===this.model.get("reportedAnonymously")&&e.push({model:this.reporterPartyModel,$formContainer:this.$(".reporter-party-container")}),$appData.twoWayPortalEnabled&&e.push({model:this.portalUserModel,$formContainer:this.$(".reporter-user-container")}),e},validate:function(){var e=this;return o(a().mark((function t(){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.validateModels(e.getModelsToValidate())){t.next=3;break}return t.abrupt("return",i);case 3:if(!0!==e.portalUserModel.get("isReturningPortalUser")){t.next=8;break}if(e.portalUserModel.authenticatedDuringSubmission()){t.next=8;break}return S.error(p.translateKey({groupName:"portal",subgroupName:"errors",key:"authentication_incomplete"})),t.abrupt("return",!1);case 8:if(!e.portalUserModel.isCreatingNewUser()){t.next=17;break}return t.prev=9,t.next=12,l.ajax({url:"".concat($appData.globalConfig.apiRoot,"/validate_new_portal_user"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(e.portalUserModel.getCreateData())});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("return",!1);case 17:return t.abrupt("return",i);case 18:case"end":return t.stop()}}),t,null,[[9,14]])})))()},showConfirmationModal:function(e){var t=this,i=new x({ruleResults:e,model:this.model,onSubmitClick:function(){t.submit()}});this.addSubView(i).renderAsModal()},submit:function(){var e=this;this.showMainLoader({overlay:!0}),d.series([function(t){e.createReporterParty(t)},function(t){var i={sysSubmitted:!0};e.portalUserModel.isCreatingNewUser()&&(i.portalUserData=e.portalUserModel.getCreateData()),e.model.save(i,{success:function(){e.disableDirtyFormHandling(),e.openSuccessModal(),t()},error:function(e,i){return t(i)}})}],(function(){e.hideMainLoader()}))},openSuccessModal:function(){var e=new _({caseModel:this.model,portalUserModel:this.portalUserModel});this.addSubView(e).renderAsModal()}})},905179:(e,t,i)=>{"use strict";var n=i(325425),a=i(725935),r=i(905580),o=i(679190);e.exports=n.extend({template:i(147096),formConfigName:"report-online-reporter-information",className:"report-online-reporter-information-tmpl",rules:{isTwoWayPortalEnabled:function(){return!!$appData.twoWayPortalEnabled}},onInit:function(e){this.options=e,this.model=e.caseModel,this.portalUserModel=e.portalUserModel,this.reporterPartyModel=e.reporterPartyModel,$appData.globalConfig.anonymousPortalUsers||this.model.set("reportedAnonymously",!1)},onReportedAnonymouslyChange:function(e){this.reporterPartyModel.trigger("change"),this.portalUserModel.set("portalUserRemainAnonymous",e.get("reportedAnonymously"))},onBindEvents:function(){this.onReportedAnonymouslyChangeFn=this.onReportedAnonymouslyChange.bind(this),this.model.on("change:reportedAnonymously",this.onReportedAnonymouslyChangeFn,this)},onUnbindEvents:function(){this.model.off("change:reportedAnonymously",this.onReportedAnonymouslyChangeFn,this)},onRendered:function(){var e=new o(this.options),t=new r(this.options),i=new a(this.options);this.addSubView(e).render(this.$(".reporter-case-container")),this.addSubView(t).render(this.$(".reporter-party-container")),this.addSubView(i).render(this.$(".reporter-user-container"))}})},679190:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(66787),formConfigName:"report-online-reporter-case",rules:{isAnonymousReportingEnabled:function(){return!!$appData.globalConfig.anonymousPortalUsers}},onInit:function(e){this.model=e.caseModel}})},905580:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(473373),formConfigName:"report-online-reporter-party",rules:{isReporterNotAnonymous:function(){return!1===this.caseModel.get("reportedAnonymously")}},onInit:function(e){this.model=e.reporterPartyModel,this.caseModel=e.caseModel}})},725935:(e,t,i)=>{"use strict";var n=i(402193),a=i(274692),r=i(120342);e.exports=r.extend({template:i(117638),className:"portal-account-creation-tmpl",formConfigName:"report-online-reporter-user",passwordSelector:'input[name="portalUserNewPassword"]',confirmPasswordSelector:'input[name="portalUserConfirmedPassword"]',events:{"click #login":"onLoginClick","click #forgot-password":"onForgotPasswordClick"},rules:{isPortalUserAuthenticated:function(){return this.model.isAuthenticated()},portalUserAuthenticatedDuringSubmission:function(){return this.model.authenticatedDuringSubmission()},anonymousPortalUsersEnabled:function(){return!!$appData.globalConfig.anonymousPortalUsers}},onLoginClick:function(e){var t=this,i=this.$("#login-error"),r=this.$("#login-success"),o=this.$('input[name="username"]'),s=this.$('input[name="password"]'),l=this.$("#login")[0];e.preventDefault();var d=n.create(l);return d.start(),a.ajax({method:"POST",url:"/auth/portal?theme=".concat($appData.theme),data:{username:o.val(),password:s.val()}}).done((function(e){d.stop(),e.message?(s.val("").focus(),i.text(e.translatedMessage||e.message).show()):t._refreshCsrfToken((function(){t.model.set("portalUserAuthenticated",!0),i.hide(),r.show()}))})).fail((function(){d.stop(),i.text("There was an error processing your request").show()})),!1},_refreshCsrfToken:function(e){return $appData.csrf?a.ajax({method:"GET",url:"".concat($appData.globalConfig.apiRoot,"/csrf_token")}).done((function(t){return $appData.csrf=t.csrfToken,a.ajaxSetup({headers:{accept:"application/json","x-csrf-token":$appData.csrf}}),e()})).fail(e):e()},onInit:function(e){this.model=e.portalUserModel,this.caseModel=e.caseModel},onRendered:function(){this.model.authenticatedDuringSubmission()&&this.$("#login-success").show()},onForgotPasswordClick:function(){window.open("/external/forgot-password".concat($appData.userConfigQueryParams))}})},247564:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(730295),r=i(77720);e.exports=a.extend({model:r,entity:{base:"sys",name:"action_history"},onInit:function(e,t){this.options=t||{}},getDefaultFilter:function(e){var t=n.extend({},this.options,e),i=[],a=this.getEntityDefinition().query();if(t&&t.objectType&&t.objectId){var r=a.and([a.is("objectId",t.objectId),a.is("objectType",t.objectType)]),o=a.and([a.is("parentId",t.objectId),a.is("parentType",t.objectType)]),s=t.includeChildAudits?a.or([r,o]).toQuery():r.toQuery();i.push(s)}return a.and(i)}})},426491:(e,t,i)=>{"use strict";var n=i(810191);e.exports=n.extend({entity:{base:"sys",name:"appointment"}})},783118:(e,t,i)=>{"use strict";var n=i(96190),a=i(730295),r=i(509896),o=i(939994);e.exports=a.extend({entity:{base:"audit",name:"log"},model:r,aggregate:null,_filterMessage:null,_filterGrid:null,_filterUnknown:null,_filterSystemLoad:null,_filterLinkMatch:null,filterSharedLinkAccess:null,_hideCaseItemNumberReference:null,url:function(){return $appData.globalConfig.apiRoot+"/grid_search/audit_log"},fetch:function(e){return e.data={filterSharedLinkAccess$:this._filterSharedLinkAccess,filterMessage$:this._filterMessage,filterGrid$:this._filterGrid,filterUnknown$:this._filterUnknown,filterSystemLoad$:this._filterSystemLoad,filterLinkMatch$:this._filterLinkMatch},a.prototype.fetch.call(this,e)},onInit:function(e,t){var i=o.get({base:"audit",name:"log"}).query();if(t&&t.aggregates&&this.setAggregates(t.aggregates),t&&!n.isUndefined(t.filterMessage$)&&(this._filterMessage=t.filterMessage$),t&&!n.isUndefined(t.filterGrid$)&&(this._filterGrid=t.filterGrid$),t&&!n.isUndefined(t.filterUnknown$)&&(this._filterUnknown=t.filterUnknown$),t&&!n.isUndefined(t.filterSystemLoad$)&&(this._filterSystemLoad=t.filterSystemLoad$),t&&!n.isUndefined(t.filterSharedLinkAccess$)&&(this._filterSharedLinkAccess=t.filterSharedLinkAccess$),t&&!n.isUndefined(t.hideCaseItemNumberReference$)&&(this._hideCaseItemNumberReference=t.hideCaseItemNumberReference$),t&&!n.isUndefined(t.filterLinkMatch$)&&(this._filterLinkMatch=t.filterLinkMatch$),t&&t.objectType&&t.objectId){var a=i.and([i.is("objectId",t.objectId),i.is("objectType",t.objectType)]),r=i.and([i.is("parentId",t.objectId),i.is("parentType",t.objectType)]),s=t.includeChildAudits?i.or([a,r]).toQuery():a.toQuery();this.setFilter(s)}this.setSort({timestamp:{order:"desc"}})}})},605927:(e,t,i)=>{"use strict";i(962062),i(752675),i(489463),i(944114);var n=i(410114).A,a=i(96190),r=i(730295),o=i(939994),s=i(40785);e.exports=r.extend({entDefs:o.getCalendarEntities(),toEventsJSON:function(){return this.map((function(e){var t=e.getEntityDefinition(),i=t.calendarMapping,a=i.allDay,r=e.get(i.title),o=e.get(i.description),s=e.get(i.subtitle);return{title:n(r,70,{html:!0,breakWords:!0}),subtitle:n(s,70,{html:!0,breakWords:!0}),description:n(o,150,{html:!0,breakWords:!0}),start:e.get(i.startDate),end:e.get(i.endDate),allDay:"boolean"==typeof a?a:e.get(a),typeCaption:t.caption,backgroundColor:"#ffffff",textColor:"#484848",borderColor:t.backgroundColor,_originalEntity:e}}))},onParse:function(e){var t=this,i=[];return a.each(e,(function(e){var n=e,r=o.get(n._type),l=a.get(r,"calendarMapping.startDate"),d=new(t.getModelByItem(n))(n);s.hasTranslation(n._type)?n.typeText=s.translateKey(n._type):n.typeText=s.translateKey({key:"name",groupName:null==r?void 0:r.entityCanon,subgroupName:"general"}),n.effectiveStartDate=d.getFormattedData({escape:!0})[l],i.push(n)})),i},getModelByItem:function(e){return o.get(e.entity$).model()}})},771017:(e,t,i)=>{"use strict";i(962062),i(428706),i(962010),i(944114);var n=i(96190),a=i(730295),r=i(40785),o=i(348174),s=i(939994);e.exports=a.extend({entDefs:function(){return n.map(this._getChildEntityNames(),(function(e){return s.get(e)||o.get({entityName:e})}))},_getChildEntityNames:function(){var e=n.map(r.getAllCustomForms(),(function(e){return"".concat(e.entity.base,"_").concat(e.entity.name)}));return["sys_note","sys_appointment","sys_todo","sys_email"].concat(e)},onInit:function(e,t){if(t&&t.caseId){var i=this.getEntDefs(),n=s.queryMap(i,(function(e){return e.is("caseId",t.caseId)})).toQuery();this.setFilter({query:n})}},onParse:function(e){var t=this,i=[];return n.each(e,(function(e){e.typeText=r.translateKey(e._type);var n=new(t.getModelByItem(e))(e),a=n.getFormattedData();switch(e._type){case"sys_todo":n.set("category",a.todoType),n.set("status",a.status),n.set("responsible",a.responsible);break;case"sys_note":n.set("category",a.noteType);break;case"sys_appointment":n.set("responsible","".concat(a.organizer,", ").concat(a.invitees));break;case"sys_email":n.set("responsible",a.recipients)}i.push(n)})),i},getModelByItem:function(e){return r.getEntDef(e.entity$).model()}})},205260:(e,t,i)=>{"use strict";var n=i(730295),a=i(687895);e.exports=n.extend({model:a,entity:"sys/case"})},161199:(e,t,i)=>{"use strict";var n=i(730295),a=i(944366),r=i(939994);e.exports=n.extend({model:a,entity:"sys/comment",parentId:null,onInit:function(e,t){if(!t)throw"Options Required";if(!t.parentId)throw"ParentID Required";this.parentId=t.parentId},getDefaultFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parentId||this.parentId;return r.get({base:"sys",name:"comment"}).query().is("parentId",e)}})},298081:(e,t,i)=>{"use strict";var n=i(730295),a=i(161820);e.exports=n.extend({model:a,entity:"sys/dialing_instruction"})},523581:(e,t,i)=>{"use strict";var n=i(730295),a=i(359578);e.exports=n.extend({model:a,entity:{base:"sys",name:"document"}})},988233:(e,t,i)=>{"use strict";var n=i(730295),a=i(105522);e.exports=n.extend({model:a,entity:"sys/emailRule"})},427383:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(730295),r=i(751123),o=i(939994),s=i(40785);e.exports=a.extend({model:r,entity:{base:"sys",name:"email"},gridView:null,caseId:null,returnLatestEmailsOnly:!1,getCaseIdFilter:function(e,t){return e.is("caseId",t)},getLatestEmailFilter:function(e){return e.is("latestSent",!0)},onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.caseId=t.caseId,this.returnLatestEmailsOnly=t.returnLatestEmailsOnly,this.setSort({createdDate:{order:"desc"}})},onParse:function(e){return s.isFilterSelected(this.gridView,"messages")?n.each(e,(function(e){e.threadCount=1})):e},setGridViewByReference:function(e){this.gridView=e},getDefaultFilter:function(){var e=o.get({base:"sys",name:"email"}),t=e.query(),i=[this.caseId?this.getCaseIdFilter(t,this.caseId):e.query().is_not_empty("caseId").toQuery()];return this.returnLatestEmailsOnly&&i.push(this.getLatestEmailFilter(t)),t.and(i)}})},537060:(e,t,i)=>{"use strict";var n=i(730295),a=i(142732),r=i(939994);e.exports=n.extend({model:a,entity:"isight/entity",_dynamic:!1,onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._dynamic=!!t.dynamic,this._dynamic){var i=r.get(this.entity).query().is("dynamic",!0).toQuery();this.setFilter({query:i})}}})},969323:(e,t,i)=>{"use strict";var n=i(730295),a=i(502675);e.exports=n.extend({model:a,entity:"sys/event"})},539254:(e,t,i)=>{"use strict";var n=i(730295),a=i(502675),r=i(939994);e.exports=n.extend({model:a,entity:"sys/event",jobId:null,onInit:function(e){if(!e||!e.jobId)throw"Job Id is required as an option";this.jobId=e.jobId},getDefaultFilter:function(){var e=r.get({base:"sys",name:"event"}),t=e.query();return e.query().and([t.is("jobId",this.jobId),t.is_not("child",!1)])}})},789694:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(810191);e.exports=a.extend({entity:{base:"sys",name:"attachment"},getDefaultFilter:function(e){var t=n.extend({},this.options,e),i=this.getEntityDefinition().query(),r=[];return r.push(a.prototype.getDefaultFilter.call(this,t)),n.isEmpty(n.get(t,"parentId"))||r.push(i.is("parentId",t.parentId)),n.has(t,"parentType")&&r.push(i.is("parentType",t.parentType)),n.has(e,"kind")&&r.push(i.is("kind",e.kind)),i.and(r)}})},549753:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(202008),i(83851),i(681278),i(802259),i(747764),i(16280),i(426099),i(944114),i(311927),i(423500),i(250113),i(123792),i(962953),i(304827),i(478350),i(730237);var o=i(96190),s=i(274692),l=i(307312),d=i(333147),c=i(40785),u=i(98731);e.exports=l.extend({model:d,comparator:"caption",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.dataContainerModel,n=t.entDefs;this.dataContainerModel=i,this.entDefs=n,l.prototype.initialize.call(this,e,t)},sync:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"===e){var n=this.dataContainerModel.get("dataFilters")||[];return i.success(n),s.Deferred().resolve().promise()}throw new Error("Unsupported sync method")},getFieldCaption:function(e){var t=o.reduce(this.entDefs,(function(t,i){return i.fields()[e]&&t.push(c.translateKey({key:e,groupName:i.entityCanon,subgroupName:"fields"})),t}),[]);return o.uniq(t).join(" / ")},parse:function(e,t){var i,n=this,a=null!==(i=null==t?void 0:t.filtersField)&&void 0!==i?i:"filterDenormalized";if(o.isEmpty(e))return[];var r={};return o.forEach(e,(function(e){var t=e.entityName,i=e[a];o.forEach(i,(function(i){var a=i.fieldId,s=i.fieldName,l=i.fieldType,d=i.createdDate,p=n.getFieldDef(s,l,a);if(p&&c.hasEnabledFeature(p)){var f=u.getDataFilterUniqueId(p);r[f]||(r[f]={dataFilterUniqueId:f,fieldName:s,fieldType:l,caption:n.getFieldCaption(s),dataFilters:[],createdDate:d});var h=o.find(r[f].dataFilters,{entityName:t});h||(h={id:e.id,entityName:e.entityName,filterData:[]},r[f].dataFilters.push(h));var m={dataFilterUniqueId:f,filterChildId:i.filterChildId,fieldId:i.fieldId,fieldName:i.fieldName,fieldType:i.fieldType,operator:i.operator,fieldValues:i.fieldValues,joinData:i.joinData,selectedFilterOptions:i.selectedFilterOptions,createdDate:i.createdDate};h.filterData.push(m)}}))})),o.values(r)},add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.prototype.add.call(this,e,t),t.silent||this.trigger("add-filters")},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.prototype.remove.call(this,e,t),t.silent||this.trigger("remove-filters")},save:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.noop;if(o.isFunction(e)&&(i=e,e={}),e.disablePersistence)return this.dataContainerModel.set({dataFilters:this.getDataFilters()}),i();this.dataContainerModel.save({dataFilters:this.getDataFilters()},{success:function(){t.fetch(r({},e)).then((function(){return i()}))},error:function(e,t){var n;return i(new Error(null===(n=t.responseJSON)||void 0===n?void 0:n.message))}})},getDefaultModelAttrs:function(e){var t=this,i={dataFilterUniqueId:e.dataFilterUniqueId,fieldName:e.fieldName,fieldType:e.fieldType,caption:e.caption,dataFilters:[]};return o.forEach(this.entDefs,(function(n){var a=t.getEntitySpecificFilterItem(n,e);a&&i.dataFilters.push({entityName:n.entityCanon,filterData:[o.assign(a,{selectedFilterOptions:[],fieldValues:[],operator:null,createdDate:(new Date).toJSON()})]})})),i},getEntitySpecificFilterItem:function(e,t){var i=e.fields()[t.fieldName];if(u.getDataFilterUniqueId(i)===t.dataFilterUniqueId)return r(r({},t),{},{fieldId:i.id})},getDataFilters:function(){var e=this,t={};return o.forEach(this.entDefs,(function(i){var n=i.entityCanon;t[n]={id:e.getDataFilterId(n),entityName:n,filterData:[]}})),o.forEach(this.models,(function(e){var i=e.get("dataFilters");o.forEach(i,(function(e){var i=e.entityName,n=e.filterData;o.forEach(n,(function(e){t[i].filterData.push(o.cloneDeep(e))}))}))})),o.chain(t).values().flatten().value()},getUniqueFilterData:function(){return o.flatMap(this.models,(function(e){return e.getUniqueFilterData()}))},getDataFilterId:function(e){var t=this.dataContainerModel.get("dataFilters"),i=o.find(t,{entityName:e});return null==i?void 0:i.id},getFieldDef:function(e,t,i){var n;return o.forEach(this.entDefs,(function(a){var r=a.fields()[e];if(r&&r.type===t&&(!i||r.id===i))return n=r,!1})),n},isDefaultMode:function(){return this.dataContainerModel.isDefaultMode()},updateDataContainerModel:function(){this.dataContainerModel.set({dataFilters:this.getDataFilters()},{silent:!0})}})},452251:(e,t,i)=>{"use strict";var n=i(730295),a=i(595850);e.exports=n.extend({model:a,entity:{base:"sys",name:"gridFilter"}})},56263:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(45700),i(689572),i(102892),i(879432),i(202008),i(83851),i(681278),i(250113),i(426099),i(962010),i(944114),i(423500),i(16280),i(962062),i(304827);var o=i(96190),s=i(274692),l=i(307312),d=i(843765);e.exports=l.extend({model:d,comparator:"filterName",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.dataContainerModel,n=t.entDefs,a=t.staticFilterOptions,r=void 0===a?[]:a;this.dataContainerModel=i,this.entDefs=n,this.removedStaticFilters=[];var o=this._buildInitialModels(e,r);l.prototype.initialize.call(this,o,t),this.dataContainerModel.set("staticFilters",o,{silent:!0}),this.on("update",this._onUpdate,this)},_buildInitialModels:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=function(e){if(Array.isArray(e))return r(e)}(e=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return o.each(n,(function(e){e.optional||o.find(i,{filterName:e.name})||a.push(t.getDefaultModelAttrs({filterName:e.name}))})),a},_onUpdate:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).changes;this._addToRemovedStaticFilters(null==t?void 0:t.removed)},_addToRemovedStaticFilters:function(e){var t=this;e&&(o.isArray(e)||(e=[e]),e.forEach((function(e){return t.removedStaticFilters.push(e.get("filterName"))})))},sync:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"===e){var n=this.dataContainerModel.get("staticFilters")||[];return i.success(n),s.Deferred().resolve().promise()}throw new Error("Unsupported sync method")},add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.prototype.add.call(this,e,t),t.silent||this.trigger("add-filters")},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.prototype.remove.call(this,e,t),t.silent?this._addToRemovedStaticFilters(e):this.trigger("remove-filters")},save:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.noop;o.isFunction(e)&&(i=e,e={});var r={staticFilters:this.getStaticFilters()};if(this.removedStaticFilters.length&&(r.removedStaticFilters=o.uniq(this.removedStaticFilters)),e.disablePersistence)return this.dataContainerModel.set(r),i();this.dataContainerModel.save(r,{success:function(){t.removedStaticFilters.length=0,t.fetch(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e)).then((function(){return i()}))},error:function(e,t){var n;return i(new Error(null===(n=t.responseJSON)||void 0===n?void 0:n.message))}})},isDefaultMode:function(){return this.dataContainerModel.isDefaultMode()},getStaticFilters:function(){return o.map(this.models,(function(e){return{id:e.get("id"),filterName:e.get("filterName"),selectedFilterOptions:e.get("selectedFilterOptions"),createdDate:e.get("createdDate")}}))},getDefaultModelAttrs:function(e){return{filterName:e.filterName,selectedFilterOptions:[],createdDate:(new Date).toJSON(),optional:e.optional||e.optionalStaticFilter}}})},390780:(e,t,i)=>{"use strict";var n=i(730295),a=i(133485),r=i(939994);e.exports=n.extend({model:a,entity:{base:"sys",name:"grid_view"},onInit:function(e,t){this.entDef=r.get(this.entity);var i=$appData.globalConfig.recordLimits[this.entDef.entityType].limit;this.setRowCount(i),this.setSort({"name._exactKeywordLowercase":{order:"asc"}})},getDefaultFilter:function(){return this.entDef.query().is("createdBy",$appData.user.id)},limitReached:function(){return this.models.length>=$appData.globalConfig.recordLimits.sys_grid_view.limit}})},687974:(e,t,i)=>{"use strict";var n=i(730295),a=i(65506);e.exports=n.extend({model:a,entity:{base:"sys",name:"holiday_entry"}})},175686:(e,t,i)=>{"use strict";var n=i(730295),a=i(442877);e.exports=n.extend({model:a,entity:"sys/language"})},975877:(e,t,i)=>{"use strict";i(16280);var n=i(556395),a=i(730295),r=i(939994);e.exports=a.extend({entityId:null,model:n,entity:{base:"sys",name:"link"},onInit:function(e,t){if(!t)throw new Error("options required");if(!t.entityId)throw new Error("entityId required");this.entityId=t.entityId,this.setSort({relevance:"desc"})},parse:function(e,t){var i=a.prototype.parse.call(this,e,t);return this.total=e.hits.total,i},getAcknowledgedLinksFilter:function(e){var t=r.get({base:"sys",name:"link"}).query();return t.and([t.or([t.is("status","Approved"),t.is("status","Dismissed")]),this.entityFilter(t,e)]).toQuery()},getSuggestedLinksFilter:function(e){var t=r.get({base:"sys",name:"link"}),i=t.query();return t.query().and([i.or([i.is("status","Undecided"),i.is("status","Invalid")]),this.entityFilter(i,e)]).toQuery()},getFilterForLinksCreatedAfterDate:function(e,t){var i=r.get({base:"sys",name:"link"}),n=i.query();return i.query().and([n.is("status","Undecided"),n.greater_than("createdDate",e),this.entityFilter(n,t)]).toQuery()},entityFilter:function(e,t){return t?e.or([e.and([e.is("entity1Id",this.entityId),e.is("entity2Type",t)]),e.and([e.is("entity2Id",this.entityId),e.is("entity1Type",t)])]):e.or([e.is("entity1Id",this.entityId),e.is("entity2Id",this.entityId)])}})},842317:(e,t,i)=>{"use strict";var n=i(21059),a=i(307312);e.exports=a.extend({model:n,onInit:function(e,t){this.currentEntityAttrPrefix=t.currentEntityAttrPrefix,this.otherEntityAttrPrefix=t.otherEntityAttrPrefix}})},874043:(e,t,i)=>{"use strict";var n=i(21059),a=i(307312);e.exports=a.extend({model:n,onInit:function(e,t){if(!t.matchId)throw"Match Id is required.";this.matchId=t.matchId,this.currentEntityAttrPrefix="related",this.otherEntityType=t.otherEntityType,this.recordLimit=t.recordLimit},url:function(){var e=$appData.globalConfig.apiRoot+"/linkmatch/entity/"+this.matchId;return this.otherEntityType&&(e+="?otherEntityType="+this.otherEntityType),this.recordLimit&&(e+=(this.otherEntityType?"&":"?")+"recordLimit="+this.recordLimit),e}})},55785:(e,t,i)=>{"use strict";var n=i(730295),a=i(931240),r=i(939994);e.exports=n.extend({model:a,entity:"sys/message",onInit:function(){this.setSort({createdDate:{order:"desc"}})},getDefaultFilter:function(){return r.get({base:"sys",name:"message"}).query().is("userId",$appData.user.id)}})},975640:(e,t,i)=>{"use strict";var n=i(810191);e.exports=n.extend({entity:{base:"sys",name:"note"}})},716453:(e,t,i)=>{"use strict";var n=i(730295),a=i(278994),r=i(93216);e.exports=n.extend({model:a,entity:"sys/option",rules:{canBulkSave:function(e){return r.hasRole("edit_option")&&!e.isEmpty()}}})},650668:(e,t,i)=>{"use strict";var n=i(730295),a=i(17667);e.exports=n.extend({model:a,entity:{base:"sys",name:"packet"}})},335987:(e,t,i)=>{"use strict";i(944114);var n=i(810191),a=i(939994);e.exports=n.extend({entity:{base:"sys",name:"party"},personId:null,filterByPersonId:function(e){return a.get({base:"sys",name:"party"}).query().is("personId",e).toQuery()},getDefaultFilter:function(e){var t=this.getEntityDefinition().query(),i=[];return i.push(n.prototype.getDefaultFilter.call(this,e)),e&&e.personId&&(this.personId=e.personId,i.push(this.filterByPersonId(this.personId)),this.setSort({createdDate:{order:"desc"}})),t.and(i)}})},680240:(e,t,i)=>{"use strict";var n=i(730295),a=i(922078);e.exports=n.extend({model:a,entity:{base:"sys",name:"person"}})},67263:(e,t,i)=>{"use strict";var n=i(730295),a=i(137371);e.exports=n.extend({model:a,entity:"sys/list"})},277137:(e,t,i)=>{"use strict";i(962062),i(962010);var n=i(96190),a=i(730295),r=i(993816),o=i(40785),s=o.getPicklistsConfig(),l=i(939994);e.exports=a.extend({model:r,entity:"sys/listItem",initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t[1]&&t[1].onlyShowInactiveRecords){t[1].showInactiveRecords=!0;var n=l.get({base:"sys",name:"listItem"}),r=n.query(),o=n.query().and([r.is("sysActive",!1),r.is("sysSubmitted",!0),r.is_empty("deletedDate")]).toQuery();this.setFilter({query:o})}a.prototype.initialize.apply(this,t)},onParse:function(e){return n.map(e,(function(e){var t=o.picklistTranslationKey(e);e.rawValue=e.value,e.value=o.translateKey(t,{missingTranslationValue:e.rawValue});var i=s[e.name];return e.parents=n.map(e.parents,(function(t,n){if(i&&e.sysActive){var a=o.picklistTranslationKey({name:i.parents[n],value:t});return o.hasTranslation(a)?o.translateKey(a):t}return t})),e}))}})},369155:(e,t,i)=>{"use strict";i(726910),i(874423),i(21699);var n=i(96190),a=i(730295),r=i(647623),o=i(939994);e.exports=a.extend({entity:"sys/searches",model:r,onInit:function(e,t){this.saved=n.get(t,"saved"),this.setFilter({query:this.getDefaultFilter().toQuery()}),t.sort&&this.setSort(t.sort),t.limit&&this.setRowCount(t.limit)},getDefaultFilter:function(){var e=o.get({base:"sys",name:"searches"}).query(),t=e.is("createdBy",$appData.user.id),i=n.includes([!0,!1],this.saved)?e.is("saved",this.saved):null;return e.and([t,i])}})},797120:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(962062),i(428706),i(202008),i(426099),i(311927),i(962010),i(944114);var r=i(96190),o=i(947432),s=i(730295),l=i(479653),d=i(40785),c=i(503363),u=i(904143),p=i(258558),f=i(751123),h=i(687895),m=i(516713),g=i(681127),y=i(939994),v=i(348174);e.exports=s.extend({model:l,entDefs:function(){var e=r.map(y.getCustomForms(),(function(e){return e.entity}));return r.map(["sys/case","sys/todo","sys/attachment","sys/note","sys/party","sys/email","sys/appointment","sys/person"].concat(e),(function(e){return d.getEntDef(e)}))},url:function(){var e=y.getQuickSearchableEntities(),t=r.filter(v.getAll(),{allowQuickSearch:!0}),i=r.map([].concat(n(e),n(t)),(function(e){return e.entity.base+"_"+e.entity.name})).join();return $appData.globalConfig.apiRoot+"/grid_search/"+(r.isEmpty(i)?"":i)},onParse:function(e){var t=[],i=this;return r.each(e,(function(e){var n;switch(e.typeText=d.translateKey(e._type),r.isArray(e.files)&&(e.fileNames=r.map(e.files,"name").join(", ")),e._type){case"sys_todo":n=c;break;case"sys_note":n=u;break;case"sys_appointment":n=p;break;case"sys_email":n=f;break;case"sys_case":n=h,e.caseId__caseNumber=e.caseNumber;break;case"sys_attachment":n=m;break;case"sys_party":n=g;break;default:n=i.getModelByItem(e)}var a=new n(e);e.ago=o(e.createdDate).fromNow(),a.attributes.ago=e.ago,t.push(a)})),t},getModelByItem:function(e){return d.getEntDef(e.entity$).model()}})},219531:(e,t,i)=>{"use strict";i(944114),i(16280);var n=i(96190),a=i(730295),r=i(942536),o=i(40785),s=i(939994);e.exports=a.extend({model:r,onParse:function(e){var t=this,i=[];return n.each(e,(function(e){var a=n.cloneDeep(e),r=t.getModelByItem(e);a.typeText=o.translateKey(e._type),i.push(new r(a))})),i},getModelByItem:function(e){return o.getEntDef(e.entity$).model()},onInit:function(e,t){if(!t)throw new Error("Options Required");this.caseId=t.caseId},getDefaultFilter:function(e){var t=this.caseId||(null==e?void 0:e.caseId);return t?s.queryMap(this.getEntDefs(),(function(e){return e.is("caseId",t)})):{}}})},148490:(e,t,i)=>{"use strict";i(944114);var n=i(730295),a=i(865742),r=i(939994);e.exports=n.extend({model:a,entity:{base:"sys",name:"shared_link_access"},onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setFilter({query:this.getDefaultFilter(t).toQuery()})},getDefaultFilter:function(e){var t=r.get({base:"sys",name:"shared_link_access"}).query(),i=[];return e.sharedLinkId&&i.push(t.is("sharedLinkId",e.sharedLinkId)),e.status&&i.push(t.is("sharedLinkId__status",e.status)),e.ids&&i.push(this.getIdsFilter(e.ids)),t.and(i)}})},508611:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(730295),r=i(658875),o=i(939994);e.exports=a.extend({model:r,entity:{base:"sys",name:"shared_link"},onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=t,this.setFilter({query:this.getDefaultFilter(t).toQuery()})},getDefaultFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.extend({},this.options,e),i=o.get({base:"sys",name:"shared_link"}).query(),a=[];return t.caseId&&a.push(i.is("caseId",t.caseId)),t.ids&&a.push(this.getIdsFilter(t.ids)),i.and(a)}})},348360:(e,t,i)=>{"use strict";i(944114);var n=i(730295),a=i(760258),r=i(939994);e.exports=n.extend({model:a,entity:{base:"sys",name:"shared_link_receipt"},onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setFilter({query:this.getDefaultFilter(t).toQuery()})},getDefaultFilter:function(e){var t=r.get({base:"sys",name:"shared_link_receipt"}).query(),i=[];return e.sharedLinkId&&i.push(t.is("sharedLinkId",e.sharedLinkId)),e.attachmentId&&i.push(t.is("attachmentId",e.attachmentId)),e.ids&&i.push(this.getIdsFilter(e.ids)),t.and(i)}})},810191:(e,t,i)=>{"use strict";i(428706),i(962010),i(944114);var n=i(96190),a=i(730295),r=i(939994);e.exports=a.extend({onInit:function(e,t){this.options=t||{};var i=r.get(this.entity);this.model=i.model(),this.url="".concat($appData.globalConfig.apiRoot,"/grid_search/").concat(i.entity.base,"_").concat(i.entity.name)},getDefaultFilter:function(e){var t=n.extend({},this.options,e),i=r.get(this.entity),a=i.audit.parentFieldId,o=i.query(),s=[];return n.isEmpty(n.get(t,a))||s.push(o.is(a,t[a])),n.has(t,"ids")&&s.push(this.getIdsFilter(t.ids)),n.get(t,"showUnsubmittedRecords",!1)||s.push(o.is("sysSubmitted",!0)),o.and(s)}})},906093:(e,t,i)=>{"use strict";var n=i(730295),a=i(50144);e.exports=n.extend({model:a,entity:{base:"sys",name:"response"}})},38745:(e,t,i)=>{"use strict";var n=i(730295),a=i(902778);e.exports=n.extend({model:a,entity:{base:"sys",name:"team"}})},824497:(e,t,i)=>{"use strict";var n=i(96190),a=i(487805),r=i(730295);e.exports=r.extend({model:a,entity:{base:"sys",name:"attachment"},fileId:null,url:function(){return $appData.globalConfig.apiRoot+"/template/"+this.fileId},onInit:function(e,t){if(!t)throw"Options Required";if(!t.fileId)throw"File Id Required";this.fileId=t.fileId},parse:function(e){return n.each(e.filesVersionHistory,(function(e){e.id=e.objectId})),n.sortBy(e.filesVersionHistory,(function(e){return parseInt(e.version,10)})).reverse()}})},254778:(e,t,i)=>{"use strict";var n=i(730295),a=i(487805);e.exports=n.extend({model:a,entity:{base:"sys",name:"template"}})},911319:(e,t,i)=>{"use strict";var n=i(730295),a=i(384366);e.exports=n.extend({model:a,entity:"sys/theme"})},153976:(e,t,i)=>{"use strict";var n=i(810191);e.exports=n.extend({entity:{base:"sys",name:"todo"}})},409511:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(730295),r=i(279309);e.exports=a.extend({model:r,entity:{base:"sys",name:"transition_history"},onInit:function(e,t){this.options=t||{}},getDefaultFilter:function(e){var t=n.extend({},this.options,e),i=[],a=this.getEntityDefinition().query();return n.isEmpty(n.get(t,"objectId"))||i.push(a.is("objectId",t.objectId)),n.isEmpty(n.get(t,"objectType"))||i.push(a.is("objectType",t.objectType)),a.and(i)}})},94065:(e,t,i)=>{"use strict";var n=i(730295),a=i(576556);e.exports=n.extend({model:a,entity:{base:"sys",name:"translation"}})},430934:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962062),i(944114);var n=i(96190),a=i(947432),r=i(977312),o=i(185787),s=i(939994);e.exports=r.extend({model:o,url:"".concat($appData.globalConfig.apiRoot,"/search/sys_usage_statistic"),categories:null,keys:null,datasets:null,sets:null,entity:null,startDate:null,endDate:null,onInit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setRowCount(-1),this.queryOptions(t)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.queryOptions(e),r.prototype.fetch.call(this,e)},resetFilterCriteria:function(){this.categories=null,this.keys=null,this.datasets=null,this.sets=null,this.entity=null,this.startDate=null,this.endDate=null},queryOptions:function(e){var t=this,i=s.get({base:"sys",name:"usage_statistic"}).query();e.categories&&(this.categories=n.map(e.categories,(function(e){return n.toLower(e)}))),e.keys&&(this.keys=n.map(e.keys,(function(e){return n.toLower(e)}))),e.datasets&&(this.datasets=n.map(e.datasets,(function(e){return n.toLower(e)}))),e.startDate&&(this.startDate=a.utc(e.startDate).toISOString()),e.endDate&&(this.endDate=a.utc(e.endDate).toISOString()),e.sets&&(this.sets=n.map(e.sets,(function(e){return n.toLower(e)})),this.setsQuery=[],n.each(this.sets,(function(e){var n=e.split("__");t.setsQuery.push(i.and([{term:{category:n[0]}},{term:{key:n[1]}},{term:{dataset:n[2]}}]))})));var r=i.and([this.categories&&{terms:{category:this.categories}},this.keys&&{terms:{key:this.keys}},this.datasets&&{terms:{dataset:this.datasets}},this.sets&&i.or(this.setsQuery),this.startDate&&i.greater_than_or_equals("recordedDate",this.startDate),this.endDate&&i.less_than("recordedDate",this.endDate.add(1,"day"))]).toQuery();this.setFilter({query:r}),this.setSort({recordedDate:{order:"asc"}})}})},40568:(e,t,i)=>{"use strict";var n=i(906165),a=i(730295);e.exports=a.extend({model:n,entity:{base:"sys",name:"user_role"}})},288723:(e,t,i)=>{"use strict";var n=i(730295),a=i(291428);e.exports=n.extend({model:a,entity:{base:"sys",name:"user"},userId:$appData.user.id,onInit:function(){this.setSort({"name._exact":{order:"asc"}})},onParse:function(e){for(var t=0;t<e.length;t++)this.updateThemeIfDeleted(e[t]);return e},updateThemeIfDeleted:function(e){e.themeId__deletedDate&&(e.themeId=null,e.themeId__name="")}})},48334:(e,t,i)=>{"use strict";var n=i(730295),a=i(364894),r=i(939994);function o(e){var t=r.get(this.entity).query();return{query:t.and([t.is_empty(e?"copiedToId":"copiedFromId"),t.is_not("status","draft")]).toQuery()}}e.exports=n.extend({model:a,entity:"sys/workflow",onInit:function(){this.setFilter(this.showCopiesFilter())},showCopiesFilter:function(){return o.call(this,!0)},hideCopiesFilter:function(){return o.call(this,!1)},getDefaultFilter:function(){return"function"==typeof this.getFilter?this.getFilter():{}}})},604925:(e,t,i)=>{"use strict";var n=i(810191);e.exports=n.extend({entity:{base:"sys",name:"state"}})},665153:(e,t,i)=>{"use strict";var n=i(810191);e.exports=n.extend({entity:{base:"sys",name:"transition"}})},591341:(e,t,i)=>{"use strict";i(962062),i(548980),i(154554),i(250113),i(426099),i(202008);var n,a=i(96190),r=i(40785),o=i(939994).get("sys/case"),s=r.isPortalUser()?o.caseDetailsTabsExternal:o.caseDetailsTabs,l=$appData.globalConfig.enableDynamicCaseDetailsTab,d="dynamic-tabs-insertion-point",c=a.map(s,(function(e){var t={};return a.forOwn(e,(function(e,i){a.isFunction(e)?t[a.upperFirst(i)]=e():t[i]=e})),t}));function u(e){return a.map(e,(function(e){var t=r.translateKey(e.caption,{missingTranslationValue:""});return t||(t=r.translateKey({groupName:"sys/case",subgroupName:"layouts",key:e.caption})),a.assign(e,{caption:t})}))}n=l?function(){var e=a.findIndex(c,{id:d});if(e<0)return c;var t=a.cloneDeep(c);t.splice(e,1);var i=a.find($appData.layouts,{hasStaticAndDynamicTabs:!0,staticEntityId__canon:"sys/case"});if(i){var n=a.get(i,"elements",[]),r=a.find(n,(function(e){return"tabs"===e.type&&a.isArray(e.tabs)})),o=a.get(r,"tabs",[]),s=a.filter(o,{locked:!1});a.each(s,(function(i){var n={id:i.id,caption:i.caption,displayRule:i.displayRuleGroupId,showOnPortal:i.showOnPortal,dynamic:!0};t.splice(e,0,n),e++}))}return u(t)}:a.filter(u(c),(function(e){return e.id!==d})),e.exports=n},520258:(e,t,i)=>{"use strict";var n=i(571199),a=[{caption:{groupName:"sys/attachment",subgroupName:"actions",key:"add"},displayRule:"canUploadFile",dataDisableRule:"disableForClosedCase"}],r=[{name:"action",options:[{text:"shareable",filter:i(185999).must({field:"files",operator:"is_not_empty",type:"file[]",values:[]})}]}];e.exports=[{caption:"all",default:!0,gridOptions:{configName:"case-files",gridButtons:a,addShareFileBatch:!0,staticFilters:r,multiSelect:!0,enableBatchExport:!0}},{caption:"file_upload",gridOptions:{configName:"case-files-file-upload",gridButtons:a,addShareFileBatch:!0,staticFilters:r,multiSelect:!0,enableBatchExport:!0},gridCollectionFilters:{kind:"file_upload"}},{caption:"generated_template",gridOptions:{configName:"case-files-generated-template",gridButtons:a,addShareFileBatch:!0,staticFilters:r,multiSelect:!0,enableBatchExport:!0},gridCollectionFilters:{kind:"generated_template"}},{caption:"url",gridOptions:{configName:"case-files-url",gridButtons:a,rowActions:null,multiSelect:!0,enableBatchExport:!0},gridCollectionFilters:{kind:"url"}},{caption:"packet",gridOptions:{configName:"case-files-packet",gridButtons:a,addShareFileBatch:!0,staticFilters:r,multiSelect:!0,enableBatchExport:!0},gridCollectionFilters:{kind:"packet"}},{caption:"custom_packet",gridOptions:{configName:"case-files-custom-packet",gridButtons:a,addShareFileBatch:!0,staticFilters:r,multiSelect:!0,enableBatchExport:!0},gridCollectionFilters:{kind:"custom_packet"}},{caption:"shared",aclRole:"view_shared_link",gridOptions:{configName:"main-shared-link",rowActions:null,multiSelect:!0,enableBatchExport:!0},displayRule:n.isSharedLinkEnabled}]},295981:e=>{"use strict";e.exports=[{field:"caseType"},{field:"primaryPartyId",caption:"primary_party"}]},38659:(e,t,i)=>{"use strict";var n=i(40785);e.exports={isItemLocked:function(e){return e.locked},getCaptionForLockedItems:function(e){return e.locked?n.translateKey("locked"):null}}},158315:(e,t,i)=>{"use strict";i(874423),i(21699);var n=i(96190),a=i(939994);e.exports={isMultiAssignment:function(e){var t=this.getEntityDefinition().fields().assignmentField,i=t.entityName,r=t.entityNameField;r&&(i=e?e[r]:this.get(r));var o=e?e.assignmentField:this.get("assignmentField"),s=a.get(i);if(!s)return null;var l=s.fields()[o];return!!l&&n.includes(l.type,"[]")?null:1}}},429986:(e,t,i)=>{"use strict";var n=i(335987);e.exports={"sys/party":{Collection:n,grid:"case-capture-parties",addRule:"canAddParty"}}},962359:(e,t,i)=>{"use strict";var n=i(125380),a=i(367304),r=i(195466),o=i(142761);e.exports=[{id:"overview",caption:"overview",View:n,default:!0},{id:"relatedCases",caption:"relatedCases",View:a},{id:"related_people",caption:"related_people",View:r},{id:"history",caption:"history",View:o}]},939136:e=>{"use strict";e.exports=[{field:"createdDate"}]},315481:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(548980),i(154554),i(202008),i(426099),i(874423),i(21699),i(962062),i(962010),i(944114),i(423500),i(428706),i(250113);var a=i(96190),r=i(573674),o=i(549373),s=i(939994),l=i(348174),d=i(809375),c=i(40785),u=i(186360);function p(e){var t=a.findIndex(e,(function(e){return"sys/case"===e.canon}));if(t>0){var i=e[t];e.splice(t,1),e.splice(0,0,i)}return e}e.exports={filterResponsibleUserTypes:function(e,t){return"owner"===t.get("assignmentField")?e:a.filter(e,(function(e){return"Unassign"!==e.value}))},filterCustomNotificationMethod:function(e){if(!e||a.isEmpty(e))return null;if($appData.globalConfig.twilioEnabled)return e;var t=["sms","phone"];return a.filter(e,(function(e){return!a.includes(t,e.value)}))},workflowEntitiesFilter:function(e){var t=a.filter(e,(function(e){return c.getEntDef(e.canon).customWorkflows}));return p(t=a.sortBy(t,[function(e){return e.text}]))},ruleEntitiesFilter:function(e){return a.filter(e,(function(e){var t=s.get(e.canon),i=a.get(t,"ruleEvents"),n="custom"===e.type;return i||n}))},ruleRecordEventsFilter:function(e,t){var i=t.get("entityId__canon");return a.filter(e,(function(e){var t=e.relatedData.supportDynamicEntities&&l.get({entityName:i}),n=a.includes(e.relatedData.supportedEntities,i);return t||n}))},customFlagEntitiesFilter:function(e){var t=a.filter(e,(function(e){return s.get(e.canon).dynamicFlags}));return p(t=a.sortBy(t,["text"]))},dataFormsFilter:function(e){var t=a.filter(e,(function(e){var t;return"data"===(null===(t=c.getEntDef(e.canon))||void 0===t?void 0:t.type)}));return a.sortBy(t,["text"])},filterAssignmentField:function(e,t,i,n){var r=t.getEntityDefinition().fields().assignmentField,o=r.entityName,l=r.entityNameField;l&&(o=t.get(l));var d=t.get("assignmentField"),c=s.get(o).fields()[d];return n(null,c&&a.includes(c.type,"[]")?e:a.filter(e,(function(e){return!a.includes(e.type,"[]")&&e.field!==d})))},checkRuleType:function(e,t){return"Schedule Process"===t.get("_ruleType")?e.filter((function(e){return["Immediate"].includes(e.value)})):e},filterFieldsWithValidOperators:function(e,t,i,n){return n(null,a.filter(e,(function(e){return c.getFieldValidOperators({fieldDef:e,fieldTypes:d,operatorType:t.get("operatorType"),operatorFilter:t.get("operatorFilter")}).length>0})))},filterOutPacketItems:function(e){return $appData.globalConfig.pdftronEnabled?e:a.reject(e,(function(e){return!0===a.get(e,"relatedData.visibleWhenPacketEnabled")}))},filterSelectedFilesForPacket:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=(t[1],n);return a=function(e,t){return e.filter((function(e){return["file_upload","generated_template"].includes(e.kind)}))}(a),a=function(e,t){return e.filter((function(e){return e.files&&e.files.length>0}))}(a),a=function(e,t){return e.filter((function(e){return e.files.map((function(e){return r.extname(e.name)})).every((function(e){return c.isExtensionAllowedForPacket(e)}))}))}(a),a},filterOutPacketKindsIfNecessary:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=t[1].attributes;return $appData.globalConfig.pdftronEnabled&&"case"===a.parentType&&!0===a.caseId__sysActive?n:n.filter((function(e){return!["packet","custom_packet"].includes(e.value)}))},aggregableChildEntitiesFilter:function(e,t){var i=s.get(t.get("entityName"));if(!i)return[];var n=i.getAggregableChildren().map((function(e){return e.entity.name}));return e.filter((function(e){return"dynamic_entity_data"!==e.name&&(e.parentEntityId__canon===i.entityCanon||n.includes(e.name))}))},dynamicKindFilter:function(e,t,i){var n=u.getRuleResults(null,t).isDataFormField;return void 0!==n&&n?e.filter((function(e){var t=e.value;return["editable","submit-only"].includes(t)})):e.filter((function(e){var i=e.value;if(e.fieldDef,"aggregate"===i){var n=t.get("type"),r=d[n].aggregationMethods;if(!r||!a.isFunction(r))return!1;var o=c.getEntDef(t.get("entityName"));return!0===(null==o?void 0:o.allowDataAggregation)&&o.getAggregableChildren().length>0}return!0}))},compatibleAggregationMethodFilter:function(e,t){var i=d[t.get("type")],n=a.isFunction(i.aggregationMethods)?i.aggregationMethods():[];return e.filter((function(e){return n.includes(e.value)}))},compatibleTargetFieldFilter:function(e,t,i,n){var r=t.get("aggregationMethod");return n(null,r?e.filter((function(e){var i;if("computed-read"===e.kind)return!1;if("aggregate"===e.dynamicKind)return!1;if(null!==(i=e.typeOptions)&&void 0!==i&&i.excludeFromAggregates)return!1;var n=d[e.type];return["mostRecent","first"].includes(r)?e.type===t.get("type"):!(!n.aggregationMethods||!a.isFunction(n.aggregationMethods))&&n.aggregationMethods(!0).includes(r)})):[])},mustExistFormsFilter:function(e,t){var i=["sys/dynamic_entity_data","sys/comment","sys/link_snapshot","sys/shared_link","sys/link","sys/picklistValueSelection"];return a.filter(e,(function(e){return!i.includes(e.canon)&&"data"!==e.type}))},dataFormFilter:function(e,t){return a.filter(e,{type:"data"})},compatibleDataFormFieldFilter:function(e,t,i,n){var r=t.get("type");n(null,a.filter(e,{dynamicKind:"editable",type:r}))},mustExistFormsFilterCaseSubmissionRule:function(e,t){var i,r=t.parentModel;if(!r)return e;if("Portal"===r.get("submissionType")){var o=["sys/party","sys/attachment"],s=l.getByFilter((function(e){var t=e.type,i=e.allowOnPortal;return"custom"===t&&i})),d=a.map(s,"entityCanon");return o.push.apply(o,function(e){if(Array.isArray(e))return n(e)}(i=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a.filter(e,(function(e){return o.includes(e.canon)}))}var c=t.get("mustExistForms__canon")||[],u=[];return a.forEach($appData.layouts,(function(e){var t=e.entityName,i=e.entity,n=e.hideOnIntake;if(t||i){var a=t||"".concat(i.base,"/").concat(i.name);(!1===n||c.includes(a))&&u.push(a)}})),$appData.globalConfig.filesFormOnIntake&&u.push("sys/attachment"),a.filter(e,(function(e){return u.includes(e.canon)}))},filterUserRoles:function(e){return a.filter(e,(function(e){return!o.includes(e.name)}))},scheduleRules:function(e){return a.filter(e,{type:"Schedule"})},existingLanguagesFilter:function(e){return a.filter(e,(function(e){return a.find($appData.languages,{value:e.value})}))},dataImportsEntityFilter:function(e){var t=$appData.globalConfig.dataImportEntities;return a.filter(e,(function(e){return a.includes(t,e.canon)}))},gridEntityFilter:function(e){var t=["sys/attachment","sys/note","sys/party","sys/todo"],i=a.map(s.getCustomForms(),"entityCanon");return e.filter((function(e){return!!t.includes(e.canon)||!!i.includes(e.canon)||!(!e.dynamic||"data"===e.type)}))}}},738105:(e,t,i)=>{"use strict";var n=i(387236),a=i(896380),r=i(264477);e.exports=[{View:r},{View:n},{formConfigName:"shared-link-details",View:a}]},549373:e=>{"use strict";e.exports=["Hotline Agent"]},233726:e=>{"use strict";e.exports={resize_enabled:!1,removePlugins:"elementspath",disableNativeSpellChecker:!1,format_tags:"h1;h2;h3",toolbar:[{name:"basicformatting",items:["Bold","Italic","Underline","Strike"]},{name:"extended",items:["BulletedList","NumberedList","Table"]},{name:"headers",items:["Format"]},{name:"linking",items:["Link","Unlink"]}]}},369104:(e,t,i)=>{"use strict";var n=i(274692);e.exports={addFocusListeners:function(){var e=n("body"),t="no-focus-outline";n(document).on("keyup",(function(i){var n=9===i.which&&e.hasClass(t),a=27===i.which&&!e.hasClass(t);n?e.removeClass(t):a&&e.addClass(t)})),n(document).on("mousedown",(function(){!e.hasClass(t)&&e.addClass(t)}))}}},93216:(e,t,i)=>{"use strict";i(202008),i(426099),i(962062),i(874423),i(21699);var n=i(96190),a=i(122268),r=i(154538),o=i(40785),s=i(45701),l=i(582944),d=o.getAclDefinitions(),c=r.generateActionsMapping(d.accessControls);function u(e,t){return new l({entityType:e,entityData:t,user:$appData.user,proceduresMapping:c,isFrontend:!0,featureFlags:s})}var p={getUserRoles:function(e){return e&&e.perm&&e.perm.roles?e.perm.roles:[]},getReadOnlyFields:function(e,t){var i=e.attributes;i.entity$="-/"+e.getEntityCanon(),u(i.entity$,i).getFilters("save",(function(e,i){var a=n.filter(i,(function(e){return"denied"===e.access}));t(null,n.map(a,"attribute"))}))},canDelete:function(e,t){var i=e.attributes;i.entity$="-/"+e.getEntityCanon(),u(i.entity$,i).canDelete((function(e,i){t(null,i)}))},canView:function(e,t){var i=e.attributes;i.entity$="-/"+e.getEntityCanon(),u(i.entity$,i).canView((function(e,i){t(null,i)}))},canEdit:function(e,t){var i=e.attributes,n=e._originalData;i.entity$="-/"+e.getEntityCanon(),a.parallel({saveNew:function(e){u(i.entity$,i).canEdit("save_new",(function(t,i){e(null,i)}))},saveExisting:function(e){u(i.entity$,n).canEdit("save_existing",(function(t,i){e(null,i)}))}},(function(e,i){t(null,i.saveNew&&i.saveExisting)}))},hasRole:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AND",i=p.getUserRoles($appData.user),a=t.toUpperCase();return n.isArray(e)?"OR"===a?n.some(e,(function(e){return i.indexOf(e)>=0})):0===n.difference(e,i).length:n.includes(i,e)},canEditCases:function(){var e=p.getUserRoles($appData.user);return n.includes(e,"lead_investigator")||n.includes(e,"gi_lead_investigator")||n.includes(e,"investigative_team_member")||n.includes(e,"gig_lead")||n.includes(e,"rs_lead_investigator")||n.includes(e,"case_owner")}};e.exports=p},837586:(e,t,i)=>{"use strict";var n=i(96190),a=i(274692),r=i(40785),o={getTeams:function(){return $appData.teams},setTeams:function(e){$appData.teams=e},stopTeamsRefresh:function(){clearInterval(o.teamsRefreshIntervalId)},refreshTeams:function(){arguments.length>0&&void 0!==arguments[0]||n.noop,a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/teams"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(e){o.setTeams(e)})).fail((function(e){403===e.status||401===e.status?o.stopTeamsRefresh():r.ignoreAjaxErrors(e)}))},setupTeamRefresh:function(){o.teamsRefreshIntervalId=setInterval((function(){o.refreshTeams()}),$appData.globalConfig.teamsTTL)}};e.exports=o},307312:(e,t,i)=>{"use strict";i(962010),i(962062);var n=i(96190),a=i(504542),r=i(939994),o=a.Collection.extend({initialize:function(e,t){this.onInit&&this.onInit(e,t),t&&t.entitiesSelectedFields&&this.setEntitiesSelectedFields(t.entitiesSelectedFields)},getEntitiesSelectedFields:function(){return this.entitiesSelectedFields},setEntitiesSelectedFields:function(e){this.entitiesSelectedFields=e},setEntitySelectedFields:function(e){if(this.entity&&n.isArray(e)){var t=r.get(this.entity);if(t){var i=t.entity.base+"_"+t.entity.name;this.entitiesSelectedFields=this.entitiesSelectedFields||{},this.entitiesSelectedFields[i]=e}}},getFormattedData:function(e){return n.map(this.models,(function(t){return t.getFormattedData(e)}))},parse:function(e,t){return this.onParse?this.onParse(e,t):e}}),s=o.extend;o.extend=function(e,t){return s.call(this,e,t)},e.exports=o},790097:(e,t,i)=>{"use strict";var n=i(96190),a=i(504542),r=n.extend({conditionalOn:function(e,t){var i=e.eventNames,a=e.condition,r=void 0===a?function(){return!0}:a,o=e.callback;if(i&&0!==i.length&&o){var s={};this.on("all",(function(e,t){-1!==n.indexOf(i,e)&&r(e,t)&&(n.pull(i,e),s[e]=t,0===i.length&&o.call(this,s))}),t)}}},a.Events);e.exports=r},267062:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(83851),i(681278),i(802259),i(747764),i(428706),i(962010),i(123792),i(426099),i(962953),i(962062),i(202008),i(250113),i(944114),i(423500),i(703362),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var o=i(96190),s=i(274692),l=i(40785),d=i(325425),c=i(454568),u=i(344427),p=i(896727),f=i(93216),h=i(425127),m=i(403297),g=i(479850),y=i(743750),v=i(610421),b=i(790097),w=i(939994),A=i(870182),C=i(45701);i(888406),i(95335),e.exports=d.extend({features:{validation:!0,dirtyFormHandling:!0,staleFormHandling:!0},similarFeature:{},className:"default-form-tmpl",template:i(929038),locals:function(e){var t=this,i=d.prototype.locals.apply(this),n=o.extend({},i,{model:this.model?this.model.attributes:{},canDelete:!1,canEdit:!1,formattedData:this.model.getFormattedData(),canSaveAndCopy:this.canSaveAndCopy||!1,isIntakeTranslationEnabled:this.isIntakeTranslationEnabled,isRecordSourceViewEnabled:this.isRecordSourceViewEnabled,isNotExternal:!$appData.isExternal});f.canDelete(this.model,(function(i,a){i||(n.canDelete=a),f.canEdit(t.model,(function(t,i){t||(n.canEdit=i),e(n)}))}))},newCaption:function(){var e=this.model.getEntityCanon();return l.translateKey({groupName:e,subgroupName:"general",key:"new"})},caption:function(){var e=this.model.getEntityCanon(),t=l.translateKey({groupName:e,subgroupName:"general",key:"name"});return this.model.get("childNumber")&&(t+=" "+this.model.get("childNumber")),t},onInit:function(e){var t;if(!this.model&&!this.Model)throw"Model Class Required";if(this.model.isNew()||!1===e.readonly||this.setReadOnly(!0),e&&e.saveAndCopy){this._isCopyOfSaved=!0;var i=this.model.getSaveAndCopyExcludeFields(),n=o.omit(this.model.attributes,i);this.model=new this.Model(n)}this.isIntakeTranslationEnabled=C.isEnabled("intakeTranslation"),this.isRecordSourceViewEnabled=C.isEnabled("recordSourceView")&&f.hasRole("view_source_data"),null!==(t=this.model.getEntityDefinition())&&void 0!==t&&t.enableTranslation&&(this.features.translatedTextWarning=!0)},onBindEvents:function(){this.initializeStaleFormListener(),this.isModal||(this.$("#cancel").on("click",this.onCancelClick.bind(this)),this.$("[data-semantic-name=cancel]").on("click",this.onCancelClick.bind(this)))},onUnbindEvents:function(){b.off(null,null,this),this.isModal||(this.$("#cancel").off("click"),this.$("[data-semantic-name=cancel]").off("click"))},navigateUrl:function(){if(!this.urlRoot)throw"urlRoot not defined";return this.model.isNew()?this.urlRoot+"/new":this.isReadOnly()?this.urlRoot+"/"+this.model.id:this.urlRoot+"/"+this.model.id+"/edit"},events:{"click #edit":"onEditClick","click #save":"onSaveClickThrottled","click #save-and-copy":"onSaveClickThrottled","click #save-and-add-new":"onSaveClickThrottled","click #delete":"onDeleteClick","click #show-translated-text":"onShowTranslatedTextClicked","click #show-original-text":"onShowOriginalTextClicked","click #view-record-source":"onViewRecordSourceClick","click #submit-for-translation":"onSubmitForTranslationClicked"},onEditClick:function(){var e=this;this.model.lock((function(t,i){!0===i&&(e.setReadOnly(!1),e.updateUrl(),e.renderCrumbs())}))},onSaveClickThrottled:o.throttle((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.modelOpts,n=t.toastOpts,a=t.systemTranslationLanguage,o=t.lang,s=this,l=s.model.isNew(),d=s.model.isActive(),c="save-and-copy"===e.currentTarget.id,u="save-and-add-new"===e.currentTarget.id;this.isSafeToLeaveDirtyInlines()&&(!o&&this.model.hasTranslationsApplied()&&(o=$appData.intakeTranslationLanguage),this.model.save({sysSubmitted:!0,lang:o,systemTranslationLanguage:a},r({wait:!0,success:function(e){var t=l?"created":"updated";p.info(p.getCrudMessage(s.model,t,n)),s.model.unlock(),c?s.onSaveAndCopy(e):u?s.onSaveAndAddNew(e):l||!d?s.navigateByHistoryPattern({disableAllDirtyForms:!0}):(s.setReadOnly(!0),s.updateUrl())}},i)))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onSaveAndCopy:function(e){l.navigateTo(this.urlRoot+"/"+e.id+"/new",{disableAllDirtyForms:!0})},onSaveAndAddNew:function(e){l.navigateTo(this.urlRoot+"/new",{disableAllDirtyForms:!0})},onDeleteClick:function(e){var t=this;u.display(l.translateKey("delete_confirmation"),{type:"confirm",title:l.translateKey("delete_confirmation_title"),confirmText:l.translateKey("delete"),cancelText:l.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(e){e&&t.model.destroy({success:function(){p.info(p.getCrudMessage(t.model,"deleted")),t.model.unlock(),t.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}}),e.stopImmediatePropagation()},onCancelClick:function(){this.model.isNew()||!1===this.model.get("sysActive")?this.navigateByHistoryPattern():this.canRemove()&&this.cancel()},cancel:function(){this.trigger("cancel"),this.model.reset(),this.model.unlock(),this.setReadOnly(!0),this.updateUrl(),this.renderCrumbs(),this.clearErrors()},onRendered:function(){var e=s.Deferred(),t=this;return this.hideDropdownTogglesIfEmpty(),t.model.isNew()?(this.model.on("change",this._refreshTips),e.resolve()):(this.addSubView(new h({model:this.model})).render(this.$(".relationship-indicator-placeholder")).done(e.resolve),t.isReadOnly()?t.model.checkLockedByAnotherUser():t.model.lock((function(e,i){(e||!1===i)&&(t.setReadOnly(!0),t.updateUrl())}))),e.promise()},onRemove:function(){c.unlockAll(),c.hideAllWarnings(),this.model.off("change",this._refreshTips)},enableFeatures:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=d.prototype.enableFeatures.apply(this,i);return a.then((function(){var t=$appData.globalConfig.enableSimilarPartySearch;!e.wasRemoved&&!0===e.features.similarSearch&&t&&e.setupSimilarSearchFeature()})),a},disableFeatures:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.prototype.disableFeatures.apply(this,t),!0===this.features.similarSearch&&(this.model.off("change",this.similarFeature.onModelChange,this),this.removeSubView(this.similarFeature.reference,!0))},setupSimilarSearchFeature:function(){var e=this,t=this.similarFeature,i=this.model.getEntityDefinition(),n=i.similarSearchConfig.mappings;t.reference="similar-search-right-sidebar",t.fieldsForMatch=y.getFieldsInMapping(n);var a=i.collection();t.collection=new a,t.collection=o.extend(t.collection,{url:"".concat($appData.globalConfig.apiRoot,"/similar_search/").concat(i.entity.base,"_").concat(i.entity.name),getFetchOpts:y.getSimilarSearchFetchOpts.bind(t.collection),setAttributes:y.setAttributes.bind(t.collection),getAttributes:y.getAttributes.bind(t.collection)}),t.onModelChange=function(){var t=e.similarFeature.fieldsForMatch,i=o.keys(e.model.changed),n=o.intersection(t,i);!o.isEmpty(n)&&(e.similarFeature.executeSearch.cancel(),e.similarFeature.executeSearch())},t.successFn=function(e){s("[data-ladda-similar-search]").hide(),s("[data-ladda-similar-search-hide]").show()},this.similarFeature.executeSearch=o.debounce((function(){s("[data-ladda-similar-search]").show(),s("[data-ladda-similar-search-hide]").hide();var i=e.similarFeature.collection;i.resetSkipCount(),i.setAttributes(e.model.attributes),i.fetch({reset:!0,success:t.successFn,modelAttributes:e.model.attributes})}),$appData.globalConfig.similarSearchDebounce);var r=new m({model:this.model,collection:t.collection,Collection:a,successFn:t.successFn}),l=new g({model:this.model,collection:t.collection,Collection:a,successFn:t.successFn});this.addSubView(r,{reference:this.similarFeature.reference}).renderAsRightSidebar({expanded:!1,disableExpandWide:!0,collapsedView:l}).done((function(){e.model.on("change",t.onModelChange,e)}))},initializeStaleFormListener:function(){if(this.features.staleFormHandling&&(this.formConfigId||this.formConfigName)){var e,t=this.model.getEntityDefinition(),i=this.formConfigId,n=this.formConfigName,a=t.entDef.id,r=t.entDef.canon||t.entityCanon,s=o.chain($appData.layoutRuleGroups).filter(a?{entityId:a}:{entityName:r}).map("id").value();t.isDynamicEntity()&&(this.formConfigId||this.formConfigName)&&(e=["form-layout-updated","dynamic-entity-schema-updated","dynamic-entity-translations-updated","dynamic-fields-updated"]),t.isPartiallyDynamicEntity()&&(e=["form-layout-updated","dynamic-entity-translations-updated"]),s.length>0&&e.push("form-layout-rule-groups-updated"),b.conditionalOn({eventNames:e,condition:d,callback:this.formUpdated},this);var l=["form-layout-updated","dynamic-entity-schema-updated","dynamic-fields-updated"];s.length>0&&l.push("form-layout-rule-groups-updated"),b.conditionalOn({eventNames:l,condition:d,callback:this.formDeactivated},this)}function d(e,t){var l=t.patchData;if(!l)return!0;switch(e){case"form-layout-updated":var d=i&&o.has(l,i),c=n&&o.find(l,{name:n});return d||c;case"dynamic-entity-schema-updated":return o.has(l,a);case"form-layout-rule-groups-updated":return o.intersection(s,o.keys(l)).length>0;case"dynamic-fields-updated":return o.find(l,{entityId:a});case"dynamic-entity-translations-updated":return o.find(l,{groupName:r});default:return!1}}},disableAllFormFields:function(){var e=this.$("div[data-field-name] .form-control, div[data-field-name] fieldset");v.makeFieldDisabled(e)},getNewInstanceOfViewModel:function(e){var t=new(this.Model||this.model.constructor)(this.model.getOriginalData());t.isNew()?e(t):t.fetch({success:function(){e(t)}})},rerenderMainView:function(e){var t=this,i=e.readonly,n=e.$targetContainer,a=this;n&&(a.showMainLoader({overlay:!0}),a.getNewInstanceOfViewModel((function(e){var s=a.model.getDirtyFields(),l=o.pick(a.model.attributes,s);e.set(l),o.forEach(s,(function(t){var i=a.model.pickJoinData({attribute:t});e.set(i)})),o.forEach(s,(function(t){return e.addDirtyField(t)})),a.remove(),a.removeSubViews(),a.initialize(r(r({},t.rerenderOpts),{},{model:e,readonly:i})),a.renderCrumbs(),a.render(n).done((function(){a.hideMainLoader()}))})))},validateStaleForm:function(){var e=this.formConfigName?o.find($appData.layouts,{name:this.formConfigName}):o.find($appData.layouts,{id:this.formConfigId});return!e||e.lastUpdatedDate!==this.formLayout.lastUpdatedDate},formUpdated:function(e){var t=i(344427),n=this,a=e["form-layout-updated"].patchData;if(n.validateStaleForm(a)){var r=n.isReadOnly(),o=n.isDirtied();n.$("button:not([disabled]):not(#cancel):not(#delete)").addClass("disabled");var s=n.$el.parent(),d={readonly:r,$targetContainer:s};if(0!==s.length)if(r||n.disableAllFormFields(),n.rerenderMainView(d),!r&&o){var c=l.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_body"}),u=l.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_title"});t.display(c,{type:"information",title:u})}else{var p=l.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_reloaded"});t.display(p,{type:"notification"})}}else n.initializeStaleFormListener()},isFormDeactivated:function(){var e=this.model.getEntityDefinition().entityCanon,t=!!o.find($appData.dynamicEntities,{canon:e}),i=!!w.get(e);return!t&&!i},formDeactivated:function(){if(this.isFormDeactivated()){var e=l.translateKey({groupName:"errors",subgroupName:"general",key:"deactivated_form_redirect"});u.display(e,{type:"information",callbackUrl:"/forms"})}},hasMenuVisibleItems:function(e){var t=this,i=function(e){var t;return e.is(":visible")||"none"!==(null===(t=e[0])||void 0===t?void 0:t.style.display)};return!!i(e)&&e.children().toArray().some((function(e){return!!i(s(e))&&(!s(e).hasClass("dropdown-section")||s(e).children().toArray().some((function(e){return"UL"===e.tagName?t.hasMenuVisibleItems(s(e)):i(s(e))})))}))},hideDropdownTogglesIfEmpty:function(){var e=this,t=this.$(".btn-toolbar button.dropdown-toggle");0!==t.length&&o.forEach(t,(function(t){var i=s(t),n=i.parent().find("> ul.dropdown-menu");if(!e.hasMenuVisibleItems(n)){i.hide();var a=i.parent(".btn-group");0!==a.length&&a.removeClass("btn-group")}}))},onShowTranslatedTextClicked:function(){this.model.showTranslatedText()},onShowOriginalTextClicked:function(){this.model.showOriginalText()},onViewRecordSourceClick:function(){this.recordSourceModalView=new A({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()},onSubmitForTranslationClicked:function(e){var t=this;u.display(l.translateKey("submit_for_translation_confirmation"),{type:"confirm",title:l.translateKey("submit_for_translation"),callback:function(i){if(i){s(e.currentTarget).parent('li[data-display-rule="canManuallyTranslate"]').hide();var n=t.model.getEntity().name,a=t.model.get("id");s.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/translate/").concat(n,"/").concat(a),contentType:"application/json",dataType:"json"});var r={entityName:l.translateKey({groupName:t.model.getEntityCanon(),subgroupName:"general",key:"name"})};p.info(l.translateKey("record_sent_for_translation",{context:r}))}}})}})},661608:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500),i(202008),i(428706);var s=i(96190),l=i(353538),d=i(394894),c=i(33622),u=i(40785),p=i(45701);function f(e){var t=[],i=u.getLayoutTrees(e);return s.forEach(i,(function(e){var i=c.flatten({tree:e}),n=s.filter(i,(function(e){return!!e.layoutType}));t=t.concat(n)})),s.uniqBy(t,"id")}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.entDef=t.entDef}return o(e,[{key:"validate",value:function(e,t){return l.validate({entDef:this.entDef,entData:e,excludeFields:(i=this.entDef,n=e,d.getExcludeFields({entDef:i,entData:n,layouts:f(i),layoutRuleGroups:s.filter($appData.layoutRuleGroups,{entityName:i.entityCanon}),context:{globalOptions:$appData.globalConfig,enabledFeatures:p.getEnabledFeatures()},isNew:!n.id||!n.sysActive,user:$appData.user}))},t);var i,n}},{key:"toString",value:function(){return l.getEntityParambulatorRules({entDef:this.entDef})}}]),e}(),m=function(){function e(){a(this,e)}return o(e,[{key:"getValidator",value:function(e){var t=e.entDef;return t?new h({entDef:t}):null}}]),e}();e.exports=new m},637527:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(752675),i(489463),i(802259),i(747764),i(874423),i(21699),i(962010),i(426099),i(428706),i(944114),i(938781),i(202008),i(16280),i(478350),i(730237),i(123792),i(962953),i(533110),i(962062),i(250113),i(423500);var a=i(96190),r=i(274692),o=i(504542),s=i(40785),l=i(454568),d=i(939994),c=s.getPicklistsConfig(),u=i(621299),p=i(661608),f=i(93216),h=i(809375),m=i(45701),g=i(45701),y=o.Model.extend({_originalData:null,_dirtiedFields:[],ignore:null,validator:null,addingToSpecificCase:!1,getModelValidation:function(){return this.validator?this.validator:p.getValidator({entDef:this.getEntityDefinition()})},preinitialize:function(){var e=this;if(this.defaults){var t=this.getEntityDefinition();if(t){var i=m.getEnabledFeatures(),n=t.filterDisabledFeaturesFields(t.fields(),i);0!==n.length&&a.each(n,(function(t){delete e.defaults[t.field]}))}}},initialize:function(e,t){var i=this;if(this.validator=this.getModelValidation(),this._originalData=a.cloneDeep(this.attributes),this._dirtiedFields=[],null!=t&&t.parentModel&&(this.parentModel=t.parentModel),this.entity){var n=this.getEntityDefinition(),r=this.getEntityCanon(),o=m.getEnabledFeatures(),s=n.filterEnabledFeaturesFields(n.fields(),o);this.attributes.entity$="-/"+r,a.each(s,(function(t){var n=i.isNew()&&!a.has(e,t.field)&&(!i.isExternalForm()||t.showOnPortal);t.default&&n&&i.setInitial(t.field,i.getTypedDefault(t))})),["isight/field","isight/dynamic_entity_field"].includes(r)&&void 0!==this.get("default")&&this.set("default",this.getTypedDefault(this.attributes))}this.addingToSpecificCase=!!this.get("caseId")||!!this.get("parentId"),this.isNew()&&this.setInitial("apiType",this.getApiType()),this.onInit&&this.onInit(e,t)},rules:{signedInAsPortalUser:function(){return s.isPortalUser()},signedInAsHotlineUser:function(){return s.isHotlineUser()},lockedByAnotherUser:function(){return!0===this.get("isLockedByAnotherUser")},isAddingToSpecificCase:function(){return!!this.addingToSpecificCase},hasParent:function(){return!!this.get("caseId")||!!this.get("parentId")},isMarkedForPurge:function(){return!!this.get("pendingPurgeDate")||!!this.get("caseId__pendingPurgeDate")},isPurged:function(){return!!this.get("datePurged")||!!this.get("caseId__datePurged")},isMarkedOrPurged:function(){return!!(this.get("pendingPurgeDate")||this.get("caseId__pendingPurgeDate")||this.get("datePurged")||this.get("caseId__datePurged"))},isHardLocked:function(){return!0===this.get("hardLocked")},isNew:function(){return!!this.isNew()},canEditCase:function(){var e=this.get("caseId__owner")===$appData.user.id,t=a.includes(this.get("caseId__investigativeTeamMembers"),$appData.user.id);return f.hasRole("edit_case_group")||f.hasRole("edit_case_as_owner")&&e||f.hasRole("edit_case_as_investigative_team_member")&&t},canEditCaseForm:function(){var e=this.get("caseId__owner")===$appData.user.id,t=a.includes(this.get("caseId__investigativeTeamMembers"),$appData.user.id);return f.hasRole("edit_case_form")||f.hasRole("edit_case_form_as_owner")&&e||f.hasRole("edit_case_form_as_investigative_team_member")&&t},externalApiEnabled:function(){var e=this.getEntityDefinition();return!!$appData.allowExternalEntityApi&&!(null==e||!e.allowExternalFlag)},canSetExternal:function(){var e,t=this.getEntityDefinition(),i=$appData.twoWayPortalEnabled,n=!!$appData.allowExternalEntityApi&&!(null==t||!t.allowExternalFlag),a=!!this.get("caseId__externalRecord"),r=!!this.get("caseId__reporterAccess")||!!this.get("reporterAccess"),o=f.hasRole("mark_".concat(null==t||null===(e=t.entity)||void 0===e?void 0:e.name,"_external"));return"custom"===(null==t?void 0:t.type)&&(o=s.checkDynamicCustomFormPermission({entDef:t,action:"edit"}),n=null==t?void 0:t.allowOnPortal),i&&n&&a&&r&&o},canSubmitForTranslation:function(){var e=$appData.user.id,t=this.get("owner")===e||this.get("caseId__owner")===e,i=a.includes(this.get("investigativeTeamMembers"),e);return f.hasRole("submit_case_for_translation")||f.hasRole("submit_case_for_translation_as_owner")&&t||f.hasRole("submit_case_for_translation_as_investigative_team_member")&&i},canManuallyTranslate:function(){var e=this;if(!m.isEnabled("intakeTranslation"))return!1;var t=this.getEntityDefinition();if(!t||!t.enableTranslation)return!1;if(!this.rules.canSubmitForTranslation.call(this))return!1;if(!this.get("sysActive"))return!1;if(["pending","complete"].includes(this.get("intakeTranslationStatus")))return!1;if("web"===this.get("recordSource")&&"error"!==this.get("intakeTranslationStatus"))return!1;var i=t.getTranslatableFields();return 0!==i.length&&a.some(i,(function(t){var i=t.field;return!!e.get(i)}))},isExternal:function(){return!0===this.get("externalRecord")},caseClosed:function(){return!!this.get("caseId__dateClosed")},canEditWhenClosed:function(){var e=this.get("caseId__owner")===$appData.user.id,t=a.includes(this.get("caseId__investigativeTeamMembers"),$appData.user.id);return f.hasRole("edit_closed_case")||e&&f.hasRole("edit_closed_case_as_owner")||t&&f.hasRole("edit_closed_case_as_investigative_team_member")},disableForClosedCase:function(){return this.rules.caseClosed.call(this)&&!this.rules.canEditWhenClosed.call(this)},canSwitchToOriginalText:function(){return g.isEnabled("intakeTranslation")&&this.hasTranslationsApplied()},canSwitchToTranslatedText:function(){return g.isEnabled("intakeTranslation")&&!this.hasTranslationsApplied()&&this.hasTranslations()&&!this.isViewingOwnRecordType()},hasTranslationsApplied:function(){return this.hasTranslationsApplied()},shouldShowTranslationStatusWorkflow:function(){return!this.rules.signedInAsPortalUser.call(this)||"external"!==this.get("recordSource")}},checkLockedByAnotherUser:function(e,t){a.isFunction(e)&&(t=e,e={}),l.checkLockedByAnotherUser(this,e,t)},lock:function(e,t){l.lock(this,e,t)},unlock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;l.unlock(this,e)},getContextForFormatting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEntityDefinition().fields(),i=e.attributes||this.attributes,n=e.fieldDef||t[e.fieldName];return{data:i,fields:t,globalOptions:$appData.globalConfig,translateKey:s.translateKey,picklistConfig:c,entityService:d,fieldDef:n}},getFormattedData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEntityDefinition().fields(),i=e.attributes||this.attributes,n=e.escape||!1;return s.getFormattedValues({entityObj:i,fields:t,context:this.getContextForFormatting(),escape:n})},getHighlightedData:function(e){var t=this.get("highlightedFields");return e.escape?u.escapeScoredHighlightedFields(t):t},validate:function(e,t){var i=this,n=(t=t||{}).validator||this.validator,o=[];if(n&&!1!==t.validate){n.validate(e,(function(e){e&&(a.isArray(e)?o=o.concat(e):o.push(e))}));var s=n.toString(),l=a.filter(s,{name:"uiRequiredIfSelectable$"})[0];l&&l.spec&&a.each(l.spec,(function(e){var t=r('select[name="'+e+'"]');if(r('option[value]:not([value=""])',t).length>0&&a.isEmpty(t.val())){var i=new Error('Field "'+e+'" mandatory');i.parambulator={property:e,code:"uiRequiredIfSelectable$"},o.push(i)}}))}return o.length<1?(t.validate=!1,void i.trigger("validated",[],i)):(o=a.flatMap(o,(function(e){return e.parambulator.codeMap?e.parambulator.codeMap:e})),!0!==t.silentValidation&&i.trigger("validated",o,i),o)},save:function(e,t){var i,n=this;e=e||{},t=t||{},this.onPreSave&&(i=this.onPreSave(e,t)),i||(i=r.Deferred().resolve()),i.then((function(){var i=n,r=a.assign(a.cloneDeep(n.attributes),e);if(n.validationError=t.validate?n.validate(r,t):null,!n.validationError){var s=t.success;return t.success=function(e,t,n){e.clearDirtyFields(),a.isFunction(s)&&s.call(this,e,t,n),i.trigger("saved")},o.Model.prototype.save.call(n,e,t)}a.isFunction(t.error)&&t.error(n,new Error("Validation Failed"),new Error("Validation Failed"))}))},parse:function(e,t){var i=this,n=a.without(a.keys(this.attributes),"id","entity$"),r=a.difference(n,a.keys(e));return r=a.difference(r,["isLockedByAnotherUser"]),this.ignore&&(r=a.difference(r,this.ignore)),a.each(r,(function(e){i.unset(e)})),e&&(e.apiType=this.getApiType()),this.onParse&&(e=this.onParse(e,t)),this._originalData=a.cloneDeep(e),e},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.clearDirtyFields();var t=o.Model.prototype.clear.call(this,e);return this.getEntity()&&this.set("entity$","-/".concat(this.getEntityCanon()),{silent:e.silent}),t},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;this.isResetting=!0;var i=a.assign({},this._originalData,this.attributes),n=a.mapValues(i,(function(e,i){return a.includes(t.ignore,i)?e:t._originalData[i]}));this.set(n),this.clearDirtyFields(),e.silent||this.trigger("reset"),this.isResetting=!1},isActive:function(){return!0===this.get("sysActive")},isDraft:function(){return!this.isActive()},isExternal:function(){return this.rules.isExternal.call(this)},isCaseExternal:function(){return!0===this.get("caseId__externalRecord")},isExternalForm:function(){var e=!0===this.get("externalRecord")||!0===this.get("caseId__externalRecord"),t="external"===this.get("apiType")||"external"===this.get("caseId__apiType");return(e||t)&&f.hasRole("external_user")},isHotlineIntakeForm:function(){return("hotline"===this.get("intakeMethod")||"hotline"===this.get("caseId__intakeMethod"))&&f.hasRole("hotline_agent")},isIntakeForm:function(){return this.isDraft()&&!this.isExternalForm()&&!this.isHotlineIntakeForm()},setExternalRecord:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.noop;if(this.isNew())return i();var n=this.getEntityDefinition();r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/set-external/").concat(n.entity.name,"/").concat(this.get("id")),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({externalRecord:e})}).done((function(e){return t.set("externalRecord",e.externalRecord),i()}))},setExternal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.setExternalRecord(!0,e)},unsetExternal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.setExternalRecord(!1,e)},showExternalGridActions:function(){var e=!!this.get("caseId__externalRecord")||!!this.get("externalRecord"),t=!!this.get("caseId__reporterAccess")||!!this.get("reporterAccess"),i=this.rules.canEditCase.call(this),n=this.rules.caseClosed.call(this),a=this.rules.caseClosed.call(this)&&this.rules.canEditWhenClosed.call(this);return e&&t&&i&&(!n||a)},joinField:function(e,t,i){var n=this,a=this.get(e);if(!a)return i();var r=new t({id:a});r.fetch({success:function(){var t=n.pickJoinData({attribute:e,joinedEntityData:r.attributes});n.set(t),i(null,r)},error:function(e,t){if(n.isExternalForm())return t.weAlreadyPreviouslyHandledThis=!0,i();i(new Error("Failed to load model"))}})},pickJoinData:function(e){if(!e)throw new Error("options required");if(!e.attribute)throw new Error("attribute required");var t=this.getEntityDefinition();if(!t)return{};var i=a.filter(t.fields(),{kind:"join",kindOptions:{referenceField:e.attribute}}),n={},r=e.modelData||this.attributes;return a.each(i,(function(t){var i=e.transferJoinToJoin?t.field:t.kindOptions.joinField;n[t.field]=e.joinedEntityData?e.joinedEntityData[i]:r[t.field]})),n},changedFields:function(e,t,i){var n=a.isObject(i)?i:this._originalData,r=a.isObject(t)?t:this.attributes;return e&&!a.isEmpty(e)||(e=a.keys(n)),a.filter(e,(function(e){var t,i=n[e],o=r[e];if(a.isArray(i)||a.isArray(o)){var l=i||[],d=o||[],c=a.intersection(l,d);t=c.length!==l.length||c.length!==d.length}else{if(void 0===i&&null===o)return!1;a.isBoolean(o)&&a.isString(i)&&(i=s.convertStringToBool(i)),t=i!==o}return t}))},hasOriginalDataChanged:function(e,t,i){return this.changedFields(e,t,i).length>0},getEntityCanon:function(){var e=this.getEntity();return e?e.base+"/"+e.name:"-/-"},getEntity:function(){return this.entity},getEntityDefinition:function(){return this.entityDefinition||(this.entityDefinition=s.getEntDef(this.getEntity())),this.entityDefinition},setEntityDefinition:function(e){this.entityDefinition=e},getOriginalData:function(){return this._originalData||{}},getWorkflowStateFields:function(){var e=this.getEntityDefinition();if(!e)return[];var t=e.fields();return e.filterWorkflowStateFields(t)},getSaveAndCopyExcludeFields:function(){var e=this.getEntityDefinition(),t=e.fields();return e.filterSaveAndCopyExcludeFields(t)},getAutofillExcludeFields:function(){var e=this.getEntityDefinition(),t=e.fields();return e.filterAutofillExcludeFields(t)},getRestrictEditExcludeFields:function(){var e=this.getEntityDefinition().fields(),t=a.filter(e,(function(e){return e.restrictEdit}));return a.map(t,"field")},getDirtyFields:function(){return this._dirtiedFields},addDirtyField:function(e){a.includes(this._dirtiedFields,e)||this._dirtiedFields.push(e)},removeDirtyField:function(e){a.remove(this._dirtiedFields,(function(t){return t===e}))},clearDirtyFields:function(e){this._dirtiedFields=[]},getFile:function(e){if(!this.fileAttribute)throw new Error("model fileAttribute is missing.");var t=this.get(this.fileAttribute);return a.isArray(t)?e?a.find(t,(function(t){return t.name===e})):t[0]:null},setInitial:function(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.set(e,t,r);var o={};"object"===n(e)?(o=e,r=t,t=null):o[e]=t,a.forEach(o,(function(e,t){i._originalData[t]=e})),a.get(r,"resetChanged",!0)&&(this.changed={})},hasCopy:function(){return!!this.get("copiedToId")},isCopy:function(){return!!this.get("copiedFromId")},getCopyId:function(){return this.isCopy()?this.get("id"):this.get("copiedToId")},getSourceId:function(){return this.isCopy()?this.get("copiedFromId"):this.get("id")},getTypedDefault:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=h[e.type],n=a.get(i,"db.afterRead");return n?n(null,e[t],{fieldDef:e}):e[t]},getApiType:function(){return"/api-external/1.0"===$appData.globalConfig.apiRoot?"external":"internal"},hasTranslations:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$appData.intakeTranslationLanguage;return!(null===(e=this.get("translationData"))||void 0===e||!e[t])},hasTranslationsApplied:function(){return!a.isEmpty(this.get("translationLanguageByField"))},isViewingOwnRecordType:function(){var e=s.isPortalUser()||s.isHotlineUser(),t="external"===this.get("recordSource");if(e&&t)return!0;var i=[this.get("intakeMethod"),this.get("caseId__intakeMethod")].includes("hotline");return!(e||t||i)},showOriginalText:function(){this.fetch()},showTranslatedText:function(){this.fetch({data:{lang:$appData.intakeTranslationLanguage}})}}),v=y.extend;y.extend=function(e,t){var i=v.call(this,e,t);return i.prototype.rules=a.defaults({},i.prototype.rules,this.prototype.rules),i.prototype.defaults=a.defaults({},i.prototype.defaults,this.prototype.defaults),i},e.exports=y},488841:(e,t,i)=>{"use strict";i(989907),i(202008),i(426099),i(962062),i(944114);var n=i(96190),a=i(274692),r=i(504542),o=i(680553),s=i(40785);e.exports=r.Router.extend({history:[],initialize:function(){this.onInit&&this.onInit(),!0===$appData.debug&&a("body").addClass("debug")},start:function(){var e=this;r.history.start({pushState:!0}),this._addFragmentToHistory("/"+r.history.fragment),a(document).on("click","a[data-route]",(function(t){t.preventDefault();var i=a(this).attr("data-route");"#"!==i&&("_blank"===a(this).attr("target")?window.open(i,"_blank"):e.navigate(i,{trigger:!0}))}))},getHistoryItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===this.history.length?{}:this.history[this.history.length-e]||{}},getMatchingHistoryItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getHistoryItem().path,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return{};for(var i=2;i<=t+1;i++){var n=this.getHistoryItem(i);if(n.path===e)return n}return{}},scrollToAnchor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop,t=this.getMatchingHistoryItem();if(!t.anchor)return e();window.scrollTo(0,0);var i=o.getById(t.anchor),a=t.scrollPosition||(null==i?void 0:i.$el);return t.viewportPosition&&null!=i&&i.$el&&(a=i.$el.offset().top-t.viewportPosition),a?s.scrollTo(a,{duration:0},e):e()},getActiveTabIds:function(){var e="active",t=a("[role=tab]"),i=n.filter(t,(function(t){var i=a(t);return i.hasClass(e)||i.parent().hasClass(e)}));return 0===i.length?[]:n.map(i,(function(e){return e.id}))},addHistoryItemMetaData:function(e){if(e){var t=this.getHistoryItem();if(!n.isEmpty(t)){t.anchor=e;var i=this.getActiveTabIds();i.length>0&&(t.tabs=i);var a=o.getById(e);null!=a&&a.el&&(t.viewportPosition=a.el.getBoundingClientRect().top),window&&(t.scrollPosition=window.scrollY)}}},navigate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.disableAllDirtyForms&&o.disableAllDirtyFormHandling(),"/"+r.history.fragment===e||r.history.fragment===e?t&&!0===t.trigger&&r.history.loadUrl():(this.addHistoryItemMetaData(t.initiator),this._addFragmentToHistory(e),r.Router.prototype.navigate.call(this,e,t),this.trigger("navigate",e,t))},_addFragmentToHistory:function(e){-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),this.history.push({path:e})},cancelRouting:function(){this.history.pop(),0===this.history.length?r.Router.prototype.navigate.call(this,"/",{replace:!0,trigger:!0}):r.Router.prototype.navigate.call(this,this.getHistoryItem().path,{replace:!0})}})},899184:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099),i(962062),i(428706),i(123792),i(703362),i(747764),i(962953),i(250113);var n=i(274692),a=i(96190),r=i(920192),o=i(325425),s=i(93216),l=i(40785),d=i(680553),c=i(884260),u=i(848879),p=i(450048);e.exports=o.extend({template:i(239400),className:"bb-tabs-tmpl",onInit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.tabs)throw new Error("Tabs is required.");var i=a.cloneDeep(t.tabs);this.options=t,this.tabs=a.filter(i,(function(e){var t=!e.aclRole||s.hasRole(e.aclRole),i=!a.isFunction(e.displayRule)||e.displayRule();return t&&i})),this.tabIdPrefix=t.tabIdPrefix||"tab",this.tabPanelIdPrefix=t.tabIdPrefix||"tabpanel",this.navPillSize=t.navPillSize||"lg",this.tabUnderline=!!t.tabUnderline,this.bottomBorder=!1!==t.bottomBorder,this.additionalData=t.additionalData||{},this.tabs=a.map(this.tabs,(function(t,i){return a.assign(t,{caption:e.translateCaption(t.caption),tabId:"".concat(e.tabIdPrefix,"_").concat(e.cid,"_").concat(i),tabPanelId:"".concat(e.tabPanelIdPrefix,"_").concat(e.cid,"_").concat(i),TabView:t.TabView||c,additionalData:e.additionalData})})),this.printing=t.printing||!1,this.parentFormView=t.parentFormView,this.updatePageTitleOnTabs=!1!==t.updatePageTitleOnTabs,this.defaultTabId=t.defaultTabId,this.tabContentViewsMap={},this.currentTabView=null},translateCaption:function(e){var t,i=null===(t=this.model)||void 0===t?void 0:t.getEntityDefinition();return null!=i&&i.isDynamicEntity()?l.translateKey({groupName:i.entityCanon,subgroupName:"layouts",key:e},{missingTranslationValue:e}):l.translateKey(e,{missingTranslationValue:e})},events:{'click a[role="tab"]':"onTabClick",'keydown a[role="tab"]:focus':"onKeyboardNavigation"},onBindEvents:function(){n(document).on("tab-hide",this.handleHiddenActiveTab.bind(this))},onUnbindEvents:function(){n(document).off("tab-hide")},handleHiddenActiveTab:function(e,t){if("true"===n(t).attr("aria-selected")){var i=this.getTabsMap(n(t)).$tabs;this.toggle(i.first())}},locals:function(){return{tabs:this.tabs,navPillSize:this.navPillSize,bottomBorder:this.bottomBorder,printing:this.printing,tabUnderline:this.tabUnderline}},onRendered:function(){var e=this,t=n.Deferred();return this.loader=new p,this.addSubView(this.loader).render(this.$(".loader-container")),this.renderTabs(this.tabs).then((function(){if(e.printing)return e.toggleAllTabs().then(t.resolve);var i=e.currentTabId?e.$("[data-id=".concat(e.currentTabId,"]")):null,a=e.queryParams.tab,r=a?e.$("[data-id=".concat(a,"]")):null,o=e.defaultTabId?e.$("[data-id=".concat(e.defaultTabId,"]")):null,s={};if(i)s=i;else if(r)s=r;else if(o)s=o;else{var l=e.$('ul[role="tablist"] > li > a[role="tab"]').filter((function(){return"none"!==n(this).css("display")})).first();s=e.$("[data-default]").length>0?e.$("[data-default]"):l}return e.toggle(s,!1).done(t.resolve)})),t.promise()},renderTabs:function(e){var t=this,i=n.Deferred(),a=this,r=this.$('[role="tablist"]'),o=e.map((function(e){var i=new e.TabView({tab:e,model:e.Model?new e.Model:a.model,parentModel:a.model,printing:t.printing});return a.addSubView(i).render(r)}));return Promise.all(o).then(i.resolve),i.promise()},disableTabNav:function(){this.$('[role="tablist"]').hide()},enableTabNav:function(){this.$('[role="tablist"]').show()},onTabClick:function(e){e.preventDefault(),e.stopPropagation(),this.toggle(n(e.currentTarget))},onKeyboardNavigation:a.throttle((function(e){if(!(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0)){var t=n(e.currentTarget);this.goTo(t,e.key)}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),toggle:function(e,t){var i=this,r=n.Deferred();if(0===e.length)return r.resolve();var o=e.attr("href"),s=this.$(o);if("true"===e.attr("aria-selected"))return r.resolve(null,this.getView(s));if(!this.canRemove())return r.resolve();this.disableAllDirtyFormHandling(),this.hideActive(),e.attr("aria-selected","true"),e.parent().addClass("active"),e.attr("tabindex","0"),!1!==t&&e.focus(),this.currentTabId=e.data("id");var l=a.find(this.tabs,{id:this.currentTabId});return this.showContent(s).done((function(){i.enableAllDirtyFormHandling(),i.trigger("tab-changed",l),r.resolve()})),r.promise()},toggleAllTabs:function(){var e=this,t=this,i=t.tabs.map((function(i){if(0===i.length)return Promise.resolve();var n=t.$("#".concat(i.tabPanelId));return e.showContent(n)}));return Promise.all(i)},showContent:function(e){var t=e.attr("id");return e.prop("hidden",!1),e.attr("aria-hidden","false"),this.renderContentView(e,"#".concat(t))},renderContentView:function(e,t){var i=this,r=n.Deferred(),o=this,s=a.find(this.tabs,{tabPanelId:e.attr("id")});if(!s)return r.resolve();var l=s.View;if(a.isEmpty(l)&&s.formConfigName&&(l=o.createTabView(s.formConfigName,s.caption)),a.isEmpty(l)&&s.gridOptions&&(l=u),a.isEmpty(l))return r.resolve();this.loader.show();var d=new l(a.assign({},this.additionalData,{model:s.Model?new s.Model:o.model,parentModel:o.model,parentFormView:this.parentFormView,gridOptions:s.gridOptions,tab:s}));return o._hideAllTooltips(),this.addSubView(d,{updatePageTitle:this.updatePageTitleOnTabs}).render(t).done((function(){return d.on("captionChanged",(function(){i.onContentViewCaptionChanged(d)})),o.parentFormView&&o._displayTooltips(o.parentFormView.validationIssues,o.model),i.loader.hide(),i.currentTabView=d,r.resolve()})),r.promise()},onContentViewCaptionChanged:function(e){if(e&&e.caption){var t=a.isFunction(e.caption)?e.caption():e.caption,i=e.$el.closest('[role="tabpanel"]').attr("id"),n=this.$("[href*=".concat(i,"]"));n&&n.html(a.escape(t))}},goTo:function(e,t){var i=this.getTabsMap(e);if(0!==i.$tabs.length){var n,a=i.$tabs.length-1;["ArrowUp","ArrowLeft","Up","Left"].indexOf(t)>-1?n=i.activeIndex<1?a:i.activeIndex-1:["ArrowDown","ArrowRight","Down","Right"].indexOf(t)>-1?n=i.activeIndex===a?0:i.activeIndex+1:"Home"===t?n=0:"End"===t&&(n=a),this.toggle(i.$tabs.eq(n))}},hideActive:function(){var e=this.$('[role="tab"][aria-selected="true"]');if(0!==e.length){var t=e.attr("href"),i=this.$(t);e.attr("aria-selected","false"),e.parent().removeClass("active"),e.attr("tabindex","-1"),this.hideContent(i)}},hideContent:function(e){e.attr("hidden","hidden"),e.attr("aria-hidden","true");var t=e.find("> [data-handle]").attr("data-handle");t&&this.removeSubView(t)},getView:function(e){var t=e.find("[data-handle]").attr("data-handle");if(!t)return null;var i=d.getViewInfoByHandle(t);return i?i.view:null},createTabView:function(e,t){var i=r.compile('<div class="autorender-placeholder"></div>',e),n=new Function("dust","return "+i)(r);return o.extend({formConfigName:e,template:n,caption:l.translateKey(t)})},getTabsMap:function(e){var t=e.closest('[role="tablist"]'),i=t.find('[role="tab"]:visible'),n=t.find('[aria-selected="true"]'),a=i.index(n);return{$tabs:i,activeIndex:a}}})},325425:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(83851),i(681278),i(802259),i(523418),i(962010),i(690906),i(250113),i(426099),i(202008),i(423500),i(944114),i(16280),i(962062),i(311927),i(87745),i(123792),i(703362),i(747764),i(962953),i(531415),i(938781),i(879432),i(726910),i(327495),i(725440),i(428706),i(874423),i(21699),i(134782),i(885997),i(865631),i(52799),i(52799),i(991995);var s=i(96190),l=i(274692),d=i(122268),c=i(947432),u=i(504542),p=i(608758),f=i(40785),h=i(680553),m=i(233612),g=i(610421),y=i(233518),v=i(860670),b=i(186360),w=i(36742),A=i(896727),C=i(748191),k=i(323175),x=i(89371),_=i(348174),E=i(45701);function I(){return h.getByRef("main-loader")}!0===$appData.debug&&(l(document).on("click",".click-paste-to-console",(function(){window.prompt("Press CMD+C to copy to the clipboard then paste into the console to play with it.",l(this).text())})),$appData.debugInfo={viewInfoEnabled:!0,viewInfoIndicatorCssClass:"m-viewinfo-indicator top-left"});var S=u.View.extend({isModal:!1,_isCopyOfSaved:!1,model:null,features:null,initialize:function(e){var t;if(this.log=w.create("backbone-view.js",this.templateName),this.log.fn("initialize",arguments),this.queryParams=f.queryParams(),e&&e.model?this.model=e.model:this.Model&&(this.model=new this.Model),e&&e.printing&&(this.printing=e.printing),this.onInit&&this.onInit(e),e&&(this.layoutFormOpts=null!==(t=e.layoutFormOpts)&&void 0!==t?t:{}),this.template?(this.template.templateName||(this.template=this.template()),this.templateName=this.template.templateName,this.handle=this.templateName+"-"+this.cid):this.handle=this.cid,this.id||(this.id=this.handle),this.hasFormConfig=this.formConfigName||this.formConfigId,this.formConfigName&&(this.formLayout=s.find($appData.layouts,{name:this.formConfigName})),this.formConfigId&&(this.formLayout=s.find($appData.layouts,{id:this.formConfigId})),this.formLayout||this.features.evaluateChildrenLayoutRuleGroups){this.formLayoutElementFieldNames=f.getFieldNamesFromFormLayout(this.formLayout);var i=this.model&&this.model.getEntityDefinition();i&&(this.model.layoutRuleGroups=s.filter($appData.layoutRuleGroups,{entityName:i.entityCanon}),this.model.childrenLayoutRuleGroups=this.getChildrenLayoutRuleGroups($appData.layoutRuleGroups))}this.mainLoaderShowingClass="main-loader-showing"},getChildrenLayoutRuleGroups:function(e){if(s.isEmpty(e))return[];var t=[],i=this.model.getEntityCanon();return s.forEach(e,(function(e){var n=e.entityName,a=e.filters;if(s.every(a,(function(e){var t=e.entityName;return t!==n&&t===i}))){var r="display".concat(s.upperFirst(n.split("/")[1]));t.push(o(o({},e),{},{displayRuleName:r}))}})),t},events:{"submit form":"preventDefaultOnSubmit","click .sync-workflows":"onSyncWorkflowsClick","click .modal-footer #cancel":"onModalCancelClick","click #translated-text-link":"onTranslatedTextLinkClick"},preventDefaultOnSubmit:function(e){e.preventDefault()},handleErrorParameter:function(e){var t={groupName:"errors",subgroupName:"general",key:e},i=f.hasTranslation(t)?f.translateKey(t):e;setTimeout((function(){A.error(i)}),0)},setPageTitle:function(){var e=this.caption;return this.model&&(this.model.isNew()&&this.newCaption?e=this.newCaption:!this.model.isNew()&&this.editCaption&&(e=this.editCaption)),s.isString(e)?l(document).attr("title",f.translateKey("isight")+" | "+e):s.isFunction(e)?l(document).attr("title",f.translateKey("isight")+" | "+e.call(this)):l(document).attr("title",f.translateKey("isight")),this},setCaption:function(e,t){t?(this.caption=t,e&&(this.caption+=" | ".concat(e))):this.caption=e,this.trigger("captionChanged")},renderCrumbs:function(){return this.crumbs?h.getByRef("breadcrumb").setCrumbs(this.crumbs()):!0===h.isReferenceUsed("breadcrumb")&&h.getByRef("breadcrumb").setCrumbs(null),this},clearFormFields:function(e){this.log.fn("clearFormFields",arguments);var t=this;e||(e=this.$el),e.find(":input").each((function(){var e=l(this),i=e.attr("name");if(!t.model||!i)switch(this.type){case"password":case"select-multiple":case"text":case"textarea":case"select-one":e.val(null).change();break;case"checkbox":case"radio":this.checked=!1,e.change()}}))},navigateByHistoryPattern:function(e){var t=s.defaults(e,{disableAllDirtyForms:!1}),i=m.getPatternUrl(this.model);if(!i)throw new Error("No navigation path found");f.navigateTo(i,t)},enableFeatures:function(e){var t,i=this,n=this;this.features||(this.features={});var a=s.result(this.model,"getEntityDefinition",{}),r=!n.formLayout||!n.formLayout.disableMandatoryFields;if(this.features=s.defaults({},this.features,{tooltips:!0,updateTooltipsOnScroll:{enabled:!1,scrollableElement:null},validationTooltips:!0,numerals:!0,datepickers:!0,picklists:!1,textEditors:!0,masks:!0,rules:!0,laddas:!0,mandatoryFields:r,dependantMandatoryFields:!0,htmlBindings:!0,uiRequiredFieldsIfSelectable:!0,errorParameter:!1,popovers:!0,modelBindings:!0,submenus:!0,hrefInjection:!0,similarSearch:!1,dirtyFormHandling:!1,draftHandling:!1,workflowFlags:!1,workflowTimeline:!1,transitions:a&&!0===a.customWorkflows,stickyButtonToolbars:!0,dismissOnOutsideClick:{enabled:!1,toggleOnParentClick:!0,ignoredElements:[]},translatedTextWarning:!1}),!0===this.features.enableFlags&&(this.features.enableFlags=!this.model.rules.isPurged.call(this.model)),!0===this.features.tooltips&&(this.features.tooltips=g.tooltip(e)),null!==(t=this.features.updateTooltipsOnScroll)&&void 0!==t&&t.enabled){var o=this.features.updateTooltipsOnScroll.scrollableElement;if(!o)throw new Error("scrollableElement required");this.$scrollableElement=this.$(o),this.$scrollableElement.on("scroll.updateTooltipsOnScroll",s.throttle((function(){n._refreshTips()}),150,{leading:!1}))}if(!0===this.features.numerals&&(this.features.numerals=g.numeral(e)),!0===this.features.datepickers&&(this.features.datepickers=g.datepicker(e)),!0===this.features.picklists&&(this.features.picklists=g.picklist(e,this.model)),!0===this.features.textEditors&&(this.features.textEditors=g.textEditors(e,this.model)),!0===this.features.rules&&(this.features.rules=b.apply(e,this)),!0===this.features.masks&&(this.features.masks=g.masks(e,this.model)),!0===this.features.laddas&&(this.features.laddas=g.ladda(e,this.model)),!0===this.features.modelBindings&&(this.features.modelBindings=g.modelBindings(e,this.model)),!0===this.features.mandatoryFields&&(this.features.mandatoryFields=g.mandatoryFields(e,this.model)),!0===this.features.dependantMandatoryFields&&(this.features.dependantMandatoryFields=g.dependantMandatoryFields(e,this.model)),!0===this.features.htmlBindings&&(this.features.htmlBindings=g.htmlBindings(e,this.model)),!0===this.features.uiRequiredFieldsIfSelectable&&(this.features.uiRequiredFieldsIfSelectable=g.uiRequiredFieldsIfSelectable(e,this.model)),this.features.errorParameter){var d=f.queryParams();d.errorMsg&&n.handleErrorParameter(d.errorMsg)}this.features.popovers&&(this.features.popovers=g.popovers(e,this.model)),this.features.submenus&&g.submenus(this.$el,this.model),this.features.hrefInjection&&g.hrefInjection(this.$el),!0===this.features.readOnlyFields&&g.readOnlyFields(e,this.model),!0===this.features.validation&&this.model.on("validated",this.onValidated,this),!0===this.features.dirtyFormHandling&&$appData.globalConfig.dirtyFormsEnabled&&this.enableDirtyFormHandling(),!0!==this.features.transitions&&!0!==this.features.enableFlags||this.setMaxHeightForDynamicOptionsLists(),!0===this.features.draftHandling&&this.enableDraftHandling(),!0===this.features.transitions&&this.enableTransitions(),!0===this.features.workflowFlags&&this.enableWorkflowFlags(),!0===this.features.workflowTimeline&&this.enableWorkflowTimeline(),!0===this.features.enableFlags&&this.enableFlags(),this.workflowFields=this.model&&s.isFunction(this.model.getWorkflowStateFields)&&this.model.getWorkflowStateFields();var c=!s.isEmpty(this.workflowFields),u=this.model&&(this.model.isNew()||!this.model.get("sysActive")),p=s.get(this,"workflowTransitions.enabled")||s.get(this,"workflowFlags.enabled");this.features.workflow=!u&&c&&p;var m=[];if(!0===this.features.workflow){var y=s.map(this.workflowFields,(function(e){return"change:".concat(e)})).join(" ");this.model.on(y,(function(){i.renderWorkflowTransitionsAndTimeline()})),m.push(this.renderWorkflowTransitionsAndTimeline())}!0===this.features.workflowFlags&&m.push(this.renderWorkflowFeature({feature:"workflowFlags"})),!0===this.features.stickyButtonToolbars&&this.$(".btn-toolbar-sticky").sticky({minHeight:l(".navbar-tmpl").height()+25});var v=this.features.dismissOnOutsideClick,w=void 0===v?{}:v;if(!0===w.enabled&&(this.toggleOnParentClick=!1!==w.toggleOnParentClick,this.ignoredElements=w.ignoredElements,this.parentView=h.getParentView(this),this.removeAfterNextClick()),E.isEnabled("intakeTranslation")&&!0===this.features.translatedTextWarning&&this.model.get("sysActive")){if(this.$translatedTextWarning=this.$(".translated-text-warning"),0===this.$translatedTextWarning.length)throw new Error("translated text warning template missing");this.model.hasTranslations()&&!this.model.isViewingOwnRecordType()&&this.showTranslatedTextWarning()}return Promise.all(m)},isSafeToLeaveDirtyInlines:function(){var e=this;if(!this.dirtyFormHandlingEnabled)return!0;var t=!0,i=!1,n=h.getByGroup("inline-form");return n=s.compact(n),s.each(n,(function(n){var a=h.getViewInfoByHandle(n.handle).parentHandle===e.handle;e.$(n.el).length<1||a||(!i&&n.features.dirtyFormHandling&&n.isDirtied()?(t=e.notifyDirtyForm(),i=!0):!i&&n.features.draftHandling&&n.isSavedDraft()&&(t=e.notifyDraft(),i=!0),t&&i&&(n.disableDirtyFormHandling(),n.model.clearDirtyFields()))})),t},canRemove:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=null,i=h.getSubViews(this.handle);return this.dirtyFormHandlingEnabled&&this.isDirtied()?t=this.notifyDirtyForm():this.draftHandlingEnabled&&this.isSavedDraft()?t=this.notifyDraft():i.length>0&&s.each(i,(function(e){if(s.isFunction(e.canRemove)&&(t=e.canRemove(!1),s.isBoolean(t)))return!1})),!(!e||s.isBoolean(t))||t},enableDirtyFormHandling:function(){this.dirtyFormHandlingEnabled=!0},disableDirtyFormHandling:function(){this.dirtyFormHandlingEnabled=!1},enableDraftHandling:function(){this.draftHandlingEnabled=!0},disableDraftHandling:function(){this.draftHandlingEnabled=!1},enableAllDirtyFormHandling:function(){h.enableAllDirtyFormHandling()},disableAllDirtyFormHandling:function(){h.disableAllDirtyFormHandling()},isDirtied:function(){return this.model&&!s.isEmpty(this.model.getDirtyFields())&&this.model.hasOriginalDataChanged(this.model.getDirtyFields())},isSavedDraft:function(){return!!this.model&&!this.model.isNew()&&this.model.isDraft()},areViewsDirtied:function(){return this.dirtyFormHandlingEnabled&&this.isDirtied()||this.hasDirtiedSubView()},hasDirtiedSubView:function(){return h.getSubViews(this.handle).some((function(e){return!!s.isFunction(e.areViewsDirtied)&&e.areViewsDirtied()}))},cleanUpDirtiedViews:function(){this.model&&this.model.reset();var e=h.getSubViews(this.handle);s.forEach(e,(function(e){s.isFunction(e.cleanUpDirtiedViews)&&e.cleanUpDirtiedViews()}))},discardUnrelatedSubViewsChanges:function(){var e=h.getSubViews(this.handle);s.forEach(e,(function(e){var t;e.dirtyFormHandlingEnabled&&e.isDirtied()&&(e.disableDirtyFormHandling(),e.model&&e.model.reset(),e.rerender&&e.rerender(),e.onDiscardChangesFn&&e.onDiscardChangesFn(e,e.model),e.enableDirtyFormHandling()),null===(t=e.discardUnrelatedSubViewsChanges)||void 0===t||t.call(e)}))},notifyDirtyForm:function(){return this.notifyDirtyView(f.translateKey("unsaved_changes_confirm"))},notifyDraft:function(){return this.notifyDirtyView(f.translateKey("unsaved_changes_confirm"))},notifyDirtyView:function(e){return window.confirm(e)},beforeUnloadHandler:function(e){return this.dirtyFormHandlingEnabled&&this.isDirtied()||this.draftHandlingEnabled&&this.isSavedDraft()?(e.returnValue=f.translateKey("unsaved_changes_confirm"),f.translateKey("unsaved_changes_confirm")):void 0},disableFeatures:function(){var e,t,i=this;if(!s.isEmpty(this.features)){if(!0===this.features.rules&&b.destroy(this),!0===this.features.tooltips&&g.destroyTooltip(this.$el),null!==(e=this.features.updateTooltipsOnScroll)&&void 0!==e&&e.enabled&&this.$scrollableElement&&this.$scrollableElement.off("scroll.updateTooltipsOnScroll"),!0===this.features.numerals&&g.destroyNumeral(this.$el),!0===this.features.masks&&g.destroyMasks(this.$el,this.model),!0===this.features.datepickers&&g.destroyDatepicker(this.$el,this.model),!0===this.features.validation&&this.model.off("validated",this.onValidated,this),!0===this.features.htmlBindings&&g.destroyHtmlBindings(this.$el,this.model),!0===this.features.uiRequiredFieldsIfSelectable&&g.destroyUiRequiredFieldsIfSelectable(this.$el,this.model),!0===this.features.textEditors&&g.destroyTextEditors(this.$el),!0===this.features.workflow){var n=s.map(this.workflowFields,(function(e){return"change:".concat(e)})).join(" ");this.model.off(n,(function(){i.renderWorkflowTransitionsAndTimeline()}))}!0===this.features.stickyButtonToolbars&&this.$(".btn-toolbar-sticky").sticky("destroy"),!0===this.features.workflowTimeline&&this.off("workflowDataChanged",this.onWorkflowDataChange,this),!0===(null===(t=this.features.dismissOnOutsideClick)||void 0===t?void 0:t.enabled)&&(l("body").off("mousedown.".concat(this.cid)),this.toggleOnParentClick&&this.parentView.$el[0].removeEventListener("click",this.onParentClick,!0),l(document).off("keydown.removeOnEscKeydown")),!0===this.features.translatedTextWarning&&this.translatedTextWarningShowing&&this.model.off("change:translationLanguageByField",this.updateTranslatedTextWarningText,this)}},getErrorMessageContainer:function(){var e=this.$(".error-messages").not(this.$("form:first .error-messages"));return 0===e.length&&(this.$("form:first").before('<div class="error-messages" aria-live="assertive" role="alert"></div>'),e=this.$(".error-messages").not(this.$("form:first .error-messages"))),e},onValidated:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.log.fn("onValidated",arguments);var n=this,a=i.clearErrors,r=void 0===a||a;r&&n.clearErrors(),n.validationIssues=e;var o=this.getErrorMessageContainer();if(e.length>0){o.addClass("alert alert-danger");var l=t.get("entity$"),d=new Set;s.each(e,(function(e){var t=y.makeHumanReadable({error:e,entityType:l}),i=s.isArray(t)?t.map((function(e){return"<p>".concat(s.escape(e),"</p>")})).join(""):"<p>".concat(s.escape(t),"</p>");d.add(i)})),d.forEach((function(e){o.append(e)}))}else r&&o.removeClass("alert alert-danger");n.features.tooltips&&n.features.validationTooltips&&n._displayTooltips(e,t,i)},validateModels:function(e){var t=this,i=!0;return this.clearErrors(),s.each(e,(function(e){var n=e.model,a=e.$scope,r=n.validate(n.attributes,{silentValidation:!0});r&&(i=!1,t.onValidated(r,n,{clearErrors:!1,$scope:a}))})),i&&this.getErrorMessageContainer().removeClass("alert alert-danger"),i},clearErrors:function(){this.log.fn("clearErrors",arguments);var e=this.getErrorMessageContainer();this.validationIssues=[],e&&e.length&&(e.empty(),e.removeClass("alert alert-danger"));var t=l(".data-validation-tooltip",this.el);t.length>0&&(t.each((function(){l(".tooltip").removeClass("fade"),l(this).tooltip("destroy")})),t.removeClass("data-validation-tooltip"),t.parents(".form-group.has-error").removeClass("has-error")),setTimeout((function(){var e=l(".field-tooltip",this.el);e.length>0&&(e.each((function(){l(this).tooltip("hide"),l(this).parents(".form-group").removeClass("has-field-tooltip"),0===l(".data-validation-tooltip",this.el).length&&l(this).parents(".form-group").removeClass("has-error")})),e.removeClass("field-tooltip"))}),0)},addSubView:function(e,t){this.log.fn("addSubView",arguments);var i={parent:this.handle,reference:t?t.reference:null,group:t?t.group:null};if(t&&!0===t.updatePageTitle){var n=t.parentCaption||h.getParentView(this).caption;s.isFunction(n)?this.setCaption(e.caption,n.call(this)):this.setCaption(e.caption,n),this.setPageTitle()}return h.add(e,i)},removeSubViews:function(e){return this.log.fn("removeSubViews",arguments),h.removeSubViews(this.handle,e),this},removeSubView:function(e,t){return this.log.fn("removeSubView",arguments),t?h.removeByReference(e):h.remove(e)},unviewify:function(){var e=this;e.id=null,e.disableFeatures(),e.onUnbindEvents&&e.onUnbindEvents(),e.$el.removeData(),e.undelegateEvents(),e.$el.unbind(),e.features.dirtyFormHandling&&e.disableDirtyFormHandling(),e.features.draftHandling&&e.disableDraftHandling(),l(window).off("beforeunload",this.beforeUnloadHandler)},remove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.log.fn("remove",arguments);var t=this,i=e.hideRightSidebar,n=void 0===i||i,a=e.removeRightSidebarContents,r=void 0===a||a;function o(){if(t.onRemove&&t.onRemove(e),t.unviewify(),t.wasRemoved=!0,t.isModal){l("#placeholder-".concat(t.cid)).remove();var i=l(".modal-backdrop");if(i.length>0){i.remove();var a=l("body");a.removeClass("modal-open"),a.css("padding-right","")}}return t.rightSidebarView&&r&&t.rightSidebarView.removeContents({hideSidebar:n}),u.View.prototype.remove.call(t)}!0!==t.wasRemoved&&(!0===t.isModal&&!0===t.$(".modal").data()["bs.modal"].isShown?(this.$(".modal").off("hidden.bs.modal"),t.$(".modal").one("hidden.bs.modal",o),t.$(".modal").modal("hide")):o(),t.model&&t._refreshTips&&t.model.off("change",t._refreshTips),k.removeAllEventListenersFor(this))},locals:function(){return{model:this.model?this.model.attributes:{},modelEntityCanon:this.model?this.model.getEntityCanon():null,modelEntity:this.model?this.model.entity:null,isModal:this.isModal}},updateUrl:function(){if(this.navigateUrl){var e=null;if(s.isString(this.navigateUrl))e=this.navigateUrl;else{if(!s.isFunction(this.navigateUrl))throw new Error("Invalid navigate url");e=this.navigateUrl()}$appData.appRouter.navigate(e)}},render:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.log.fn("render",arguments);var n=this,a=v.on({action:"rendering",context:n.templateName});this.mainLoader=I(),i.showMainLoader&&this.showMainLoader({overlay:!0}),!0===n.wasRemoved&&(n.wasRemoved=!1,n.delegateEvents());var r=l.Deferred();function o(){n.$el.attr("data-last-render",c().toISOString()),i.showMainLoader&&n.hideMainLoader(),r.resolveWith(n),!0!==$appData.debug||!0!==$appData.debugInfo.viewInfoEnabled||n.wasRemoved||n._initViewInfo(),s.defer((function(){a.off()}))}return n._renderOurTemplate().done((function(){if(n.wasRemoved)return o(),r.promise();function i(){n._locals=null,n.$("div.pull-right.btn-toolbar-sticky").show();var e=n.enableFeatures(n.$el);function t(){if(n.onRendered){var e=n.onRendered();e?e.done((function(){o()})):o()}else o()}n.onBindEvents&&n.onBindEvents(),l(window).on("beforeunload",n.beforeUnloadHandler.bind(n)),e?e.then(t):t()}n.$el.addClass("bb-view"),e&&l(e).append(n.$el),!0===t&&n.updateUrl(),n.isModal?o():n.hasFormConfig?n._renderGeneratedForm().done(i):i()})),r.promise()},doesParentViewHaveModal:function(){var e=h.getParentView(this);return!!e&&h.getSubViews(e.handle).some((function(e){return e.isModal}))},renderAsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.log.fn("renderAsModal",arguments),!t.preventMultipleModals||!this.doesParentViewHaveModal()){var i=this;this.isModal=!0,l("#modal-container").append('<div id="placeholder-'+this.cid+'" class="'+this.className+'"></div>');var n=l.Deferred();return this.render("#placeholder-"+this.cid,e).fail((function(e){return n.reject(e)})).done((function(){function e(){i._locals=null,i.$el.addClass("modal-tmpl"),!1!==s.get(i,"features.updateTooltipsOnScroll",{}).enabled&&(i.features.updateTooltipsOnScroll={enabled:!0,scrollableElement:".modal-body"});var e,a=i.enableFeatures(i.$el);i.onBindEvents&&i.onBindEvents(),i.$("div.pull-right.btn-toolbar-sticky").show(),i.onRendered&&a.then((function(){return i.onRendered()})),a.then((function(){i.$(".modal").on("shown.bs.modal",i.$(".modal"),(function(){var a=i.$(".modal-body");if((a[0].scrollWidth>a[0].clientWidth||a[0].scrollHeight>a[0].clientHeight)&&a.attr("tabindex",0),t.noUpdateFocus)return n.resolveWith(i);e=l(":focus"),l(":enabled:visible.close",this).focus();var r=l(this).find("select, input, textarea, button, a").filter(":not(:disabled):visible:last"),o=l(this).find("select, input, textarea, button, a").filter(":not(:disabled):visible:first");r.on("keydown",(function(e){l("this:focus")&&9===e.which&&!e.shiftKey&&(e.preventDefault(),o.focus())})),o.on("keydown",(function(e){l("this:focus")&&9===e.which&&e.shiftKey&&(e.preventDefault(),r.focus())})),n.resolveWith(i)})),i.$(".modal").modal(),i.$(".modal").one("hidden.bs.modal",(function(){h.remove(i),i.confirmedFn&&"function"==typeof i.confirmedFn&&i.confirmedFn(i.confirmed),i.callbackUrl&&f.navigateTo(i.callbackUrl),e&&e.focus()}))}))}0===this.$(".modal").length&&(this.$el.html('<div class="modal fade" data-keyboard="true" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="loader-container"></div><div class="modal-body">'+this.$el.html()+"</div></div></div></div>"),t.fullScreen?this.$(".modal").addClass("full-screen-modal"):t.center&&this.$(".modal").addClass("center-modal")),i.hasFormConfig?this._renderGeneratedForm().done(e):e()})),n.promise()}},getRightSidebarView:function(){return h.getByRef("right-sidebar")},renderAsRightSidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collapsedView,i=e.onCloseClickFn,n=l.Deferred();return this.rightSidebarView||(this.rightSidebarView=this.getRightSidebarView()),this.rightSidebarView.renderContents(o({expandedView:this,collapsedView:t,onCloseClickFn:i},e),(function(){return n.resolve()})),n.promise()},_displayTooltips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.validationIssues,t=(arguments.length>1&&void 0!==arguments[1]||this.model,this),i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).$scope,n=void 0===i?null:i,a=this.getErrorMessageContainer();s.each(e,(function(e,i){if(e.parambulator){var r=e.parambulator.property,o=f.translateKey({groupName:"validation",subgroupName:"tooltip",key:e.parambulator.code},{context:{field:s.isArray(r)?r[0]:r}});if(s.isArray(r))s.forEach(r,(function(e){var i,a='.form-group[data-field-name="'.concat(e,'"]:visible'),r=(i=n?n.find(a):t.$(a)).find(".validation-tooltip-element");0===r.length&&(r=i.children(".component-container")),0===r.length&&(r=t.$("#"+e).parent()),t._displayTooltip(r,o)})),f.scrollTo(a);else{var l,d='.form-group[data-field-name="'.concat(r,'"]:visible'),c=(l=n?n.find(d):t.$(d)).find(".validation-tooltip-element");0===c.length&&(c=l.children(".component-container")),t._displayTooltip(c,o),0===i&&c.length>0?f.scrollTo(c):0===i&&f.scrollTo(a)}}}))},_displayTooltip:function(e,t){var i=this,n=e.parents(".editmode").length>0||0===e.parents(".readonly").length;if(!e.hasClass("data-validation-tooltip")){if(n){var a,r=s.defaults({},this.validationTooltipOpts||{},{placement:"right",template:f.getTooltipTemplate({customClasses:"validation-tooltip"}),trigger:"manual"});e.parents(".modal").length>0||(r.viewport={selector:e.parents(".form-group").first(),padding:5}),f.setupValidationTooltip(this,e,r),"manual"===r.trigger&&(null!==(a=this.features.updateTooltipsOnScroll)&&void 0!==a&&a.enabled&&(e.on("inserted.bs.tooltip",(function(e){l(e.currentTarget).data("bs.tooltip").$tip.css("visibility","hidden")})),e.on("shown.bs.tooltip",(function(e){var t=l(e.currentTarget).data("bs.tooltip"),n=t.$tip[0].getBoundingClientRect(),a=i.$scrollableElement[0].getBoundingClientRect();n.top>=a.top&&n.bottom<=a.bottom&&t.$tip.css("visibility","visible")}))),e.attr("title",t).tooltip("fixTitle").tooltip("show")),e.addClass("data-validation-tooltip")}e.parents(".form-group").first().addClass("has-error")}},_hideAllTooltips:function(){for(var e=function(){var e,n=i[t];(e=document.getElementsByClassName(n),function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){l(e).data("bs.".concat(n)).hide()}))},t=0,i=["tooltip","popover"];t<i.length;t++)e()},_refreshTips:s.throttle((function(){l(".data-validation-tooltip").each((function(e,t){var i=l(t).data("bs.tooltip");if(i){var n=i.options.animation;i.options.animation=!1,i.show(),i.options.animation=n}}))}),250),_renderGeneratedForm:function(){var e=l.Deferred(),t=this,i=t.$el.find(".autorender-placeholder");if(i.addClass("row"),!t.formConfigName&&!t.formConfigId)throw new Error('A request was made to auto render "'+t.handle+'" but not form layout information found');if(!i)throw new Error('Auto rendering layout information was provided for "'+t.handle+'" but no placeholder (i.e. ".autorender-placeholder") was found in the template.');i.hide();var n=t.model.getEntityDefinition(),a=_.get({entityName:"sys/".concat(t.model.get("entityName"))}),r=a?a.fields():n.fields(),s=new(C.get("layout").ui.formComponent())(o({model:t.model,fields:r,name:t.formConfigName,formId:t.formConfigId,parentFormView:t,printing:t.printing},this.layoutFormOpts));return i.append(s.$el),t.addSubView(s).render((function(n){if(n)throw t.handleErrorParameter("error_generating_form"),n;t.$el.attr({"data-handle":t.handle}),i.show();var a=t.$(".bbg-table-wrapper.fixed-cols");return a.is(":visible")&&a.each((function(e,t){var i=t.closest(".grid-v2-tmpl.data-grid");h.getByHandle(i.getAttribute("data-handle")).updateFixedCellHeights()})),e.resolve()})),e.promise()},_renderOurTemplate:function(){var e=this,t=l.Deferred(),i=!1;function n(n){e._locals=n,i||(i=!0,e.template?p.render(e.template,n,(function(i,n){if(i)throw i;setTimeout((function(){e.$el.html(n),e.$el.attr({"data-handle":e.handle}),t.resolve()}),0)})):t.resolve())}return e._locals=this.locals(n),e._locals&&n(e._locals),t.promise()},renderTemplate:function(e,t,i){var n=this,a=t,r=i;if(l.isFunction(a)&&(r=a,a={}),!r)throw new Error("A callback is required in order to recieve the rendered template.");p.render(e,a,(function(e,t){setTimeout((function(){r.call(n,e,t)}),0)}))},setReadOnly:function(e){this._hideAllTooltips(),e&&!this.$el.hasClass("readonly")?this.$el.addClass("readonly"):!e&&this.$el.hasClass("readonly")&&(this.$el.removeClass("readonly"),this._displayTooltips(this.validationIssues,this.model||null)),this.trigger("change:readOnly",e),this.model&&(this.model.readOnly=e,this.model.trigger("readOnlyChange",e))},isReadOnly:function(){return this.$el.hasClass("readonly")},_viewInfoToggle:function(){var e=this;if(l(".m-viewinfo").length>0){if(l(".m-viewinfo-"+e.handle).length>0)return void l(".m-viewinfo-close-button").click();l(".m-viewinfo-close-button").click()}var t=e.model?h.dbgGetViewsByModelId(e.model.id):["None"],n=h.views.instantiated[e.handle].parentHandle,a={};e.rules&&s.each(e.rules,(function(t,i){a[i]=t.call(e).toString()}));var r={};e.model&&e.model.rules&&s.each(e.model.rules,(function(t,i){r[i]=t.call(e.model).toString()}));var o={viewName:e.handle,templateName:e.templateName,hasModel:!!e.model||void 0,model:e.model,modelEntity:e.model?e.model.getEntityCanon():"n/a",modelUrl:e.model?e.model.urlRoot:null,modelId:e.model?e.model.idAttribute:null,features:e.features,hasSubviews:h.views.instantiated[e.handle].subViews.length>0,subviews:h.views.instantiated[e.handle].subViews,viewsUsingSameModel:t,parentView:n||"None.",hasViewRules:Object.keys(a).length>0,viewRules:a,hasModelRules:Object.keys(r).length>0,modelRules:r};if(e.model){o.modelAttributes=s.cloneDeep(e.model.attributes);var d=Object.keys(o.modelAttributes).sort();s.each(d,(function(e){s.isNull(o.modelAttributes[e])&&(o.modelAttributes[e]="<null>")}))}e.renderTemplate(i(927038),o,(function(e,t){if(e)throw e;var i=l(t);l("body").prepend(i),s.defer((function(){i.addClass("m-viewinfo-show")})),l(".m-viewinfo-close-button",i).on("click",(function(){i.removeClass("m-viewinfo-show"),s.delay((function(){i.remove()}),500)})),l('[name="indicator-position"]',i).on("click",(function(){$appData.debugInfo.viewInfoIndicatorCssClass=l(this).val(),l(".m-viewinfo-indicator").attr("class","").addClass($appData.debugInfo.viewInfoIndicatorCssClass)})),l('[name="indicator-position"][value="'+$appData.debugInfo.viewInfoIndicatorCssClass+'"]',i).prop("checked",!0),l(".m-viewinfo-disable",i).on("click",(function(){$appData.debugInfo.viewInfoEnabled=!1,l(".m-viewinfo-indicator").remove(),i.remove()})),l(".highlight-view-on-hover",i).on("mouseenter",(function(){l('[data-handle="'+l(this).text()+'"]').addClass("m-viewinfo-is-highlight"),i.addClass("m-viewinfo-semi-trans")})),l(".highlight-view-on-hover",i).on("mouseleave",(function(){l('[data-handle="'+l(this).text()+'"]').removeClass("m-viewinfo-is-highlight"),i.removeClass("m-viewinfo-semi-trans")}))}))},_initViewInfo:function(){var e=this;if("tr"!==e.tagName&&!e.$(">:first-child").hasClass("m-viewinfo-indicator")){var t="Template Name: "+e.templateName+"\n";e.model&&(t+="Model Entity: "+e.model.getEntityCanon()+"\nModel URL: "+e.model.urlRoot+"\n");var i=l("<div></div>").attr("title",t).addClass($appData.debugInfo.viewInfoIndicatorCssClass).on({click:function(){e._viewInfoToggle()},mouseenter:function(){e.$el.addClass("m-viewinfo-is-highlight")},mouseleave:function(){e.$el.removeClass("m-viewinfo-is-highlight")}});l(e.el).prepend(i)}},addServerEventListener:function(e,t){k.addEventListener(this,e,t)},renderWorkflowTransitionsAndTimeline:function(){var e=this,t=l.Deferred();return this.model.get("datePurged")?t.resolve():(d.waterfall([function(t){e.$workflowTimelineContainer.css("height",e.getWorkflowTimelineHeight()),e.renderWorkflowFeature({feature:"workflowTimeline"}).then((function(i){return e.workflowTimelineView=i,t()}),(function(e){return t(e)}))},function(t){g.getTransitionsAndTimeline(e.model,(function(i,n){if(i)return t(i);var a=n.transitions,r=n.timelineData;return e.workflowTimelineView.setData({transitions:a,timelineData:r},(function(){e.$workflowTimelineContainer.css("height","auto"),t(null,a)}))}))},function(t,i){e.renderWorkflowFeature({feature:"workflowTransitions",transitions:t}).then((function(){return i()}),(function(e){return i(e)}))}],(function(i){if(i)return t.reject(i);e.model.trigger("workflowDataChanged"),e.trigger("workflowDataChanged"),t.resolve()})),t.promise())},renderWorkflowFeature:function(e){var t=l.Deferred(),i=e.feature,n=e.transitions;if(!this[i]||!this[i].enabled)return t.resolve();var a=this[i],r=a.reference,o=a.View,s=a.$el,d=a.keepHeightOnRerender,c=s.css("min-height");h.getByRef(r)&&(d&&s.css("min-height",s.outerHeight()),h.removeByReference(r));var u=new o({model:this.model,transitions:n});return this.addSubView(u,{reference:r}).render(s).done((function(){d&&s.css("min-height",c),t.resolve(u)})),t.promise()},hideSyncWorkflowsBanner:function(){this.$(".sync-workflows-control").addClass("hidden")},showSyncWorkflowsBanner:function(){var e=this.model&&s.isFunction(this.model.rules.canEditCaseForm)&&this.model.rules.canEditCaseForm.call(this.model),t=f.escapedTranslateKey("_here"),i=e?"sync_workflows":"sync_workflows_no_permission",n=f.escapedTranslateKey(i);n=n.replace("{here}",'<span><a class="sync-workflows alert-link" href="#"><u>'.concat(t,"</u></a></span>"));var a="<p>".concat(n,"</p>");this.$(".sync-workflows-control").html(a),e||this.$(".sync-workflows-control").find("span").hide(),this.$(".sync-workflows-control").removeClass("hidden")},updateSyncWorkflowsBanner:function(){this.isWorkflowUnsynced()?this.showSyncWorkflowsBanner():this.hideSyncWorkflowsBanner()},isWorkflowUnsynced:function(){var e=h.getByRef("workflow-timeline");if(!e)return!1;var t=s.filter(e.timelineData,{isNew:!0}),i=s.filter(e.timelineData,{isOutdated:!0});return!(!t.length&&!i.length)},onWorkflowDataChange:function(){h.getByRef("workflow-timeline")&&this.updateSyncWorkflowsBanner()},enableTransitions:function(){var e=this.$("#workflow-transitions"),t=1===e.length;this.workflowTransitions={$el:e,enabled:t,View:i(87428),reference:"workflow-transitions"}},enableWorkflowFlags:function(){var e=this.$(".print-only").find("#flags"),t=this.printing&&1===e.length?e:this.$("#flags"),n=1===t.length,a="workflow-flags";this.templateName!==this.cid&&(a+="-".concat(this.templateName),this.printing&&(a+="-".concat(this.cid))),this.workflowFlags={$el:t,enabled:n,View:i(28136),reference:a,keepHeightOnRerender:!0}},enableWorkflowTimeline:function(){this.$workflowTimelineContainer=this.$("#workflow-timeline-container");var e=1===this.$workflowTimelineContainer.length;this.workflowTimeline={$el:this.$workflowTimelineContainer,enabled:e,View:i(581258),reference:"workflow-timeline"},this.on("workflowDataChanged",this.onWorkflowDataChange,this)},enableFlags:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).refreshList,i=void 0!==t&&t,n=this.model.get("entity$"),a=new x({entityCanon:n,entityRecordId:this.model.get("id")});a.listEntityFlags((function(t,n){if(t){var r=f.translateKey({groupName:"errors",subgroupName:"general",key:"an_error_has_occurred"});return A.error(r)}var o=n.authorizedSetUnsetFlags,s=n.entitySetFlags,l=o.allFlags.length>0,d=s.length>0;(l||d)&&e.renderFlagPills(a,s),(l||i)&&e.renderFlagList(a,o)}))},renderFlagPills:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.noop,a=this.$("#flags");if(1!==a.length)return n();h.getByRef("flag-pills")&&h.removeByReference("flag-pills");var r=new(i(589900))({model:this.model,setFlags:t,entityFlags:e});this.addSubView(r,{reference:"flag-pills"}).render(a).done((function(){n.apply(void 0,arguments)}))},renderFlagList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.noop,a=this.$("#flag-list");if(1!==a.length)return n();h.getByRef("flag-list")&&h.removeByReference("flag-list");var r=new(i(24478))({entityFlags:e,model:this.model,flags:t});this.addSubView(r,{reference:"flag-list"}).render(a).done((function(){n.apply(void 0,arguments)}))},showMainLoader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mainLoader||(this.mainLoader=I()),this.mainLoader&&(this.mainLoader.show(e),l("body").addClass(this.mainLoaderShowingClass))},hideMainLoader:function(){this.mainLoader&&(this.mainLoader.hide(),l("body").removeClass(this.mainLoaderShowingClass))},isMainLoaderShowing:function(){return!!this.mainLoader&&this.mainLoader.isShowing()},setMaxHeightForDynamicOptionsLists:function(){var e=l(window).innerHeight(),t=l("#navbar-container").height();this.$("ul.dynamic-lists").css("max-height","".concat(.45*(e-t),"px"))},onSyncWorkflowsClick:function(){var e=this,t=s.replace(this.model.getEntityCanon(),"/","_"),i=this.model.id;this.showMainLoader({overlay:!0}),l.ajax({url:"".concat($appData.globalConfig.apiRoot,"/sync_workflows/").concat(t,"/").concat(i),method:"POST",dataType:"json",contentType:"application/json"}).done((function(t){e.model.fetch({success:function(t){s.isEmpty(t.changed)||s.some(e.workflowFields,(function(e){return s.includes(s.keys(t.changed),e)}))||e.renderWorkflowTransitionsAndTimeline(),e.$("#flags").empty(),e.renderWorkflowFeature({feature:"workflowFlags"}),e.enableFlags()}})})).always((function(){e.hideMainLoader()}))},onModalCancelClick:function(){h.remove(this)},onTranslatedTextLinkClick:function(){this.model.hasTranslationsApplied()?this.model.showOriginalText():this.model.showTranslatedText(),this.updateTranslatedTextWarningText()},getWorkflowTimelineHeight:function(){return 138},removeAfterNextClick:function(){var e=this,t=!1;l("body").on("mousedown.".concat(this.cid),(function(i){if(!(l(i.target).closest(e.$el).length>0)){if(e.ignoredElements&&s.some(e.ignoredElements,(function(e){return l(i.target).closest(l(e)).length>0})))return;var n=e.parentTriggerElement?e.parentView.$(e.parentTriggerElement):e.parentView.$el,a=l(i.target).closest(n).length>0;e.toggleOnParentClick&&a?t=!0:e.remove()}})),this.toggleOnParentClick&&(this.onParentClick=function(i){t&&(i.stopImmediatePropagation(),e.remove())},this.parentView.$el[0].addEventListener("click",this.onParentClick,!0)),l(document).on("keydown.removeOnEscKeydown",(function(t){"Escape"===t.key&&e.remove()}))},showHideTranslationWarning:function(){this.model.hasTranslationsApplied()?this.$translatedTextWarning.show():this.$translatedTextWarning.hide()},updateTranslatedTextWarningText:function(){if(!this.model)return null;var e,t,i;this.model.hasTranslationsApplied()?(e="translated_text_warning",t="show_original_text",i=!0):(e="original_text_warning",t="show_translated_text",i=!1);var n=f.translateKey(t).toLowerCase();n="".concat(n[0].toUpperCase()).concat(n.slice(1));var a=f.translateKey(e,{context:{icon:'<i class="fa fa-globe" aria-label="'.concat(f.translateKey("globe"),'"></i>'),link:'<a href="#" id="translated-text-link" class="alert-link no-print">'.concat(n,"</a>")}});this.$translatedTextWarning.html(f.sanitizeHtml(a));var r="no-print";i?this.$translatedTextWarning.removeClass(r):this.$translatedTextWarning.addClass(r)},showTranslatedTextWarning:function(){this.updateTranslatedTextWarningText(),this.$translatedTextWarning.removeClass("hidden"),this.translatedTextWarningShowing=!0,this.model.on("change:translationLanguageByField",this.updateTranslatedTextWarningText,this)}}),D=S.extend;S.extend=function(e,t){var i=D.call(this,e,t);i.prototype.rules=s.defaults({},i.prototype.rules,this.prototype.rules),i.prototype.features=s.defaults({},i.prototype.features,this.prototype.features),i.prototype.events=s.defaults({},i.prototype.events,this.prototype.events);var n=i.prototype.className,a=this.prototype.className;return n&&a&&n!==a&&(i.prototype.className="".concat(this.prototype.className," ").concat(i.prototype.className)),i},e.exports=S},304722:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(250113),i(426099);var r=i(96190),o=i(40785),s=i(325425);e.exports=s.extend({template:i(798450),tagName:"span",className:"btn-wrap",onInit:function(e){this.options=e,this.options.btnId&&(this.id=this.options.btnId),this.options.btnWrapClasses&&this.$el.addClass(this.options.btnWrapClasses),this.options.btnTagName||(this.options.btnTagName="button"),r.has(this.options,"btnClasses")||(this.options.btnClasses="btn btn-default"),this.options.associatedModel&&(this.model=this.options.associatedModel),this.navigationAnchor=!0===this.options.navigationAnchor},locals:function(){return this.options},events:{"click .clickElement":"onClick"},onClick:r.throttle((function(e){r.isFunction(this.options.onClicked)?this.options.onClicked(this.options,e):this.options.route&&o.navigateTo(this.options.route,{initiator:this.navigationAnchor?this.id:null})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRendered:function(){var e=this.options.tooltip;if(e){var t=this.$el;e.targetSelector&&(t=this.$el.find(e.targetSelector)),t.tooltip(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({container:this.$el},e))}},onRemove:function(){var e=this.options.tooltip;if(e){var t=e.container;(void 0===t?this.$el:t).children(".tooltip").remove()}}})},823879:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500);var r=i(93216),o=i(304722),s=i(325425);e.exports=s.extend({tagName:"div",template:i(193151),onInit:function(e){var t=e.buttons,i=void 0===t?[]:t,n=e.associatedModel,a=void 0===n?null:n,r=e.spaceBetweenButtons,o=void 0===r||r;this.buttons=i,this.associatedModel=a,this.barClassName=o?"btn-bar-has-space-between-elements":"btn-group",this.buttonTagName=o?"div":"span"},locals:function(){return{barClassName:this.barClassName}},onRendered:function(){var e=this;this.buttons.length>0&&this.buttons.forEach((function(t){var i=t.aclRole;if(!i||r.hasRole(i)){var s=new o(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({tagName:e.buttonTagName,associatedModel:e.associatedModel},t));e.addSubView(s).render(e.$(".btn-bar"))}}))}})},532619:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(681278),i(802259),i(123792),i(747764),i(962953),i(426099),i(423500),i(428706);var o=i(304722),s=i(40785),l=i(93216),d=i(325425);e.exports=d.extend({template:i(440343),className:"menu btn-group",onInit:function(e){var t=e.menuItems,i=void 0===t?[]:t,n=e.icon,a=e.caption,r=e.associatedModel,o=e.classes,l=void 0===o?"btn-default":o,d=e.showTooltip,c=void 0===d||d,u=e.tooltip,p=e.useStyledDropdown,f=void 0!==p&&p,h=e.addCaret,m=void 0!==h&&h,g=e.ladda,y=void 0===g?{}:g;this.classes=l,this.menuItems=i,this.icon=n,this.caption=a,this.associatedModel=r,this.showTooltip=c,this.tooltip=u||s.translateKey("options"),this.useStyledDropdown=f,this.addCaret=m,this.ladda=y},locals:function(){return{classes:this.classes,caption:this.caption,icon:this.icon,styledDropdown:this.useStyledDropdown,addCaret:this.addCaret,ladda:this.ladda}},onRendered:function(){var e=this;if(this.menuItems.length>0){var t=this.$("ul.dropdown-menu");this.menuItems.forEach((function(i,n){var a=i.aclRole;if(!a||l.hasRole(a)){var s=new o(r(r({},i),{},{btnTagName:"a",href:"#/",btnClasses:i.btnClasses?i.btnClasses:"",role:"menuitem",associatedModel:e.associatedModel})),d="menu-btn";i.showTopDivider&&(d+=" top-divider"),i.showBottomDivider&&(d+=" bottom-divider"),t.append('<li role="none" id="menu-btn-'.concat(n,'" class="').concat(d,'"></li>')),s.render(e.$("ul.dropdown-menu > li#menu-btn-".concat(n)))}}))}this.showTooltip&&this.updateViewOptions()},updateViewOptions:function(){this.$el.tooltip({container:this.$el,placement:"top",title:this.tooltip})}})},467650:(e,t,i)=>{"use strict";var n=i(96190),a=i(274692),r=i(504542),o=i(608758),s=i(40785);e.exports=r.View.extend({template:i(849546),className:"more-less-btn-tmpl",initialize:function(e){var t=e.callback,i=e.btnState,n=void 0===i?"collapsed":i;this.updateParentView=t,this.btnState=n},onRendered:function(){this.updateText()},events:{"click .more-less-btn":"onMoreLessClicked"},onMoreLessClicked:function(e){e.stopPropagation(),this.updateBtnState(),this.updateText()},updateBtnState:function(){this.updateParentView(this.$el,this.btnState),this.btnState="collapsed"===this.btnState?"expanded":"collapsed"},updateText:function(){var e=this.$(".truncated-btn-text"),t=s.translateKey("collapsed"===this.btnState?"more":"less");e.text(t)},render:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,r=this.locals?this.locals():{};o.render(this.template,r,(function(n,r){if(n)return i(n);setTimeout((function(){t.$el.html(r),a(e).append(t.$el),t.onRendered?t.onRendered(i):i()}),0)}))}})},768844:(e,t,i)=>{"use strict";i(250113),i(426099);var n=i(274692),a=i(96190),r=i(40785),o=i(325425),s=i(148047);e.exports=o.extend({tagName:"button",className:"btn btn-default row-actions-menu-btn",onInit:function(e){this.model=e.model,this.rowActions=e.rowActions},onRendered:function(){this.$el.attr("aria-label",r.translateKey("row_action_menu")),this.$el.html('<i class="fa fa-ellipsis-h" aria-hidden="true"></i>')},events:{click:"onClick"},closeAfterNextClick:function(){var e=this;n("body").on("click.removeRowActionsMenuView",(function(t){var i=e.$el,a=e.$el.parents(".data-grid").children(".row-actions-container");t.target!==i[0]&&t.target.parentElement!==i[0]&&n(t.target).parents(".row-actions-container")[0]!==a[0]&&0===n(t.target).parents(".modal-content").length&&n(t.target).parents("body").length>0&&!t.target.classList.contains("modal")&&e.removeRowActionsMenuView()}))},closeAfterNextEscapeKeyUp:function(){var e=this;n("body").on("keyup.removeRowActionsMenuView",(function(t){"Escape"===t.code&&e.removeRowActionsMenuView()}))},onClick:a.throttle((function(e){e.stopPropagation();var t=this.$el.parents(".data-grid").find(".row-actions-container");if(this.rowActionsMenuView)return this.removeRowActionsMenuView();var i=this.$el,r=n(i).parents("td")[0],o=i.outerWidth()/2,l=r.offsetTop-n(r).offsetParent().height()+12;return t.css("top","".concat(l,"px")),t.css("right","".concat(o,"px")),i.hasClass("open")?this.removeRowActionsMenuView():(i.css("display","inline-block"),i.addClass("open"),this.closeAfterNextClick(),this.closeAfterNextEscapeKeyUp()),this.rowActionsMenuView=this.addSubView(new s({rowActions:this.rowActions,selectedItems:[this.model],removeRowActionsMenuView:a.bind(this.removeRowActionsMenuView,this)})),this.rowActionsMenuView.render(t).done()}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),removeRowActionsMenuView:function(){this.rowActionsMenuView&&(n("body").off(".removeRowActionsMenuView"),this.$el.removeAttr("style"),this.$el.removeClass("open"),this.removeSubView(this.rowActionsMenuView),this.rowActionsMenuView=null)}})},436053:(e,t,i)=>{"use strict";i(874423),i(21699),i(428706),i(533110);var n=i(274692),a=i(96190),r=i(40785),o=i(325425),s=i(959439),l=i(896727);e.exports=o.extend({className:"star-btn",template:i(908471),onInit:function(e){this.model=e.model,this.dataDisableRule=e.dataDisableRule,this.onToggleComplete=e.onToggleComplete&&a.isFunction(e.onToggleComplete)?e.onToggleComplete:a.noop},locals:function(){var e=r.translateKey({groupName:this.model.getEntityCanon(),subgroupName:"general",key:"name"}),t=a.get(s.getFavoriteList(),"id"),i=a.includes(this.model.get("userLists"),t),n=i?"fa-star checked":"fa-star-o",o=this.model.get(this.model.getEntityDefinition().entDef.gridDescriptorField),l=i?"unfavorite":"favorite";return{ariaLabel:o?"".concat(r.translateKey(l)," ").concat(e," ").concat(r.sanitizeHtml(o)):r.translateKey(l),iconClassName:n,dataDisableRule:this.dataDisableRule}},events:{"click button":"onClick"},onClick:a.throttle((function(e){e.stopImmediatePropagation();var t=n(e.currentTarget),i=t.hasClass("fa-star-o")||!1,o=t.attr("aria-label"),d=r.translateKey({groupName:this.model.getEntityCanon(),subgroupName:"general",key:"name"}),c=o.indexOf(d)>0?o.substring(o.indexOf(d)):"",u="".concat($appData.globalConfig.apiRoot,"/entityList/favorite"),p={favoritesInfo:{shouldFavorite:i,records:s.convertModelsForEntityListCreation(this.model),userId:$appData.user.id}};n.ajax({url:u,method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(p)}).done((function(e){var n=e&&e.newFavoritesList&&!a.isEmpty(e.newFavoritesList);i?(t.removeClass("fa-star-o"),t.addClass("fa-star"),t.addClass("checked"),t.removeAttr("aria-label"),t.attr("aria-label","".concat(r.translateKey("unfavorite")," ").concat(c))):(t.removeClass("fa-star"),t.removeClass("checked"),t.addClass("fa-star-o"),t.removeAttr("aria-label"),t.attr("aria-label","".concat(r.translateKey("favorite")," ").concat(c))),l.info(r.translateKey(i?"added_to_favorites":"removed_from_favorites")),n&&(s.setFavoriteList(e.newFavoritesList),s.addUserLists(e.newFavoritesList))})).always(this.onToggleComplete)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})})},381910:(e,t,i)=>{"use strict";i(250113),i(426099),i(202008);var n=i(96190),a=i(591341),r=i(40785);e.exports={getTabFormConfig:function(e){return e.formConfigName?n.find($appData.layouts,{name:e.formConfigName}):e.dynamic?n.find($appData.layouts,{id:e.id}):void 0},getTabsWithExternalElements:function(){var e=this,t=n.isFunction(a)?a():a;return n.filter(t,(function(t){var i=e.getTabFormConfig(t);return!!i&&!1!==i.showOnPortal&&r.hasShowOnPortalFormElement(i,"case")}))}}},441282:(e,t,i)=>{"use strict";i(16280),i(428706);var n=i(274692),a=i(96190),r=i(122268),o=i(40785),s=i(551610),l=i(325425);e.exports=l.extend({tagName:function(){throw new Error("tag name not defined")},initialize:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];this.options=i[0]||{};var r=this.options,o=r.model,d=r.disableRowCriteria,c=r.disableRowReason,u=r.disableRowAsRecordNotAvailable,p=r.customRowClass,f=r.isEven,h=r.rowTemplateType,m=r.rowTemplate,g=r.formModel;this.model=o,this.customRowClass=!!a.isFunction(p)&&p(o),this.isPurged=o.get("datePurged")||!1,this.isScheduleForPurged=o.get("pendingPurgeDate")||!1,this.isRowDisabled=!!a.isFunction(d)&&d(o),this.disabledReason=a.isFunction(c)?c(o):"",this.recordNotAvailable=u,this.isEven=f;var y=o.getEntityDefinition(),v=!!h&&a.get(y,["rowTemplates",h]),b=!!m&&(a.isString(m)||m.templateName);return v?this.template=v():b&&(this.template=m),this.isRowDisabled&&this.recordNotAvailable&&(this.template=s),g&&(this.formModel=g),(e=l.prototype.initialize).call.apply(e,[this].concat(i))},onRendered:function(){var e=this,t=n.Deferred();return r.waterfall([function(t){return e.template||e.isRowDisabled&&e.recordNotAvailable?t():e.renderItem(t)},function(t){return e.renderActionButtons(t)},function(t){return e.updateViewOptions(t)}],(function(){return t.resolve()})),t.promise()},renderItem:function(e){throw new Error("renderItem not implemented")},renderActionButtons:function(){throw new Error("renderActionButtons not implemented.")},updateViewOptions:function(e){return this.$el.attr("data-id",this.model.get("id")),this.isEven&&this.$el.addClass("even"),this.customRowClass&&this.$el.addClass(this.customRowClass),this.isPurged&&!o.isPortalUser()?(this.$el.addClass("purged"),this.addToolTip(o.translateKey("purged_record"))):this.isScheduleForPurged&&!o.isPortalUser()?(this.$el.addClass("scheduled-purge"),this.addToolTip(o.translateKey("scheduled_purge_record"))):this.isRowDisabled&&(this.$el.addClass("disabled-row"),this.addToolTip(this.disabledReason)),e()},addToolTip:function(e){var t,i,n=this.options.parentGridViewEl,a=o.getVisibleParentView(this);if(a){var r=".modal-content",s=a.$el;i=s.parents(r).length>0?s.parents(r).first():null}var l=o.getValidationTooltipOpts(this);t=l.container?l.container:i||n||this.$el,o.setupValidationTooltip(this,this.$el,{title:e,placement:"auto left top",trigger:"hover",template:o.getTooltipTemplate({customClasses:"base-data-item-tooltip"}),container:t})},onRemove:function(){this.$el.tooltip&&this.$el.tooltip("destroy")}})},404316:(e,t,i)=>{"use strict";i(428706),i(16280);var n=i(274692),a=i(96190),r=i(325425),o=i(185999);e.exports=r.extend({initialize:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o=i[0]||{},s=o.collection,l=o.fetchCollectionFn,d=o.onQueryChangeFn;return this.collection=s,a.isFunction(l)&&(this.fetchCollection=l),a.isFunction(d)&&(this.onQueryChange=d),(e=r.prototype.initialize).call.apply(e,[this].concat(i))},onCollectionUpdate:function(e){if(this.collection)throw new Error("onCollectionUpdate not implemented")},getSort:function(){if(this.collection)throw new Error("getSort not implemented")},getDefaultFilterQuery:function(){if(this.collection){var e=this.collection.getDefaultFilter();if(a.get(e,"query",!1))return a.get(e,"query");if(e&&a.isFunction(e.toQuery))return e.toQuery()}return null},getAlwaysOnFiltersQuery:function(){return a.isEmpty(this.options.alwaysOnFilters)?[]:o.must(this.options.alwaysOnFilters)},getQuery:function(){if(this.collection)throw new Error("getQuery not implemented")},fetchCollection:function(){if(this.collection)throw new Error("fetchCollection not implemented")},onQueryChange:function(){if(this.collection)throw new Error("onQueryChange not implemented")},refresh:function(){var e=n.Deferred();return e.resolveWith(this),e.promise()}})},891002:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(730295),r=i(325425);e.exports=r.extend({initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=t[0],s=void 0===o?{}:o,l=s.collection,d=s.onQueryChange;if(!(l instanceof a))throw new Error("GridCollection is required.");return this.collection=l,n.isFunction(d)&&(this.onQueryChange=d),r.prototype.initialize.apply(this,t)},getQuery:function(){throw new Error("getQuery not implemented")}})},584935:(e,t,i)=>{"use strict";i(16280),i(428706);var n=i(96190),a=i(40785),r=i(325425);e.exports=r.extend({tagName:function(){throw new Error("tag name not defined")},className:"batch-control",template:i(619557),state:!1,initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=t[0]||{},s=o.model,l=o.isRowDisabled,d=void 0!==l&&l,c=o.multiSelectOnlyInEditMode,u=o.disableCheckboxCriteria,p=o.ariaLabel,f=o.updateSelection;if(this.isRowDisabled=d,this.isCheckboxDisabled=!n.isFunction(u)||u(s),this.multiSelectOnlyInEditMode=c,this.updateSelection=f,n.isEmpty(p)&&s){var h=a.translateKey({groupName:s.getEntityCanon(),subgroupName:"general",key:"name"}),m=s.getEntityDefinition().entDef.gridDescriptorField,g=s.get(m);this.ariaLabel=g?"".concat(a.translateKey("select")," ").concat(h," ").concat(g):a.translateKey("select")}else this.ariaLabel=p;return r.prototype.initialize.apply(this,t)},events:{'click input[type="checkbox"]':"onCheckboxClick"},locals:function(){return{isRowDisabled:this.isRowDisabled,isCheckboxDisabled:this.isCheckboxDisabled,ariaLabel:this.ariaLabel,multiSelectOnlyInEditMode:this.multiSelectOnlyInEditMode}},onRendered:function(){this.isDisabled&&this.$el.disable(),this.$el.prop({class:"batch-control-td no-print"})},onCheckboxClick:function(e){e.stopImmediatePropagation(),this.updateState(e.currentTarget.checked),n.isFunction(this.updateSelection)&&this.updateSelection(this.model,this.state)},updateState:function(e){this.state=!0===e,this.$('input[type="checkbox"]').prop("checked",this.state)}})},30052:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(879432),i(83851),i(423500),i(681278),i(478350),i(730237),i(426099),i(428706),i(202008),i(250113),i(944114),i(548980),i(154554);var s=i(274692),l=i(96190),d=i(40785),c=i(93216),u=i(637527);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filterDenormalized";return l.chain(e).flatMap(t).uniqBy((function(e){return"".concat(e.fieldName,"-").concat(e.fieldType)})).value()}e.exports=u.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/grid_filter"),_defaultMode:!1,filterColumnsForDisabledFields:function(e){var t=this;e&&e.columns&&this.entDefs&&(e.columns=l.filter(e.columns,(function(e){var i=!0;return l.each(t.entDefs,(function(t){var n=t.fields()[e.field];if(n)return!(i=d.hasEnabledFeature(n))&&void 0})),i})))},getDefaultConfig:function(){return l.cloneDeep(l.find($appData.gridsDefaultFilters,{gridName:this._configName}))},getConfig:function(){var e,t,i=(e=l.cloneDeep(l.filter($appData.gridsFilters,{gridName:this._configName,selected:!0})),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return l.isEmpty(i)?r(r({},this.getDefaultConfig()),{},{id:null,userId:$appData.user.id}):i},initialize:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=i[1],r=a.configName,o=a.defaultConfig,s=void 0!==o&&o,l=a.sortColumn,d=a.sortOrder,c=a.entDefs;this.entDefs=c,this._configName=r,this.isDefault=s;var p=this.isDefault?this.getDefaultConfig(a):this.getConfig(a);this._hasConfig=!!p.gridName,l&&(p.sortColumn=l),d&&(p.sortOrder=d),this.filterColumnsForDisabledFields(p),this.set(p),(e=u.prototype.initialize).apply.apply(e,[this].concat(i))},sync:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a,r=i[0],o=i[2],s=void 0===o?{}:o,d=s.success;return s.success=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o=i[0],s="gridsFilters";("0"===o.userId||c.hasRole("external_user"))&&(s="gridsDefaultFilters");var u=$appData[s];switch(r){case"create":u.push(o);break;case"update":a=l.findIndex(u,{id:o.id}),u.splice(a,1,o);break;case"delete":a=l.findIndex(u,{id:o.id}),u.splice(a,1)}l.isFunction(d)&&d.apply(e,i)},u.prototype.sync.apply(this,i)},save:function(e,t){var i,n=this,a=t.success,o=t.error,s=void 0===o?l.noop:o;if(this.isDefaultMode()||!this.hasConfig())return a&&a();for(var d=arguments.length,c=new Array(d>2?d-2:0),p=2;p<d;p++)c[p-2]=arguments[p];return(i=u.prototype.save).call.apply(i,[this,e,r(r({},t),{},{wait:!0,error:function(t,i,r){var o;return"missing_parent_grid_filter"===(null==i||null===(o=i.responseJSON)||void 0===o?void 0:o.message)?(n._hasConfig=!1,n.trigger("missing-config"),i.weAlreadyPreviouslyHandledThis=!0,n.set(e),a&&a()):s(t,i,r)}})].concat(c))},saveDefaults:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return(e=u.prototype.save).call.apply(e,[this,r(r({},t),{},{userId:"0"}),r(r({},i),{},{wait:!0})].concat(a))},resetToDefaults:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.noop;s.post("".concat($appData.globalConfig.apiRoot,"/grid_filter/reset/").concat(this._configName),(function(i){return l.remove($appData.gridsFilters,{gridName:e._configName}),l.remove($appData.gridsDefaultFilters,{gridName:e._configName}),$appData.gridsDefaultFilters.push(i),e.filterColumnsForDisabledFields(i),e.clear({silent:!0}).set(r(r({},i),{},{id:null,userId:$appData.user.id}),{silent:!0}),e._defaultMode&&(e._defaultMode=!1),t()})).fail((function(e){return e.weAlreadyPreviouslyHandledThis=!0,t()}))},enableDefaultMode:function(){this.set(this.getDefaultConfig(this._configName)),this._defaultMode=!0},disableDefaultMode:function(){this.set(this.getConfig(this._configName),{silent:!0}),this._defaultMode=!1},hasConfig:function(){return this._hasConfig},isDefaultMode:function(){return this._defaultMode},rules:{hasDataFiltersChanged:function(){var e;if(!this.isDefaultMode())return!1;var t=this.getDefaultConfig().dataFilters||[],i=this.get("dataFilters")||[],n=l.orderBy(p(t),"createdDate"),a=null!==(e=i[0])&&void 0!==e&&e.filterData?"filterData":"filterDenormalized",r=l.orderBy(p(i,a),"createdDate");if(n.length!==r.length)return!0;var o=!1;return l.each(r,(function(e){var t=l.find(n,{fieldName:e.fieldName,fieldType:e.fieldType});if(!t)return o=!0,!1;var i=l.sortBy(e.fieldValues),a=l.sortBy(t.fieldValues);if(!l.isEqual(i,a))return o=!0,!1;var r=l.sortBy(e.selectedFilterOptions),s=l.sortBy(t.selectedFilterOptions);return l.isEqual(r,s)?void 0:(o=!0,!1)})),o},hasStaticFiltersChanged:function(){if(!this.isDefaultMode())return!1;var e=this.getDefaultConfig().staticFilters||[],t=this.get("staticFilters")||[],i=!1;return t.every((function(t){var n=l.find(e,{filterName:t.filterName});if(!n&&l.isEmpty(t.selectedFilterOptions))return!0;if(!n)return i=!0,!1;var a=n.selectedFilterOptions,r=t.selectedFilterOptions;return!!l.isEqual(l.sortBy(a),l.sortBy(r))||(i=!0,!1)})),i},hasColumnsChanged:function(){if(!this.isDefaultMode())return!1;var e=this.getDefaultConfig().columns,t=this.get("columns")||[],i=l.intersectionBy(t,e,"field"),n=i.length!==t.length||i.length!==e.length;return!!n||(l.each(t,(function(t,i){return!n&&(n=t.field!==e[i].field,null)})),n)},hasSortChanged:function(){if(!this.isDefaultMode())return!1;var e=this.get("sortOrder"),t=this.get("sortColumn"),i=this.getDefaultConfig(),n=i.sortOrder,a=i.sortColumn;return e!==n||t!==a}}})},879176:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(428706),i(202008),i(426099),i(250113),i(944114),i(962062),i(278976);var l=i(274692),d=i(122268),c=i(96190),u=i(40785),p=i(93216),f=i(358729),h=i(76440),m=i(275356),g=i(18063),y=i(521239),v=i(532619),b=i(823879),w=i(30052),A=i(549753),C=i(56263),k=i(325425),x=i(24485),_=i(450048);function E(e){if(e&&c.isFunction(e.getQuery)){var t=e.getQuery();return c.isEmpty(t)?null:t}return null}e.exports=k.extend({className:"data-container",template:i(169462),ButtonsBar:b,ButtonMenu:v,plugins:[y],pluginsOptions:[],title:null,_selectedPlugin:0,onInit:function(e){var t=e.addFilterTooltipContainer,i=e.advancedMenuButtons,n=void 0===i?[]:i,a=e.alwaysIncludeSelectedFields,r=void 0===a?[]:a,o=e.alwaysOnFilters,s=e.applyEntityDefaultFilters,l=void 0!==s&&s,u=e.buttons,p=void 0===u?[]:u,f=e.condensedLayout,h=void 0!==f&&f,m=e.configName,g=e.customViewAcl,y=e.defaultConfig,v=e.disableColumnSort,b=void 0!==v&&v,A=e.disablePersistence,C=void 0!==A&&A,k=e.disableSelectedFields,x=void 0!==k&&k,_=e.displayRule,E=e.enableButtonsBar,I=void 0===E||E,S=e.enableDataFilters,D=void 0===S||S,F=e.enableDefaultConfiguration,O=void 0===F||F,B=e.enableEntityFilters,T=void 0!==B&&B,N=e.enableEntityFiltersMultiSelect,P=void 0===N||N,R=e.enableResetDefault,j=void 0===R||R,M=e.enableSearchFilter,Q=void 0===M||M,V=e.entityFilterPillView,L=void 0===V||V,U=e.entityFilterLabel,q=e.exportObjectType,z=void 0===q?null:q,K=e.fetchOnRender,H=void 0===K||K,W=e.filterOptions,G=e.filterSortOptions,J=void 0===G?{}:G,X=e.genericAddButton,Y=e.helpText,Z=e.isAdvancedSearch,$=void 0!==Z&&Z,ee=e.lightLayout,te=void 0!==ee&&ee,ie=e.model,ne=e.onCollectionUpdate,ae=e.onPluginRendered,re=e.plugins,oe=e.pluginsOptions,se=e.preselectedEntityType,le=e.onSelectedEntityTypeChangeFn,de=e.selectOptionsMenuFilter,ce=e.showTitleSeparator,ue=void 0===ce||ce,pe=e.sortColumn,fe=e.sortOrder,he=e.staticFilters,me=void 0===he?[]:he,ge=e.title,ye=e.urlRoot,ve=e.useButtonsBarAdvancedMenu,be=void 0!==ve&&ve,we=e.viewAllRecords,Ae=void 0!==we&&we;if(!this.collection)throw new Error("collection required");if(this.filterOptions=c.defaults(W,{filterSelectedColumns:!1}),this.advancedMenuButtons=n,this.alwaysIncludeSelectedFields=r,c.isEmpty(o)||this.setAlwaysOnFilters(o),this.applyEntityDefaultFilters=l,this.buttons=p,this.condensedLayout=h,this.configName=m,c.isEmpty(this.configName)||(this.dataContainerModelOptions={configName:m,defaultConfig:y,sortColumn:pe,sortOrder:fe},this.dataContainerModelOptions.entDefs=this.collection.getEntDefs(),this.model=new w(null,this.dataContainerModelOptions)),this.customViewAcl=g,this.disableColumnSort=b,this.disablePersistence=this.shouldDisablePersistence()||C,this.disableSelectedFields=x,this.enableButtonsBar=I,this.enableDataFilters=D,this.enableDefaultConfiguration=O,this.enableEntityFilters=T,this.enableResetDefault=j,this.enableSearchFilter=Q,this.exportObjectType=z,this.entityFilterPillView=this.enableEntityFilters&&L,this.enableEntityFiltersMultiSelect=this.entityFilterPillView||P,this.entityFilterLabel=U,this.fetchOnRender=H,this.filterSortOptions=J,this.isAdvancedSearch=$,ie&&(this.associatedModel=ie),this.lightLayout=te,this.preselectedEntityType=se,this.onSelectedEntityTypeChangeFn=le,this.parentOnCollectionUpdate=ne,this.onPluginRendered=ae,this.genericAddButton=X,this.title=ge,this.showTitleSeparator=this.title&&ue&&!this.lightLayout,this.helpText=Y,this.staticFilters=me,this.urlRoot=ye,this.viewAllRecords=Ae,this.selectOptionsMenuFilter=de,this.useButtonsBarAdvancedMenu=be,this.addFilterTooltipContainer=t,c.isFunction(this.collection.getFilter)&&(this._defaultFilters=this.collection.getFilter()),c.isEmpty(re)&&c.isEmpty(this.plugins))throw new Error("At least 1 plugin required");c.isEmpty(re)||(this.plugins=c.isArray(re)?re:[re]),c.isEmpty(oe)||(this.pluginsOptions=c.isArray(oe)?oe:[oe]),_&&this.$el.attr("data-display-rule",_),this.fetchCollectionCargo=d.cargo(this._fetchCollection.bind(this)),this.onCollectionUpdateCargo=d.cargo(this._onCollectionUpdate.bind(this))},shouldDisablePersistence:function(){var e;return!(null!==(e=this.model)&&void 0!==e&&e.hasConfig()&&!$appData.isPortal&&!$appData.isExternal&&p.hasRole("edit_own_grid_filter"))},locals:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=(e=k.prototype.locals).call.apply(e,[this].concat(i)),r=this.lightLayout&&{missingTranslationValue:this.helpText};return s(s({},a),{},{title:this.title,urlRoot:this.urlRoot||"/home",helpText:this.helpText?u.translateKey(this.helpText,r):null,condensedLayout:this.condensedLayout,lightLayout:this.lightLayout,condensedOrLightLayout:this.condensedLayout||this.lightLayout,showViewAllRecords:this.condensedLayout&&this.viewAllRecords,showTitleSeparator:this.showTitleSeparator,useButtonsBarAdvancedMenu:this.useButtonsBarAdvancedMenu})},onMissingConfig:function(){this.disablePersistence=!0},onBindEvents:function(){this.collection.on("reset",this.onCollectionUpdate,this),this.model&&this.model.on("missing-config",this.onMissingConfig,this),l(window).on("resize.dataContainer",c.debounce(this.onWindowResize,150).bind(this))},onUnbindEvents:function(){this.collection.off(null,null,this),l(window).off("resize.dataContainer"),this.gridDataFilterCollection&&this.gridDataFilterCollection.off("add-filters remove-filters filter-options-change"),this.model&&this.model.off("missing-config",this.onMissingConfig,this)},onRendered:function(){var e=this,t=l.Deferred();return this.$topBar=this.$(".top-bar"),this.$topBarSecondary=this.$(".top-bar-secondary"),!0===this.condensedLayout&&this.$el.addClass("condensed"),!0===this.lightLayout&&this.$el.addClass("light"),this.loader=new _({overlay:!0}),this.addSubView(this.loader).render(this.$(".loader-container")).done((function(){e._rerenderComponents({pluginId:e._selectedPlugin,fetch:e.fetchOnRender,completePluginRender:!0},(function(){return t.resolve()}))})),t.promise()},onWindowResize:function(){this.updateDataFiltersScrollClass()},setAlwaysOnFilters:function(e){this._alwaysOnFilters=e},setDefaultFilters:function(e){this._defaultFilters=e},setOuterFilters:function(e){this._outerFilters=e},setCollectionSearchText:function(e){this.collection.setSearchText(e)},setCollectionSearchTextOperator:function(e){this.collection.setSearchTextOperator(e)},filterFilters:function(e){if(!0!==this.filterOptions.filterSelectedColumns)return e;var t=this._getSelectedColumns();return e.filter((function(e){return!!t.find((function(t){return t.field===e.fieldName}))}))},sortFilters:function(e,t){var i=t.sortOrder,n=t.sortProperty;return c.orderBy(e,(function(e){return(e.translatedCaption?e.translatedCaption:e[n]).toLowerCase()}),i)},_renderDataFilters:function(e){var t=this,i=this;return this.enableDataFilters&&this.model?(this.dataFiltersView&&this.removeSubView(this.dataFiltersView),this.gridDataFilterCollection=new A(null,{dataContainerModel:this.model,entDefs:this.collection.getEntDefs()}),this.staticFilterCollection=new C(this.model.get("staticFilters"),{dataContainerModel:this.model,entDefs:this.collection.getEntDefs(),staticFilterOptions:this.staticFilters}),this.gridDataFilterCollection.on("remove-filters filter-options-change",(function(){return t.onQueryChange()})),this.staticFilterCollection.on("remove-filters filter-options-change",(function(){return t.onQueryChange()})),this.gridDataFilterCollection.on("add-filters remove-filters filter-options-change",(function(){(i.disablePersistence||this.isDefaultMode())&&(this.dataContainerModel.set({dataFilters:this.getDataFilters()}),this.dataContainerModel.trigger("change"))})),this.staticFilterCollection.on("add-filters remove-filters static-filter-option-change",(function(){(i.disablePersistence||this.isDefaultMode())&&(this.dataContainerModel.set({staticFilters:this.getStaticFilters()}),this.dataContainerModel.trigger("change"))})),this.dataFiltersView=new h({disablePersistence:this.disablePersistence,collection:this.gridDataFilterCollection,filterFilters:this.filterFilters.bind(this),$addFilterMenuContainer:this.$(".add-data-filter-menu-container"),addFilterTooltipContainer:this.addFilterTooltipContainer,$filterOptionsMenuContainer:this.$(".filter-menu-options-container"),selectOptionsMenuFilter:this.selectOptionsMenuFilter,staticFiltersOptions:{grid:this,dataContainerModel:this.model,onQueryChange:function(e){return t.onQueryChange({},e)},collection:this.staticFilterCollection},onDynamicFiltersRendered:function(){t.rendering||(t.updateDataFiltersSpacing(),t.updateDataFiltersScrollClass())}}),this.addSubView(this.dataFiltersView).render(this.$(".data-filters-container")).done((function(){t.$topBar.addClass("data-filters"),e()}))):e()},_renderSearchFilter:function(e){var t=this;if(!this.enableSearchFilter)return e();this.searchFilterView&&this.removeSubView(this.searchFilterView);var i=this.addSubView(new f({collection:this.collection,enableIcon:this.enableIcon,onQueryChange:function(e){return t.onQueryChange({},e)}}));return i.render().done((function(){return t.$(".search-filter-container").append(i.$el),t.searchFilterView=i,t.$topBar.addClass("search-filter"),e()}))},_renderEntityFilters:function(e){var t=this;if(!this.enableEntityFilters)return e();var i=this.addSubView(new m({sortFilters:this.sortFilters,filterSortOptions:this.filterSortOptions,dataContainerModel:this.model,associatedModel:this.associatedModel,collection:this.collection,entityFilterPillView:this.entityFilterPillView,enableEntityFiltersMultiSelect:this.enableEntityFiltersMultiSelect,preselectedEntityType:this.preselectedEntityType,label:this.entityFilterLabel,onQueryChange:function(e){return t.onQueryChange({},e)},$filterOptionsMenuContainer:this.$(".filter-menu-options-container"),renderButtonsBarFn:this.enableButtonsBar?function(e){return t.renderButtonsBar(e)}:null,renderGridTitleFn:function(e){return t.renderGridTitle(e)},onSelectedEntityTypeChangeFn:this.onSelectedEntityTypeChangeFn,genericAddButton:this.genericAddButton}));return i.render().done((function(){var n;return n=t.entityFilterPillView?".top-bar-secondary .entity-filters-container":t.enableDataFilters?".top-bar .data-filters-container .data-filters":".top-bar .entity-filters-container",t.$(n).prepend(i.$el),t.entityFilterView&&t.removeSubView(t.entityFilterView),t.entityFilterView=i,t.entityFilterPillView?t.$topBarSecondary.addClass("entity-filter-pills"):t.$topBar.addClass("entity-filter-dropdown"),e()}))},_renderPlugin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>2?arguments[2]:void 0,n=(arguments.length>1?arguments[1]:void 0).completePluginRender,a=void 0===n||n;if(this.plugins[t]&&a){var r=c.get(this,"pluginsOptions[".concat(t,"]"),{});return this._selectedPluginId=t,this._selectedPlugin=this.addSubView(new this.plugins[t](s(s({},r),{},{collection:this.collection,fetchCollectionFn:this.fetchCollection.bind(this),onQueryChangeFn:this.onQueryChange.bind(this),dataContainerModel:this.model,associatedModel:this.associatedModel,condensedLayout:this.condensedLayout,disableColumnSort:this.disableColumnSort,disablePersistence:this.disablePersistence,alwaysOnFilters:this._alwaysOnFilters,selectOptionsMenuFilter:this.selectOptionsMenuFilter,exportObjectType:this.exportObjectType,exportCaption:this.exportCaption}))),this._selectedPlugin.render(this.$(".plugin-container")).done((function(){c.isFunction(e.onPluginRendered)&&e.onPluginRendered(),i()}))}return this.plugins[t]&&!a?this.getSelectedPlugin().refresh().done(i):i()},_renderAdditionalComponents:function(e,t){var i=this;if(c.isEmpty(e))return t();d.eachSeries(e,(function(e,t){return e.call(i,t)}),t)},_rerenderComponents:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,n=e.fetch,a=void 0===n||n,r=e.pluginId,o=void 0===r?0:r,s=e.completePluginRender,l=void 0!==s&&s,u=e.additionalComponents,p=e.exportCaption,f=void 0===p?null:p;this.rendering=!0,this.exportCaption=f,this.loader.show(),this.getSelectedPlugin()&&l&&this.removeSubView(this.getSelectedPlugin()),this.$(".top-bar, .top-bar-secondary").css("visibility","hidden"),d.waterfall([function(e){return t._renderPlugin(o,{completePluginRender:l},e)},function(e){return t._renderDataFilters(e)},function(e){return t._renderSearchFilter(e)},function(e){return t.renderButtonsBar(e)},function(e){return t._renderEntityFilters(e)},function(e){return t.renderAdvancedMenu(e)},function(e){return t._renderAdditionalComponents(u,e)}],(function(e){if(e)throw new Error(e);return t.$(".top-bar, .top-bar-secondary").css("visibility",""),t.updateDataFiltersSpacing(),t.updateDataFiltersScrollClass(),t.rendering=!1,t.loader.hide(),a?t.onQueryChange({},(function(){t.onCollectionUpdate({},{},i)})):(t.onCollectionUpdate(),i())}))},onResetToDefaultsClicked:function(){var e=this;this.model.resetToDefaults((function(){e.collection.setSearchText(),e._rerenderComponents({pluginId:e.getSelectedPluginId()})}))},removeConfigDefaultsMode:function(){return this.loader&&this.loader.show(),this.conFigureDefaultsBtns&&(this.removeSubView(this.conFigureDefaultsBtns),this.conFigureDefaultsBtns=null),this.model.disableDefaultMode(),this.$el.removeClass("config-mode"),this._rerenderComponents({pluginId:this.getSelectedPluginId()})},saveDefaultConfig:function(){var e=this,t=this;this.loader.show(),this.model.saveDefaults({},{success:this.removeConfigDefaultsMode.bind(this),error:function(i,n){var a;"missing_parent_grid_filter"===(null==n||null===(a=n.responseJSON)||void 0===a?void 0:a.message)&&(e.onMissingConfig(),n.weAlreadyPreviouslyHandledThis=!0,t.removeConfigDefaultsMode())}})},onConfigureDefaultsClick:function(){var e=this;if(this.conFigureDefaultsBtns)return null;this.model.enableDefaultMode();var t=[{caption:u.translateKey("editing_default_mode"),icon:"fa fa-times",iconBefore:!0,customClass:"configure-mode-label",onClicked:function(){return e.removeConfigDefaultsMode()}},{caption:u.translateKey("save_default"),customClass:"save-default-btn",associatedModel:this.model,onClicked:function(){return e.saveDefaultConfig()},dataDisableRule:"!hasDataFiltersChanged && !hasColumnsChanged && !hasSortChanged && !hasStaticFiltersChanged"}];return this._rerenderComponents({pluginId:this.getSelectedPluginId()},(function(){e.$el.addClass("config-mode"),e.conFigureDefaultsBtns=e.addSubView(new b({buttons:t,associatedModel:e.associatedModel,spaceBetweenButtons:!1})),e.conFigureDefaultsBtns.render(e.$(".configure-defaults-control"))}))},onExportGridClicked:function(){var e=this,t=this.getSelectedPlugin(),i=t.options,n=i.exportFieldFilter,a=i.customColumnOptions,r=void 0===a?[]:a,o=new x({selectedItems:c.isFunction(t.getSelectedModels)?t.getSelectedModels():[],grid:t,customColumnOptions:r,fieldFilter:n,exportData:function(t,i){c.assign(t,{alternateCaption:c.result(e,"exportCaption"),overrideObjectType:e.exportObjectType}),e.getSelectedPlugin().gridHelper.exportData(t,(function(e,t){i(e,t)}))}});this.addSubView(o).renderAsModal()},getStandardAdvancedMenuButtons:function(){var e,t,i=this,n=[];!0===this.enableDefaultConfiguration&&null!==(e=this.model)&&void 0!==e&&e.hasConfig()&&n.push({caption:u.translateKey({key:"configure_defaults"}),onClicked:function(e){return i.onConfigureDefaultsClick()},aclRole:"edit_default_grid_filter"}),this.enableResetDefault&&null!==(t=this.model)&&void 0!==t&&t.hasConfig()&&n.push({caption:u.translateKey({key:"reset_default"}),onClicked:function(){return i.onResetToDefaultsClicked()}});var a=this.getSelectedPlugin().options||{},r=p.hasRole("export_grid");return a.enableBatchExport&&r&&n.push({caption:u.escapedTranslateKey({key:"export"}),onClicked:function(){return i.onExportGridClicked()},btnId:"export-menu-option",showTopDivider:!0}),n},renderAdvancedMenu:function(e){var t=this;if(!1===c.get(this.getSelectedPlugin(),"options.enableDynamicColumns"))return e();var i=c.chain(this.plugins).filter((function(e){return!(t.getSelectedPlugin()instanceof e)})).map((function(e){return s(s({},e.prototype.toggleButton),{},{onClicked:t.togglePlugin.bind(t),pluginIndex:c.indexOf(t.plugins,e)})})).concat(this.advancedMenuButtons).concat(this.getStandardAdvancedMenuButtons()).orderBy((function(e){return e.sequence||0})).value();if(0===i.length)return e();var n=this.addSubView(new v({menuItems:i,associatedModel:this.associatedModel,icon:"fa fa-ellipsis-v"})),a=this.useButtonsBarAdvancedMenu?".buttons-bar-advanced-menu-container":".advanced-menu-container";return n.render().done((function(){t.$(a).append(n.$el),t.advancedMenuView&&t.removeSubView(t.advancedMenuView),t.advancedMenuView=n,t.useButtonsBarAdvancedMenu||t.$topBar.addClass("advanced-menu"),e()}))},renderButtonsBar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop;if(c.isFunction(e)&&(t=e,e=[]),!this.enableButtonsBar)return t();var i=this.condensedLayout||this.lightLayout?this.$topBar:this.$topBarSecondary;if(this.buttonsBarView&&(this.removeSubView(this.buttonsBarView),i.removeClass("buttons-bar"),this.buttonsBarView=null),0===this.buttons.length&&0===e.length)return t();this.buttonsBarView=new b({buttons:c.map([].concat(a(this.buttons),a(e)),(function(e){return s({btnClasses:"btn ".concat(e.colorClass||"btn-primary"," btn-md")},e)})),associatedModel:this.associatedModel}),this.buttonsBarView=this.addSubView(this.buttonsBarView);var n=i.find(".buttons-bar-container");return this.buttonsBarView.render(n).done((function(e){return i.addClass("buttons-bar"),t(e)}))},renderGridTitle:function(e){e&&this.$(".grid-title")&&this.$(".grid-title > h1").text(e)},getSelectedPluginId:function(){return this._selectedPluginId},getSelectedPlugin:function(){return this._selectedPlugin},togglePlugin:function(e){var t=this,i=e.pluginIndex,n=l.Deferred();return this.getSelectedPlugin()&&this.removeSubView(this.getSelectedPlugin()),d.series([function(e){return t._renderPlugin(i,{},e)},function(e){return t.renderAdvancedMenu(e)}],(function(){t.fetchCollection(),n.resolve()})),n.promise()},onQueryChange:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop;this.collection.resetSkipCount(),this.fetchCollection(e)},fetchCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.noop;if(this.rendering)return e();this.fetchCollectionCargo.push({},e)},_getSelectedColumns:function(){return this.getSelectedPlugin().getSelectedColumns()},_getSelectedFields:function(){if(this.disableSelectedFields)return[];var e,t=this.alwaysIncludeSelectedFields,i=this.getSelectedPlugin();return c.isFunction(i.getSelectedFields)&&(e=i.getSelectedFields()),e&&e.length>0&&(t=t.concat(e)),t},_handleInvalidTypeError:function(e,t){var i=t.responseJSON;i&&400===i.httpstatus&&"invalid_type"===i.message&&(t.weAlreadyPreviouslyHandledThis=!0,this.collection.setTotal(0),this.collection.reset(),this.loader&&this.loader.hide())},_fetchCollection:function(e,t){if(this.customViewAcl&&!p.hasRole(this.customViewAcl))return t();var i=this.getCollectionQuery();this.collection.setFilter(i),this.collection.setSort(this.getCollectionSort()),this.applyEntityDefaultFilters&&this.collection.setApplyEntityDefaultFilters(!0);var n=c.once(t),a=this._getSelectedFields();a.length>0&&this.collection.setEntitySelectedFields(a),this.loader&&this.loader.show();var r=this;this.collection.fetch({reset:!0,success:function(){return n()},error:function(e,t){r._handleInvalidTypeError.bind(r)(e,t),n()}})},getCollectionSort:function(){return this.disableColumnSort?this.collection.getSort():this.getSelectedPlugin()&&c.isFunction(this.getSelectedPlugin().getSort)?this.getSelectedPlugin().getSort():{}},getCollectionQuery:function(){var e=[this._defaultFilters,this._alwaysOnFilters,this._outerFilters,E(this.entityFilterView),E(this.dataFiltersView),E(this.staticFiltersView),E(this.getSelectedPlugin())];return this.isAdvancedSearch?g.must(e):(e=c.chain(e).flattenDeep().filter((function(e){return!c.isEmpty(e)})).compact().value(),this.collection.getEntDefs()[0].query().and(e).toQuery())},getCollectionSearchText:function(){return this.collection.getSearchText()},onCollectionUpdate:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.noop;this.rendering||this.onCollectionUpdateCargo.push({},i)},_onCollectionUpdate:function(e,t){var i=this;d.series([function(e){var t=i.getSelectedPlugin();return c.isFunction(t.onCollectionUpdate)?t.onCollectionUpdate(e):e()},function(e){return c.isFunction(i.parentOnCollectionUpdate)?i.parentOnCollectionUpdate(e):e()}],(function(){return i.loader.hide(),t()}))},clear:function(){this.collection.setSkipCount(0),this.collection.setTotal(0),this.collection.reset()},updateDataFiltersSpacing:function(){var e=this.$(".data-filters-container .data-filters");e.find("> div").css("padding-right","");var t=this.$(".other-filters-container").outerWidth()+10;e.find("> div:last-of-type").css("padding-right",t)},updateDataFiltersScrollClass:function(){var e="data-filters-scroll",t=this.$(".data-filters-container .data-filters");if(!c.isEmpty(t)){var i=t[0].scrollWidth;u.isMobileDevice()&&!this.$topBar.hasClass(e)&&(i+=this.$(".other-filters-container").width()),i>this.$el[0].clientWidth?this.$topBar.addClass(e):this.$topBar.removeClass(e)}}})},881889:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(523418),i(327495),i(690906),i(16280),i(962062),i(426099),i(423500),i(250113),i(962010),i(944114);var r=i(96190),o=i(16871).v4,s=i(325425),l=i(174989),d=i(896727),c=i(40785);e.exports=s.extend({template:i(714929),className:"add-filter-tmpl",events:{"click .add-filter-btn":"onAddFilterClick"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.$addFilterMenuContainer,i=e.filterFilters,n=e.allFilterOptions,a=e.selectOptionsMenuFilter,s=e.staticFilterCollection,l=e.staticFilters,d=e.addFilterTooltipContainer;if(!this.collection)throw new Error("GridDataFilterCollection required");if(!n)throw new Error("allFilterOptions required");this.$addFilterMenuContainer=t,this.filterFilters=i,this.allFilterOptions=n,this.selectOptionsMenuFilter=a,this.staticFilterCollection=s,this.staticFilters=l,this.filterBtnId=o(),this.tooltipContainer=null!=d?d:".data-filters-container:has(#".concat(this.filterBtnId,")"),this.onMenuRemove=e.onMenuRemove||r.noop},locals:function(){return{container:this.tooltipContainer,filterBtnId:this.filterBtnId}},onRendered:function(){this.$addFilterBtn=this.$("#".concat(this.filterBtnId)),this.menuOpenClass="menu-open"},onAddFilterClick:function(){var e=this;if(!this.addFilterMenuShowing){var t=this;this.addFilterMenuShowing=!0,this.$addFilterBtn.addClass(this.menuOpenClass);var i=new l({selectedOptions:this.getSelectedFilterOptions(),allOptions:this.allFilterOptions,optionsFilter:this.selectOptionsMenuFilter,allowNoOptionsSelected:!0,valueProperty:"dataFilterUniqueId",position:"left",showSelectAllBtn:!0,showClearAllBtn:!0,onDoneClick:function(t){e.validateSelectedFilters(t)&&e.updateCollections(t)},onRemove:function(e){t.addFilterMenuShowing=!1,t.$addFilterBtn.removeClass(t.menuOpenClass),t.onMenuRemove.call(null,e,{menuParentView:t,menuView:this})}}),n=this.$addFilterMenuContainer||this.$(".add-data-filter-menu-container");return this.addSubView(i).render(n).done()}},getSelectedFilterOptions:function(){var e=this,t=r.map(this.collection.models,(function(e){return e.get("dataFilterUniqueId")}));return this.staticFilterCollection.models.forEach((function(i){var n=i.get("filterName"),a=e.staticFilters.find((function(e){return e.name===n}));a&&a.optional&&t.push("static:".concat(n))})),t},validateSelectedFilters:function(e){var t=$appData.globalConfig.gridMaxFilters,i=!0;return e.length>t&&(d.error(c.translateKey({groupName:"errors",subgroupName:"general",key:"grid_max_filters_exceeded"},{context:{max:t}})),i=!1),i},updateCollection:function(e,t){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=!1,l=e.model,d=l.prototype.idAttribute,c=[];r.forEach(e.models,(function(e){var o,l,u,p;(!a||null!==(o=i.staticFilters.find((function(t){return t.name===e.get("filterName")})))&&void 0!==o&&o.optional)&&(r.find(t,(l={},u=d,p=e.get(d),(u=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(u))in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l))||(c.push(e),s||(s=!0)))})),r.forEach(c,(function(t){e.remove(t,{silent:!0})})),r.forEach(t,(function(t){if(!e.models.some((function(e){return e.get(d)===t[d]}))){var i=e.getDefaultModelAttrs(t),n=new l(i,{collection:e});e.add(n,{silent:!0}),o||(o=!0)}})),o&&e.trigger("add-filters"),s&&e.trigger("remove-filters")},updateCollections:function(e){var t,i,n=this,o=r.map(e,(function(e){return r.find(n.allFilterOptions,{dataFilterUniqueId:e})})),s=(t=r.partition(o,"optionalStaticFilter"),i=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],d=s[1];this.updateCollection(this.collection,d),this.updateCollection(this.staticFilterCollection,l,!0)}})},76440:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(202008),i(83851),i(681278),i(802259),i(16280),i(426099),i(423500),i(962010),i(944114),i(250113),i(874423),i(21699),i(428706),i(962062),i(123792),i(703362),i(747764),i(962953),i(311927);var o=i(96190),s=i(274692),l=i(122268),d=i(325425),c=i(881889),u=i(627153),p=i(748191),f=i(98731),h=i(93216),m=i(185999),g=i(40785),y=i(74667).getStaticFilterName,v=i(98731);e.exports=d.extend({template:i(687142),className:"data-filters-tmpl",onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.$addFilterMenuContainer,i=e.$filterOptionsMenuContainer,n=e.disablePersistence,a=void 0!==n&&n,r=e.onDynamicFiltersRendered,s=void 0===r?o.noop:r,l=e.staticFiltersOptions,d=e.filterFilters,c=e.selectOptionsMenuFilter,u=e.addFilterTooltipContainer;if(!this.collection)throw new Error("GridDataFilterCollection required");this.$addFilterMenuContainer=t,this.addFilterTooltipContainer=u,this.$filterOptionsMenuContainer=i,this.disablePersistence=a,this.onDynamicFiltersRendered=s,this.staticFiltersOptions=l,this.filterFilters=d,this.filterComponents=[],this.excludeFiltersByFieldId=[],this.staticFilterViews=[],this.allFilterOptions=this.getAllFilterOptions(),this.staticFilterCollection=this.staticFiltersOptions.collection,this.prepareStaticFilters(),this.selectOptionsMenuFilter=c},prepareStaticFilters:function(){var e=this,t=this.staticFiltersOptions.grid.staticFilters;this.addSecondaryCaptionToStaticFilters(t),null==t||t.forEach((function(t){if(t.optional){var i="static:".concat(t.name);t.dataFilterUniqueId=i,e.allFilterOptions.push({caption:y(t),filterName:t.name,dataFilterUniqueId:i,optionalStaticFilter:!0})}}))},renderStaticFilter:function(e,t){var i=this,n=this.staticFiltersOptions,a=this.staticFilterCollection,s=o.find(a.models,(function(t){return t.get("filterName")===e.name})),l=r(r({},n),{},{disablePersistence:this.disablePersistence,filter:e,model:s,onMenuRemove:this.handleFilterMenuRemove}),d=new u(l);this.staticFilterViews.push(d),this.addSubView(d).render().done((function(){i.$(".data-filters").append(d.$el),t()}))},renderStaticFilters:function(e){var t=this,i=this.staticFiltersOptions.grid.staticFilters;l.eachSeries(i,(function(e,i){if(e.optional)return i();t.renderStaticFilter(e,i)}),e)},renderOptionalStaticFilter:function(e,t){var i=this.staticFiltersOptions.grid.staticFilters,n=e.get("filterName"),a=o.find(i,(function(e){return e.name===n}));if(!a)return t();this.renderStaticFilter(a,t)},onRendered:function(){var e=this,t=s.Deferred();return l.parallel([function(t){return e.fetchCollection(t)},function(t){return e.renderAddFilterBtn(t)},function(t){return e.renderStaticFilters(t)}],(function(){e.collection.updateDataContainerModel(),e.renderDynamicFilters((function(){return t.resolve()}))})),t.promise()},onMissingConfig:function(){this.disablePersistence=!0},onBindEvents:function(){var e,t;null===(e=this.collection.dataContainerModel)||void 0===e||e.on("change:dataFilters",this.onDataContainerModelDataFiltersChange,this),null===(t=this.collection.dataContainerModel)||void 0===t||t.on("missing-config",this.onMissingConfig,this),this.collection.on("add-filters remove-filters",this.onAddRemoveFilters,this),this.staticFilterCollection.on("add-filters remove-filters",this.onAddRemoveOptionalStaticFilters,this)},onUnbindEvents:function(){var e,t;null===(e=this.collection.dataContainerModel)||void 0===e||e.off("change:dataFilters",this.onDataContainerModelDataFiltersChange,this),null===(t=this.collection.dataContainerModel)||void 0===t||t.off("missing-config",this.onMissingConfig,this),this.collection.off("add-filters remove-filters",this.onAddRemoveFilters,this),this.staticFilterCollection.off("add-filters remove-filters",this.onAddRemoveOptionalStaticFilters,this)},addSecondaryCaptionToStaticFilters:function(e){var t=this;o.forEach(e,(function(e){var i=g.translateKey(e.name);o.find(t.allFilterOptions,(function(e){return e.caption===i}))&&(e.secondaryCaption=g.translateKey("all"))}))},renderAddFilterBtn:function(e){var t=new c({allFilterOptions:this.allFilterOptions,staticFilters:this.staticFiltersOptions.grid.staticFilters,collection:this.collection,staticFilterCollection:this.staticFilterCollection,$addFilterMenuContainer:this.$addFilterMenuContainer,filterFilters:this.filterFilters,selectOptionsMenuFilter:this.selectOptionsMenuFilter,onMenuRemove:this.handleFilterMenuRemove,addFilterTooltipContainer:this.addFilterTooltipContainer});this.addSubView(t).render(this.$(".add-filter-container")).done(e)},hasPermsForFilter:function(e){var t=this,i=e.fieldName,n=e.dataFilterUniqueId,a=!0;return this.collection.entDefs.forEach((function(e){var r=e.gridFilterExcludeFieldsByPerm[i];if(r){var o=e.fields()[i];o&&v.getDataFilterUniqueId(o)===n&&!h.hasRole(r)&&(t.excludeFiltersByFieldId.includes(o.id)||t.excludeFiltersByFieldId.push(o.id),a=!1)}})),a},getSelectedOptionalStaticFilterModels:function(){var e=this.staticFiltersOptions,t=e.collection.models,i=e.grid.staticFilters,n=[];return null!=t&&t.length&&t.forEach((function(e){var t=i.find((function(t){return t.name===e.get("filterName")}));null!=t&&t.optional&&n.push(e)})),n},renderDynamicFilters:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,i=this.getSelectedOptionalStaticFilterModels(),n=this.collection.models,a=i.concat(n),r=o.reject(this.filterComponents,(function(e){return o.find(n,(function(t){return t.isEquivalent(e.model)}))}));this.removeFilterComponents(this.filterComponents,r);var s=this.staticFiltersOptions.grid.staticFilters,d=o.reject(this.staticFilterViews,(function(e){return!s.find((function(t){return t.name===e.model.get("filterName")})).optional||i.some((function(t){return t.id===e.model.id}))}));this.removeFilterComponents(this.staticFilterViews,d);var c=o.orderBy(a,(function(e){return e.get("createdDate")}));l.each(c,(function(t,i){var n;if(t instanceof e.staticFilterCollection.model)return e.staticFilterViews.some((function(e){return e.model.id===t.id}))?i():e.renderOptionalStaticFilter(t,i);var a=o.find(e.filterComponents,(function(e){return t.isEquivalent(e.model)}));if(a)return i();e.addMissingFilterDataToModel(t);var r=t.attributes;if(!e.hasPermsForFilter(r))return i();var s=new(null===(n=p.get(r.fieldType).ui)||void 0===n||null===(n=n.gridConfiguration)||void 0===n?void 0:n.dataFilterComponent())({model:t,entDefs:e.collection.entDefs,$filterOptionsMenuContainer:e.$filterOptionsMenuContainer,onRemoveFilterBtnClick:function(){e.collection.remove(r.dataFilterUniqueId)},disablePersistence:e.disablePersistence,onMenuRemove:e.handleFilterMenuRemove});return e.filterComponents.push(s),e.addSubView(s).render(e.$(".data-filters"),i)}),(function(){e.onDynamicFiltersRendered(),t()}))},addMissingFilterDataToModel:function(e){var t=o.map(e.get("dataFilters")),i=[];o.forEach(t,(function(e){o.forEach(e.filterData,(function(e){return i.push(e.fieldId)}))}));var n=o.find(this.allFilterOptions,(function(e){return i.includes(e.fieldId)}));null!=n&&n.secondaryCaption&&e.set({secondaryCaption:n.secondaryCaption})},fetchCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop;Promise.all([this.collection.fetch(),this.staticFilterCollection.fetch()]).then((function(){return e()}))},shouldPersist:function(e){return!(e||this.collection).isDefaultMode()&&!this.disablePersistence},onAddRemoveFilters:function(){var e=this;this.saveFilters((function(){e.renderDynamicFilters()}))},onAddRemoveOptionalStaticFilters:function(){var e=this;this.saveStaticFilters((function(){e.renderDynamicFilters()}))},onDataContainerModelDataFiltersChange:function(){if(this.shouldPersist()){this.fetchCollection();var e=this.collection.models,t=o.reject(this.filterComponents,(function(t){return o.find(e,(function(e){return e.isEquivalent(t.model)}))}));this.removeFilterComponents(this.filterComponents,t)}},getQuery:function(){var e=this.collection.getUniqueFilterData(),t=this.getStaticFilterQueries(),i=f.getSearchFilters(e,this.excludeFiltersByFieldId);return m.must([t,i])},saveFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop;this.saveFilterCollection(this.collection,e)},saveStaticFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop;this.saveFilterCollection(this.staticFilterCollection,e)},saveFilterCollection:function(e,t){var i=!this.shouldPersist(e);e.save({disablePersistence:i},t)},removeFilterComponents:function(e,t){var i=this;o.isEmpty(t)||o.forEach(t,(function(t){i.removeSubView(t),o.remove(e,(function(e){return e.cid===t.cid}))}))},getStaticFilterView:function(e){return o.find(this.staticFilterViews,(function(t){return t._filter.name===e}))},getStaticFilterQueries:function(){var e=o.map(this.staticFilterViews,(function(e){return e.getQuery()}));return m.must(o.compact(e))},getAllFilterOptions:function(){var e=[],t=v.getGridFilterFieldTypes();return o.forEach(this.collection.entDefs,(function(i){o.forEach(i.fields(),(function(n){if(g.hasEnabledFeature(n)&&v.isFilterableField(i,t,n,h)){var a={dataFilterUniqueId:v.getDataFilterUniqueId(n),fieldName:n.field,fieldType:n.type,caption:g.translateKey({key:n.field,groupName:i.entityCanon,subgroupName:"fields"}),entityName:i.entityCanon,kind:n.kind};e.push(a)}}))})),o.isFunction(this.filterFilters)&&(e=this.filterFilters(e)),this.removeDuplicateOptions(e)},removeDuplicateOptions:function(e){var t=o.groupBy(e,"dataFilterUniqueId"),i=o.map(t,(function(e){if(1===e.length)return e[0];var t=o.chain(e).map("caption").uniq().join(" / ").value();return o.assign(e[0],{caption:t})})),n=o.countBy(i,"caption");return o.each(i,(function(e){if(n[e.caption]>1){var t=g.translateKey({groupName:e.entityName,subgroupName:"general",key:"name"});e.secondaryCaption=t}})),i},handleFilterMenuRemove:function(e,t){var i=e.event;g.isMouseEvent(i)||t.menuParentView.$el.find(":not(.remove-filter-btn):focusable:first").focus()}})},275356:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(327495),i(690906),i(962062),i(16280),i(962010),i(428706),i(250113),i(426099),i(202008),i(423500),i(874423),i(21699);var a=i(96190),r=i(274692),o=i(185999),s=i(800030),l=i(40785),d=i(93216),c=i(174989),u=i(892005),p=i(891002);e.exports=p.extend({template:i(239828),className:"entity-filter-tmpl",_entityDef:[],_entityFilters:[],setDefaultEntityFilter:function(e){var t=this;this._entityFilters=a.map(this._entityDefs,(function(i){var n=i.entityType,a=i.backgroundColor,r=i.textColor;return{entityType:n,name:l.translateKey({groupName:i.entityCanon,subgroupName:"general",key:"name"}),namePlural:l.translateKey({groupName:i.entityCanon,subgroupName:"general",key:"namePlural"}),backgroundColor:a,textColor:r,count:t.collection.getRecordCountByType(n),active:t.entityFilterPillView||"all"===e||e===n,typeQuery:i.query().type().toQuery()}})),a.isEmpty(this.filterSortOptions)||(this._entityFilters=this.sortFilters(this._entityFilters,this.filterSortOptions))},onInit:function(e){var t=e.dataContainerModel,i=e.associatedModel,n=e.entityFilterPillView,r=void 0===n||n,o=e.label,s=e.sortFilters,d=e.filterSortOptions,c=void 0===d?{}:d,u=e.enableEntityFiltersMultiSelect,p=e.preselectedEntityType,f=void 0===p?"all":p,h=e.renderButtonsBarFn,m=e.renderGridTitleFn,g=e.onSelectedEntityTypeChangeFn,y=void 0===g?a.noop:g,v=e.$filterOptionsMenuContainer,b=e.genericAddButton;if(!t)throw new Error("dataContainerModel required");this.dataContainerModel=t,this.associatedModel=i,this.entityFilterPillView=r,this.label=o||l.translateKey("type"),this.sortFilters=s,this.filterSortOptions=c,this.enableEntityFiltersMultiSelect=this.entityFilterPillView||u,this.singleSelectDropdownMode=!this.enableEntityFiltersMultiSelect&&!this.entityFilterPillView,this.multiSelectDropdownMode=this.enableEntityFiltersMultiSelect&&!this.entityFilterPillView,this.renderButtonsBarFn=h,this.renderGridTitleFn=m,this.onSelectedEntityTypeChangeFn=y,this.$filterOptionsMenuContainer=v,this.genericAddButton=b,this._entityDefs=this.collection.getEntDefs(),this.setDefaultEntityFilter(f),this.allFilterOptions=this.getAllFilterOptions(),this.selectedFilterOptions=this.entityFilterPillView?[]:[f],this.singleSelectDropdownMode&&this.updateButtonAndGridTitle()},locals:function(){return{entities:this.getEntityFilters(),entityFilterPillView:this.entityFilterPillView,selectionCaption:this.getSelectionCaption(),label:this.label}},onRemove:function(){this.collection.off(null,null,this)},events:{"click .pill-btn":"onEntityPillClick","click .show-entity-filter-options-btn":"showEntityFilterOptionsMenu"},onQueryChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;return p.prototype.onQueryChange?p.prototype.onQueryChange.call(this,e):e()},onEntityPillClick:function(e){var t=r(e.currentTarget);this.getEntityFilter(t.data("type")).active=!t.hasClass("active"),t.toggleClass("active"),this.onQueryChange()},canAddCustomForm:function(){return d.hasRole(["edit_case_group","edit_case_as_owner","edit_case_as_investigative_team_member"],"OR")},getGenericAddButton:function(){return this.genericAddButton?this.genericAddButton:null},getAddEntityBtnRoute:function(e){var t=this.collection.caseId,i=e.entity.name;return"data"===e.type?"/settings/data/data-form-entry/".concat(i,"/new"):t?"case/".concat(t,"/form/").concat(i,"/new"):"/form/".concat(i,"/new")},getAddEntityButton:function(e){if("all"===e)return null;if(!this.canAddCustomForm())return null;var t=l.getEntDef(e);return a.extend({caption:l.translateKey({groupName:t.entityCanon,subgroupName:"actions",key:"add"}),route:this.getAddEntityBtnRoute(t)},l.getDefaultAddBtnControls(t,this.associatedModel))},updateButtonAndGridTitle:function(){if(this.renderButtonsBarFn&&this.renderGridTitleFn){var e,t=this.selectedFilterOptions[0],i=this.getGridInfo(this.selectedFilterOptions[0]),n=i.titlePlural,a=i.entityName;e="all"===t?this.getGenericAddButton():this.getAddEntityButton(t),this.renderButtonsBarFn(e?[e]:[]),this.renderGridTitleFn(n),this.onSelectedEntityTypeChangeFn(a)}},getQuery:function(){var e=this.getActiveFilters();if(0===e.length)return o.impossibleTerm();if(e.length===this.getEntityFilters().length)return null;var t=a.map(e,"typeQuery");return o.should(t)},getEntityFilters:function(){return this._entityFilters},getEntityFilter:function(e){return a.find(this.getEntityFilters(),{entityType:e})},getAllFilterOptions:function(){if(this.entityFilterPillView)return[];var e,t=this.getEntityFilters();return this.singleSelectDropdownMode&&(t=[{name:l.translateKey("all"),entityType:"all"}].concat(function(e){if(Array.isArray(e))return n(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),t},getActiveFilters:function(){return a.filter(this.getEntityFilters(),{active:!0})},getSelectionCaption:function(){var e=this.getEntityFilters().length,t="";switch(this.selectedFilterOptions.length){case 1:if(e>0&&"all"!==this.selectedFilterOptions[0]){t=this.getEntityFilter(this.selectedFilterOptions[0]).name;break}case e:case 0:t=l.translateKey("all");break;default:t=l.translateKey("multi")}return t},getGridInfo:function(e){return"all"===e?{titlePlural:l.translateKey("forms"),entityName:null}:{titlePlural:l.translateKey({groupName:s.getEntityCanon(e),subgroupName:"general",key:"nameplural",missingTranslationValue:""}),entityName:s.getEntityName(e)}},onSelectedFilterOptionsChange:function(e){var t=this;if(this.selectedFilterOptions=e,this.singleSelectDropdownMode){var i=this.selectedFilterOptions[0];a.forEach(this.allFilterOptions,(function(e){e.active="all"===i||e.entityType===i}))}else a.forEach(this.getEntityFilters(),(function(i){0===t.selectedFilterOptions.length?i.active=!0:i.active=a.includes(e,i.entityType)}));this.onQueryChange((function(){t.$(".filter-selection").text(t.getSelectionCaption()),t.singleSelectDropdownMode&&t.updateButtonAndGridTitle()}))},showEntityFilterOptionsMenu:function(){var e=this,t=new(this.singleSelectDropdownMode?u:c)({model:this.model,selectedOptions:this.selectedFilterOptions,allOptions:this.allFilterOptions,textProperty:"name",valueProperty:"entityType",position:"left",allowNoOptionsSelected:this.multiSelectDropdownMode,showClearAllBtn:this.multiSelectDropdownMode,onDoneClick:function(t){e.onSelectedFilterOptionsChange(t)}}),i=this.$filterOptionsMenuContainer||this.$(".filter-options-menu-container");return i.css("visibility","hidden"),this.addSubView(t).render(i).done((function(){e.$filterOptionsMenuContainer&&l.positionOptionsMenu(e.$filterOptionsMenuContainer,e.$el),i.css("visibility","")}))}})},358729:(e,t,i)=>{"use strict";i(343359),i(839202);var n=i(96190),a=i(36742).create("search-filter.js"),r=i(891002);e.exports=r.extend({template:i(228911),className:"all-field-search-tmpl",onInit:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],a=n.enableIcon,r=void 0===a||a,o=n.maxLength,s=void 0===o?100:o;this._enableIcon=r,this._maxLength=s},locals:function(){return{enableIcon:this._enableIcon,maxLength:this._maxLength}},onRendered:function(){this.$(".search-value").bind("paste",this.handlePaste.bind(this))},updateIcons:function(){var e=this.$(".search-icon"),t=this.$(".remove-search-icon"),i=!n.isEmpty(this._searchText);e.toggleClass("hidden",i),t.toggleClass("hidden",!i)},events:{"keyup .search-value":"onSearchQueryChange","click .remove-search-icon":"resetSearchText"},handlePaste:function(e){var t=this.$(".search-value"),i=a.fn("handlePaste"),n=e.originalEvent.clipboardData||window.clipboardData;if(!n)return i.error("Unable to read from clipboard");e.preventDefault();var r=this.formatText(n.getData("text"));return t.val(r),this.updateSearch(r)},resetSearchText:n.debounce((function(e){return this.$(".search-value").val(""),this.updateSearch("")}),350),onSearchQueryChange:n.debounce((function(e){return 27===e.which?this.resetSearchText():this.updateSearch(e.target.value)}),350),updateSearch:function(e){this._searchText=e,this.updateIcons(),this.collection.setSearchText(this._searchText),this.onQueryChange&&this.onQueryChange()},formatText:function(e,t){var i=n.trimStart(e);return i.length>=this._maxLength&&(i=i.substring(0,i.lastIndexOf(" ",this._maxLength))),n.trimEnd(i)}})},74667:(e,t,i)=>{"use strict";i(962010),i(428706);var n=i(40785);e.exports={getStaticFilterName:function(e){var t=n.translateKey(e.name);return e.secondaryCaption?"".concat(t," (").concat(e.secondaryCaption,")"):t}}},627153:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099),i(962010),i(944114),i(250113),i(962062),i(311927);var n=i(96190),a=i(274692),r=i(325425),o=i(40785),s=i(185999),l=i(939994),d=i(843765),c=i(174989),u=i(74667).getStaticFilterName;e.exports=r.extend({template:i(935069),navigateUrl:null,events:{"click .btn":"onFilterBtnClick","click .remove-filter-btn":"onRemoveFilterBtnClick"},onInit:function(e){if(!e)throw new Error("Missing options.");if(!e.grid)throw new Error("Missing grid option.");this.model=e.model,this.collection=e.collection,this.disablePersistence=e.disablePersistence,this.filterSortOptions=e.filterSortOptions||{},this.grid=e.grid,this._filter=e.filter,this.entity=this.grid.entity,this.onQueryChange=e.onQueryChange||n.noop,this.onFilterSelected=e.filter.onFilterSelected||n.noop,this.secondaryCaption=this._filter.secondaryCaption,this.name=u(this._filter),this.allOptions=this.getAllFilterOptions(),this.sortList=e.filter.sortList,this.onMenuRemove=e.onMenuRemove||n.noop,this.setInitialSelectedOptions()},locals:function(){return{cid:this.cid,optional:this._filter.optional,name:this.name}},onRendered:function(){this.updateFilterSelectionText()},setInitialSelectedOptions:function(){var e=this;this.model||(this.selectedOptions=this._filter.options.reduce((function(e,t){return t.selected&&e.push(t.text),e}),[]),this.model=new d({filterName:this._filter.name,selectedFilterOptions:this.selectedOptions},{collection:this.collection}),this.collection.add(this.model,{silent:!0})),this.selectedOptions=n.reduce(this.model.get("selectedFilterOptions"),(function(t,i){return n.find(e.allOptions,{value:i})&&t.push(i),t}),[])},getOptionTranslation:function(e){return e.translatedCaption?e.translatedCaption:o.translateKey(e.text,{missingTranslationValue:e.text})},getAllFilterOptions:function(){var e=this;return n.map(this._filter.options,(function(t){return{caption:e.getOptionTranslation(t),value:t.text}}))},onFilterBtnClick:function(){var e=this,t=this;this.optionsView=new c({model:this.model,enableSearch:!0,showClearAllBtn:!0,allowNoOptionsSelected:!0,valueProperty:"value",selectedOptions:this.selectedOptions,allOptions:this.allOptions,onDoneClick:this.onDoneClick.bind(this),searchPlaceholder:o.translateKey({groupName:"placeholders",key:"search_picklist"}),parentTriggerElement:".show-filter-options-btn",sortList:this.sortList,onRemove:function(e){t.onMenuRemove.call(null,e,{menuParentView:t,menuView:this})}});var i=a(".filter-menu-options-container");i.css("visibility","hidden"),this.addSubView(this.optionsView).render(i).done((function(){o.positionOptionsMenu(i,e.$el),i.css("visibility","")}))},getSelectedOptionsText:function(){var e=this;return n.isEmpty(this.selectedOptions)?o.translateKey("all"):n.chain(this.selectedOptions).map((function(t){return n.find(e.allOptions,{value:t}).caption})).join(", ").value()},updateFilterSelectionText:function(){this.$(".filter-selection").text(this.getSelectedOptionsText())},onDoneClick:function(e){this.selectedOptions=e,this.model.set("selectedFilterOptions",e),this.model.collection.trigger("static-filter-option-change");var t=this.disablePersistence||this.model.collection.isDefaultMode();this.model.save({},{disablePersistence:t,silent:!0}),this.updateFilterSelectionText(),this.onFilterSelected(),this.onQueryChange()},onRemoveFilterBtnClick:function(){var e=this.model.collection;e.remove(this.model.get("filterName"));var t=this.disablePersistence||e.isDefaultMode();e.save({disablePersistence:t}),this.remove()},convertRawFiltersToQuery:function(e){var t=n.reduce(e,(function(e,t){if(n.isEmpty(t))return e;if(n.isArray(t)){var i=n.map(t,(function(e){var t=e.type,i=e.query;return n.isEmpty(t)?i:s.must([i,l.get(t).query().type().toQuery()])}));e.push(s.should(i))}else e.push(t);return e}),[]);return s.should(t)},getQuery:function(){var e=n.map(this.getActiveFilters(),"filter");return this.convertRawFiltersToQuery(e)},getActiveFilters:function(){var e=this;return n.map(this.selectedOptions,(function(t){return n.find(e._filter.options,{text:t})}))}})},354849:(e,t,i)=>{"use strict";i(250113),i(426099),i(962062),i(944114);var n=i(947432),a=i(96190),r=i(240256).Calendar,o=i(552136).Ay,s=i(808890).Ay,l=i(24730).Ay,d=i(324e3).A,c=i(40785),u=i(344427),p=i(680553),f=i(766821),h=i(185999),m=i(605927),g=i(404316);e.exports=g.extend({className:"data-calendar",toggleButton:{caption:c.translateKey("switch_to_calendar")},defaultCalendarOptions:{locales:d,locale:$appData.htmlLocale,plugins:[o,s,l],eventDisplay:"block",dayMaxEventRows:!0,nowIndicator:!0,fixedWeekCount:!1,aspectRatio:1.6,displayEventTime:!0,unselectAuto:!1,headerToolbar:{left:"prev title next",right:"today dayGridMonth,timeGridWeek,timeGridDay"},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:f.is12HourFormat($appData.timeFormat)},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:f.is12HourFormat($appData.timeFormat)},views:{timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},eventDataTransform:function(e){var t=a.clone(e);return t.allDay&&(t.end=n(t.end).add(1,"days").toISOString()),t}},events:{"click .fc-today-button":"onTodayClicked"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onCalendarLoaded,i=e.maxEvents,a=void 0===i?$appData.globalConfig.maxNumberOfCalendarEvents:i,r=e.selectedDate,o=e.onTodayClicked;this.maxEvents=a,this.onTodayClicked=o,this.onCalendarLoaded=t,this.collection instanceof m&&(this.collection.setRowCount(this.maxEvents),this.collection.resetSkipCount()),this.selectedDate=n(r)||n(),this.defaultCalendarOptions.datesSet=this.onDatesSet.bind(this),this.calendarOptions=this.getCalendarOptions(e),this.isightNavigationView=p.getByRef("isight-nav")},onRendered:function(){this.calendar=new r(this.el,this.calendarOptions),this.calendar.render(),this.calendar.addEventSource(this.getCalendarEvents.bind(this)),this.currentViewType=this.calendar.view.type},onBindEvents:function(){this.isightNavigationView&&this.isightNavigationView.on("expand collapse",this.onISightNavigationExpandCollapse,this)},onUnbindEvents:function(){this.isightNavigationView&&this.isightNavigationView.off("expand collapse",this.onISightNavigationExpandCollapse,this)},onISightNavigationExpandCollapse:function(){this.calendar.updateSize()},onCollectionUpdate:function(e){if(this.fetchCollectionOnEventSourceUpdate=!1,this.calendar.refetchEvents(),a.isFunction(this.onCalendarLoaded)&&this.onCalendarLoaded.apply(this),this.$el.data("lastRender",n().toISOString()),this.collection.length>=this.maxEvents){if(!this.notificationShowing){var t=c.translateKey("too_many_calendar_events");u.display(t,{type:"warning",sticky:!0}),this.notificationShowing=!0}}else u.removeAllWarnings(),this.notificationShowing=!1;return e()},getCalendarOptions:function(e){var t=a.defaults(e,this.defaultCalendarOptions);return t.eventClick&&(t.eventClick=a.debounce(t.eventClick,$appData.globalConfig.buttonClickEventsThrottle,{leading:!0,trailing:!1})),t.moreLinkClick&&(t.moreLinkClick=a.debounce(t.moreLinkClick,$appData.globalConfig.buttonClickEventsThrottle,{leading:!0,trailing:!1})),a.omit(t,["collection","dataContainerModel","fetchCollectionFn","selectedDate","onDateClicked","onTodayClicked","onQueryChangeFn","condensedLayout","disableColumnSort","disablePersistence","alwaysOnFilters","exportObjectType","exportCaption"])},getCalendarEvents:function(e,t,i){if(this.collection instanceof m){if(!1===this.fetchCollectionOnEventSourceUpdate)return t(this.collection.toEventsJSON()),void(this.fetchCollectionOnEventSourceUpdate=!0);this._fetchInfo=e,this.onQueryChange(this.getQuery()),t([])}else t([])},onDatesSet:function(e){var t=e.view.type;!(t!==this.currentViewType)||"timeGridWeek"!==t&&"timeGridDay"!==t||this.goToDate(this.selectedDate),this.selectDate(),this.currentViewType=e.view.type,this.$el.find(".fc-today-button").prop("disabled",!1)},selectDate:function(e){e&&(this.selectedDate=n(e)),"dayGridMonth"===this.calendar.view.type?this.calendar.select(this.selectedDate.toDate()):this.calendar.select(n(this.selectedDate).startOf("day").toDate(),n(this.selectedDate).endOf("day").toDate())},goToDate:function(e){this.calendar.gotoDate(e.toDate())},onRemove:function(){this.calendarOptions.eventClick&&this.calendarOptions.eventClick.cancel(),u.removeAllWarnings()},getQuery:function(){var e=this;if(!this._fetchInfo)return null;var t=n(this._fetchInfo.startStr),i=n(this._fetchInfo.endStr),a=this.collection.getEntDefs().map((function(a){var r=a.calendarMapping,o=r.startDate,s=r.endDate,l=a.query(),d=[e.getEsDateQuery(l,o,s,t,i)];if(!n(e.selectedDate).isBetween(t,i,"day","[]")){var c=n(e.selectedDate).startOf("day");d.push(e.getEsDateQuery(l,o,s,c,n(c).add(1,"day")))}return h.must([h.should(d),l.type().toQuery()])}));return h.should(a)},getSort:function(){return{_script:{script:{lang:"painless",id:"sort-calendar-collection"},type:"number",order:"asc"}}},getEsDateQuery:function(e,t,i,a,r){return h.must([e.less_than_or_equals(t,n(r).toISOString()).toQuery(),e.greater_than_or_equals(i,n(a).toISOString()).toQuery()])},onTodayClicked:function(){a.isFunction(this.onTodayClicked)&&this.onTodayClicked()}})},5895:(e,t,i)=>{"use strict";i(426099),i(423500),i(428706),i(250113);var n=i(96190),a=i(274692),r=i(122268),o=i(539743),s=i(325425);e.exports=s.extend({tagName:"tbody",RowComponent:o,rowViews:{},onInit:function(e){var t=e.collection;this.collection=t,this.options=e},locals:function(){return{}},_renderEmptyRow:function(e){var t="",i=this.options;n.forEach(i.columns,(function(){t=t.concat("<td />")})),i.multiSelect&&(t=t.concat("<td />")),i.showActionColumn&&(t=t.concat("<td />")),i.enableFavorites&&(t=t.concat("<td />")),this.$el.html('<tr style="display:none;">'.concat(t,"</tr>")),e()},renderRow:function(e,t,i){var n=this.options,a=n.columns,r=n.rowTemplateType,o=n.rowTemplate,s=n.RowView,l=n.disableRowCriteria,d=n.disableRowReason,c=n.disableRowAsRecordNotAvailable,u=n.multiSelect,p=n.disableCheckboxCriteria,f=n.customRowClass,h=n.getCustomFieldDef,m=n.enableEdit,g=n.multiSelectOnlyInEditMode,y=n.updateSelection,v=n.onRowClicked,b=n.rowActions,w=n.rowActionTarget,A=n.parentGridViewEl,C=n.showActionColumn,k=void 0!==C&&C,x=n.disableRowActions,_=void 0!==x&&x,E=n.fetchCollection,I=n.enableFavorites,S=n.formModel,D=n.onToggleComplete,F=n.highlightSelectedRow,O=n.selectedRowId;return"function"==typeof s&&(this.RowComponent=s),this.rowViews[e.id]=this.addSubView(new this.RowComponent({columns:a,model:e,customRowClass:f,rowTemplateType:r,rowTemplate:o,disableRowCriteria:l,disableRowReason:d,disableRowAsRecordNotAvailable:c,multiSelect:u,disableCheckboxCriteria:p,getCustomFieldDef:h,enableEdit:m,multiSelectOnlyInEditMode:g,updateSelection:y,onRowClicked:v,isEven:t%2==0,rowActions:b,rowActionTarget:w,parentGridViewEl:A,showActionColumn:k,disableRowActions:_,fetchCollection:E,enableFavorites:I,formModel:S,onToggleComplete:D,highlightSelectedRow:F,selectedRowId:O})),this.rowViews[e.id].render(this.$el).done(i)},onRendered:function(){var e=this,t=a.Deferred();return this.options.emptyGrid?this._renderEmptyRow((function(){return t.resolve()})):r.forEachOfSeries(this.collection.models,(function(t,i,n){return e.renderRow(t,i,n)}),(function(){return t.resolve()})),t.promise()},updateCheckboxes:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;r.each(this.collection.models,(function(i,a){var r,o;n.indexOf(t,i.id)>-1?null===(r=e.rowViews[i.id])||void 0===r||r.updateCheckbox(!0):null===(o=e.rowViews[i.id])||void 0===o||o.updateCheckbox(!1),a()}),i)},clearSelectedRow:function(){this.$el.find("tr").removeClass("selected")}})},24485:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(45700),i(689572),i(102892),i(311927),i(962062),i(202008),i(426099),i(874423),i(21699),i(428706),i(478350),i(730237),i(250113);var r=i(122268),o=i(274692),s=i(96190),l=i(325425),d=i(633514),c=i(194478),u=i(637527),p=i(40785),f=i(185999),h=i(450048),m=i(680553);e.exports=l.extend({Model:u,template:i(513255),className:"grid-export-tmpl",events:{"click #export":"onExportClick"},rules:{showProgress:function(){return!!this.model.get("exportDone")||!!this.model.get("showProgress")},exporting:function(){return!!this.model.get("exporting")},exportDone:function(){return!!this.model.get("exportDone")},allFieldsSelected:function(){return"all"===this.model.get("fields")},allHasVirtualFields:function(){return!!this.model.get("allVirtualFields")},currentFieldsSelected:function(){return"current"===this.model.get("fields")},currentHasVirtualFields:function(){return!!this.model.get("currentVirtualFields")}},locals:function(){return{model:this.model,multiEntityGrid:this.options.grid.collection.getEntityNames().length>1}},onInit:function(e){this.options=e,this.model=new this.Model({formatted:!0,exportType:".csv",fields:"current",query:this.options.query||"current_filter",currentColumns:this.getCurrentNumberOfColumns(),totalColumns:this.getTotalNumberOfColumns(),currentFilterCount:this.options.grid.collection.total,currentPageCount:this.options.grid.collection.length,selectedCount:this.options.selectedItems.length,currentVirtualFields:this.getCurrentVirtualFieldsCaptions(),allVirtualFields:this.getAllVirtualFieldsCaptions(),allCount:0,showProgress:!1})},getCurrentVirtualFieldsCaptions:function(){return s.chain(this.getCurrentVirtualFields()).map("caption").join(", ").value()},getAllVirtualFieldsCaptions:function(){return s.chain(this.getAllVirtualFields()).map("caption").join(", ").value()},getCurrentNumberOfColumns:function(){return this.getCurrentGridExportableFields().length},getTotalNumberOfColumns:function(){return this.getAllGridExportableFields().length},getCurrentGridExportableFields:function(){var e=s.map(this.options.grid.getSelectedColumns(),"field");return s.filter(this.getAllGridExportableFields(),(function(t){return s.includes(e,t.field)}))},getCurrentVirtualFields:function(){var e=s.map(this.options.grid.getSelectedColumns(),"field");return s.filter(this.getAllVirtualFields(),(function(t){return s.includes(e,t.field)}))},getAllVirtualFields:function(){var e=s.xorBy(this.getFieldsWithFlag("gridVisible"),this.getAllGridExportableFields(),"field"),t=this.options.customColumnOptions,i=void 0===t?[]:t,n=s.filter(i,{gridExportable:!1});return s.concat(e,n)},getAllGridExportableFields:function(){return this.getFieldsWithFlag("gridExportable")},getFieldsWithFlag:function(e){var t,i=this,n=this.options.grid.collection.getEntDefs(),r=s.chain(n).flatMap((function(t){var n=t.entityCanon,a=t.fields();return s.isFunction(i.options.fieldFilter)&&(a=i.options.fieldFilter(a)),s.chain(a).filter((function(n){return!s.includes(i.options.grid.options.excludeColumns,n.field)&&(!!s.includes(i.options.grid.options.alwaysIncludeColumns,n.field)||!!p.hasEnabledFeature(n)&&t.getFieldFlags(n)[e])})).map((function(e){return{field:e.field,caption:p.translateKey({groupName:n,subgroupName:"fields",key:e.field})}})).value()})).uniqBy("field").value(),o=s.find(this.options.grid.getAllColumns(),{field:"typeText"});return o?[].concat(function(e){if(Array.isArray(e))return a(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]):r},getTotalRecordCountWithoutFilter:function(e){var t=this.options.grid,i=f.and([t.getDefaultFilterQuery(),t.getAlwaysOnFiltersQuery()]);i=s.cloneDeep(i);var n=t.collection.getEntityNames().join(",");p.getEntityCount({filters:i,types:n,showCanceledCases:t.collection.showCanceledCases},(function(i,n){if(i)return e(i);var a=0;return s.each(t.collection.getEntityNames(),(function(e){a+=s.get(n,e)||0})),e(null,a)}))},onExportClick:function(){var e=this;this.loader.show();var t=this.model.get("query"),i=this.model.get("fields"),a=this.model.get("formatted"),r=this.model.get("exportType"),o=this.model.get("exportAsSeparateFiles"),l="all"===i?this.getAllGridExportableFields():this.getCurrentGridExportableFields(),d=s.find(l,{field:"typeText"});d&&(d.field="entity$"),l=s.reduce(l,(function(e,t){return s.assign(e,(i={},a=t.field,r=t.caption,(a=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i)),e;var i,a,r}),{}),l=s.toPairs(l),l=s.sortBy(l,1),l=s.fromPairs(l);var c={query:this.options.queryOption||t,fields:l,formatted:a,exportAsSeparateFiles:o,exportType:r};this.model.set("exporting",!0),setTimeout((function(){e.model.set("showProgress",!0)}),5e3),this.options.exportData(c,(function(){e.model.set("exportDone",!0),e.loader.hide(),m.remove(e)}))},onRendered:function(){var e=this,t=o.Deferred();return r.parallel([function(t){e.loader=new h({overlay:!0}),e.addSubView(e.loader).render(e.$(".modal-body")).done(t)},function(t){e.getTotalRecordCountWithoutFilter((function(i,n){return i?t(i):(e.model.set("allCount",n),e.renderFields(t))}))}],(function(e){return e?t.reject(e):t.resolve()})),t.promise()},renderFields:function(e){var t=this,i=new d({field:"exportType",model:this.model,fieldDef:{picklistName:"export_types",sysActive:!0,typeOptions:{addBlankRow:!1}}}),n=new d({field:"query",model:this.model,fieldDef:{picklistName:"grid_export_query_selection",sysActive:!0,typeOptions:{addBlankRow:!1}}}),a=new d({field:"fields",model:this.model,fieldDef:{picklistName:"grid_export_column_selection",sysActive:!0,typeOptions:{addBlankRow:!1}}}),o=new c({field:"formatted",model:this.model,fieldDef:{ariaLabel:p.translateKey("formatted")}}),s=new c({field:"exportAsSeparateFiles",model:this.model,fieldDef:{ariaLabel:p.translateKey("export_as_separate_files")}});r.parallel([function(e){t.addSubView(i).render(t.$("#exportType"),e)},function(e){t.addSubView(n).render(t.$("#query"),e)},function(e){t.addSubView(a).render(t.$("#fields"),e)},function(e){t.addSubView(o).render(t.$("#formatted"),e)},function(e){t.addSubView(s).render(t.$("#export-as-separate-files"),e)}],e)}})},276447:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(874423),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(325425);e.exports=s.extend({tagName:"th",template:i(587430),onInit:function(e){var t=e.column,i=e.isDragEnable,n=void 0!==i&&i,a=e.sortChange,r=e.ignoreGridWidths,o=void 0!==r&&r;this.column=t,this.emptyHeader=!0===this.column.emptyHeader,this.isDragEnable=!this.emptyHeader&&n,this.sortChange=a,this.ignoreGridWidths=o,this.ignoreGridWidths||(this.gridWidth=this.getColumnWidth(this.column.gridWidth,this.column.minGridWidth),t.gridWidth&&this.$el.css("width",t.gridWidth),t.minGridWidth&&this.$el.css("min-width",t.minGridWidth))},events:{"click .column-sort-title":"onSortChange","keyup .column-sort-title":"onSortChangeViaKey"},locals:function(){return r(r({},this.column),{},{emptyHeader:this.emptyHeader,isDragEnable:this.isDragEnable,sortIcon:this.getSortIcon()})},onRendered:function(){this.$el.attr("data-column",this.column.field),!0===this.isDragEnable&&this.$el.addClass("draggable-column"),this.gridWidth&&!this.ignoreGridWidths&&this.$el.css("min-width","".concat(this.gridWidth,"px"))},getSortIcon:function(){switch(this.column.sortOrder){case"desc":return"sort-desc";case"asc":return"sort-asc";default:return""}},onSortChangeViaKey:function(e){["Enter","NumpadEnter"].includes(e.code)&&this.toggleSortOrder(!0)},onSortChange:function(){this.toggleSortOrder()},toggleSortOrder:function(e){var t=this;if(o.isFunction(this.sortChange)){var i="desc"===this.column.sortOrder?"asc":"desc";this.column.sortOrder=i,this.render().done((function(){return t.sortChange({newSortColumn:t.column,retainFocus:e})}))}},getColumnWidth:function(e,t){return o.isNumber(e)?e:o.isNumber(t)?t:null},focus:function(){this.$(".column-sort-icon").focus()}})},991738:(e,t,i)=>{"use strict";var n=i(274692),a=i(122268),r=i(325425),o=i(276447),s=i(584935),l=i(304722),d=i(40785);function c(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="<p>".concat(d.translateKey("decorative_element_default_placeholder"),"</p>"),a=null!==(t=i.wcagInnerHTML)&&void 0!==t?t:n;e.innerHTML=e.innerHTML||"",e.innerHTML+='<div class="visually-hidden">'.concat(a,"</div>")}e.exports=r.extend({tagName:"thead",HeadCellComponent:o,CheckboxComponent:s,sortCellComponent:null,template:i(648185),onInit:function(e){var t=e.enableDragColumns,i=e.sortChange,n=e.ignoreGridWidths,a=void 0!==n&&n;this.enableDragColumns=t,this.options=e,this.sortChange=i,this.ignoreGridWidths=a},onRendered:function(){var e=this,t=n.Deferred(),i=this.options.columns;return i.length>0&&(i[i.length-1].gridWidth=0),a.waterfall([function(t){return e.renderCheckbox(t)},function(t){return e.renderStar(t)},function(t){return a.each(i,e.renderColumnHeader.bind(e),t)},function(t){return e.renderActionButtons(t)}],(function(){return t.resolve()})),t.promise()},renderCheckbox:function(e){var t=this.options,i=t.multiSelect,n=void 0!==i&&i,a=t.multiSelectOnlyInEditMode,r=void 0!==a&&a;if(!0!==n)return e();var o=document.createElement("th");o.innerHTML="&nbsp;",o.className="batch-control-th no-print",!0===r&&o.setAttribute("data-readonly",!0),c(o,{wcagInnerHTML:"<p>".concat(d.translateKey("select_all"),"</p>")}),this.$("tr").append(o);var s=document.createElement("th");return s.className="fixed-first-col-spacer no-print",c(s),this.$("tr").append(s),e()},renderStar:function(e){var t=this.options.enableFavorites;if(!0!==(void 0!==t&&t))return e();var i=document.createElement("th");return i.className="star-control-th",c(i),this.$("tr").append(i),e()},renderColumnHeader:function(e,t){var i=new this.HeadCellComponent({column:e,isDragEnable:this.isDragEnabled(),sortChange:this.sortChange,ignoreGridWidths:this.ignoreGridWidths});e.sorted&&(this.sortCellComponent=i),this.addSubView(i).render(this.$("tr")).done(t)},renderActionButtons:function(e){var t=this,i=this.options,n=i.actionButtons,r=void 0===n?[]:n,o=i.showActionColumn;if(!0!==(void 0!==o&&o))return e();var s=document.createElement("th");s.className="fixed-last-col-spacer",c(s),this.$("tr").append(s);var u=document.createElement("th");u.className="action-menu-th",c(u,{wcagInnerHTML:"<p>".concat(d.translateKey("configure_columns"),"</p>")}),this.$("tr").append(u);var p=document.createElement("td");return p.innerHTML=d.translateKey("decorative_element_default_placeholder"),p.className="visually-hidden",this.$("tr").append(p),a.each(r,(function(e,i){return t.addSubView(new l(e)).render(t.$(".action-menu-th")).done(i)}),e)},isDragEnabled:function(){return this.enableDragColumns},focusSortColumn:function(){var e;null===(e=this.sortCellComponent)||void 0===e||e.focus()}})},781459:(e,t,i)=>{"use strict";i(202008),i(426099),i(962062),i(16280),i(533110),i(962010);var n=i(96190),a=i(181199),r=i(40785),o=i(896727),s=i(185999);e.exports=function(e){return{persistSort:function(t,i,n){var a={sortColumn:t,sortOrder:i};e.options.defaultConfigureTriggered||!0===n?e.gridFilterModel.set(a):e.gridFilterModel.save(a,{wait:!0})},getFilter:function(t){if(t||e.options.enableDefaultFilter)return n.cloneDeep(n.filter($appData.gridsDefaultFilters,{gridName:e.options.gridName})[0]);var i=n.filter($appData.gridsFilters,{gridName:e.options.gridName,selected:!0})[0];return n.isEmpty(i)?((i=n.cloneDeep(n.filter($appData.gridsDefaultFilters,{gridName:e.options.gridName})[0])).userId=$appData.user.id,n.omit(i,"id")):i},exportData:function(t,i){e.options.exportTriggered=!0;var l,d=!1,c=void 0;switch(t.query){case"all":l=s.and([e.getDefaultFilterQuery(),e.getAlwaysOnFiltersQuery()]);break;case"current_filter":l=e.collection.getFilter(),c=e.collection.getSearchText(),d=e.collection.isAdvancedSearch;break;case"selected":l=e.collection.getIdsFilter(n.map(e.getSelectedModels(),"id"));break;case"current_page":l=e.collection.getIdsFilter(n.map(e.collection.models,"id"))}l=n.cloneDeep(l);var u=e.collection.getSort(),p=$appData.globalConfig.apiRoot+"/export/query",f=n.get(t,"url")||p,h=n.map(e.collection.getEntDefs(),"entDef.entity"),m=new XMLHttpRequest;m.open("POST",f,!0),m.timeout=0,m.setRequestHeader("Content-Type","application/json"),m.setRequestHeader("x-csrf-token",$appData.csrf),m.responseType="blob";var g=this;m.onload=function(){if(200!==m.status)return e.options.exportTriggered=!1,void i(new Error("Export failed"));var n=g.buildExportFileName({entities:h,exportedAsSeparateFiles:t.exportAsSeparateFiles,exportType:t.exportType,alternateCaption:t.alternateCaption});a.saveAs(m.response,n),e.options.exportTriggered=!1,o.info("".concat(r.translateKey("finished_exporting"))),i()},m.send(JSON.stringify({search:{sort:u},filters:l,searchText:c,entities:h,columns:t.fields,formatted:t.formatted,exportType:t.exportType,showInactiveRecords:e.collection._showInactiveRecords,showCanceledCases$:e.collection.showCanceledCases,exportAsSeparateFiles:t.exportAsSeparateFiles||!1,isAdvancedSearch:d,overrideObjectType:t.overrideObjectType,lang:$appData.intakeTranslationLanguage,systemTranslationLanguage:$appData.user.locale}))},buildExportFileName:function(e){var t=e.entities,i=e.exportedAsSeparateFiles,a=e.exportType,o=e.alternateCaption,s=i?".zip":a||".csv",l=((void 0===o?null:o)||(t.length>1?n.snakeCase($appData.globalConfig.systemName):r.translateKey({groupName:t[0].base+"/"+t[0].name,subgroupName:"general",key:"nameplural"})))+"-"+((new Date).getTime()+s);return r.sanitizeFileName(l.toLowerCase())}}}},521239:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(134782),i(938781),i(523418),i(690906),i(45700),i(689572),i(102892),i(879432),i(83851),i(681278),i(16280),i(428706),i(962062),i(250113),i(426099),i(944114),i(154554),i(202008),i(726910),i(423500),i(874423),i(21699),i(123792),i(962953),i(962010),i(533110),i(269479),i(327495),i(725440),i(311927),i(849386),i(136628),i(15924);var l=i(947432),d=i(122268),c=i(96190),u=i(402193),p=i(274692),f=i(93216),h=i(40785),m=i(344427),g=i(896727),y=i(730295),v=i(174989),b=i(98731),w=i(404316),A=i(991738),C=i(5895),k=i(975892),x=i(304722),_=i(24485),E=i(36742).create("lib/data-components/plugins/grid-v2/index.js");e.exports=w.extend({className:"grid-v2-tmpl data-grid",template:i(479932),toggleButton:{caption:h.translateKey("switch_to_grid")},Header:A,Body:C,GridPager:k,onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.has(e,"defaultRowCountOption"),n=e.striped,a=void 0===n||n,r=e.hover,o=void 0===r||r,s=e.bordered,l=void 0!==s&&s,d=e.batchButtons,u=e.defaultRowCountOption,p=void 0===u?$appData.globalConfig.gridDefaultRowCountOption:u,f=e.defaultRowCountPrintOption,m=void 0===f?$appData.globalConfig.gridDefaultRowCountPrintOption:f,g=e.printing,v=e.disablePersistence,b=void 0!==v&&v,w=e.applyUserRowCount,A=void 0===w||w,C=e.multiSelect,k=void 0===C||C,x=e.multiSelectOnlyInEditMode,_=e.tableCaption,E=e.selectOptionsMenuFilter,I=e.alwaysIncludeColumns,S=void 0!==I&&I,D=e.emptyGridCaptionOptions,F=e.showEmptyGridWhenNoColumnsSelected,O=void 0!==F&&F;if(!(this.collection instanceof y||this.collection instanceof y))throw new Error("No collection to type GridCollection or GridCollection found");var B=!!$appData.user.gridRowCount&&c.toNumber($appData.user.gridRowCount);this.rowCount=g?m:B&&A&&!t?c.toInteger(B):p;var T=this.collection.getEntDefs();this._striped=a,this._hover=o,this._bordered=l,this._emptyGridCaptionOptions=D,this._tableCaption=h.getTableHeadingCaption(T,_),this._showEmptyGridWhenNoColumnsSelected=O,this._batchButtons=d,this._multiSelect=k,this._multiSelectOnlyInEditMode=x,this._selectAllLabel=h.getTableSelectAllCaption(T,_),this._selectAllId=this.getTableSelectAllId(T),this._rowActions=this.getRowActions(e),this._selectOptionsMenuFilter=E,this._alwaysIncludeColumns=S,this.collection.setRowCount(this.rowCount),this.disablePersistence=b,this.options=e,this.gridHelper=i(781459)(this),this.addCustomColumnUniqueId(this.options.customColumnOptions)},onMissingConfig:function(){this.disablePersistence=!0},onBindEvents:function(){var e=this.options.dataContainerModel;null==e||e.on("missing-config",this.onMissingConfig,this),this.windowResizeFunction=c.debounce(this.updateFixedCellHeights,300).bind(this),p(window).on("resize",this.windowResizeFunction)},onUnbindEvents:function(){var e=this.options.dataContainerModel;null==e||e.off("missing-config",this.onMissingConfig,this),p(window).off("resize",this.windowResizeFunction)},getEmptyGridText:function(){var e;return null!==(e=this._emptyGridCaptionOptions)&&void 0!==e&&e.caption?this._emptyGridCaptionOptions.caption:h.translateKey("no_records_to_display")},locals:function(){var e;return{striped:this._striped,hover:this._hover,bordered:this._bordered,multiSelect:this._multiSelect,multiSelectOnlyInEditMode:this._multiSelectOnlyInEditMode,tableCaption:this._tableCaption,selectAllLabel:this._selectAllLabel,selectAllId:this._selectAllId,emptyGridCaption:this.getEmptyGridText(),emptyGridCaptionHtml:null===(e=this._emptyGridCaptionOptions)||void 0===e?void 0:e.html}},events:{"change .select-all":"onSelectAllClick"},onAddRemoveBtnClicked:function(){var e=this;if(!this.addColumnsMenuShowing){this.addColumnsMenuShowing=!0;var t=this.$(".all-columns-container"),i=this.$(".add-columns-btn"),n=this.$el,a=i.offset().left-n.offset().left-t.outerWidth()+i.outerWidth(),r=i.offset().top-n.offset().top+i.height()+2;t.css("top","".concat(r,"px")),t.css("left","".concat(a,"px"));var o=this.getAllColumns(),s=new v({selectedOptions:this.getSelectedColumnValues(),allOptions:o,optionsFilter:this._selectOptionsMenuFilter,valueProperty:"dataFilterUniqueId",parentTriggerElement:".add-columns-btn",showSelectAllBtn:!0,showClearAllBtn:!0,onDoneClick:function(t){var i=e.getSelectedColumnValues(),n=c.intersection(i,t),a=c.difference(t,i),r=c.isEmpty(a)?n:c.concat(n,a),s=c.map(r,(function(e){return c.find(o,{dataFilterUniqueId:e})}));e.persistSelectedColumns(s)},onRemove:function(){e.addColumnsMenuShowing=!1}});return this.addSubView(s).render(t).done()}},showActionColumn:function(){return!0===this.options.enableDynamicColumns||!c.isEmpty(this._rowActions)},renderHeader:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).focusSortColumn,i=arguments.length>1?arguments[1]:void 0,n=this.options,a=n.enableDragColumns,r=n.enableDynamicColumns,o=n.onColumnsChange,s=n.excludeColumns,l=n.headerActionButtons,d=void 0===l?[]:l,c=n.enableFavorites,u=n.headerEnabled,p=void 0===u||u,f=n.ignoreGridWidths,m=void 0!==f&&f;if(!p)return i();var g=d;!0===r&&g.push({customClass:"add-columns-btn",ariaLabel:h.escapedTranslateKey("configure_columns"),icon:"fa fa-columns",onClicked:this.onAddRemoveBtnClicked.bind(this),tooltip:{container:this.$el,placement:"top",title:h.escapedTranslateKey("configure_columns")}});var y=this.addSubView(new this.Header({columns:this.getSelectedColumns(),onColumnsChange:o,enableDynamicColumns:r,enableDragColumns:a,multiSelect:this._multiSelect,multiSelectOnlyInEditMode:this._multiSelectOnlyInEditMode,excludeColumns:s,actionButtons:g,showActionColumn:this.showActionColumn(),sortChange:this.persistSort.bind(this),enableFavorites:c,ignoreGridWidths:m}));return y.render().done((function(){e.$(".table").append(y.$el),e.$(".bbg-table-wrapper").addClass("fixed-cols ".concat(e.showActionColumn()?"fixed-last-col":"")),e.headerView&&e.removeSubView(e.headerView),e.headerView=y,!0===t&&e.headerView.focusSortColumn(),i()}))},persistSort:function(e){var t=this,i=e.newSortColumn,n=e.retainFocus,a=this.options.dataContainerModel,r=i.field,o=i.sortOrder,s=this.collection.length>0?this.onQueryChange:this.updateDrag.bind(this),l={focusSortColumn:n};a.isDefaultMode()||this.disablePersistence?(a.set({sortColumn:r,sortOrder:o}),this.renderHeader(l,(function(){return s()}))):a.save({sortColumn:r,sortOrder:o},{success:function(){return t.renderHeader(l,(function(){return s()}))}})},persistSelectedColumns:function(e){var t=this,i=this.options,n=i.dataContainerModel,a=i.onQueryChangeFn,r=c.chain(e).compact().map((function(){return{field:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).field}})).compact().value();this.disablePersistence||n.isDefaultMode()?(n.set({columns:r}),this.renderHeader({},(function(){return t.fetchCollection()}))):n.save({columns:r},{success:function(){return t.renderHeader({},(function(){return a()}))}})},refresh:function(){var e=this,t=p.Deferred();return this.renderHeader({},(function(){return e.fetchCollection((function(){return t.resolveWith(e)}))})),t.promise()},updateDrag:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.noop;if(!this.headerView||!0!==this.headerView.isDragEnabled())return t();var i=this.$(".bbg-table-wrapper"),n=i.find(".table");return n.data("akottrDragtable")&&n.dragtable("destroy"),n.dragtable({dragHandle:".column-drag-handle",dragaccept:".draggable-column",clickDelay:250,beforeMoving:function(){i.addClass("sorting-columns"),i.find("ul.dragtable-sortable").first().css("width","max-content")},beforeReorganize:function(){var t=e.$el.parents(".data-container");t&&p(t[0]).find(".loader-overlay").show()},beforeStop:function(){i.removeClass("sorting-columns");var t=e.$el.parents(".data-container");t&&p(t[0]).find(".loader-overlay").hide()},persistState:function(t){var i=t.startIndex,n=t.endIndex,a=e.options.enableFavorites;if(i!==n){!0===e._multiSelect&&(n-=2,i-=2),!0===a&&(n--,i--),n--,i--;var r=e.getSelectedColumns(),s=o(r.splice(i,1),1)[0];r.splice(n,0,s),e.persistSelectedColumns(r)}else{var l=e.$el.parents(".data-container");l&&p(l[0]).find(".loader-overlay").hide()}}}),t()},areNoColumnsSelected:function(){var e=this.getSelectedColumns();return 1===e.length&&e[0].emptyHeader},renderBody:function(e){var t=this,i=this.options,n=i.collection,a=i.rowTemplateType,r=i.rowTemplate,o=i.RowView,s=i.disableRowCriteria,l=i.disableRowReason,d=i.disableRowAsRecordNotAvailable,u=i.disableCheckboxCriteria,p=i.customRowClass,f=i.getCustomFieldDef,h=i.enableEdit,m=i.onRowClicked,g=i.rowActionTarget,y=i.disableRowActions,v=i.enableFavorites,b=i.formModel,w=i.onToggleComplete,A=i.highlightSelectedRow;this.onRowClickedFn=m,this.highlightSelectedRow=A;var C={collection:n,columns:this.getSelectedColumns(),multiSelect:this._multiSelect,parentGridViewEl:this.$el,enableFavorites:v,showActionColumn:this.showActionColumn()},k=this._showEmptyGridWhenNoColumnsSelected&&this.areNoColumnsSelected();0===n.length||k?(this.$el.addClass("empty"),this.$(".no-records-to-display").show(),this.bodyView&&this.removeSubView(this.bodyView),delete this.bodyView,C.emptyGrid=!0):c.assignIn(C,{rowTemplateType:a,rowTemplate:r,RowView:o,disableRowCriteria:s,disableRowReason:l,disableRowAsRecordNotAvailable:d,disableCheckboxCriteria:u,customRowClass:p,getCustomFieldDef:f,enableEdit:h,multiSelectOnlyInEditMode:this._multiSelectOnlyInEditMode,onRowClicked:this.onRowClicked.bind(this),updateSelection:this.updateSelection.bind(this),rowActions:this._rowActions,rowActionTarget:g,disableRowActions:y,fetchCollection:this.fetchCollection.bind(this),formModel:b,onToggleComplete:w,highlightSelectedRow:A,selectedRowId:this.selectedRowId});var x=this.addSubView(new this.Body(C));return x.render().done((function(){return t.$(".table").append(x.$el),C.emptyGrid||(t.$el.removeClass("empty"),t.$(".no-records-to-display").hide()),t.bodyView&&t.removeSubView(t.bodyView),t.bodyView=x,e()}))},renderPager:function(e){var t=this,i=this.options,n=i.collection,a=i.enablePager,r=void 0===a||a,o=i.rowCountOptions,s=void 0===o?$appData.globalConfig.gridRowCountOptions:o;if(!0!==r)return e();var l=this.addSubView(new this.GridPager({collection:n,defaultRowCountOption:this.rowCount,rowCountOptions:s,showEmptyGridWhenNoColumnsSelected:this._showEmptyGridWhenNoColumnsSelected,noColumnsSelected:this.areNoColumnsSelected(),grid:{fetchCollection:function(){t.fetchCollection()}}}));return l.render().done((function(){t.$(".grid-pager").append(l.$el),t.pagerView&&t.removeSubView(t.pagerView),t.pagerView=l,e()}))},renderBatchButtons:function(e){var t=this,i=this.options.enableBatchExternal,n=void 0!==i&&i,a=this.options,o=a.enableBatchExport,s=void 0!==o&&o,l=a.enableBatchDelete,u=void 0!==l&&l;if(!1===this._multiSelect)return e();var p="batch-actions batch-btn-action ladda-button",m=c.isArray(this._batchButtons)?c.map(this._batchButtons,(function(e){return r(r({},e),{},{customClass:p,spinnerColor:"black",onClicked:t.onBatchClick.bind(t,e.onClicked)})})):[];u=this.evaluateBatchRule(u),s=this.evaluateBatchRule(s),u&&m.push({caption:h.escapedTranslateKey({key:"delete"}),customClass:p,spinnerColor:"black",onClicked:this.onBatchClick.bind(this,this.onBatchDelete.bind(this))}),n&&this.collection.isExternalEnabled()&&(m.push({caption:h.escapedTranslateKey({key:"allow_reporter_access"}),customClass:p,spinnerColor:"black",onClicked:this.onBatchClick.bind(this,this.onBatchSetExternal.bind(this))}),m.push({caption:h.escapedTranslateKey({key:"deny_reporter_access"}),customClass:p,spinnerColor:"black",onClicked:this.onBatchClick.bind(this,this.onBatchUnsetExternal.bind(this))}));var g=f.hasRole("export_grid");return s&&g&&m.push({caption:h.escapedTranslateKey({key:"export"}),customClass:p,spinnerColor:"black",onClicked:this.onBatchClick.bind(this,this.onBatchExport.bind(this)),btnId:"export-btn"}),d.each(m,(function(e,i){var n=e.aclRole,a=e.aclRoleOperator;return n&&!f.hasRole(n,a)?i():t.addSubView(new x(e)).render(t.$(".batch-control .btn-group")).done(i)}),e)},evaluateBatchRule:function(e){var t,i,n;return"string"==typeof(null==e?void 0:e.displayRule)?null===(t=null===(i=this.options)||void 0===i||null===(i=i.associatedModel)||void 0===i||null===(n=i.evaluateRule)||void 0===n?void 0:n.call(i,null==e?void 0:e.displayRule))||void 0===t||t:e},onRendered:function(){var e=this,t=p.Deferred();return d.waterfall([function(t){return e.renderHeader({},t)},function(t){return e.renderPager(t)},function(t){return e.renderBatchButtons(t)}],(function(){e._multiSelect&&e.$(".bbg-table-wrapper").addClass("fixed-cols fixed-first-col"),c.isEmpty(e._rowActions)||e.$(".bbg-table-wrapper").addClass("row-actions"),e.resetSelectedModels(),e.updateFixedCellHeights(),t.resolve()})),t.promise()},onCollectionUpdate:function(e){var t=this;d.series([function(e){return t.renderBody(e)},function(e){return t.pagerView?(t.pagerView.setNoColumnsSelected(t.areNoColumnsSelected()),t.pagerView.render().done(e)):e()},function(e){return t.updateDrag(e)}],(function(){return t.$el.data("lastRender",l().toISOString()),t.updateCheckboxes(),t.updateFixedCellHeights(),e()}))},onRowClicked:function(e,t){c.isFunction(this.onRowClickedFn)&&this.onRowClickedFn(e,t),this.highlightSelectedRow&&(this.selectedRowId=e.get("id"))},getUnmappedSortTypeFromColumn:function(e){var t="keyword",i=e.fieldTypes;if(0===i.length)return E.error("No fieldTypes found for ".concat(e.field)),t;if(i.length>1){var n=c.uniq(c.map(i,(function(e){return e.es.mapping.type})));return 0===n.length?(E.error("No esMappingTypes found for ".concat(e.field)),t):n.length>1?(E.error("Same column ".concat(e.field," has different esMappingTypes, ").concat(n)),t):n[0]}return i[0].es.mapping.type},getRowActions:function(e){var t,i=null!==(t=e.rowActions)&&void 0!==t?t:[];return e.enableExternalRowActions&&(this.collection.isExternalEnabled()||e.externalRowActionsByRow)&&i.push({caption:h.translateKey("allow_reporter_access"),onClick:this.onRowSetExternal.bind(this),disableRule:function(e){return!0===e.get("externalRecord")},displayRule:function(t){var i=!(null==t||!t.get("caseId__reporterAccess")),n=!c.isFunction(t.canEditParent)||t.canEditParent(),a=!0;return e.externalRowActionsByRow&&(a=t.rules.canSetExternal.bind(t)()),!t.get("externalRecord")&&a&&t.isCaseExternal()&&t.rules.canEditCase.call(t)&&n&&i}},{caption:h.translateKey("deny_reporter_access"),disableRule:function(e){return!0!==e.get("externalRecord")},displayRule:function(t){var i=!(null==t||!t.get("caseId__reporterAccess")),n=!c.isFunction(t.canEditParent)||t.canEditParent(),a=!0;return e.externalRowActionsByRow&&(a=t.rules.canSetExternal.bind(t)()),t.get("externalRecord")&&a&&t.isCaseExternal()&&t.rules.canEditCase.call(t)&&n&&i},onClick:this.onRowUnsetExternal.bind(this)}),i},getSort:function(){var e=this,t=this.options.dataContainerModel,i=this.getSelectedColumns(),n=t.get("sortColumn"),a=o(i.filter((function(e){return e.field===n})),1)[0];if(!a)return null;var r=t.get("sortOrder")||"asc",s={};if(a.isSortable&&c.isString(a.sort)){var l=this.getUnmappedSortTypeFromColumn(a);return s[a.sort]={order:r,mode:"min",unmapped_type:"text"!==l?l:"keyword"},s}return a.isSortable&&c.isArray(a.sort)?(c.forEach(a.sort,(function(t,i){var l,d,u=o(e.getFieldsToColumnMapping([t]),1)[0];c.isEmpty(a.fieldTypes)||(l=a.fieldTypes[0].es.mapping.type),c.isEmpty(u.fieldTypes)||(l=u.fieldTypes[0].es.mapping.type),(d=u.field===n?n:u.sort?u.sort:t)&&(s[d]={order:r,unmapped_type:"text"!==l?l:"keyword"})})),s):a.isSortable&&c.isObject(a.sort)?c.set(a.sort,"_script.order",r):null},getQuery:function(){return{}},onSelectAllClick:function(e){e.preventDefault();var t=p(e.currentTarget);if(this._showEmptyGridWhenNoColumnsSelected&&this.areNoColumnsSelected())t.prop("checked",!1);else{var i=this.getSelectedModelIds(),n=c.map(this.collection.models,(function(e){return e.id}));if(t.is(":hidden")&&!1===t.prop("checked"))return this.removeSelectedModels(this.collection.models);if(c.every(n,(function(e){return!i.includes(e)}))){var a=this.options.disableRowCriteria,r=a&&c.isFunction(a)?c.reject(this.collection.models,a):this.collection.models;this.addSelectedModels(r)}else this.removeSelectedModels(this.collection.models)}},updateSelection:function(e,t){var i=this.getSelectedModelMap();i[e.id]&&!0!==t&&delete i[e.id],i[e.id]||!0!==t||(i[e.id]=e),this.setSelectedModelMap(i)},addSelectedModels:function(e){var t=this.getSelectedModelMap();this.setSelectedModelMap(c.extend(t,c.keyBy(e,"id")))},removeSelectedModels:function(e){var t=this.getSelectedModelMap();c.forEach(e,(function(e){var i=e.id;return delete t[i]})),this.setSelectedModelMap(t)},resetSelectedModels:function(){this.setSelectedModelMap()},setSelectedModelMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._selectedModelMap=e,this.updateCheckboxes()},setSelectedModels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setSelectedModelMap(c.keyBy(e,"id"))},getSelectedModelMap:function(){return this._selectedModelMap||{}},getSelectedModels:function(){return c.values(this.getSelectedModelMap())},getSelectedModelIds:function(){return c.keys(this.getSelectedModelMap())},updateCheckboxes:function(){if(this._multiSelect){var e=this.getSelectedModelIds(),t=c.filter(this.collection.models,(function(t){var i=t.id;return e.includes(i)})),i=e.length>1?h.escapedTranslateKey("records_selected"):h.escapedTranslateKey("record_selected");this.$(".selected-count").html("".concat(e.length," ").concat(i));var n=this.$('input[type="checkbox"]#'.concat(this._selectAllId));this.collection.length<1||e.length<1?(n.prop("checked",!1),n.prop("indeterminate",!1),this.$el.removeClass("batch-mode")):t.length<1?(n.prop("checked",!1),n.prop("indeterminate",!1),this.$el.addClass("batch-mode")):t.length<this.collection.length?(n.prop("checked",!1),n.prop("indeterminate",!0),this.$el.addClass("batch-mode")):(n.prop("indeterminate",!1),n.prop("checked",!0),this.$el.addClass("batch-mode")),this.bodyView&&this.bodyView.updateCheckboxes(e)}},onBatchClick:function(e,t,i){var n=this;if(c.isFunction(e)){var a=this.getSelectedModels();this.$batchLadda=u.create(p(i.currentTarget)[0]).start(),e(a,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.$batchLadda.stop(),n.$batchLadda.remove(),e&&g.error(h.translateKey("backbone_grid_unexpected_batch_action_failure")),!0!==t.actionCancelled&&(n.resetSelectedModels(),!1!==t.refreshCollection&&n.fetchCollection())}))}},onBatchDelete:function(e,t){var i=this,n=h.translateKey("confirm_deletion"),a=0;m.display(n,{type:"confirm",title:h.translateKey("delete_confirmation_title"),confirmText:h.translateKey("delete"),cancelText:h.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(n){return n?d.eachSeries(e,(function(e,t){e.checkLockedByAnotherUser({displayWarningMessage:!1},(function(i,n){return n?(a++,t()):e.destroy({success:function(){return t()},error:function(e,i){return t(i.responseJSON)}})}))}),(function(r){if(r)return t(r);a>0&&g.error(h.translateKey({groupName:"errors",subgroupName:"general",key:"batch_delete_locked_record"}));var o=e.length-a,s=e[0],l=o>1?h.translateKey("batch_delete_success",{context:{numberRecords:o}}):h.translateKey({groupName:s.dynamicEntityModel?s.dynamicEntityModel.get("canon"):s.getEntityCanon(),subgroupName:"actions",key:"deleted"});return g.info(l),i.collection.setTotal(i.collection.total-o),t(null,{actionCancelled:!n})})):t(null,{actionCancelled:!n})}})},onBatchSetExternal:function(e,t){var i=this.options.collection.getEntityDefinition(),n=h.translateKey("confirm_set_external");m.display(n,{type:"confirm",title:h.translateKey("set_external_confirmation_title"),callback:function(n){if(!n)return t(null,{actionCancelled:!n});var a=c.map(e,(function(e){return e.get("id")}));p.ajax({url:"".concat($appData.globalConfig.apiRoot,"/set-external/").concat(i.entity.name),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({recordIds:a,externalRecord:!0}),timeout:$appData.globalConfig.apiBatchExternalTimeout,error:function(e,i,n){if("timeout"===n)return g.info(h.translateKey("batch_external_timeout_msg")),h.ignoreAjaxErrors(e),t()}}).done((function(i){var n=i.failedUpdates,a=i.totalToUpdate;n>0&&g.error(h.translateKey({groupName:"errors",subgroupName:"general",key:"batch_update_failure"}));var r=a-n,o=e[0],s=r>1?h.translateKey("batch_update_success",{context:{numberRecords:r}}):h.translateKey({groupName:o.dynamicEntityModel?o.dynamicEntityModel.get("canon"):o.getEntityCanon(),subgroupName:"actions",key:"updated"});g.info(s),t()}))}})},onRowSetExternal:c.throttle((function(e,t){var i=this;o(e,1)[0].setExternal((function(e){return e?t(e):(g.info(h.translateKey("allowed_reporter_access")),i.fetchCollection(),t())}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRowUnsetExternal:c.throttle((function(e,t){var i=this;o(e,1)[0].unsetExternal((function(e){return e?t(e):(g.info(h.translateKey("denied_reporter_access")),i.fetchCollection(),t())}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onBatchUnsetExternal:function(e,t){var i=this.options.collection.getEntityDefinition(),n=h.translateKey("confirm_unset_external");m.display(n,{type:"confirm",title:h.translateKey("unset_external_confirmation_title"),callback:function(n){if(!n)return t(null,{actionCancelled:!n});var a=c.map(e,(function(e){return e.get("id")}));p.ajax({url:"".concat($appData.globalConfig.apiRoot,"/set-external/").concat(i.entity.name),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({recordIds:a,externalRecord:!1}),timeout:$appData.globalConfig.apiBatchExternalTimeout,error:function(e,i,n){if("timeout"===n)return g.info(h.translateKey("batch_external_timeout_msg")),h.ignoreAjaxErrors(e),t()}}).done((function(i){var n=i.failedUpdates,a=i.totalToUpdate;n>0&&g.error(h.translateKey({groupName:"errors",subgroupName:"general",key:"batch_update_failure"}));var r=a-n,o=e[0],s=r>1?h.translateKey("batch_update_success",{context:{numberRecords:r}}):h.translateKey({groupName:o.dynamicEntityModel?o.dynamicEntityModel.get("canon"):o.getEntityCanon(),subgroupName:"actions",key:"updated"});g.info(s),t()}))}})},onBatchExport:function(e,t){var i=this;this.$batchLadda.remove();var n=this.options,a=n.customColumnOptions,r=void 0===a?[]:a,o=n.exportFieldFilter,s=new _({selectedItems:e,grid:this,query:"selected",customColumnOptions:r,fieldFilter:o,exportData:function(e,n){e.alternateCaption=c.result(i.options,"exportCaption"),e.overrideObjectType=i.options.exportObjectType,i.gridHelper.exportData(e,(function(e,i){t(e,i),n(e,i)}))}});this.addSubView(s).renderAsModal()},getFieldsToColumnMapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.options,i=t.collection,a=t.excludeColumns,o=t.customColumnOptions,s=void 0===o?[]:o,l=t.disableColumnSort,d=i.getEntDefs()||[];return c.chain(e).compact().uniq().filter((function(e){return c.indexOf(a,e)<0})).map((function(e){return c.reduce(d,(function(t,i){var a=i.getFieldInfo("object"===n(e)?e.field:e),o=c.find(s,{field:e})||{};if("object"===n(e)&&!a)return t.isSortable=!1!==t.isSortable&&e.sort,r(r({},t),e);if(!a&&!c.isEmpty(o))return c.assign(t,o);if((!a||!1===a.gridVisible)&&e)return t;var l=a.sort,d=a.gridWidth,u=a.minGridWidth,p=a.typeDef,f=!1!==c.get(p,"gridSortable")&&!1!==a.flags.gridSortable;t.isSortable=!1!==t.isSortable&&l&&f,t.sort=l,c.isNumber(d)&&(d>t.width||!t.width)&&(t.gridWidth=d),c.isNumber(u)&&(u>t.width||!t.width)&&(t.minGridWidth=u);var m=h.translateKey({groupName:i.entityCanon,subgroupName:"fields",key:"object"===n(e)?e.field:e});return"object"===n(e)&&e.caption&&(m=e.caption),c.indexOf(t.caption.split(" / "),m)<0&&(t.caption+=c.isEmpty(t.caption)?m:" / ".concat(m)),t.kind=a.kind,t.fieldTypes.push(a.typeDef),t.dataFilterUniqueId=b.getDataFilterUniqueId(a),t.entityName=a.entityName,c.assign(t,o),t}),{field:"object"===n(e)?e.field:e,caption:"",gridWidth:0,minGridWidth:0,isSortable:!l&&null,fieldTypes:[],kind:"",entityName:""})})).value()},getAllColumns:function(){var e=this,t=this.options,i=t.collection,n=t.customColumnOptions,a=void 0===n?[]:n,r=t.dataContainerModel,o=i.getEntDefs(),s=c.chain(o).map((function(t){var i=c.pickBy(t.fields(),(function(i){if(!h.hasEnabledFeature(i))return!1;var n=t.getFieldFlags(i).gridVisible,a=c.includes(e._alwaysIncludeColumns,i.field);return n||a}));return c.keys(i)})).concat(c.map(a,"field")).flatten().compact().uniq().value(),l=c.filter(this.getFieldsToColumnMapping(s),(function(e){return c.indexOf(r.get("excludeColumns"),e.field)<0})),d=h.getDuplicateCaptions(c.mapValues(l,"caption"));return c.forEach(l,(function(e){return d[e.caption]&&(e.secondaryCaption=h.translateKey({groupName:e.entityName,subgroupName:"general",key:"name"})),e})),l},getSelectedColumns:function(){var e=this.options,t=e.columns,i=void 0===t?[]:t,n=e.dataContainerModel,a=c.map(n&&n.get("columns")||[],"field"),o=c.isEmpty(a)?i:a,s=n?n.get("sortOrder"):"",l=n?n.get("sortColumn"):"";c.find(o,(function(e){return e===l||e.field===l}))||c.isEmpty(o)||(l=c.first(o),null==n||n.set("sortColumn",l));var d=c.chain(this.getFieldsToColumnMapping(o)).map((function(e){var t=r(r({},e),{},{selected:!0});return e.field===l&&(t.sorted=!0,t.sortOrder=s),t})).filter("caption",!c.isEmpty).value(),u={caption:h.translateKey("no_grid_columns"),gridWidth:0,emptyHeader:!0};return d.length>0?d:[u]},addCustomColumnUniqueId:function(e){c.each(e,(function(e){e.dataFilterUniqueId=e.field}))},getSelectedColumnValues:function(){var e=this.getSelectedColumns();return 1===e.length&&e[0].emptyHeader?[]:c.map(e,"dataFilterUniqueId")},updateFixedCellHeights:function(){var e=this.$(".bbg-table-wrapper.fixed-cols"),t=e.find("> table");if(0!==t.length&&0!==t.height()){var i=t.find("> thead > tr, > tbody > tr"),n="";e.hasClass("fixed-first-col")&&(n+="th:first-of-type, td:first-of-type, "),e.hasClass("fixed-last-col")&&(n+="th:last-of-type, td:last-of-type, "),n=n.replace(/, $/,"");for(var a=0;a<i.length;a++){var r=this.$(i[a]),o=r[0].getBoundingClientRect().height;r.children(n).css("height",o)}var s=t.find("> thead > tr").first()[0].getBoundingClientRect().height;e.find(".batch-control").first().css("height",s)}},getTableSelectAllId:function(e){var t="select-all";if(c.isEmpty(e))return t;var i=(c.isArray(e)?e:[e]).map((function(e){var t=e.captionPlural;return(void 0===t?"":t).replace(/\s/g,"-").replace(/[^\w\-:.]/g,"")}));return"".concat(t,"-").concat(i.join("-").toLowerCase())},clearSelectedRow:function(){this.bodyView.clearSelectedRow()},getSelectedFields:function(){var e=this.getSelectedColumns();e&&(e=c.map(e,"field"));var t=c.get(this,"options.selectedFields",[]);return t.length>0&&(e=e.concat(t)),c.get(this,"options.enableFavorites",!1)&&(e=e.concat("userLists")),c.compact(e)}})},975892:(e,t,i)=>{"use strict";i(202008),i(426099),i(154554);var n=i(96190),a=i(274692),r=i(325425);e.exports=r.extend({template:i(273154),className:"grid-pager-tmpl",events:{"click .row-count-options li[data-page-count]":"onRowCountClick","click .pager-right:not(.disabled)":"onRightPagerClick","click .pager-left:not(.disabled)":"onLeftPagerClick","click .grid-pager li[data-page]:not(.disabled)":"onGridPagerNumberClick"},locals:function(){return n.extend(this.options,{collectionEmpty:this.getNoColumnsSelected()||0===this.collection.total,totalRecordCount:this.collection.total,startRecord:this.collection.getSkipCount()+1,endRecord:Math.min(this.collection.getRowCount()+this.collection.getSkipCount(),this.collection.total),pagerNumbers:this.getPagerNumbers(),firstPage:1,lastPage:Math.ceil(this.collection.total/this.collection.getRowCount()),currentPage:Math.ceil(this.collection.getSkipCount()/this.collection.getRowCount())+1,noColumnsSelected:this.getNoColumnsSelected()})},onInit:function(e){this.options=n.extend({},e),this.collection=e.collection,this.setNoColumnsSelected(e.noColumnsSelected)},setNoColumnsSelected:function(e){this.noColumnsSelected=e},getNoColumnsSelected:function(){return this.options.showEmptyGridWhenNoColumnsSelected&&this.noColumnsSelected},onRowCountClick:function(e){var t=parseInt(a(e.currentTarget).attr("data-page-count"),10);this.options.defaultRowCountOption=t,this.collection.setSkipCount(0),this.collection.setRowCount(t),this.options.grid.fetchCollection()},onRightPagerClick:function(){var e=this.collection.getSkipCount(),t=this.collection.getRowCount(),i=this.collection.getTotal();i?e+t<i&&(this.collection.setSkipCount(e+t),this.options.grid.fetchCollection()):(this.collection.setSkipCount(e+t),this.options.grid.fetchCollection())},onLeftPagerClick:function(){var e=this.collection.getSkipCount(),t=this.collection.getRowCount();this.collection.setSkipCount(Math.max(0,e-t)),this.options.grid.fetchCollection()},onGridPagerNumberClick:function(e){var t=this.collection.getRowCount(),i=parseInt(a(e.currentTarget).attr("data-page"),10)-1;this.collection.setSkipCount(i*t),this.options.grid.fetchCollection()},getPagerNumbers:function(e){if(this.getNoColumnsSelected())return[];var t=Math.ceil(this.collection.total/this.collection.getRowCount()),i=Math.ceil(this.collection.getSkipCount()/this.collection.getRowCount())+1,a=[1,n.range(i-2,i+3),t];a=n.chain(a).flatten(a).filter((function(e){return e<=t&&e>=1})).uniq().value();for(var r=0;r<a.length;r++)a[r]-a[r-1]>1&&(a.splice(r,0,"..."),r++);return a}})},148047:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(250113),i(426099);var o=i(96190),s=i(325425),l=i(40785);e.exports=s.extend({className:"row-actions-view-tmpl open",template:i(496411),onInit:function(e){this.options=e,this.selectedItems=e.selectedItems,this.removeRowActionsMenuView=e.removeRowActionsMenuView,this.resolveRules()},locals:function(){return{rowActions:this.options.rowActions}},events:{"click li.row-action":"onActionClick"},onRendered:function(){var e,t=null===(e=this.$el.find(".row-actions li")[0])||void 0===e?void 0:e.firstElementChild;null==t||t.focus()},onActionClick:o.throttle((function(e){var t=this.options.rowActions,i=e.currentTarget,n=o.find(t,(function(e){var t=e.caption;return i.getAttribute("data-caption")===t}));n.disabled||(this.actionView?this.removeActionView():n.View?this.renderActionView(n):o.isFunction(n.onClick)&&n.onClick.call(this,this.selectedItems,o.bind(this.rowActionDone,this)))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),renderActionView:function(e){var t=this,i=e.View,n=e.onComplete,a=e.options,o=void 0===a?{}:a;if(this.actionView)return this.removeActionView();var s=this.$(".row-action-view-container"),l=this.$("#row-actions-view");this.actionView=this.addSubView(new i(r(r({},o),{},{selectedItems:this.selectedItems,onComplete:function(e,i){t.rowActionDone(e,i,n)}})));var d=l.outerWidth();return s.css("right","".concat(d,"px")),s.css("position","absolute"),s.css("visibility","visible"),s.css("min-width","".concat(d,"px")),this.actionView.render(s).done()},removeActionView:function(){this.actionView&&(this.removeSubView(this.actionView),this.$(".row-action-view-container").removeAttr("style"),this.actionView=null)},rowActionDone:function(e,t,i){var n=!!o.isBoolean(t)&&t;if(e||n)return this.removeRowActionsMenuView();this.removeRowActionsMenuView(),o.isFunction(i)&&i()},resolveDisableRule:function(e){e.disabled=!!o.isFunction(e.disableRule)&&e.disableRule(this.selectedItems[0]),e.disabledMessage=e.disabledMessageKey?l.translateKey(e.disabledMessageKey):""},resolveDisplayRule:function(e){e.visible=!o.isFunction(e.displayRule)||e.displayRule(this.selectedItems[0])},resolveRules:function(){for(var e=0;e<this.options.rowActions.length;e++){var t=this.options.rowActions[e];this.resolveDisableRule(t),this.resolveDisplayRule(t)}}})},498648:(e,t,i)=>{"use strict";i(428706),i(962010),i(250113),i(426099);var n=i(274692),a=i(96190),r=i(920192),o=i(325425),s=i(809375),l=i(467650);e.exports=o.extend({tagName:"td",template:i(858127),onInit:function(e){var t=e.enableEdit,n=e.model,o=e.column,s=e.formattedData,l=e.entityDefinition,d=e.getCustomFieldDef,c=e.noClick,u=e.isRowDisabled;this.title=o.caption;var p=(a.isFunction(d)?d(o.field,n):null)||l.getFieldInfo(o.field);this.entDef=l,this.fieldDefinition=p,this.field=a.get(p,"field",null)||o.field,this.isEditable=!!a.isFunction(t)&&t(this.field,n),!c||this.isEditable||u||this.$el.addClass("no-click"),this.model=n,this.formattedData=s;var f=a.get(p,"compiledCellTemplate"),h=a.get(p,"typeDef.ui.cellTemplate");if(this.isEditable){if(this.model.get("cellTemplate")){var m=r.compile(this.model.get("cellTemplate"));return void(this.template=function(){return r.loadSource(m)})}this.template=i(332856),this.validationTooltipOpts={placement:"right",container:this.$el}}else f?(this.template=function(){return r.loadSource(f)},this.$el.addClass("".concat(n.entity.base,"-").concat(n.entity.name,"-").concat(this.field,"-cell-tmpl"))):h&&(this.template=h)},locals:function(){return{title:this.title,model:this.model.attributes,field:this.field,value:this.model.get(this.field),formattedData:this.formattedData,modelEntityCanon:this.model.getEntityCanon(),formattedFieldValue:this.formattedData[this.field],joinFields:this.getJoinsData(this.entDef,this.field)}},onRendered:function(){this.$el.attr("data-title",this.title),this.$el.attr("data-column",this.field);var e=this.$el.find(".truncated-container");return e.length>0&&(e.find(".non-truncated-text").hide(),new l({callback:this.updateTruncatedText}).render(e)),!!this.isEditable&&this.renderCellInputField()},updateTruncatedText:function(e,t){var i=e.closest(".truncated-container"),n=i.find(".truncated-text"),a=i.find(".non-truncated-text");"collapsed"===t?(n.hide(),a.show()):"expanded"===t&&(n.show(),a.hide());var r=e.closest("tr"),o=r.height();r.find(".action-menu-td").height(o),r.find(".batch-control-td").height(o)},renderCellInputField:function(){var e,t=this.fieldDefinition.type,i=s[t],a=null==i||null===(e=i.ui)||void 0===e?void 0:e.component();if(a){var r={fieldDef:this.fieldDefinition,field:this.field,model:this.model},o=n.Deferred();return this.addSubView(new a(r)).render(this.$(".cell-input-field"),(function(e){e&&o.reject(),o.resolve()})),o}},getJoinsData:function(e,t){var i=this,n={};return a.each(e.fields(),(function(e){"join"===e.kind&&e.kindOptions.referenceField===t&&(n[e.kindOptions.joinField]=i.model.get(e.field))})),n}})},539743:(e,t,i)=>{"use strict";i(134782),i(874423),i(250113),i(426099);var n=i(274692),a=i(96190),r=i(122268),o=i(768844),s=i(40785),l=i(441282),d=i(498648),c=i(584935),u=i(436053);e.exports=l.extend({tagName:"tr",attributes:function(){return{tabIndex:0}},CellComponent:d,CheckboxComponent:c,events:{click:"onClick",keyup:"onKeyUp"},locals:function(){return{model:this.model.attributes,formattedData:this.model.getFormattedData({escape:!0}),highlightedFields:this.model.getHighlightedData({escape:!0}),gridOptions:this.gridOptions,handle:this.handle,entity$:this.model.get("entity$").slice(2),route:s._getEntityNavigationRoute(this.model.attributes),formModel:a.get(this,"formModel.attributes",{}),columns:this.options.columns}},renderCheckbox:function(e){var t=this,i=this.options,n=i.multiSelect,a=void 0!==n&&n,r=i.multiSelectOnlyInEditMode,o=i.disableCheckboxCriteria,s=i.model,l=i.updateSelection;return!0!==a?e():(this.checkboxView=this.addSubView(new this.CheckboxComponent({tagName:"td",className:"batch-control-td no-print",model:s,isRowDisabled:!0!==a||this.isRowDisabled,multiSelectOnlyInEditMode:r,disableCheckboxCriteria:o,updateSelection:l})),this.checkboxView.render(this.$el).done((function(){var i=document.createElement("td");i.className="fixed-first-col-spacer no-print",t.$el.append(i),e()})))},renderStar:function(e){var t=this.options,i=t.enableFavorites,n=void 0!==i&&i,a=t.disableRow,r=t.model,o=t.fetchCollection,s=this.options.onToggleComplete;if("function"==typeof s){var l=s;s=function(){l(),o()}}else s=function(){return o()};return n?a&&a.criteria(r)?(this.$el.append("<td></td>"),e()):(this.$el.append('<td class="star-control-td"></td>'),this.addSubView(new u({model:r,onToggleComplete:s})).render(this.$el.children(".star-control-td")[0]).done((function(){e()}))):e()},renderItem:function(e){var t=this,i=this.options,n=i.columns,a=i.highlightSelectedRow,o=i.selectedRowId;r.series([function(e){return t.renderCheckbox(e)},function(e){return t.renderStar(e)},function(e){return r.each(n,t.renderCell.bind(t),e)}],(function(){a&&o&&o===t.model.get("id")&&t.highlight(),e()}))},renderCell:function(e,t){var i,n=this.options,r=n.getCustomFieldDef,o=n.enableEdit,s=n.model,l=n.onRowClicked,c=this.model.getEntityDefinition(),u=this.model.getFormattedData({escape:!0}),p=(a.isFunction(r)?r(e.field,s):null)||c.getFieldInfo(e.field),f=(null==p||null===(i=p.typeDef)||void 0===i||null===(i=i.ui)||void 0===i?void 0:i.cellComponent)||null;this.CellComponent=f?f():d;var h=new this.CellComponent({model:s,enableEdit:o,column:e,entityDefinition:c,formattedData:u,getCustomFieldDef:r,noClick:!a.isFunction(l),isRowDisabled:this.isRowDisabled});this.addSubView(h).render(this.$el).done(t)},renderActionButtons:function(e){var t=this.options,i=t.model,n=t.rowActions,r=t.fetchCollection,s=t.showActionColumn,l=void 0!==s&&s,d=t.disableRowActions,c=void 0!==d&&d;if(!0!==l)return e();if(!this.options.rowActionTarget){var u=document.createElement("td");u.className="fixed-last-col-spacer",this.$el.append(u);var p=document.createElement("td");p.className="action-menu-td",this.$el.append(p)}return a.isEmpty(n)||!0===c?e():this.addSubView(new o({model:i,rowActions:n,fetchCollection:r})).render(this.$("".concat(this.options.rowActionTarget||".action-menu-td"))).done(e)},updateCheckbox:function(e){this.checkboxView&&this.checkboxView.updateState(e)},onKeyUp:a.throttle((function(e){if(["Enter","NumpadEnter"].includes(e.code)){var t=this.options.onEnterKeyUp,i=void 0===t?null:t;return(a.isFunction(i)?i:this.handleClick).call(this,e)}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onClick:a.throttle((function(e){return this.handleClick(e)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),handleClick:function(e){var t=this.options,i=t.onRowClicked,r=t.model,o=t.highlightSelectedRow,s=void 0!==o&&o,l=n(e.target).hasClass("action-menu-td")||n(e.target).parents().hasClass("action-menu-td"),d="checkbox"===e.target.type||n(e.target).hasClass("batch-control-td");e.target.getAttribute("data-route")||e.target.parentElement.getAttribute("data-route")||(s&&this.highlight(),l||d||this.isRowDisabled||!a.isFunction(i)||i(r,e))},highlight:function(){var e="selected";this.$el.parent().find("tr").removeClass(e),this.$el.addClass(e)}})},608758:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(944114),i(874423),i(21699),i(327495),i(725440),i(250113),i(426099),i(962062),i(938781),i(202008),i(428706),i(311927),i(726910),i(962010),i(790744),i(879432),i(423500),i(134782);var r=i(96190),o=i(274692),s=i(920192),l=i(410114).A,d=i(40785),c=i(93216),u=i(939994),p=i(809375),f=d.getPicklistsConfig(),h=i(498667),m=i(967209),g=i(36742);function y(e,t){r.isUndefined(e)||($appData.missingTranslationsKeys.push(e),window.console&&(void 0===e?g.log("A resource key attribute is missing in template "+t):g.log('Resource key "'+e+'" not defined for template '+t)))}i(920617),s.helpers||(s.helpers={}),$appData.missingTranslationsKeys||($appData.missingTranslationsKeys=[]),s.helpers.imageUrl=function(e,t,i,n){var a=n.urlVal&&r.isString(n.urlVal)?n.urlVal.replace(/{apiRoot}/,$appData.globalConfig.apiRoot):"";return e.write(a),e},s.helpers.indicator=function(e,t,i,n){var a="none";if(void 0===n.primaryState)return e.write(a),e;var o=r.find($appData.workflow.primaryStateTypes,(function(e){return e.value.toLowerCase()===n.primaryState.toLowerCase()}));return o&&(a=o.indicator),e.write(a),e},s.helpers.resource=function(e,t,i,n){if(void 0===n.key&&void 0===n.group&&void 0===n.subgroup)return y(n.key,t.templateName),e.write($appData.globalConfig.missingTranslationIndicator+" resource missing key "+$appData.globalConfig.missingTranslationIndicator),e;void 0===n.groupName&&(n.groupName=null),void 0===n.subgroupName&&(n.subgroupName=null),void 0===n.key&&(n.key=null);var a=n.keyPrefix||"",o="true"===n.colon?":":"";null===n.groupName&&null===n.subgroupName&&null===n.key&&(n.key="null");var l=a.length>0?a+n.key:n.key;r.isObject(l)||(l={groupName:n.groupName,subgroupName:n.subgroupName,key:l});var c=d.translateKey(l,{missingTranslationValue:n.missingTranslationValue,context:n.context});return"false"!==n.escape&&(c=r.escape(c)),r.isEmpty(c)?(l=l.toString().toLowerCase(),r.isEmpty(c)?(y(l,t.templateName),e.write($appData.globalConfig.missingTranslationIndicator+" "+n.groupName+$appData.globalConfig.missingTranslationSeparator+n.subgroupName+$appData.globalConfig.missingTranslationSeparator+l+" "+$appData.globalConfig.missingTranslationIndicator)):e.write(c+o),e):n.ctxt?e.map((function(e){s.renderSource(c+o,n.ctxt,(function(t,i){e.write(i).end()}))})):e.write(c+o)},s.helpers.diffFormat=function(e,t,i,n){function o(e){return r.isEmpty(e)&&!r.isNumber(e)&&!r.isBoolean(e)}function s(e){return r.isArray(e)?e:e?e.split(", "):[]}if(!r.isObject(n.changes)||!n.objectType)return e;var l=[],c=n.objectType,h=d.translateKey("from:"),m=d.translateKey("to:"),g=d.translateKey("empty"),y=d.translateKey("removed:"),v=d.translateKey("added:"),b=d.getEntDef(c),w=r.find(b.isDynamicEntity()?$appData.dynamicEntityFields:$appData.entityFields,{entity:b.entity}).fields,A=r.mapValues(n.diff,"originalValue");if(A=r.extend({},n.data,A),r.each(n.changes,(function(e,t){var i,c,C,k,x=w[t];if(x||(t=null===(k=x=function(e){var t,i=e.entFields,o=e.propertyName,s=e.diff;return r.includes(o,".")&&(t=function(e){var t,i=e.entFields,n=e.diff,o=e.propertyName.split("."),s=o[0],l=r.last(o),d=i[s];if(!d)return null;var c=null===(t=p[d.type])||void 0===t?void 0:t.historyDisplayProperty;return c!==l?null:(n.originalValue&&(n.originalValue=a({},c,n.originalValue)),n.updatedValue&&(n.updatedValue=a({},c,n.updatedValue)),d)}({entFields:i,propertyName:o,diff:s}),t)||(t=function(e){var t=e.entFields,i=e.propertyName,n=e.diff,a=e.changes;if(!r.includes(i,"dynamicData."))return null;var o=i.split(".")[1];return t[o=r.camelCase(o)]?null:(r.assign(n,a[o]),{field:o,kind:"dynamic"})}({entFields:i,propertyName:o,diff:s,changes:n.changes})),t}({entFields:w,propertyName:t,diff:e}))||void 0===k?void 0:k.field),x){var _,E=p[x.type];if("default"===t&&x.type!==n.data.type&&(E=p[n.data.type],r.isFunction(null===(_=E)||void 0===_||null===(_=_.db)||void 0===_?void 0:_.afterRead))){var I=E.db.afterRead;e.originalValue&&(e.originalValue=I(null,e.originalValue)),e.updatedValue&&(e.updatedValue=I(null,e.updatedValue))}if(!1!==b.getFieldFlags(x).audit){var S=null===(i=E)||void 0===i?void 0:i.format,D=null===(c=E)||void 0===c?void 0:c.formatHtml,F=(null===(C=E)||void 0===C?void 0:C.escape)||r.escape,O={data:n.data,globalOptions:$appData.globalConfig,fieldDef:x,translateKey:d.translateKey,picklistConfig:f,entityService:u};if(n.workflow){var B=e.originalValue?e.originalValue:d.translateKey("empty");l.push([t,h,B,m,e.updatedValue])}else if("D"!==e.kind&&e.originalValue!==e.updatedValue){var T=e.originalValue,N=e.updatedValue;D?(T=D(T,r.extend({},O,{data:A})),N=D(N,O),T=d.sanitizeHtml(T),N=d.sanitizeHtml(N)):S&&(T=S(T,r.extend({},O,{data:A})),N=S(N,O),T=F(T),N=F(N));var P=d.translateKey({groupName:n.objectType,subgroupName:"fields",key:t});if(P='<b data-field="'.concat(t,'">').concat(P,"</b><br/>"),o(T)||o(N)||r.isArray(e.originalValue))if(o(N)||r.isArray(e.updatedValue))if(o(T)||r.isArray(e.originalValue)){var R=s(T),j=s(N),M=r.difference(R,j),Q=r.difference(j,R);M.length>0&&Q.length>0?l.push([P,y,M.join(","),"<br/>".concat(v),Q.join(",")]):M.length>0?l.push([P,y,M.join(",")]):Q.length>0&&l.push([P,v,Q.join(",")])}else l.push([P,h,T,m,g]);else l.push([P,m,N]);else l.push([P,h,T,m,N])}}}})),l.length>0){var C=function(e){var t={};return e.filter((function(e){if(!t.hasOwnProperty(e[0]))return t[e[0]]=!0,e}))}(l);e.write(r.chain(C).sortBy((function(e){return e[0]})).map((function(e){return e.join(" ")})).map((function(e){return d.sanitizeHtml(e)})).join("<br />").value())}return e},s.helpers.referenceFormat=function(e,t,i,n){if(r.isObject(n.diff)&&n.objectType){var a=n.diff,o="",s=d.getEntDef(n.objectType);r.each(a,(function(e,t){var i=s.getFieldInfo(t);if(!1!==s.getFieldFlags(i).audit){var a=r.get(i,"typeDef.format"),l=r.get(i,"typeDef.escape")||r.escape,c={data:n.data,globalOptions:$appData.globalConfig,fieldDef:i,translateKey:d.translateKey,picklistConfig:f,entityService:u},p=d.translateKey({groupName:n.objectType,subgroupName:"fields",key:t}),h=e.updatedValue;a&&(h=a(h,c)),h=l(h),o+=p+": "+h+"<br>"}})),o&&o.length>0&&(o=d.sanitizeHtml(o)),e.write(o)}return e},s.helpers.acl=function(e,t,i,n){var a=(n.role||"").split(","),o=$appData.user.perm.roles,s=r.intersection(o,a).length>0;return!i.block||!s&&n.role?i.else?e.capture(i.else,t,(function(e,t){t.end(e)})):e:e.capture(i.block,t,(function(e,t){t.end(e)}))},s.helpers.keyvalue=function(e,t,i,n){var a,o=n.on;return r.each(o,(function(n,o){var s=r.isNull(n)||r.isUndefined(n)?"":n.toString();a={key:o,value:s,rawValue:n},e=e.render(i.block,t.push(a))})),e},s.helpers.keyvaluesort=function(e,t,i,n){var a,o=function(e){var t=[],i={};for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(),r.each(t,(function(t){i[t]=e[t]})),i}(n.on);return r.each(o,(function(n,o){var s=r.isUndefined(n)||r.isNull(n)?"":n.toString();a={key:o,value:s},e=e.render(i.block,t.push(a))})),e},s.helpers.capitalize=function(e,t,i,n){var a=n.val;return a=a.toLowerCase().replace(/\b\w/g,(function(e){return e.toUpperCase()})).replace(/-/g,""),e.write(a),e},s.helpers.stripHtml=function(e,t,i,n){var a=t.resolve(n.value),r=o("<div></div>",{html:a}).text();return e.write(r),e},s.helpers.entityRowTemplate=function(e,t,n,a){var o=u.get(a.entity),l=r.constant(h),c=r.result(o,["rowTemplates",a.template],l),p=new(i(637527));p.entity=o.entity,p.set(a.model);var f=o.entity.base+"/"+o.entity.name,m=d.translateKey({groupName:f,subgroupName:"general",key:"name"}),g=r.defaults(a.formattedData||p.getFormattedData({escape:!0}),{typeText:m}),y={model:a.model,formattedData:g,highlightedFields:p.getHighlightedData({escape:!0}),entity$:f};return e.map((function(e){s.render(c,y,(function(t,i){if(t)throw t;e.write(i).end()}))}))},s.helpers.entityLink=function(e,t,i,n){var a=d.getEntDef(n.entity),o=d._getEntityNavigationRoute(r.extend({},n.context,{entity$:a.entity.base+"_"+a.entity.name})),s=n.target?'target="'+n.target+'"':"",l=n["aria-label"]?'aria-label="'.concat(d.translateKey(n["aria-label"]),'"'):"";return i.block?e.capture(i.block,t,(function(e,t){var i=!0;if(n.roles){var a=n.roles.split(/\s*,\s*/);i=c.hasRole(a,n.roleOperator)}if(!i||!o)return t.end("<span>".concat(e,"</span>")),t;t.end('<a href="'.concat(o,'" ').concat(s," ").concat(l,' data-route="').concat(o,'">').concat(e,"</a>"))})):e},s.helpers.entityIcon=function(e,t,i,n){var a,r=d.getEntDef(n.entity);a=r.dynamic||r.customForm?u.get("isight/dynamic_entity").icon:r.icon?r.icon:"fa-file-o";var o=n.size||"",l=n.additionalClasses||"",c=!n.showTooltip||JSON.parse(n.showTooltip),p={entityName:r.entity.base+"/"+r.entity.name,iconName:a,iconSize:o,showTooltip:c,additionalClasses:l};return e.map((function(e){s.render(m,p,(function(t,i){if(t)throw t;e.write(i).end()}))}))},s.helpers.truncate=function(e,t,i,n){var a=s.helpers.tap(n.data,e,t),d=o.parseHTML(a),c=0;if(r.forEach(d,(function(e){c+=e.textContent.length})),c<=n.length)return e.write(a),e;var u=r.toNumber(s.helpers.tap(n.length,e,t)),p=l(a,u,{html:!0,breakWords:!0,indicator:"..."}),f='<span class="non-truncated-text">'.concat(a,"</span>"),h='<span class="truncated-text">'.concat(p,"</span>"),m='\n\t\t<div class="truncated-container">\n\t\t\t'.concat(f+h,"\n\t\t</div>\n\t");return e.write(m),e},s.helpers.notInArray=function(e,t,i,n){var a=n.value,o=n.array;return r.isString(o)&&(o=o.split(",")),r.includes(o,a)?i.else&&e.render(i.else,t):e.render(i.block,t),e},s.helpers.find=function(e,t,i,n){var a=n.value,o=n.key,s=n.array,l=r.find(s,(function(e){return o?r.get(e,o)===a:e===a}));if(l){var d=t.push(l);e.render(i.block,d)}else i.else&&e.render(i.else,t);return e},s.helpers.eqLowerCase=function(e,t,i,n){var a=n.value1,o=n.value2;return r.isString(a)&&r.isString(o)&&a.toLowerCase()===o.toLowerCase()?e.render(i.block,t):i.else&&e.render(i.else,t),e},s.helpers.truncateByItem=function(e,t,i,n){var a=s.helpers.tap(n.data,e,t),o=r.toNumber(s.helpers.tap(n.count,e,t)),l=s.helpers.tap(n.seperator,e,t),d=a.split(l),c=a;return d.length>o&&(c=d.slice(0,o).join(l).concat("".concat(l,"..."))),e.write(c),e},s.helpers.get=function(e,t,i,n){var a=t.resolve(n.key),o=t.get(a);return e.reference(r.escape(o),t)},e.exports=s},977312:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(202008),i(327495),i(5746),i(726910),i(533110),i(944114),i(16280),i(428706);var n=i(96190),a=i(274692),r=i(922721),o=i(307312),s=i(621299),l=i(40785),d=r.object().keys({query:r.object().allow(null)});e.exports=o.extend({total:0,_rowCount:null,_skipCount:0,_filter:null,_sort:null,_highlight:null,_showInactiveRecords:!1,_showCanceledCases:!1,_aggregates:null,_highlightOperator:null,_ignoreFetchErrors:null,initialize:function(e,t){if(t&&t.filter&&this.setFilter(t.filter),t&&!n.isUndefined(t.showInactiveRecords)&&(this._showInactiveRecords=t.showInactiveRecords),t&&!n.isUndefined(t.showCanceledCases)&&(this._showCanceledCases=t.showCanceledCases),t&&!n.isUndefined(t.aggregates)&&(this._aggregates=t.aggregates),t&&t.highlightOperator&&(this._highlightOperator=t.highlightOperator),this._ignoreFetchErrors=!!t&&!0===t.ignoreFetchErrors,o.prototype.initialize.call(this,e,t),t&&t.ids&&this.setFilter({query:this.getIdsFilter(t.ids)}),!this._filter){var i=this.getDefaultFilter(t);n.isEmpty(i)?this.resetFilter():this.setFilter({query:i.toQuery()})}},fetch:function(e){var t=this;e||(e={});var i={reset:!0===e.reset,type:"POST",dataType:"json",contentType:"application/json",data:n.assign({showInactiveRecords:t._showInactiveRecords,showCanceledCases$:t._showCanceledCases,highlightOperator$:t._highlightOperator,aggregates$:t._aggregates,entitiesSelectedFields$:t.getEntitiesSelectedFields(),search:{}},e.data),success:e.success,error:e.error};return this.getFilter()&&(i.data.search=n.cloneDeep(this.getFilter())),this._sort&&(i.data.search.sort=this._sort),this._rowCount&&(i.data.search.size=this._rowCount),this._highlight&&(i.data.search.highlight=this._highlight),this._ignoreFetchErrors&&!i.error&&(i.error=l.ignoreBackboneAjaxErrors),i.data.search.from=this._skipCount,this._fetch(i)},getIdsFilter:function(e){return{bool:{must:[{terms:{id:e=n.isArray(e)?e:[e]}}]}}},_fetch:function(e){var t,i,n,r,s=e.success;return this._rowCount>=0?(e.data=JSON.stringify(e.data),o.prototype.fetch.call(this,e)):((t=e.data).search.size=100,e.reset=!1,e.remove=!1,r=this,n=new a.Deferred,i=0,function a(){t.search.from=i,e.data=JSON.stringify(t),e.success=function(e,o){var l=0;o&&o.hits&&(l=o.hits.total),i+t.search.size>=l?(e.reset(e.models),n.resolveWith(r),s&&s.apply(r,arguments)):(i+=t.search.size,a())},o.prototype.fetch.call(r,e)}(),n.promise())},parse:function(e,t){var i=[],a=this.getQueryText();return e.hits.hits.length>0?(this.aggregations=e.aggregations,this.total=e.hits.total,n.each(e.hits.hits,(function(t){t._source.id=t._id,t._source._type=t._type,t._source.users=e.users,t._source.highlightedFields=s.getHighlights(t,a),i.push(t._source)}))):this.total=0,o.prototype.parse.call(this,i,t)},resetFilter:function(){this._filter={}},resetRowCount:function(){this._rowCount=null},resetSkipCount:function(){this._skipCount=0},resetSort:function(){this._sort=null},resetHighlight:function(){this._highlight=null},setFilter:function(e){if(e){if(d.validate(e).error)throw new Error("No query in ".concat(this,": ").concat(JSON.stringify(e,!1,2)));this._filter=e}else this.resetFilter()},setQueryText:function(e){this._queryText=e},setRowCount:function(e){this._rowCount=e},setSkipCount:function(e){this._skipCount=e},setSort:function(e){this._sort=e},setHighlight:function(e){this._highlight=e},setTotal:function(e){this.total=e;var t=Math.floor(e/this.getRowCount()),i=Math.max(Math.min(this.getRowCount()*(t-1),this.getSkipCount()),0);this.setSkipCount(i)},getQueryText:function(e){return this._queryText},getFilter:function(){return this._filter},getRowCount:function(){return this._rowCount},getSkipCount:function(){return this._skipCount},getSort:function(){return this._sort},getHighlight:function(){return this._highlight},getTotal:function(){return this.total},getDefaultFilter:function(){return{}}})},250809:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(96190),a=i(644438),r=i(40785),o=i(45701),s={globalOptions:$appData.globalConfig};function l(e){if(!e)return null;if(!n.isArray(e)&&!n.isObject(e))return null;var t=n.isArray(e)?e:[e];return n.filter(t,(function(e){return e.allowAdvancedSearch}))}function d(e){if(!e)return null;if(!e.searchText)return null;if(!n.isFunction(e.buildQueryFn))return null;var t=e.searchText,i=e.buildQueryFn,a=e.operator||"contains",r=!1!==e.applyDefaultFilters,l=n.isArray(e.entities)?e.entities:[e.entities],d=o.getEnabledFeatures();return i({entDefs:l,operator:a,searchText:t,applyDefaultFilters:r,context:s,enabledFeatures:d,lang:$appData.intakeTranslationLanguage})}e.exports.getEntitiesAnyTermsMatchQuery=function(e){return d(n.assign({},e,{buildQueryFn:a.getAnyTermsEntitesQuery}))},e.exports.getEntitiesAllTermsMatchQuery=function(e){return d(n.assign({},e,{buildQueryFn:a.getAllTermsEntitesQuery}))},e.exports.getEntitiesExactWordsMatchQuery=function(e){return d(n.assign({},e,{buildQueryFn:a.getExactWordsEntitiesQuery}))},e.exports.getAllEntitiesAnyTermsMatchQuery=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contains",n={entities:l(r.getAllEntDefs()),searchText:t,operator:i,context:s};return e.exports.getEntitiesAnyTermsMatchQuery(n)},e.exports.getAllEntitiesAllTermsMatchQuery=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contains",n={entities:l(r.getAllEntDefs()),searchText:t,operator:i,context:s};return e.exports.getEntitiesAllTermsMatchQuery(n)},e.exports.getAllEntitiesExactWordsMatchQuery=function(t){var i={entities:l(r.getAllEntDefs()),searchText:t,context:s};return e.exports.getEntitiesExactWordsMatchQuery(i)}},89371:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(16280),i(343359),i(962010),i(428706),i(533110),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var r=i(274692),o=i(96190),s=i(939994),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.entityRecordId,n=t.entityCanon;if(!n)throw Error("entityCanon is missing");if(!i)throw Error("entityRecordId is missing");this.entityRecordId=i,this.entityCanon=o.trimStart(n,"-/"),this.buildUrl()}var t,i;return t=e,(i=[{key:"getEntityName",value:function(){var e=s.get(this.entityCanon);return e?e.entity.name:null}},{key:"buildUrl",value:function(){this.entityName=this.getEntityName(),this.url="".concat($appData.globalConfig.apiRoot,"/entity-flags/").concat(this.entityName,"/").concat(this.entityRecordId)}},{key:"listEntityFlags",value:function(e){r.ajax({type:"GET",url:this.url,contentType:"application/json",dataType:"json"}).done((function(t){e(null,t)})).fail((function(t){var i,n=(null==t||null===(i=t.responseJSON)||void 0===i?void 0:i.message)||"Could not list entity flags";e(new Error(n))}))}},{key:"setEntityFlag",value:function(e,t){var i={setFlag:e.flag};r.ajax({type:"POST",url:this.url,contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done((function(e){t(null,e)})).fail((function(e){var i,n=(null==e||null===(i=e.responseJSON)||void 0===i?void 0:i.message)||"Could not set entity flag";t(new Error(n))}))}},{key:"unsetEntityFlag",value:function(e,t){var i={unsetFlag:e.flag};r.ajax({type:"POST",url:this.url,contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done((function(e){t(null,e)})).fail((function(e){var i,n=(null==e||null===(i=e.responseJSON)||void 0===i?void 0:i.message)||"Could not unset entity flag";t(new Error(n))}))}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},353538:(e,t,i)=>{"use strict";var n=i(440389).validation,a=i(983256);e.exports=new a({parambulatorPrefs:n.prefs})},621299:(e,t,i)=>{"use strict";i(202008),i(426099),i(944114),i(962062);var n=i(96190),a=i(260556).aj,r=i(40785),o=i(939994),s=i(809375),l=i(909139),d=n.assign({},l,{getHighlights:function(e,t,i){var a=d.getHighlightFields(e,t);return{highlightedFields:n.sortBy(a,"highlightRank")}},getRank:function(e,t,i){var a=r.getEntDef(t._type).fields(),l=n.filter(a,{field:e.fieldName})[0],d=s[l.type],c=r.getPicklistsConfig(),u={data:t._source,fields:a,globalOptions:$appData.globalConfig,translateKey:r.translateKey,picklistConfig:c,fieldDef:l,entityService:o},p=t._source[e.fieldName],f=d.format?d.format(p,u):p;return(f=f?f.toLowerCase():f)===(i=i?i.toLowerCase():i)?1:f&&-1!==f.indexOf(i)?2:3},getHighlightFields:function(e,t){var i=[];return e.inner_hits&&(i=d.getInnerHitHighlightFields(e)),n.each(e.highlight,(function(n,a){var o=d.getFieldName(a),s=r.getEntDef(e._type).getFieldInfo(o);if(r.hasEnabledFeature(s)){var l={fieldName:o,highlight:d.getFieldValue(s,n)};l.highlightRank=d.getRank(l,e,t),i.push(l)}})),i},escapeScoredHighlightedFields:function(e){var t=n.map(n.get(e,"highlightedFields"),(function(e){var t=n.map(e.highlight,(function(e){return a(e)}));return n.extend({},e,{highlight:t})}));return n.extend({},e,{highlightedFields:t})},escapeHighlightedFields:function(e){return n.mapValues(e,(function(e){return n.map(e,(function(e){return a(e)}))}))}});e.exports=d},413995:(e,t,i)=>{"use strict";i(426099),i(478350),i(730237);var n=i(96190),a=i(896727),r=i(40785),o=i(942788),s=i(527909);e.exports={share:function(e,t){var i=n.once(t),s=n.some(e,(function(e){return n.isEmpty(e.get("files"))}));if(n.some(e,(function(e){return!!e.get("pendingPurgeDate")||!!e.get("datePurged")})))return a.error(r.translateKey({groupName:"fileSharing",subgroupName:"error",key:"cannot_share_file_marked_purged"})),i();if(s)return a.error(r.translateKey({groupName:"fileSharing",subgroupName:"error",key:"cannot_share_empty_files"})),i();var l=n.flatMap(e,(function(e){return e.get("files")})),d=new o({multipleFiles:!0,fileModels:e,files:l});return d.on("shared",i),d.on("remove",n.partial(i,null,!0)),this.addSubView(d).renderAsModal()},sharedLinkRowAction:function(e,t,i){if(e.get("datePurged"))return null;var n=new s({model:e});return i.addSubView(n).renderAsModal(),n.on("updated",(function(){return i.gridView.fetchCollection()}))}}},992574:(e,t,i)=>{"use strict";i(327495),i(671761),i(428706);var n=i(410114).A;function a(e){switch(e.substring(e.lastIndexOf(".")).toLowerCase()){case".flac":case".m4a":case".mp3":case".wav":case".wma":return"audio";case".xls":case".xlsx":return"excel";case".jpg":case".jpeg":case".tiff":case".gif":case".bmp":case".png":return"image";case".mkv":case".flv":case".vob":case".gifv":case".avi":case".mov":case".wmv":case".asf":case".mp4":case".m4v":case".mpg":case".mpeg":return"video";case".pdf":return"pdf";case".ppt":case".pptx":return"powerpoint";case".doc":case".docx":return"word";case".zip":case".rar":return"archive";case".ort":case".pages":case".readme":case".rtf":case".text":case".txt":return"text";case".msg":return"email";case".csv":return"csv";default:return"unknown_type"}}e.exports={getFileType:a,getIconClass:function(e){switch(a(e)){case"audio":return"fa-file-audio-o";case"excel":return"fa-file-excel-o";case"image":return"fa-file-image-o";case"video":return"fa-file-video-o";case"pdf":return"fa-file-pdf-o";case"powerpoint":return"fa-file-powerpoint-o";case"word":return"fa-file-word-o";case"archive":return"fa-file-archive-o";case"text":default:return"fa-file-text-o";case"email":return"fa-envelope-o"}},getShortFileName:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.length>e){var i=t.match(/\S{0,5}\.[\w\d]{1,5}$/);i||(i=t.match(/.{5}$/));var a=i?i[0]:"",r=n(t,e-a.length,{breakWords:!0});return"".concat(r).concat(a)}return t}}},321912:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(962010),i(523418),i(690906),i(16280),i(45700),i(689572),i(102892),i(83851),i(681278),i(426099),i(423500),i(327495),i(671761),i(879432),i(962062),i(944114),i(202008),i(250113);var c=i(96190),u=i(40785),p=i(809375),f=i(36742).create("filter-utils.js"),h={transformFilterData:function(e){var t=e.data,i=e.entDef;return c.map(t,(function(e){var t=[];return t.push(e.value),t.push(e.value1),t.push(e.value2),{fieldId:e.field,operator:e.operator,fieldValues:h.transformFieldValues({entDef:i,fieldId:e.field,fieldValues:c.filter(t,(function(e){return!c.isNil(e)}))}),filterChildId:e.filterChildId}}))},transformFieldValues:function(e){var t=e.entDef,i=e.fieldId,n=e.fieldValues,a=c.find(t.fields(),{id:i}),r=c.get(a,"type"),o=p[r],s=c.get(o,"db.beforeSave");return s?c.map(n,(function(e){return s(null,e,{fieldDef:a})})):n},setFilterChildrenFormattedValues:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c.forEach(e,(function(e){var n,a,p=e.fieldName,h=e.joinData,m=e.operator,g=[];c.isEmpty(h)?c.forEach(e.fieldValues,(function(e){g.push(o({},p,e))})):g.push.apply(g,function(e){if(Array.isArray(e))return d(e)}(a=h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||l(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n="contains"===m?function(e,t){var i=f.fn("getContainsFieldValueObjs");return c.forEach(e,(function(e){var n=e[t];if(c.isArray(n)&&c.isString(n[0])){var a=s(n,1);e[t]=a[0]}else if(c.isString(n)&&n.match(/^\[['"].*?['"]]$/))try{var r=s(JSON.parse(n),1);e[t]=r[0]}catch(e){i.error(e)}})),e}(g,p):c.map(g,(function(e){return u.getFormattedValues({fields:t.fields(),entityObj:e,context:r(r({},i),{},{useAfterDbRead:!0})})})),e.fieldValuesFormatted=c.map(n,(function(e){return e[p]}))}))}};e.exports=h},730295:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(202008),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(134782),i(938781),i(523418),i(690906),i(311927),i(962062),i(428706),i(962010),i(16280),i(327495),i(5746),i(726910),i(533110),i(426099),i(423500),i(944114);var s=i(96190),l=i(274692),d=i(184743),c=i(939994),u=i(307312),p=i(637527),f=i(40785),h=i(621299),m=i(93216);e.exports=u.extend({initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.entDefs,n=t.entityNames,a=t.showInactiveRecords,r=void 0!==a&&a,o=t.showCanceledCases,s=void 0!==o&&o,l=t.isAdvancedSearch,d=void 0!==l&&l,c=t.ignoreFetchErrors,p=void 0!==c&&c,f=t.highlightOperator,h=t.aggregates,m=t.fields,g=t.language,y=void 0===g?$appData.intakeTranslationLanguage:g,v=t.systemTranslationLanguage;this.setInitialEntDefs(i,n),this.setRecordCounts({}),this.setLanguage(y),this.setSystemTranslationLanguage(v),this.setRowCount(0),this.setSkipCount(0),this.setTotal(0),u.prototype.initialize.call(this,e,t),this.showInactiveRecords=r,this.showCanceledCases=s,this.isAdvancedSearch=d,this.ignoreFetchErrors=p,this.fields=m,f&&this.setHighlightOperator(f),h&&this.setAggregates(h),this.setInitialFilter(t),this.on("reset",this.onCollectionReset,this)},model:function(e,t){var i=e._type;return new(c.get(i).model()||p)(e,t)},url:function(){var e=s.chain(this.getEntDefs()).map((function(e){return"".concat(e.entity.base,"_").concat(e.entity.name)})).uniq().join(",").value();return"".concat($appData.globalConfig.apiRoot,"/grid_search/").concat(e)},setInitialEntDefs:function(e,t){var i;if(e)i=e;else if(t)i=t.map((function(e){return f.getEntDef(e)}));else if(this.entDefs)i=s.isFunction(this.entDefs)?this.entDefs():this.entDefs;else if(this.entity){var n=s.isFunction(this.entity)?this.entity():this.entity;i=[c.get(n)]}if(s.isEmpty(i))throw new TypeError("No entity information found");this.setEntDefs(i)},setInitialFilter:function(e){var t=e.ids;if(t)this.setFilter(this.getIdsFilter(t));else if(!this.getFilter()){var i=this.getDefaultFilter(e);s.isEmpty(i)?this.resetFilter():this.setFilter(i.toQuery())}},getAdvancedSearchFetchOpts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,n=e.reset,a=void 0!==n&&n,r=e.success,o=void 0===r?s.noop:r,l=e.error,d=void 0===l?s.noop:l,c={type:"POST",dataType:"json",contentType:"application/json",data:s.assign({showInactiveRecords:this.showInactiveRecords,showCanceledCases$:this.showCanceledCases,entitiesSelectedFields$:this.getEntitiesSelectedFields(),highlightOperator$:this.getHighlightOperator(),search:{}},i),reset:a,success:o,error:d};return this.getFilter()&&(c.data.search.query=s.cloneDeep(this.getFilter())),this.getSort()&&(c.data.search.sort=this.getSort()),this.getRowCount()&&(c.data.search.size=this.getRowCount()),this.getAggregates()&&(c.data.aggregates$=this.getAggregates()),this.getLanguage()&&(c.data.lang=this.getLanguage()),this.getSystemTranslationLanguage()&&(c.data.systemTranslationLanguage=this.getSystemTranslationLanguage()),c.data.search.from=this.getSkipCount(),c},getFetchOpts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,n=e.reset,a=void 0!==n&&n,r=e.success,o=void 0===r?s.noop:r,l=e.error;l||(l=this.ignoreFetchErrors?f.ignoreBackboneAjaxErrors:s.noop);var c={type:"POST",dataType:"json",contentType:"application/json",data:s.assign({showInactiveRecords:this.showInactiveRecords,showCanceledCases$:this.showCanceledCases,fields:this.fields,entitiesSelectedFields$:this.getEntitiesSelectedFields(),highlightOperator$:this.getHighlightOperator(),searchTextOperator:this.getSearchTextOperator(),matchAllTerms:this.getMatchAllTerms(),timezone:d.tz.guess()},i),reset:a,success:o,error:l};return this.getFilter()&&(c.data.filters=s.cloneDeep(this.getFilter())),this.getSort()&&(c.data.sort=this.getSort()),this.getRowCount()&&(c.data.size=this.getRowCount()),this.getSearchText()&&(c.data.searchText=this.getSearchText()),this.getApplyEntityDefaultFilters()&&(c.data.applyEntityDefaultFilters=!0),this.getAggregates()&&(c.data.aggregates$=this.getAggregates()),this.getLanguage()&&(c.data.lang=this.getLanguage()),this.getSystemTranslationLanguage()&&(c.data.systemTranslationLanguage=this.getSystemTranslationLanguage()),c.data.from=this.getSkipCount(),0===this.getRowCount()&&(c.data.size=100,c.from=0,c.reset=!1,c.remove=!1),c},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.isAdvancedSearch?this.getAdvancedSearchFetchOpts(e):this.getFetchOpts(e);if(this.getRowCount()>=0)return t.data=JSON.stringify(t.data),u.prototype.fetch.call(this,t);if(this.isAdvancedSearch)throw new Error("fetchNext not supported for ES");var i=new l.Deferred;return t.deferred=i,t.data.size=100,t.reset=!1,t.remove=!1,this.fetchNext(t),i.promise()},fetchNext:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.deferred,n=t.success;t.success=function(a,r){var o=t.data.from+t.data.size,s=0;r&&r.hits&&(s=r.hits.total),o>=s?(a.reset(a.models),i.resolveWith(e),n&&n.call(e,a,r)):(t.data.from+=t.data.size,e.fetchNext(t))},u.prototype.fetch.call(this,o(o({},t),{},{data:JSON.stringify(t.data)}))},parse:function(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],r=null==e||null===(t=e.hits)||void 0===t?void 0:t.hits;return(null==r?void 0:r.length)>0?(this.setTotal(e.hits.total),e.aggregations&&this.setAggregations(e.aggregations),s.forEach(r,(function(t){t._source.id=t._id,t._source._type=t._type,t._source.users=e.users,t._source.highlightedFields=h.getHighlights(t,i.getSearchText()),a.push(t._source)}))):(this.setTotal(0),this.setAggregations(null)),u.prototype.parse.call(this,a,n)},onCollectionReset:function(){this.updateRecordCountsByType()},resetFilter:function(){this.setFilter(this.getDefaultFilter())},resetRowCount:function(){this.setRowCount(null)},resetSkipCount:function(){this.setSkipCount(0)},resetSort:function(){this.setSort(null)},setFilter:function(e){this.filterArray=(null==e?void 0:e.query)||e||[]},setRowCount:function(e){this.rowCount=e},setSkipCount:function(e){this.skipCount=e},setSort:function(e){this.sortObj=e},setTotal:function(e){this.total=e;var t=Math.ceil(e/this.getRowCount()),i=Math.max(Math.min(this.getRowCount()*(t-1),this.getSkipCount()),0);this.setSkipCount(i)},setAggregations:function(e){this.aggregations=e},setAggregates:function(e){this.aggregates=e},setEntDefs:function(e){this.entDefs=e},setRecordCounts:function(e){this.recordCounts=e},setSearchText:function(e){this.searchText=e},setSearchTextOperator:function(e){this.searchTextOperator=e},setHighlight:function(e){this.highlight=e},setHighlightOperator:function(e){this.highlightOperator=e},setApplyEntityDefaultFilters:function(e){this.applyEntityDefaultFilters=e},setMatchAllTerms:function(e){this.matchAllTerms=e},setLanguage:function(e){this.language=e},setSystemTranslationLanguage:function(e){this.systemTranslationLanguage=e},getFilter:function(){return this.filterArray},getDefaultFilter:function(){return[]},getRowCount:function(){return this.rowCount},getSkipCount:function(){return this.skipCount||0},getSort:function(){return this.sortObj},getTotal:function(){return this.total},getAggregates:function(){return this.aggregates},getEntDefs:function(){return this.entDefs},getEntityDefinition:function(){var e=this.getEntDefs();return 1===e.length?e[0]:null},getEntCanons:function(){return this.entDefs.map((function(e){return e.entityCanon}))},getEntityNames:function(){return this.entDefs.map((function(e){return e.entityType}))},getApplyEntityDefaultFilters:function(){return this.applyEntityDefaultFilters},getRecordCounts:function(){return this.recordCounts},getRecordCountByType:function(e){return this.getRecordCounts()[e]||0},getSearchText:function(){return this.searchText},getSearchTextOperator:function(){return this.searchTextOperator},getHighlight:function(){return this.highlight},getHighlightOperator:function(){return this.highlightOperator},getMatchAllTerms:function(){return this.matchAllTerms},getLanguage:function(){return this.language},getSystemTranslationLanguage:function(){return this.systemTranslationLanguage},updateRecordCountsByType:function(){this.recordCounts=s.countBy(this.models,(function(e){return e.get("_type")}))},isExternalEnabled:function(){var e=this.getEntDefs();if(1!==e.length)return!1;var t,i,n=(t=e,i=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(t,i)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return $appData.allowExternalEntityApi&&$appData.twoWayPortalEnabled&&!0===(null==n?void 0:n.allowExternalFlag)&&m.hasRole("mark_".concat(n.entity.name,"_external"))},getIdsFilter:function(e){return{operator:"and",values:[{field:"id",operator:"is",type:"primary",values:[e]}]}}})},373129:(e,t,i)=>{"use strict";i(944114);var n=i(40785),a=i(344427),r=i(680553),o=i(894187),s=i(40531);e.exports=function(e){var t=$appData,i=t.user;if(t.allowResumeSession&&"local"===i.type){var l=r.getByRef("resume-session");return l||(l=new o({authUrl:"/auth/local"}),r.add(l,{reference:"resume-session"}).renderAsModal()),e&&l.callsToResume.push(e),l}if("portal"===i.type){a.removeAll();var d=r.getByRef("resume-external-session");return d||(d=new o({authUrl:"/auth/portal"}),r.add(d,{reference:"resume-external-session"}).renderAsModal()),e&&d.callsToResume.push(e),d}if("guest"===i.type){a.removeAll();var c=r.getByRef("expired-external-session");return c||(c=new s({redirectUrl:i.sharedLinkAccessId?"/shared-link/".concat(i.sharedLinkAccessId):"/portal"}),r.add(c,{reference:"expired-external-session"}).renderAsModal()),c}return n.redirectToLogin("session_timeout"),null}},610421:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(102892),i(83851),i(423500),i(681278),i(802259),i(747764),i(962010),i(426099),i(938781),i(879432),i(327495),i(725440),i(250113),i(944114),i(842762),i(428706),i(123792),i(962953),i(202008),i(16280),i(874423),i(21699);var r=i(96190),o=i(274692),s=i(330747),l=i(376806),d=i(126186),c=i(40785),u=i(680553),p=i(93216),f=i(362584),h=i(939994),m=i(809375);i(493793),i(390786),i(515045),i(195104),i(750953);var g=i(233726),y=o("#main-content-container"),v=o("#view-container");(!s.env.ie||s.env.version>7)&&(s.env.isCompatible=!0),s.config.versionCheck=!1,s.on("instanceCreated",(function(e){e.editor.on("contentDom",(function(){e.editor.document.on("drop",(function(e){e.data.preventDefault(!0)})),e.editor.document.on("dragover",(function(e){e.data.preventDefault(!0)}))}))})),s.on("dialogDefinition",(function(e){var t=e.data.name,i=e.data.definition;"link"===t&&(i.removeContents("target"),i.removeContents("advanced"),i.getContents("info").get("linkType").items=[["URL","url"],["E-mail","email"],["Phone","tel"]])}));var b={getValidatonRules:function(e){if(!e)return[];var t=e.toString();return r.isString(t)?JSON.parse(t):t},makeFieldMandatory:function(e){var t=!1,i=o(e);if(!i.length)return t;if(i.parent().hasClass("readonly")&&!i.parent().hasClass("restrict-edit-field"))return t;t=!0,i.html('<span class="mandatory-icon">* </span>'+i.html().replace('<span class="mandatory-icon">* </span>',"")),i.addClass("mandatory");var n=i.parent(),a=n.find("input.form-control"),r=n.find(".selectize-input > input"),s=n.find(".texteditor-component-tmpl > iframe"),l=n.find("select.form-control");return r.length>0?r.attr("aria-required",!0):s.length>0?s.attr("aria-required",!0):a.length>0&&a.attr("aria-required",!0),l.length>0&&l.attr("aria-required",!0),t},unmakeFieldMandatory:function(e){var t=!1,i=o(e),n=i.parent(),a=n.find("input.form-control"),r=n.find(".selectize-input > input"),s=n.find(".texteditor-component-tmpl > div"),l=n.find("select.form-control");return i.length>0&&(t=!0,i.html(i.html().replace('<span class="mandatory-icon">* </span>',"")),i.removeClass("mandatory"),r.length>0?r.removeAttr("aria-required"):s.length>0?s.removeAttr("aria-required"):a.length>0&&a.removeAttr("aria-required"),l.length>0&&l.removeAttr("aria-required")),t},mapLabels:function(e,t){var i;i=t&&r.isFunction(t.getEntityCanon)?o('.control-label[data-entity="'+t.getEntityCanon()+'"]',e):o(".control-label",e);var n={};return i.each((function(){if(this.dataset.field){var e=r.get(n,this.dataset.field)||[];e.push(this),r.set(n,this.dataset.field,e)}})),n},makeFieldDisabled:function(e){e.each((function(){var e=o(this);e.attr("disabled","disabled");var t=e.data("ckeditor");t&&"unloaded"!==t.status&&t.setReadOnly(!0);var i=e.data("selectize");i&&i.disable()}))},makeFieldEnabled:function(e){e.each((function(){var e=o(this);e.attr("disabled",null);var t=e.data("ckeditor");t&&"unloaded"!==t.status&&t.setReadOnly(!1);var i=e.data("selectize");i&&i.enable()}))},tooltip:function(e,t){var i=!1;if(!this.isTouchScreen()){var n=o('[data-toggle*="tooltip"]',e);i=!0,n.length>0&&n.each((function(){var i=o(this),n=null,a=null,s=i.parents(".btn-toolbar-sticky").first();if(0!==s.length&&(n=s),!n){var l=i.parents(".modal").first();a=0!==l.length?l:null}var d=r.extend({container:i.attr("data-container")||n||a||e,placement:i.attr("data-placement")||"bottom",title:i.attr("title")},t);i.tooltip(d)}))}return i},destroyTooltip:function(e){o('[data-toggle*="tooltip"]',e).tooltip("destroy")},numeral:function(e){var t=o("[data-numeral]",e),i=t.length>0;if(!0===i){var n=function(e,t){var i=o(e);return function(){var e=i.val();if(e=r.isString(e)?r.trim(e):e,!r.isEmpty(e)){var n=l(e).format(t);r.isNaN(n)||"NaN"===n||i.val(n).change()}}};t.each((function(){var e=o(this),t=e.attr("data-numeral")||$appData.globalConfig.defaultNumberFormat;n(this,t)(),e.blur(n(this,t))}))}return i},destroyNumeral:function(e){o("[data-numeral]",e).each((function(){var e=o(this);e.off("focus"),e.off("blur")}))},datepicker:function(e){function t(){return o(this).prop("autocomplete","off"),!1}var i=o('[data-toggle*="datepicker"]',e),n=i.length>0;return!0===n&&i.each((function(){o(this).datepicker({maxViewMode:3,autoclose:!0,format:$appData.datePickerDateFormat,language:"custom",zIndexOffset:1032,todayHighlight:!0,forceParse:!1}).focus(t)})),n},destroyDatepicker:function(e){o('[data-toggle*="datepicker"]',e).each((function(){var e=o(this);e.off("show"),e.off("hide"),e.off("changeDate"),e.data().datepicker&&e.data().datepicker.remove()}))},picklist:function(e,t){var i=o("select[data-picklist]",e),n=o("select[multiple]:not([data-picklist])",e),a=i.length>0||n.length>0;return i.each((function(){var i=o(this),n="false"!==i.attr("data-insert-blank");i.picklist({$el:e,model:t,property:i.attr("name"),picklistId:i.attr("data-picklist"),insertBlank:n})})),n.each((function(){var e=o(this);if(!e.data().selectize){var i=e.selectize({plugins:["remove_button"],placeholder:c.translateKey("select")});t&&i[0].selectize.setValue(t.get(e.attr("name")),!0),i[0].selectize.on("dropdown_open",(function(){c.scrollTo(o(this.$dropdown))}))}})),a},leftNavTo:function(e){var t;null===(t=u.getByRef("isight-nav"))||void 0===t||t.highlight(e)},renderMainView:function(e,t){return t||(t={}),y.addClass("loading"),this._addRoleAndAriaLabel(e),u.getByRef("main-view")&&u.removeByReference("main-view"),u.add(e,{reference:"main-view"}).setPageTitle().renderCrumbs().render("#view-container",!0===t.navigate||void 0===t.navigate,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({showMainLoader:!0},t)).done((function(){y.removeClass("loading"),!1!==t.scrollToView&&c.scrollToTop()}))},getTransitionsAndTimeline:function(e,t){var i=e.getEntityDefinition(),n=e.get("id");o.ajax({type:"GET",url:"".concat($appData.globalConfig.apiRoot,"/entity_transitions_timeline/").concat(i.table,"/").concat(n)}).done((function(e){var i=e.transitions,n=e.timelineData,a=b.transformTransitions(i,n);return t(null,{transitions:a,timelineData:n})})).fail(t)},transformTransitions:function(e,t){return r.chain(e).filter((function(e){return"active"===e.workflowId__status})).groupBy("workflowId").mapValues((function(e){var i=e[0].workflowId,n=r.find(t,{workflowId:i}),a={workflowId:i,name:e[0].workflowId__name,transitions:e};return n.isNew&&(a.isNew=!0),n.isOutdated&&(a.isOutdated=!0),a})).values().value()},textEditors:function(e,t){var i=o("textarea[name][data-rich-text]",e),n=i.length>0;return!0===n&&i.each((function(){var e=o(this).attr("name"),i=r.defaults({},{customConfig:"",language:$appData.user.locale,enterMode:s.ENTER_BR},g),n=s.replace(this,i);if(!n)return!1;var a=r.debounce((function(){var i={from:"onEditorChange"},n=this.getData(),a="<div>"+n+"</div>";0===r.trim(o(a).text()).length?t.set(e,null,i):t.set(e,n,i)}),250),l=r.debounce((function(e,t,i){"onEditorChange"!==(i=i||{}).from&&n.getData()!==t&&"destroyed"!==n.status&&(n.settingData=!0,n.setData(t,{callback:function(){n.settingData=!1,n.destroyIt&&n.destroy()}}))}),50);n.on("change",a),t.on("change:"+e,l),o(this).data("ckeditor",n)})),n},destroyTextEditors:function(e){o("textarea[name][data-rich-text]",e).each((function(){var e=o(this).data("ckeditor");e&&(e.removeAllListeners(),"unloaded"!==e.status&&(e.settingData?e.destroyIt=!0:e.destroy()))}))},_onHtmlBindingModelChangeThrottled:r.throttle((function(e){var t=o(this),i=e.get(t.attr("data-html")),n=c.sanitizeHtml(i);t.html(n)}),250),htmlBindings:function(e,t){var i=this,n=o("p[data-html]",e),a=n.length>0;return n.each((function(){var e=o(this),n=t.get(e.attr("data-html")),a=c.sanitizeHtml(n);e.html(a),t.on("change:"+e.attr("data-html"),i._onHtmlBindingModelChangeThrottled,this)})),a},destroyHtmlBindings:function(e,t){var i=this;o("p[data-html]",e).each((function(){t.off("change:"+o(this).attr("data-html"),i._onHtmlBindingModelChangeThrottled,this)}))},modelBindings:function(e,t){var i=o("[data-bind]",e),n=!1;if(!t)return!1;if(!t.getEntityDefinition)return!1;var a=t.getEntityDefinition(),s={globalOptions:$appData.globalConfig,translateKey:c.translateKey,data:t.attributes};return i.each((function(){var e=o(this),i=e.attr("data-bind"),l=e.attr("data-binding-event")||"change:".concat(i);function d(){var n=t.get(i),o=n?r(n).toString():"";0===n&&(o="0");var l=a?r.find(a.fields(),{field:i}):null;if(l){var d=m[l.type],c={fieldDef:l,entityService:h},u=r.extend({},s,c);d.format&&(o=d.format(n,u))}"INPUT"===e[0].tagName?e.val(o):e.html(r.escape(o))}n=!0,d(),t.on(l,r.throttle(d,250))})),n},_onMaskModelChangeThrottled:r.throttle((function(e){var t=o(this);t.val(e.get(t.attr("name")))}),250),masks:function(e,t){var i=this,n=o("input[data-mask]",e),a=n.length>0;return!0===a&&n.each((function(){var e=o(this);new d(e.attr("data-mask")).mask(e),t&&e.attr("name")&&t.on("change:"+e.attr("name"),i._onMaskModelChangeThrottled,this)})),a},destroyMasks:function(e,t){var i=this;o("input[data-mask]",e).each((function(){var e=o(this);d.remove(e),t&&e.attr("name")&&t.off("change:"+e.attr("name"),i._onMaskModelChangeThrottled,this)}))},readOnlyFields:function(e,t){if(!t||!t.entity)throw"Model entity not defined";p.getReadOnlyFields(t,(function(t,i){r.each(i,(function(t){var i=o('[name="'+t+'"]',e);i=i.add(o('[data-field="'+t+'"]',e)),b.makeFieldDisabled(i)}))}))},mandatoryFields:function(e,t){var i=t?this.getValidatonRules(t.validator):[],n=!1,a=this.mapLabels(e,t);if(!i.length)return n;var o=r.filter(i,{name:"required$"});return(o=o.concat(r.filter(i,{name:"mandatory$"}))).length>0&&r.each(o,(function(e){var t;if(r.isArray(e.spec))t=e.spec;else if(r.isPlainObject(e.spec)&&e.spec.fields)t=e.spec.fields;else{if(!r.isString(e.spec))throw new Error("Could not find fields in rule spec");t=[e.spec]}r.each(t,(function(e){r.each(a[e],(function(e){n=b.makeFieldMandatory(e)||n}))}))})),n},preventDefaultIfNotNumber:function(e){return!!r.includes([46,8,9,27,13,110,190],e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||((e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)?(e.preventDefault(),!1):void 0)},evaluateMandatory:function(e,t,i,n){var a=this,o=t.getEntityDefinition();return function(){var s=[],l=[],d=!1;return n||(n=a.mapLabels(i,t)),r.each(e,(function(e){r.each(e.spec,(function(e){f.evaluate(e.condition,o.rules,t.attributes)?s=s.concat(e.fields):l=l.concat(e.fields)}))})),s=r.uniq(s),l=r.difference(l,s),l=r.uniq(l),r.each(l,(function(e){r.each(n[e],(function(e){d=b.unmakeFieldMandatory(e)||d}))})),r.each(s,(function(e){r.each(n[e],(function(e){d=b.makeFieldMandatory(e)||d}))})),d}},dependantMandatoryFields:function(e,t){var i=!1,n=t?this.getValidatonRules(t.validator):[];if(!n.length)return i;var a=r.filter(n,{name:"dependentMandatory$"}),o=this.mapLabels(e,t),s=this.evaluateMandatory(a,t,e,o),l=r.throttle(s,250);return!0===(i=s())&&t.on("change",l),i},successFlash:function(e){var t=e.css("backgroundColor");e.css({backgroundColor:$appData.globalConfig.successFlashColor}).animate({backgroundColor:t},$appData.globalConfig.flashDuration)},highlightMessage:function(e){var t=e.css("backgroundColor");e.addClass("active"),e.css({backgroundColor:t,opacity:.5}).animate({opacity:1,backgroundColor:$appData.globalConfig.successFlashColor},$appData.globalConfig.flashDuration)},ladda:function(e,t){var i=o("[data-ladda-model-save]",e),n=o("[data-ladda-disable-on-save]",e),a=o("[data-ladda-model-destroy]",e),r=o("[data-ladda-disable-on-delete]",e),s=(i.length>0||a.length>0)&&!!t;return!0===s&&(i.ladda({model:t,action:"save",$disableAsWell:n}),a.ladda({model:t,action:"destroy",$disableAsWell:r})),s},isTouchScreen:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},uiRequiredFieldsIfSelectable:function(e,t){var i=!1,n=t?this.getValidatonRules(t.validator):[];if(!n.length)return i;var a=this.mapLabels(e,t),s=r.filter(n,{name:"uiRequiredIfSelectable$"})[0];return s&&s.spec&&r.each(s.spec,(function(t){o('select[name="'+t+'"]',e).on("loaded",(function(){o('option[value]:not([value=""])',this).length>0?r.each(a[t],(function(e){b.makeFieldMandatory(e)})):r.each(a[t],(function(e){b.unmakeFieldMandatory(e)}))}))})),i},destroyUiRequiredFieldsIfSelectable:function(e,t){var i=t?this.getValidatonRules(t.validator):[];if(i.length){var n=r.filter(i,{name:"uiRequiredIfSelectable$"})[0];n&&n.spec&&r.each(n,(function(t){o('select[name="'+t+'"]',e).off("loaded")}))}},popovers:function(e,t){var i=o('[data-toggle="popover"]',e),n=i.length>0;return n&&i.each((function(){var e=o(this),t={html:!0,trigger:"hover",container:e};e.children(".popover-content").length>0&&(t.content=function(){var t=e.children(".popover-content")[0];return o(t).html()}),e.popover(t)})),n},submenus:function(e,t){var i=o("[data-submenu]",e),n=i.length>0;return n&&i.each((function(){o(this).submenupicker()})),n},hrefInjection:function(e){var t=o("[data-route]",e),i=t.length>0;return i&&t.each((function(){var e=o(this);e.attr("href")||e.attr("href",e.attr("data-route"))})),i},_addRoleAndAriaLabel:function(e){var t,i=e.model,n=e.caption;if(i)if(i.isNew())t=c.translateKey({groupName:i.getEntityCanon(),subgroupName:"general",key:"new"});else{var a=i.getEntityDefinition().entDef.gridDescriptorField;t=i.get(a)}else n&&(t=n);t?(v.attr("role","region"),v.attr("aria-label",t)):(v.removeAttr("role"),v.removeAttr("aria-label"))},getYFToken:r.throttle((function(e){var t=o.param({yftoolbar:!0,entry:"DASHBOARD",DISABLEHEADER:!0,DISABLEFOOTER:!0,DISABLELOGOFF:!0});o.post($appData.globalConfig.apiRoot+"/get_yf_token",(function(i){var n;return i?(n="".concat($appData.yellowfinUrl,"/logon.i4?LoginWebserviceId=").concat(i.yellowfinToken,"&").concat(t),$appData.yellowfinToken=i.yellowfinToken,$appData.yellowfinSession=i.yellowfinSession):n=$appData.yellowfinUrl+"/logon.i4",e(n)}))}),1e3)};e.exports=b},233612:(e,t,i)=>{"use strict";i(327495),i(671761),i(725440),i(123792),i(426099),i(962953),i(989907);var n=i(96190),a=i(40785),r={urlHasVariables:function(e){return null!==e.match("{[^}]+}")},injectModelIntoUrl:function(e,t){return n.each(t.attributes,(function(t,i){n.isEmpty(t)||(e=e.replace("{"+i+"}",t))})),e},doesPatternMatch:function(e,t){var i=!0;if(n.isPlainObject(e.criterias)){var a=n.pick(t.attributes,n.keys(e.criterias));i=n.isEqual(a,e.criterias)}for(var o=0;o<e.from.length;o++){var s="",l="";if(null!==e.from[o]){s=r.injectModelIntoUrl(e.from[o],t);var d=$appData.appRouter.history[$appData.appRouter.history.length-(e.from.length-o)];d&&(l=d.path)}i=i&&s===l}return i},getPatternUrl:function(e){if(!e)throw"Model Required";if(!e.entity)throw"Model Entity Required";var t=e.getEntityCanon(),i=a.getEntDef(t),o=n.cloneDeep(i.historyNav);if(!o)throw"Invalid entity";if($appData.appRouter.history.length>1){var s=$appData.appRouter.getHistoryItem(2);if(s.anchor)return s.path}for(var l=0;l<o.length;l++)if(r.doesPatternMatch(o[l],e)){if("/case/"===o[l].to.substring(0,6)&&a.shouldSuggestLinks(e))return"/case/"+e.get("caseId")+"/details/related_cases/suggest";var d=r.injectModelIntoUrl(o[l].to,e);if(!r.urlHasVariables(d))return d}}};e.exports=r},860670:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(944114),i(879432);var n,a,r=i(96190),o=i(274692),s=i(40785),l=i(699847),d=i(36742),c={},u=[],p={on:function(e){!1===o("body").hasClass("is-busy")&&(n=setTimeout((function(){f("TOSERVER: is-busy was busy past its time limit of 10000ms"),f("The remaining stray busy sets were done by..."),o("body").removeClass("is-busy"),r.each(Object.keys(c),(function(e){f(" - "+c[e].action+": "+c[e].context)})),c={},r.each(u,(function(e){e()})),u=[]}),1e4),o("body").addClass("is-busy"),a=l().start());var t={id:s.guid(),off:function(e){!function(e,t){if(r.has(c,e.id)){var i=t?"("+t+")":"";f('Busy <-- "'+e.details.action+'": '+i+e.details.context),delete c[e.id],0===Object.keys(c).length&&(o("body").removeClass("is-busy"),clearTimeout(n),f("Idle."),f("Was busy for "+a.stop()+"ms"),f("---------------------------------------------"),f(""),r.each(u,(function(e){e()})),u=[])}}(this,e)},details:e};return c[t.id]=e,f('Busy --\x3e "'+t.details.action+'": '+t.details.context),t},onIdle:function(e){0===r.keys(c).length?e():u.push(e)}};function f(e){!0===$appData.debug&&window.console&&d.log(e)}e.exports=p},483252:(e,t,i)=>{"use strict";i(428706),i(311927);var n=i(274692),a=i(40785),r=i(680553),o=i(344427),s=i(896727),l=i(233518),d=i(860670),c=i(373129),u=0;function p(e){return{groupName:"errors",subgroupName:"general",key:e}}function f(e){r.getByGroup("displayed-errors").length>0||s.error(e)}n.ajaxSetup({timeout:0,headers:{accept:"application/json","x-csrf-token":$appData.csrf}}),n(document).ajaxSend((function(e,t,i){t.busy=d.on({action:"AJAX call",context:"[".concat(i.type,"] ").concat(i.url)}),0===u&&n("body").addClass("ajax-loading"),u+=1})),n(document).ajaxComplete((function(e,t){0===(u=Math.max(0,u-1))&&n("body").removeClass("ajax-loading"),t.busy&&t.busy.off()})),n(document).ajaxError((function(e,t,i){if(!0!==t.weAlreadyPreviouslyHandledThis&&0!==t.status){var n="",r="an_error_has_occurred";switch(t.busy&&t.busy.off("AJAX ERROR: ".concat(t.status)),t.status){case 400:if(r="400_bad_request",t.responseJSON&&t.responseJSON.code){var s=l.makeHumanReadable({error:t.responseJSON});return s||(s=a.translateKey(p(r))),void f(s)}n=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:t.responseText;break;case 401:return void c(i);case 403:if(r="403_forbidden",t.responseJSON&&t.responseJSON.summary&&t.responseJSON.summary.length>0){var d=t.responseJSON.summary[0];n=d.missingRoles?d.missingRoles.join(","):d.service?d.service:d.reason}else n=t.responseJSON&&t.responseJSON.code?t.responseJSON.code:t.responseJSON&&t.responseJSON.message?t.responseJSON.message:t.responseText||"permission_denied";break;case 404:n="not_found";break;case 409:n=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:"entity_is_locked";break;case 412:return n=a.translateKey({groupName:"portal",subgroupName:"report_online",key:"user_logged_in_message"}),void o.display(n,{type:"confirm",title:a.translateKey({groupName:"portal",subgroupName:"report_online",key:"user_logged_in_message_title"}),callback:function(e){e&&c(i)}});case 423:n="operation_underway";break;case 502:n="server_unresponsive";break;case 503:n="503_maintenance";break;default:if(t.responseJSON){if(t.responseJSON.code){var u=l.makeHumanReadable({error:t.responseJSON});return u||(u=a.translateKey(p(r))),void f(u)}n=t.responseJSON.why?t.responseJSON.why:t.responseText}else n=t.responseText}n&&0===n.indexOf("Error: ")&&(n=n.substring(7));var h=a.translateKey(p(n),{missingTranslationValue:""});h||(h=a.translateKey(p(r))),f(h)}})),e.exports=n},411339:(e,t,i)=>{"use strict";i(327495),i(690906),i(725440),i(250113),i(426099),i(196135);var n=i(483252),a='[data-toggle="dropdown"]',r=n.fn.dropdown.Constructor.prototype.toggle;n(document).off("click.bs.dropdown.data-api",a,n.fn.dropdown.Constructor.prototype.toggle),n.fn.dropdown.Constructor.prototype.toggle=function(e){if(e&&n(e.currentTarget).data("manualToggle"))return null;r.call(this,e);var t=function(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==t?n(document).find(t):null;return i&&i.length?i:e.parent()}(n(this)).children(".dropdown-menu");if(t.length>0){var i=t[0];n(i).children("li.last-child").removeClass("last-child");for(var a=n(i).children("li.dropdown-section:visible"),o=0;o<a.length;o++){var s=n(a[o]),l=s.children("ul")[0];s.show(),!l||n(l).children("li:visible").length<=0?s.hide():(n(l).children("li.last-child-of-section").removeClass("last-child-of-section"),n(l).children("li:visible:last").addClass("last-child-of-section"))}n(i).children("li:visible:last").addClass("last-child")}return!1},n(document).on("click.bs.dropdown.data-api)",a,n.fn.dropdown.Constructor.prototype.toggle)},195104:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(274692),r=i(402193);a.fn.ladda=function(e){var t=this;if(!e)throw"Options Required";if(!e.model)throw"Model Required";if(!e.action)throw"Action Required";var i,o,s,l=e.model,d=e.action,c=[];function u(){i=null,n.each(c,(function(e){a(e.element).css("display")&&e.start()}))}function p(){a(t).attr("disabled","disabled"),e.$disableAsWell&&e.$disableAsWell.attr("disabled","disabled"),i=setTimeout(u,$appData.globalConfig.spinnerDelay)}function f(){a(t).attr("disabled",!1),e.$disableAsWell&&e.$disableAsWell.attr("disabled",!1),function(){if(i)return clearTimeout(i),void(i=null);n.each(c,(function(e){e.stop()}))}()}function h(e,t,i){f(),o&&o.call(this,e,t,i)}function m(e,t,i){f(),s&&s.call(this,e,t,i)}function g(e){null!=e&&e.length&&f()}switch(d){case"save":var y=l.save;l.save=function(e,t){t||(t={}),o=t.success,s=t.error,t.success=h,t.error=m,!1!==t.validate&&l.once("validated",g),p(),y.call(this,e,t)};break;case"destroy":var v=l.destroy;l.destroy=function(e){e||(e={}),o=e.success,s=e.error,e.success=h,e.error=m,p(),v.call(this,e)};break;default:throw"Invalid Action"}return this.each((function(){a(this).addClass("ladda-button"),this.dataset&&this.dataset.style||a(this).attr("data-style","zoom-in");var e=r.create(this);e.element=this,c.push(e),a(this).data("ladda",e)}))}},724167:(e,t,i)=>{"use strict";var n=i(274692);n.fn.modal.Constructor.prototype.enforceFocus=function(){var e=this;n(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(t){e.$element[0]===t.target||e.$element.has(t.target).length||n(t.target.parentNode).hasClass("cke_dialog_ui_input_select")||n(t.target.parentNode).hasClass("cke_dialog_ui_input_text")||e.$element.focus()}))}},493793:(e,t,i)=>{"use strict";i(202008),i(426099),i(16280),i(874423),i(21699),i(944114),i(938781),i(962062),i(250113),i(311927),i(962010);var n=i(96190),a=i(274692),r=i(122268),o=i(40785),s=i(293046),l="/list",d={},c=[],u=o.getPicklistsConfig();$appData.picklists||($appData.picklists={},$appData.picklists.data={});var p="translation",f={clearPicklistCache:function(e){if(!e)throw"Picklist Name is Required";var t=u[e];if(t){var i=t.id;delete $appData.picklists.data[i]}},getItemData:function(e,t){if(!e)throw"Picklist Name is Required";var i=u[e];if(!i)throw"Picklist "+e+" not found";var a={};a[i.value]=t;var r=i.id,o=$appData.picklists.data[r];return n.filter(o,a)[0]},waitForPicklistAvailability:function(e,t,i){var n=t.model?t.model.get(t.property):null;a(e).hasClass("picklist-loading")?a(e).hasClass("picklist-loading-queue")?i(new Error("Picklist already in queue")):(a(e).addClass("picklist-loading-queue"),a(e).one("loaded",(function(){a(e).removeClass("picklist-loading-queue"),a(e).removeClass("picklist-loading"),t.model.get(t.property)!==n?i(null):i(new Error("No value changed, cancelling waterfall"))}))):(a(e).addClass("picklist-loading"),i(null))},removeDropdownOptions:function(e,t){a(e).removeClass("loaded"),a(e).data().selectize&&e.data().selectize.destroy(),a("option",e).remove(),t()},addBlankRow:function(e,t,i){var r;!0===t.insertBlank&&(r=a(e).attr("data-blank-text")?o.translateKey(a(e).attr("data-blank-text")):"&lt;"+o.translateKey("select")+"&gt;",a(e).prepend('<option value="">'+n.escape(r)+"</option>")),i()},fetchPicklistData:function(e,t,i){var r=(t=t||{}).picklistId,o=u[r];if(!o)throw new Error("Picklist with the name"+r+"not found in picklist config");var p=o.id,h=$appData.picklists.data[p],m=t.filter||n.get(o,"filter"),g=[];if(t.model&&(g=f._getParentValues(e,t.model)),h)m&&(h=m(h,t.model,o)),i(null,h);else if(n.includes(c,p))n.isArray(d[p])||(d[p]=[]),d[p].push(i);else{c.push(p);var y=n.get(o,"url")||l,v="";y===l&&(v="?"+a.param(s({picklistTypeId:p,model:t.model,parents:g}))),a.get($appData.globalConfig.apiRoot+y+v,(function(e){var a=e=n.isArray(e)?e:[e];m&&(a=m(e,t.model,o)),i(null,a),n.isNumber(o.ttl)&&o.ttl>0&&($appData.picklists.data[p]=e,setTimeout((function(){f.clearPicklistCache(r)}),o.ttl)),n.isUndefined(o.ttl)&&$appData.globalConfig.defaultPicklistTtl>0&&($appData.picklists.data[p]=e,setTimeout((function(){f.clearPicklistCache(r)}),$appData.globalConfig.defaultPicklistTtl)),c=n.pull(c,p);var s=d[p];if(n.isArray(s))for(var l=s.pop();l;)l(null,e),l=s.pop()}))}},sortData:function(e,t,i){var a=n.sortBy(e,(function(e){return n(e[p]).toString().toLowerCase()}));i(null,a=n.sortBy(a,(function(e){return e.rank})))},filterDataByDependencies:function(e,t,i,r){var o;i.model&&(o=f._getParentValues(t,i.model));var s=[];n.each(e,(function(e){if(e.parents&&!n.isEmpty(e.parents)&&n.isUndefined(a(t).attr("data-ignore-parents"))){if(!i.model)throw"Model Required";var r=e.parents.length===o.length;n.each(o,(function(t,i){r=r&&t===e.parents[i]})),r&&s.push(e)}else s.push(e)})),r(null,s)},dedupeData:function(e,t,i){var a=t.value?t.value:"value";i(null,n.uniq(e,!1,a))},filterSpecificValues:function(e,t,i){var r=[];a(t).attr("data-picklist-hidden")&&(r=a(t).attr("data-picklist-hidden").split(","));var o=[];n.each(e,(function(e){-1===r.indexOf(e.value)&&o.push(e)})),i(null,o)},hideDependentObjects:function(e,t,i){e&&0!==e.length?a("[data-inherit-picklist-visibility="+a(t).attr("id")+"]").show():a("[data-inherit-picklist-visibility="+a(t).attr("id")+"]").hide(),i(null,e)},renderSelect:function(e,t,i,r,s){var l=e.length;if(a(t).data("data",e),a(t).attr("multiple")||l>$appData.globalConfig.maxNumberOfItemsForBasicDropdown){n.each(e,(function(e,t){e.sortNum=t}));var d=n.map(e,(function(e){var t=n.cloneDeep(e);return t.translation=n.unescape(t.translation),t})),c=a(t).selectize({valueField:i.value,labelField:p,searchField:i.text,sortField:"sortNum",options:d,plugins:["remove_button"],placeholder:o.translateKey("select")});if(r.model){var u=r.model.get(r.property);n.isEmpty(u)&&!n.isNumber(u)||(n.isArray(u)?n.each(u,(function(e){c[0].selectize.addOption({text:e,value:e})})):c[0].selectize.addOption({text:u,value:u})),c[0].selectize.setValue(u,!0),r.model.on("change:"+r.property,(function e(){try{c[0].selectize.setValue(r.model.get(r.property),!0)}catch(t){r.model.off("change:"+r.property,e)}}))}else r.selectedValue&&c[0].selectize.setValue(r.selectedValue,!0);c[0].selectize.on("dropdown_open",(function(){o.scrollTo(a(this.$dropdown))}))}else{var f=a("<select></select>"),h=r.model?r.model.get(r.property):r.selectedValue;h=n.isNumber(h)?h.toString():h||"";var m={};if(m[i.value]=h,h&&!n.find(e,m)){var g={};g[i.value]=h,g[i.text]=h,this._populateItemTranslation(g,i),e.push(g)}n.each(e,(function(e){var t=a('<option value="'+n.escape(e[i.value])+'">'+n.escape(e[p])+"</option>");t.data("picklistData",e),f.append(t)})),a(t).append(f.children()),h?a(t).val(h):a(t).val("")}s()},monitorForChanges:function(e,t,i){if(a(e).attr("data-dependencies")){if(!t.model)throw"Model Required";var n=a(e).attr("data-dependencies").split(",");t.model.once("change:"+n.join(" change:"),(function(){t.model.isResetting||t.model.set(t.property,null),a(e).picklist(t)}))}a(e).trigger("change"),i()},finsihedLoading:function(e,t){a(e).removeClass("picklist-loading"),a(e).addClass("loaded"),a(e).trigger("loaded"),t()},populateItemsTransaltion:function(e,t,i){var a=this;n.each(e,(function(e){a._populateItemTranslation(e,t)})),i(null,e)},_populateItemTranslation:function(e,t){var i=e[t.text],n=o.picklistTranslationKey(e);o.hasTranslation(n)?i=o.translateKey(n):o.hasTranslation(e.value)&&(i=o.translateKey(e.value)),e[p]=i},_getParentValues:function(e,t){var i=[],r=[];return a(e).attr("data-dependencies")&&(i=a(e).attr("data-dependencies").split(",")),n.each(i,(function(e){r.push(t.get(e))})),r}};a.fn.picklist=function(e){var t=this,i=n.defaults({},e,{model:null,property:null,picklistId:null,insertBlank:!0,selectedValue:null});if(!i.picklistId)throw"Picklist Id Required";var a=u[i.picklistId];if(!a)throw"Picklist "+i.picklistId+" not found";return r.waterfall([function(e){f.waitForPicklistAvailability(t,i,e)},function(e){f.removeDropdownOptions(t,e)},function(e){f.addBlankRow(t,i,e)},function(e){f.fetchPicklistData(t,i,e)},function(e,t){f.populateItemsTransaltion(e,a,t)},function(e,t){f.sortData(e,a,t)},function(e,n){f.filterDataByDependencies(e,t,i,n)},function(e,t){f.dedupeData(e,a,t)},function(e,i){f.filterSpecificValues(e,t,i)},function(e,i){f.hideDependentObjects(e,t,i)},function(e,n){f.renderSelect(e,t,a,i,n)},function(e){f.monitorForChanges(t,i,e)},function(e){f.finsihedLoading(t,e)}]),this},n.each($appData.picklists.data,(function(e,t){var i=n.find(u,(function(e){return e.id===t}));if(i){var a=i.name;0===i.ttl?f.clearPicklistCache(a):n.isNumber(i.ttl)&&i.ttl>0?setTimeout((function(){f.clearPicklistCache(a)}),i.ttl):n.isUndefined(i.ttl)&&$appData.globalConfig.defaultPicklistTtl>0&&setTimeout((function(){f.clearPicklistCache(a)}),$appData.globalConfig.defaultPicklistTtl)}})),e.exports=f},865631:(e,t,i)=>{"use strict";i(87745);var n=i(96190),a=i(274692),r=a(window),o="jquery.sticky";a.fn.sticky=function(e){if(!e)throw"Options Required";return this.each((function(){var t=a(this),i=t.data(o)||{};if(t.data(o,i),"destroy"===e)i.windowChangedFn&&(r.off("scroll",i.windowChangedFn),r.off("resize",i.windowChangedFn)),t.hasClass("sticky")&&(t.removeClass("sticky"),t.css({position:i.originalPosition,top:i.originalTop})),t.removeData(o);else if(n.isNumber(e.minHeight)){i.originalPosition=t.css("position"),i.originalTop=t.css("top"),i.minHeight=!0;var s=e.position||"relative",l="absolute"===s?parseInt(t.css("top"),10):t.offset().top;!1===n.isUndefined(e.minTop)&&n.isNumber(e.minTop)&&l<e.minTop&&(l=e.minTop),i.windowChangedFn=n.throttle((function(){e.calcTopWithEl&&(l=e.calcTopWithEl.outerHeight()),t.removeClass("sticky"),t.css({position:s,top:"absolute"===s?l:"0px"}),l-r.scrollTop()<=e.minHeight&&(t.hasClass("sticky")||(t.addClass("sticky"),t.css({position:"fixed",top:e.minHeight+"px"})))}),50),r.scroll(i.windowChangedFn),r.resize(i.windowChangedFn)}}))}},862897:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(938781),i(962010),i(523418),i(16280),i(327495),i(690906),i(725440),i(134782),i(962062),i(250113),i(426099);var a=i(274692),r=i(96190);function o(e){var t;switch(e){case"top":t="bottom";break;case"right":t="left";break;case"bottom":t="top";break;default:t="right"}return t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction,i=e.pos,n=e.actualHeight,a=e.actualWidth,r=e.viewportDim;return!("bottom"===t&&i.bottom+n>r.bottom||"top"===t&&i.top-n<r.top||"right"===t&&i.right+a>r.width||"left"===t&&i.left-a<r.left)}i(196135),a.fn.tooltip.Constructor.prototype.hasContent=function(){var e=this.$element.attr("disabled");return this.getTitle()&&!e},a.fn.tooltip.Constructor.prototype.show=function(){var e=a.Event("show.bs.".concat(this.type));if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var i=this,l=this.tip(),d=this.getUID(this.type);this.setContent(),l.attr("id",d),this.$element.attr("aria-describedby",d),this.options.animation&&l.addClass("fade");var c="function"==typeof this.options.placement?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement,u=[],p=/\s?auto?\s?/i,f=p.test(c);f&&(c=(c=(c=c.replace(p,"")||"top").split(" ")).slice(0,3),u=r.map(c,o)),l.detach().css({top:0,left:0,display:"block"}).addClass(c).data("bs.".concat(this.type),this),this.options.container?l.appendTo(a(document).find(this.options.container)):l.insertAfter(this.$element),this.$element.trigger("inserted.bs.".concat(this.type));var h=this.getPosition(),m=l[0].offsetWidth,g=l[0].offsetHeight;if(f){for(var y=c,v=!1,b={pos:h,actualHeight:g,actualWidth:m,viewportDim:this.getPosition(this.$viewport)},w=0;w<c.length;w++)if(s(r.extend({direction:c[w]},b))){v=!0,c=c[w];break}if(!v)for(var A=0;A<u.length;A++)if(s(r.extend({direction:u[A]},b))){v=!0,c=u[A];break}v||(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u,1)[0]),l.removeClass(y).addClass(c)}var C=this.getCalculatedOffset(c,h,m,g);this.applyPlacement(C,c);var k=function(){var e,t=i.hoverState;null===(e=i.$element)||void 0===e||e.trigger("shown.bs.".concat(i.type)),i.hoverState=null,"out"===t&&i.leave(i)};a.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",k).emulateTransitionEnd(a.fn.tooltip.Constructor.TRANSITION_DURATION):k()}}},900615:(e,t,i)=>{"use strict";i(533110),i(944114),i(962010),i(426099),i(423500);var n=i(274692),a=i(96190),r=i(93216),o=i(40785),s=i(939994),l=i(549373);i(672890),n.fn.userAutocomplete=function(e){return e=e||{},this.each((function(){if(n(this).attr("data-picklist"))throw"For the input(s) to use userAutocomplete, it cannot have the data-picklist attribute.";void 0!==n(this).attr("multiple")&&n(this).data().selectize&&n(this).data().selectize.destroy();var t=n(this).selectize({valueField:"id",labelField:"name",searchField:["name","email"],preload:!1,create:!1,plugins:["remove_button"],placeholder:e.placeholder||o.translateKey("search"),maxItems:void 0===n(this).attr("multiple")?1:100,sortField:"name",load:function(t,i){if(t.length<1)return i();var r=a.isNumber(e.size)?e.size:100,o=s.get({base:"sys",name:"user"}).query(),d=o.or([o.contains_partial("name",t),o.contains_partial("email",t)]),c=a.has(e,"hideCurrent")?o.is_not("id",e.hideCurrent):null,u=a.has(e,"showInactive")?o.is_not("active",e.showInactive):null,p=o.is_not_any("userRoleId__name",l),f=o.and([d,e.filters,c,u,p]).toQuery();n.ajax($appData.globalConfig.apiRoot+"/grid_search/sys_user",{data:JSON.stringify({filters:f,size:r}),contentType:"application/json",type:"POST"}).done((function(e){var t=a.sortBy(e.hits.hits,"_score").reverse(),n=[];a.each(t,(function(e){e._source.id=e._id,e&&e._source&&!a.isEmpty(e._source)&&n.push(e._source)})),i(n)}))},render:{option:function(e,t){return'<div id="userAutocomplete:'.concat(e.id,'" role="option" class="option">')+"<span>"+t(e.name)+"</span>"+(e.email?'<span class="highlight-sub-search-block">'+t(e.email)+"</span>":"")+"</div>"}}})[0].selectize;if(t.clearOptions(),e.restrictAccess&&(r.hasRole(e.restrictAccess)||t.disable()),e.selectedValue){var i=t;i.addOption(e.selectedValue),e.hasOwnProperty("autoSelect")?e.autoSelect&&i.addItem(e.selectedValue.id):i.addItem(e.selectedValue.id)}if(e.selectedValueMultiple&&e.selectedValueMultiple.names){var d=t;e.selectedValueMultiple.names.forEach((function(t,i){var n=e.selectedValueMultiple.ids[i],a=e.selectedValueMultiple.emails?e.selectedValueMultiple.emails[i]:"";d.addOption({id:n,name:t,email:a}),d.addItem(n)}))}this.refreshFilters=function(i){e.filters=i,t.clearOptions(),t.clearCache(),""!==e.filters.group&&t.onSearchChange(e)}}))}},36742:(e,t,i)=>{"use strict";var n=i(193e3);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(311927),i(944114),i(874423),i(21699),i(962010);var r,o=i(96190),s=i(947432),l=i(13288)("frontend"),d=$appData.globalConfig.timeoutThreshholdBetweenPersistentLogs,c=$appData.globalConfig.clientToServerBustCallsAtCount,u=$appData.globalConfig.logFromClientToServer,p=" | ",f=i(699847)().start(),h=0,m=function(e){var t=!1;!0!==e.force&&(f.stop()<=d?(h+=1)===c?(v({force:!0,msg:'Too many "persist to server" calls.',type:"warn",subtype:"Too many log calls to server.",details:"Overloaded. There were too many log client->server logs generated within "+d+" milliseconds of eachother. Client has stopped sending logs to the server until it slows down",persist:u}),t=!0):h>c&&(t=!0):h=0,f.restart());var n=o.clone(e);if(n.persist=!1,n.msg="["+(t||!1===u?"PERSIST WITHHELD":"PERSISTED")+"] "+n.msg,v(n),!1===t){if(!0!==u)return;new(i(416821))(e).save()}},g=v;function y(e){return{fn:function(t,i){return function(e){return function(t,i){var n="";if(i=i||"",o.isObject(i)&&o.has(i,"length")){var r=[];o.each(i,(function(e){r.push(a(e))})),n=t+"("+r.join(", ")+")"}else n=t+"()";var s=e+" -> "+n;return v(">FUNC: "+s),y(s)}}(e)(t,i)},trace:function(t){v("TRACE: "+e+" -> "+t)},info:function(t){v("INFO:  "+[e,t].join(p))},error:function(t){v("ERROR: "+[e,t].join(p))}}}function v(e){var t={};if(o.isString(e)?t.msg=e:t=e,!0===(t=o.defaults({},t,{_csrf:$appData.csrf,persist:!1,msg:"",details:void 0,type:void 0,subtype:void 0})).persist)m(t);else{if(!1===o.get($appData,"debug",!1))return;var i="";t.type&&(i+=" [ TYPE: "+t.type+" ]"),t.subtype&&(i+=" [ SUBTYPE: "+t.subtype+" ]"),t.details&&(i+=" [ DETAILS: "+t.details+" ]"),i+=" "+t.msg;var a=s(new Date).format("YYYY.MM.DD HH:mm:ss");window.console&&n.log("LOG: "+[a,i].join(p))}}g.create=function(e,t){var i;return v("CREATE:"+(i=t?[r,e+" ["+t+"]"].join(p):[r,e].join(p))),y(i)},g.log=v,g.initGlobalErrorHandling=function(){window.onerror=function(e,t,i,n,a){if(function(e){var t,i;return(null==e||null===(t=e.message)||void 0===t?void 0:t.includes("Cannot read properties of null (reading 'unselectable')"))&&(null==e||null===(i=e.stack)||void 0===i?void 0:i.includes("CKEDITOR"))}(a))return l("CKEDITOR attempted to mount on a detached node."),!0;!function(e,t,i,n,a){var r="<unknown>",s=-1;!1===o.isUndefined(a)&&(r=a.stack,s=n),v({msg:e,type:"error",subtype:a.name,details:"\tSTACK TRACE:\n\t"+r+"\n\tURL: "+t+"\n\tLINE NUMBER: "+i+"\n\tCOLUMN NUMBER: "+s,persist:u})}(e,t,i,n,a)}},e.exports=g},344427:(e,t,i)=>{"use strict";i(874423),i(21699),i(87745);var n=i(96190),a=i(280507),r=i(564921),o=i(536636),s=i(680553),l=i(819885),d=i(515931),c={messageTypes:["error","warning","notification","confirm","information"],removeAllWarnings:function(){s.removeAllInGroup("displayed-warnings")},removeAllErrors:function(){s.removeAllInGroup("displayed-errors")},removeAllNotifications:function(){s.removeAllInGroup("displayed-notifications")},removeAllInformations:function(){s.removeAllInGroup("displayed-informations")},removeAllConfirmations:function(){s.removeAllInGroup("displayed-confirmations")},removeAll:function(){this.removeAllNotifications(),this.removeAllErrors(),this.removeAllWarnings(),this.removeAllInformations(),this.removeAllConfirmations()},display:function(e,t){if(t?n.isString(t)?t={type:t}:t.type||(t.type="notification"):t={type:"notification"},!n.isString(e)&&!n.isArray(e))throw"Invalid Message";if(!n.includes(c.messageTypes,t.type))throw"Invalid Type";var i;switch(t.message=e,t.type){case"confirm":t.modal=!0,t.confirmedFn=function(e){t.callback(e)},i=this._initializeAndRenderView(l,t,"displayed-confirmations");break;case"error":t.modal=!1!==t.modal||t.modal,i=this._initializeAndRenderView(a,t,"displayed-errors");break;case"warning":i=this._initializeAndRenderView(r,t,"displayed-warnings");break;case"notification":var u=t.displayTime||$appData.globalConfig.notificationDefaultDisplayTime,p=t.fadeOutTime||$appData.globalConfig.notificationDefaultFadeOutTime;i=this._initializeAndRenderView(o,t,"displayed-notifications"),!0!==t.sticky&&setTimeout((function(){i.$el.fadeOut(p,(function(){s.remove(i)}))}),u);break;case"information":t.modal=!0,i=this._initializeAndRenderView(d,t,"displayed-informations")}return i},_initializeAndRenderView:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={parent:t.parent,reference:t.reference,group:i},a=this._initializeView(e,t);return s.add(a,n),this._renderView(a,t),a},_initializeView:function(e,t){return new e(n.assign(t,{body:t.message,title:t.title,html:t.html,isModal:!0===t.modal}))},_renderView:function(e,t){if(!e)throw"View required";var i=!0===t.modal,a=n.isEmpty(t.container)?"#messages-container":t.container;e.closeCallback=t.closeCallback,e.isModal=i,i?e.renderAsModal():e.render(a)}};e.exports=c},293046:e=>{"use strict";e.exports=function(e){return{limit$:e.limit$||"all",picklistTypeId:e.picklistTypeId,parents:e.parents}}},656546:(e,t,i)=>{"use strict";i(533110);var n=i(96190),a=i(504542),r=i(274692),o=i(40785);function s(){this.delay=$appData.globalConfig.clientPulseInterval,this.interval=null,this.state={}}n.assign(s.prototype,a.Events),n.assign(s.prototype,{start:function(){this.interval=setInterval(this.onPulse.bind(this),this.delay)},stop:function(){clearInterval(this.interval),this.interval=null},onPulse:function(){var e=this,t=JSON.stringify(n.pick(this,["state"]));r.ajax({url:$appData.globalConfig.apiRoot+"/pulse",method:"POST",dataType:"json",contentType:"application/json",data:t}).done((function(t){e.state=t,e.trigger("pulse",e.state)})).fail((function(t){403===t.status||401===t.status?e.stop():o.ignoreAjaxErrors(t)}))}}),e.exports=new s,e.exports.PulseEmitter=s},454568:(e,t,i)=>{"use strict";i(428706),i(962010),i(16280),i(944114);var n=i(96190),a=i(274692),r=i(122268),o=i(504542),s=i(307312),l=i(995964),d=i(680553),c=i(656546),u=i(40785),p=o.Model.extend({entity:{base:"sys",name:"lock"},getEntityCanon:function(){return"sys/lock"},url:function(){var e=this.get("entity");return"".concat($appData.globalConfig.apiRoot,"/lock/").concat(this.id,"?entBase=").concat(e.base,"&entName=").concat(e.name)},idAttribute:"id",initialize:function(){var e=this.get("entity");if(!n.isPlainObject(e)||!e.base&&!e.name)throw new Error("entity object required")}}),f={lockedModels:new s,lockWarnings:new s,lockIntervals:{},checkLockedByAnotherUser:function(e,t,i){if(n.isFunction(t)&&(i=t,t={}),!e)throw"Model Required";if(!e.id)throw"Model Id Required";if(e.isExternalForm())return i?i(null,!1):void 0;if(f.lockedModels.get(e.id))i&&i(null,!1);else{var a=new p({id:e.id,entity:e.getEntity()});a.fetch({success:function(){var r=n.get(a,"attributes.user.id")===$appData.user.id;a.get("ttl")>0&&!r?(n.get(t,"displayWarningMessage",!0)&&f._displayWarningMessage(a,e,t),e.set("isLockedByAnotherUser",!0),i&&i(null,!0)):!0===e.get("isLockedByAnotherUser")?f._updateData(a.id,e,t.customUpdate,i):i&&i(null,!1)},error:function(){i&&i("Failed to load lock")}})}},lock:function(e,t,i){if(n.isFunction(t)&&(i=t,t={}),!e)throw"Model Required";if(!e.id)throw"Model Id Required";if(!i)throw"Callback Required";if(e.isExternalForm())return i(null,!0);if(f.lockedModels.get(e.id))return i(null,!0);var a=new p({id:e.id,entity:e.getEntity()});a.save(null,{success:function(){f.lockedModels.add(e),f._hideWarningMessage(e.id),f._startLockInterval(a),i(null,!0)},error:function(n,a){409===a.status&&(a.weAlreadyPreviouslyHandledThis=!0,f.checkLockedByAnotherUser(e,t,(function(e,t){i(e,!t)})))}})},_updateData:function(e,t,i,n){var a=function(){f._hideWarningMessage(e),t.set("isLockedByAnotherUser",!1),n&&n(null,!1)},r=function(e){t.set("checkLockedByAnotherUserError",e)};i?i().done(a).fail(r):t.fetch({success:a,error:r})},_startLockInterval:function(e){c.state.locks=c.state.locks||[],c.state.locks.push(e.id)},_stopLockInterval:function(e){c.state.locks=c.state.locks||[],n.remove(c.state.locks,(function(t){return t===e.id}))},unlock:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop;if(!e)return t(new Error("Model Required"));if(!e.id||!f.lockedModels.get(e.id))return t();var i=new p({id:e.id,entity:e.getEntity()});f._stopLockInterval(i),i.destroy({success:function(){f.lockedModels.remove(e.id),t()},error:u.ignoreBackboneAjaxErrors})},unlockAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;r.each(f.lockedModels.models,(function(e,t){f.unlock(e,t)}),e)},_displayWarningMessage:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!f.lockWarnings.get(e.id)){var n=d.getBySelector(a("#view-container >:first")).model;if(!n||n.id===e.id||i.forceDisplay){var r=new l({model:e,lockedModel:t,lockCheckOpts:i}),o=i.customMessageContainer||"#messages-container";d.add(r,{group:"record-locks"}).render(o),f.lockWarnings.add(t)}}},_hideWarningMessage:function(e){if(f.lockWarnings.get(e)){var t=d.getByGroup("record-locks");n.each(t,(function(t){t.model.id===e&&d.remove(t)})),f.lockWarnings.remove(e)}},hideWarningMessageByModelId:function(e){f._hideWarningMessage(e)},hideAllWarnings:function(){if(0!==f.lockWarnings.length){var e=d.getByGroup("record-locks");n.each(e,(function(e){d.remove(e),f.lockWarnings.remove(e.model.id)}))}}};e.exports=f},186360:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(938781),i(327495),i(690906),i(16280),i(428706),i(962010),i(250113),i(426099),i(123792),i(962953);var r=i(96190),o=i(274692),s=i(321912),l=i(36742),d=i(610421),c=i(362584),u=i(939994),p=i(631687),f=i(710572),h=i(45701),m=l.create("rules-helper.js"),g={getRuleResults:function(e,t){t=t||(null==e?void 0:e.model);var i={};if(t){var a=u.get(t.entity);a&&r.each(a.rules,(function(e,n){if(i[n]=e.call(null,t.attributes),!r.isBoolean(i[n]))throw"Invalid rule result: "+n})),r.each(t.rules,(function(e,n){if(i[n]=e.call(t,t.attributes),!r.isBoolean(i[n]))throw"Invalid rule result: "+n}));var o=[].concat(n(t.layoutRuleGroups||[]),n(t.childrenLayoutRuleGroups||[]));r.each(o,(function(e){var n=e.displayRuleName||e.id;if(i[n]=c.evaluateDynamicRuleGroup({context:{globalOptions:$appData.globalConfig},entDef:t.getEntityDefinition(),entData:t.attributes,ruleGroup:e}),!r.isBoolean(i[n]))throw"Invalid rule result: "+n}))}return e&&r.each(e.rules,(function(n,a){var o=t?t.attributes:null;if(i[a]=n.call(e,o),!r.isBoolean(i[a]))throw"Invalid rule result: "+a})),i},getFormLayoutFromView:function(e){if(e.formLayout)return e.formLayout;var t;if(e.name&&(t=r.find(f,{name:e.name})))return t;if(e.formId&&(t=r.find(f,{id:e.formId})))return t;if("case-details-tmpl"===e.templateName&&"details"===e.subViewName){var i=e.subView.getCurrentSubView();if(t=i&&i.formLayout)return t}return null},updateDisplayRuleFields:function(e,t,i,n){var a=this;r.isBoolean(n)||(n=!0),e.each((function(){var e=o(this).attr("data-display-rule"),n=!1!==o(this).data("clearOnHide"),s=c.parseRulesToArray(e);if(c.doAllRulesExist(s,i)){var l=c.resolveArray(s,i),d="none"!==this.style.display;l&&!d?(o(this).css("display",""),a.updateARIA(this,!0)):!l&&d&&(o(this).css("display","none"),"tab"===o(this).attr("role")&&o(document).trigger("tab-hide",this),a.updateARIA(this,!1),n&&r.isFunction(t.clearFormFields)&&t.clearFormFields(o(this)))}else m.info("Skipping dynamic display rule: "+e+" as it's missing defined rules")}));var s=this.getFormLayoutFromView(t);if(s&&t.model&&n){var l=r.assign({},i,{_true:!0}),d=t.model,u=p(s),f={};r.each(u,(function(e,t){var i=c.parseRulesToArray(e);if(c.doAllRulesExist(i,l)){if(!c.resolveArray(i,l)){var n,a=r.get(d.getEntityDefinition().fields(),t,{}),o=!!a.features&&0===r.intersection(a.features,h.getEnabledFeatures()).length;if(!1===a.clearOnHide||o)return;n="dynamic"===a.kind?r.get(a,"typeOptions.default",null):r.get(d,["defaults",t],null),r.set(f,t,n)}}else m.info("Skipping dynamic display rule: "+e+" as it's missing defined rules")})),r.isEmpty(f)||d.set(f)}},updateDisableRuleFields:function(e,t){e.each((function(){var e=o(this),i=e.attr("data-disable-rule"),n=c.parseRulesToArray(i);c.doAllRulesExist(n,t)?!0===c.resolveArray(n,t)?d.makeFieldDisabled(e):d.makeFieldEnabled(e):m.info("Skipping dynamic disable rule: "+i+" as it's missing defined rules")}))},updateEditRuleFields:function(e,t){e.each((function(){var e=o(this),i=e.attr("data-edit-rule"),n=c.parseRulesToArray(i);c.doAllRulesExist(n,t)?!0===c.resolveArray(n,t)?e.removeClass("readonly"):e.addClass("readonly"):m.info("Skipping dynamic edit rule: "+i+" as it's missing defined rules")}))},updateHideByIntakeMethodFields:function(e){var t=this;e.each((function(){"none"!==o(this).css("display")&&(o(this).css("display","none"),t.updateARIA(this,!1))}))},evaluate:function(e,t,i){var n=g.getRuleResults(t,i),a=c.parseRulesToArray(e);if(c.doAllRulesExist(a,n))return c.resolveArray(a,n);m.info("Can't check rule: "+e+" as it's missing defined rules")},apply:function(e,t,i){i=i||t.model;var a=r.keys(t.rules).length>0,s=i&&r.keys(i.rules).length>0,l=i&&(i.layoutRuleGroups||i.childrenLayoutRuleGroups),d=a||s||l,c=o("[data-display-rule]",e),u=o("[data-disable-rule]",e),p=o("[data-edit-rule]",e),f=o("[data-hide-on-intake], [data-hide-on-portal], [data-hide-on-hotline]",e);if(t.applyRules=r.throttle((function(e){e=e||{};var n=r.get(e,"resetModelAttrs",!0),a=g.getRuleResults(t,i);g.updateDisplayRuleFields(c,t,a,n),g.updateDisableRuleFields(u,a),g.updateEditRuleFields(p,a),g.updateHideByIntakeMethodFields(f),t.trigger("dynamic-rules-applied")}),250),!0===d){t.applyRules({resetModelAttrs:!1});var h=[].concat(n(c),n(u),n(p),n(f)).length>0;(a||h)&&i&&i.on("change",t.applyRules)}return!0===d},destroy:function(e,t){(t=t||e.model)&&e.applyRules&&(e.applyRules.cancel(),t.off("change",e.applyRules))},updateARIA:function(e,t){if(e){var i=e.hasAttribute("aria-selected"),n=e.hasAttribute("aria-hidden");i&&!t&&e.setAttribute("aria-selected",!1),n&&e.setAttribute("aria-hidden",!t)}},setFilterChildrenFormattedValues:s.setFilterChildrenFormattedValues};e.exports=g},769774:(e,t,i)=>{"use strict";i(202008),i(426099),i(423500);var n=i(274692),a=i(16871).v4,r=i(672890),o=r.prototype.getSearchOptions,s=r.prototype.setup,l=r.prototype.destroy;r.prototype.destroy=function(){this.accessibility.liveRegion.$region.remove();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.apply(this,t)},r.prototype.getSearchOptions=function(){var e=o.apply(this,arguments);return e.filter=!this.settings.dontFilter,e},r.prototype.setupTemplates=function(){var e=this,t=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,i){var n=i(e[t]);return'<div class="option" role="option" id="'+(e.id?i(e.id):a())+'">'+n+"</div>"},item:function(e,i){return'<div class="item">'+i(e[t])+"</div>"},option_create:function(e,t){var i=t(e.input);return'<div class="create" role="option" id="'+a()+'"><span>Add <strong>'+i+"</strong>&hellip;</span></div>"}};e.settings.render=n.extend({},r,e.settings.render)},r.prototype.setup=function(){s.apply(this,arguments);var e=this,t=e.eventNS,i=a();void 0===e.accessibility&&(e.accessibility={}),this.$control_input.attr("autocomplete","off-hack"),n(document).off("mousedown"+t),n(document).on("mousedown"+t,(function(t){if(e.isFocused){if(t.target===e.$dropdown[0]||t.target.parentNode===e.$dropdown[0])return!1;var i=!e.$control.has(t.target).length&&t.target!==e.$control[0],n=!1!==e.blurOnOutsideClick;i&&n&&(e.blur(),t.target.focus())}}));var r=this.$control_input.attr("type");"select-one"!==r&&"select-multiple"!==r||this.$control_input.attr("type","text"),this.$control.on("keydown",(function(e){13===e.keyCode&&n(this).click()})),this.$control_input.attr({role:"combobox","aria-expanded":"false",haspopup:"listbox","aria-owns":i,"aria-label":e.$wrapper.closest("[data-accessibility-selectize-label]").attr("data-accessibility-selectize-label"),maxlength:this.settings.itemMaxLength}),this.$dropdown_content.attr({role:"listbox",id:i}),e.accessibility.liveRegion={$region:"",speak:function(e){var t=n("<div></div>");t.text(e),this.$region.html(t)},domListener:function(){var t=new MutationObserver((function(t){t.forEach((function(t){var i=n(t.target);i.hasClass("items")?i.hasClass("dropdown-active")?e.$control_input.attr("aria-expanded","true"):(e.$control_input.attr("aria-expanded","false"),e.$control_input.removeAttr("aria-activedescendant")):i.hasClass("active")&&i.attr("data-value")&&(e.$control_input.attr("aria-activedescendant",i.attr("id")),e.accessibility.liveRegion.speak(i.text()))}))}));t.observe(e.$dropdown[0],{attributes:!0,attributeFilter:["class"],subtree:!0,attributeOldValue:!0}),t.observe(e.$control[0],{attributes:!0,attributeFilter:["class"]}),t.observe(e.$control_input[0],{attributes:!0,attributeFilter:["value"]})},setAttributes:function(){this.$region.attr({"aria-live":"assertive",role:"log","aria-relevant":"additions","aria-atomic":"true"})},setStyles:function(){this.$region.css({position:"absolute",width:"1px",height:"1px","margin-top":"-1px",clip:"rect(1px, 1px, 1px, 1px",overflow:"hidden"})},init:function(){this.$region=n("<div>"),this.setAttributes(),this.setStyles(),n("body").append(this.$region),this.domListener()}},this.accessibility.liveRegion.init()}},323175:(e,t,i)=>{"use strict";var n=i(13288)("sse"),a=i(36742),r=i(999882),o=window.EventSource&&!0===$appData.globalConfig.sseEnabled,s=$appData.globalConfig,l=s.subscriberUrl,d=s.intervalEmitterIntervalMs,c=$appData.user.id,u=$appData.disableSsePolling;e.exports=new r({sseEnabled:!0===o,currentUserId:c,subscriberUrl:l,intervalEmitterIntervalMs:d,logger:a,debug:n,disablePolling:u})},999882:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280);var s=i(96190),l=i(968610),d=i(752214);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sseEnabled=!1!==t.sseEnabled,this.currentUserId=t.currentUserId,this.subscriberUrl=t.subscriberUrl,this.intervalEmitterIntervalMs=t.intervalEmitterIntervalMs,this.errorThreshold=t.errorThreshold||3,this.debug=t.debug,this.disablePolling=t.disablePolling,!1!==t.createTransportOnInit&&this.refreshTransport()}var t,i;return t=e,(i=[{key:"getAllListeners",value:function(){return this.transport?this.transport.getAllListeners():[]}},{key:"getTransportOptions",value:function(){return{currentUserId:this.currentUserId,subscriberUrl:this.subscriberUrl,intervalEmitterIntervalMs:this.intervalEmitterIntervalMs,debug:this.debug,onErrorHandler:this.onTransportError.bind(this),disablePolling:this.disablePolling}}},{key:"getTransportName",value:function(){return this.transport?this.transport.getName():null}},{key:"migrateTransport",value:function(e,t){var i=e?e.getAllListeners():[];i.length>0&&s.each(i,(function(e){var i=e.contextObj,n=e.eventName,a=e.listenerFn;t.addEventListener(i,n,a)})),e&&e.close()}},{key:"refreshTransport",value:function(){var e=this.transport;this.transport=function(e,t){if(!s.isBoolean(e))throw TypeError("sseEnabled must be boolean");if(!s.isObject(t))throw TypeError("transportOpts must be object");var i=l;!1===e&&(i=d);var n=new i(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=o(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({sseEnabled:e},t));return n}(this.sseEnabled,this.getTransportOptions()),this.migrateTransport(e,this.transport)}},{key:"onTransportError",value:function(e){var t=this.transport.getErrorCount(),i=this.transport.getName(),n=t>=this.errorThreshold;"eventsource"!==i||!n&&2!==e.readyState||(this.sseEnabled=!1,this.refreshTransport())}},{key:"addEventListener",value:function(e,t,i){this.transport.addEventListener(e,t,i)}},{key:"removeEventListener",value:function(e,t,i){this.transport.removeEventListener(e,t,i)}},{key:"removeAllEventListenersFor",value:function(e){this.transport.removeAllEventListenersFor(e)}},{key:"removeAllEventListeners",value:function(){this.transport.removeAllEventListeners()}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=c},365745:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(962010),i(16280),i(202008),i(426099),i(944114),i(45700),i(689572),i(752675),i(489463),i(102892);var r=i(96190),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners=[],this.errorCount=0,this.applyListenerDebouncing=!1!==t.applyListenerDebouncing,this.listenerDebounceMs=t.listenerDebounceMs||1e3,this.sseEnabled=t.sseEnabled,this.debug=t.debug}var t,i;return t=e,(i=[{key:"getAllListeners",value:function(){return this.listeners}},{key:"getErrorCount",value:function(){return this.errorCount}},{key:"getName",value:function(){return this.name}},{key:"getOriginalListenerFromContext",value:function(e){return e&&e.listenerContext?e.listenerContext.originalListener:null}},{key:"getListeners",value:function(e,t,i){var n=this;if(!r.isObject(e))throw new TypeError("contextObj must be an obj");if(t&&!r.isString(t))throw new TypeError("eventName must be a string");if(i&&!r.isFunction(i))throw new TypeError("listenerFn must be function");return r.filter(this.listeners,(function(a){var r=n.getOriginalListenerFromContext(a),o=a.contextObj===e;if(t&&(o=o&&a.eventName===t),i){var s=a.listenerFn;o=o&&(s===i||r===i)}return o}))}},{key:"getListenerWrapper",value:function(e,t){var i=this;return function(n){if(i.debug){var a=n&&n.data?n.data:{};i.debug('event "%s" (sse-active: "%s")',t,i.sseEnabled),i.debug("%O",a)}e(n)}}},{key:"getListenerToAdd",value:function(e,t){var i=this.getListenerWrapper(e,t);return this.applyListenerDebouncing?r.debounce(i,this.listenerDebounceMs,{leading:!0,trailing:!1,maxWait:this.listenerDebounceMs}):i}},{key:"addEventListener",value:function(e,t,i){this.throwIfInvalidStandardParams(e,t,i);var n={contextObj:e,eventName:t,listenerFn:this.getListenerToAdd(i,t),listenerContext:{originalListener:i}};return this.listeners.push(n),n}},{key:"removeEventListener",value:function(e,t,i){var n=this;return this.throwIfInvalidStandardParams(e,t,i),r.remove(this.listeners,(function(a){var r=n.getOriginalListenerFromContext(a);return a.contextObj===e&&a.eventName===t&&(a.listenerFn===i||r===i)}))}},{key:"removeAllEventListenersFor",value:function(e){if(!r.isObject(e))throw new TypeError("contextObj must be an object");r.remove(this.listeners,(function(t){return t.contextObj===e}))}},{key:"removeAllEventListeners",value:function(){this.listeners=[]}},{key:"callListenersForEvent",value:function(e){var t=this.getAllListeners();r.each(t,(function(t){t.eventName===e&&t.listenerFn()}))}},{key:"close",value:function(){}},{key:"throwIfInvalidStandardParams",value:function(e,t,i){if(!r.isObject(e))throw new TypeError("contextObj must be an object");if(!r.isString(t))throw new TypeError("eventName must be a string");if(!r.isFunction(i))throw new TypeError("listenerFn must be a function")}},{key:"onError",value:function(){this.errorCount++}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=o},968610:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:i):a.value}},r.apply(this,arguments)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}i(240875),i(426099),i(715472),i(860825),i(16280),i(740888),i(83851),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(879432),i(962010);var d=i(96190);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(f,e);var t,i,c,u,p=(c=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(u){var i=l(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=p.call(this,e)).name="eventsource",t.subscriberUrl=e.subscriberUrl,t.logger=e.logger,t.currentUserId=e.currentUserId,t.customOnErrorHandler=e.onErrorHandler;var i,n,a,r=e.eventSourceClass||window.EventSource;return t.eventSource=new r(t.subscriberUrl),t.eventSource.onmessage=t.onUnhandledMessage.bind(s(t)),t.eventSource.onerror=t.onError.bind(s(t)),i=s(t),n=i.eventSource,a=i.currentUserId,n.addEventListener(a,(function(e){var t=function(e){return e&&d.isString(e.data)&&"{}"!==e.data?JSON.parse(e.data):{}}(e),n=t.eventName;n&&i.callListenersForEvent(n)})),t}return t=f,(i=[{key:"addEventListener",value:function(e,t,i){var n=r(l(f.prototype),"addEventListener",this).call(this,e,t,i);return this.eventSource.addEventListener(t,n.listenerFn),n}},{key:"removeEventListener",value:function(e,t,i){var n=this,a=r(l(f.prototype),"removeEventListener",this).call(this,e,t,i);return d.each(a,(function(e){n.eventSource.removeEventListener(t,e.listenerFn)})),a}},{key:"removeAllEventListenersFor",value:function(e){var t=this;r(l(f.prototype),"removeAllEventListenersFor",this).call(this,e);var i=this.getListeners(e);d.each(i,(function(e){t.eventSource.removeEventListener(e.eventName,e.listenerFn)}))}},{key:"close",value:function(){this.eventSource.close()}},{key:"onUnhandledMessage",value:function(e){this.logger&&this.logger.info("Unhandled message from server",e)}},{key:"onError",value:function(e){if(r(l(f.prototype),"onError",this).call(this),this.logger&&this.logger.error("Error occurred on SSE EventSource object",e),this.customOnErrorHandler){var t=d.get(e,"currentTarget.readyState",null);this.customOnErrorHandler({readyState:t})}}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(i(365745));e.exports=c},752214:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}i(426099),i(715472),i(860825),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(962010),i(240875);var s=i(96190),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(u,e);var t,i,l,d,c=(l=u,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(l);if(d){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var i=s.assign({},t,{applyListenerDebouncing:!1});return(e=c.call(this,i)).name="interval-emitter",e.interval=i.intervalEmitterIntervalMs||6e4,e.intervalRef=null,!0!==t.disablePolling&&!1!==i.start&&e.start(),e}return t=u,(i=[{key:"start",value:function(){this.intervalRef=setInterval(this.onInterval.bind(this),this.interval)}},{key:"close",value:function(){clearInterval(this.intervalRef),this.intervalRef=null}},{key:"onInterval",value:function(){s.each(this.listeners,(function(e){e.listenerFn()}))}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(i(365745));e.exports=l},743750:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(428706),i(726910);var n=i(96190),a={getFieldsInMapping:function(e){return n.uniq(this._getFieldsInMapping(e))},_getFieldsInMapping:function(e){var t=this,i=[],a=n.keys(e)[0];switch(a){case"is":case"contains":i=n.keys(e[a]);break;case"or":case"and":n.each(e[a],(function(e){i=n.concat(i,t.getFieldsInMapping(e))}))}return i},getSimilarSearchFetchOpts:function(e){var t=e.data,i=void 0===t?{}:t,a=e.reset,r=void 0!==a&&a,o=e.success,s=void 0===o?n.noop:o,l=e.error,d={type:"POST",dataType:"json",contentType:"application/json",data:i,reset:r,success:s,error:void 0===l?n.noop:l};return this.getSort()&&(d.data.sort=this.getSort()),this.getRowCount()&&(d.data.size=this.getRowCount()),this.getSearchText()&&(d.data.searchText=this.getSearchText()),this.getAttributes()&&(d.data.modelAttributes=this.getAttributes()),d.data.from=this.getSkipCount(),0===this.getRowCount()&&(d.data.size=100,d.from=0,d.reset=!1,d.remove=!1),d},setAttributes:function(e){this.modelAttributes=e},getAttributes:function(){return this.modelAttributes}};e.exports=a},916428:(e,t,i)=>{"use strict";i(250113),i(426099);var n=i(96190),a=i(800030);function r(e){return e.elements||e.tabs}e.exports={displayRule:function(e){return e.displayRule?e.displayRule:e.displayRuleGroupId?e.displayRuleGroupId:"_true"},children:r,fieldName:function(e){if(n.isEmpty(e))return null;if(e.field)return e.field;var t;e.dynamicEntityId?t=n.find($appData.dynamicEntityFields,{entityId:e.dynamicEntityId}):e.staticEntityId&&(t=n.find($appData.entityFields,{entity:a.getEntityFromCanon(e.staticEntityId__canon)}));var i=t?t.fields:[];if(!n.isEmpty(i)&&e.fieldId){var r=n.find(i,{id:e.fieldId});if(r)return r.field}return null},hasChildren:n.flow(r,n.isArray),shouldClearOnHide:function(e){return!1!==e.clearOnHide}}},631687:(e,t,i)=>{"use strict";i(428706),i(426099);var n=i(96190),a=i(916428),r=i(584984);function o(e,t,i){return i=i.concat(a.displayRule(t)),a.hasChildren(t)?n.reduce(a.children(t),n.partial(o,n,n,i),e):!a.fieldName(t)||function(e,t){return"_noclear"===n.get(e,a.fieldName(t))}(e,t)||n.isEmpty(i)?e:a.shouldClearOnHide(t)?function(e,t,i){var a=n.get(e,t,[]);return n.set(e,t,a.concat(i))}(e,a.fieldName(t),r.andRules(i)):function(e,t){return n.set(e,a.fieldName(t),"_noclear")}(e,t)}function s(e){return"_noclear"===e?["_true"]:e}e.exports=function(e){return n.mapValues(o({},e,[]),n.flowRight(r.orRules,s))}},584984:(e,t,i)=>{"use strict";i(311927),i(962062),i(874423),i(21699);var n=i(96190),a=" && ",r=" || ";function o(e){return"("+e+")"}function s(e,t,i){return 1===n.size(e)?n.first(e):n.map(e,(function(e){return n.includes(e,i)?o(e):e})).join(t)}e.exports={andRules:function(e){return s(e,a,r)},orRules:function(e){return s(e,r,a)},inBraces:o}},525220:(e,t,i)=>{"use strict";i(250113),i(426099),i(962010),i(202008),i(874423),i(21699),i(962062);var n=i(96190),a=i(40785),r=i(186360);e.exports=function(e){if(!(e=n.defaults(e,{view:null,model:null,workflowName:null,buttons:{}})).workflowName)throw"Missing Workflow Name";if(!e.model)throw"Model Missing";var t=n.find(a.getStaticWorkflowsByEntity(e.model),(function(t){return t.name===e.workflowName}));if(!t)throw"Invalid Workflow Name";var i=n.throttle((function(){n.each(e.buttons,(function(i,o){var s,l=(s=o,n.filter(t.transitions,{id:s})[0]);l&&!0===function(i){var o,s=e.model.get(t.field);o=n.isArray(i.from)?n.includes(i.from,s):"*"===i.from||i.from===s;var l=n.get($appData.user,"perm.roles")||[],d=n.map(i.roles,(function(t){if(n.isString(t))return n.includes(l,t);if(n.isPlainObject(t)){var i=n.includes(l,t.role),r=a.matchCondition(e.model.attributes,t.condition,{user:$appData.user});return i&&r}})),c=n.includes(d,!0),u=!0;n.each(i.conditions,(function(i){var a,r,o=n.filter(t.conditions,{name:i})[0];o&&o.affectsUi&&n.isPlainObject(o.attributes)&&(a=o.attributes,r=!0,n.each(a,(function(t,i){"*!empty"===t?n.isEmpty(e.model.get(i))&&(r=!1):"*empty"===t?null!==e.model.get(i)&&void 0!==e.model.get(i)&&(r=!1):"{user.id}"===t?e.model.get(i)!==$appData.user.id&&(r=!1):e.model.get(i)!==t&&(r=!1)})),r||(u=!1))}));var p=!0;return i.displayRule&&(p=r.evaluate(i.displayRule,e.view,e.model)),o&&c&&u&&p}(l)?i.show():i.hide()}))}),250);return i(),e.model.on("change",i,this),{destroy:function(){e.model.off("change",i,this)}}}},699847:(e,t,i)=>{"use strict";var n=i(96190);e.exports=function(){var e=null;return{start:function(){return null===e&&(e=new Date),this},restart:function(){return e=new Date,this},stop:function(){if(n.isNull(e))return 0;var t=new Date-e;return e=null,t},currentTimeElapsed:function(){return n.isNull(e)?0:new Date-e}}}},995803:(e,t,i)=>{"use strict";i(250113),i(426099),e.exports={getNextView:function(e,t){if(0===t.$tabs.length)return null;var i,n=t.$tabs.length-1;return["ArrowUp","ArrowLeft","Up","Left"].indexOf(e)>-1?i=t.activeIndex<1?n:t.activeIndex-1:["ArrowDown","ArrowRight","Down","Right"].indexOf(e)>-1?i=t.activeIndex===n?0:t.activeIndex+1:"Home"===e?i=0:"End"===e&&(i=n),t.$tabs.eq(i).closest('[role="presentation"]').attr("data-navigation")},getTabsMap:function(e){var t=e.$('[role="tablist"]:first'),i=t.find('[role="tab"]:visible'),n=t.find('[aria-selected="true"]'),a=i.index(n);return{$tabs:i,activeIndex:a}},hideTab:function(e,t){e&&(e.attr("aria-selected","false"),e.attr("tabindex","-1"),t&&this.hideContent(t))},hideContent:function(e){e&&(e.attr("hidden","hidden"),e.attr("aria-hidden","true"))},showTab:function(e,t,i){t.attr("aria-selected","true"),t.attr("tabindex","0"),!1!==i&&t.focus()},showContent:function(e,t){t.prop("hidden",!1),t.attr("aria-hidden","false")},isNavigationKey:function(e){return-1!==["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e)}}},577079:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(962010),i(327495),i(690906),i(16280),i(962062),i(428706),i(426099),i(938781);var a=i(96190),r=i(939994),o=i(185999),s=i(837586),l={getFieldQuery:function(e,t,i){var n,r=e.query();switch(e.getFieldInfo(t).type){case"email":case"email[]":case"emailLookup[]":n=a.get(i,"memberEmails",[]);break;case"user":case"user[]":n=a.get(i,"memberIds",[]);break;default:return null}if(a.isEmpty(n))return o.must([o.impossibleTerm()]);var s=a.map(n,(function(e){return r.is(t,e).toQuery()}));return o.must([o.should(s)])},getFieldsQuery:function(e,t,i){var n=this,o=a.isArray(t)?t:[t];return a.map(o,(function(t){return n.getFieldQuery(r.get(e),t,i)}))},getTeamFilters:function(e,t){var i,r=this,l=s.getTeams(),d=a.map(l,(function(t){var i=a.get(t,"name",""),n={memberIds:a.get(t,"members",[]),memberEmails:a.get(t,"members__email",[])};return{text:i,translatedCaption:i,filter:a.map(e,(function(e){var t=e.type,i=e.fields;return{type:t,query:i?o.should(r.getFieldsQuery(t,i,n)):null}}))}})),c={memberIds:a.chain(l).map("members").flatten(1).compact().uniq().value(),memberEmails:a.chain(l).map("members__email").flatten(1).compact().uniq().value()};return{name:"team",options:[{text:"none",filter:a.map(e,(function(e){var t=e.type,i=e.fields;return{type:t,query:i?o.mustNot(r.getFieldsQuery(t,i,c)):null}}))}].concat((i=a.sortBy(d,(function(e){return a(e.translatedCaption).toString().toLowerCase()})),function(e){if(Array.isArray(e))return n(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),optional:t,sortList:!1}}};e.exports=l},896727:(e,t,i)=>{"use strict";i(311927),i(134782),i(962010),i(327495),i(725440),i(428706),i(426099),i(962062),i(250113),i(369085);var n,a=i(96190),r=i(274692),o=i(947432),s=i(519882),l=i(683178),d=i(410114).A,c=i(40785),u=i(36742),p=i(467650),f={closeButton:!0,tapToDismiss:!1,hideDuration:500,target:"#toasts-container",closeHtml:'<button type="button" aria-label="'.concat(c.translateKey("dismiss_toast"),'">&times;</button>'),positionClass:$appData.globalConfig.toastPosition,timeOut:$appData.globalConfig.toastTimeout,extendedTimeOut:$appData.globalConfig.toastTimeout,errorWaitPeriod:$appData.globalConfig.toastErrorWaitPeriod};function h(e){var t=e.split(" ");return{action:t[0],name:t.slice(1).join(" ")}}function m(e){e.attr("data-last-render",o().toISOString())}function g(e,t,i,p,h){if(e||t){var g,y=function(e,t){var i={};return a.isInteger(e)&&(i.timeOut=e,i.extendedTimeOut=e),a.merge({},f,i,t)}(i,p),v={allowedTags:["b","i","em","strong","a","span"],allowedAttributes:{a:["data-route","href"]},allowedClasses:{span:["toast-message-text"]}},b=l('<span class="toast-message-text">'.concat(e,"</span>"),v),w=l(t,v),A=r("<div>".concat(b,"</div>")).text(),C=b,k=!1;if(A.length>120){var x=c.translateKey("more").length;b=d(b,120-x,{html:!0,breakWords:!0,indicator:"..."}),k=!0}if("info"===h)g=s.info(b,w,y);else if("error"===h){var _=r.escapeSelector(A),E=r('.toast-error:contains("'.concat(_,'")'));if(k&&(E=r('.toast-error > .toast-message[data-original-message*="'.concat(_,'"]'))),E.length>0){var I=a.chain(E).map((function(e){return o(r(e).attr("data-last-render"))})).reduce((function(e,t){return t.isAfter(e)?t:e})).valueOf();if(o().diff(I,"seconds")<y.errorWaitPeriod)return;E.fadeOut(500).fadeIn(500),m(E)}else m(g=s.error(b,w,y))}else u.log({type:"error",msg:'Unknown toast type "'.concat(h,'"')});g&&k&&(n.addMoreLessBtn(g),g.find(".toast-message").attr("data-original-message",C),g.find(".toast-message").attr("data-truncated-message",b))}else u.log({type:"error",msg:"A toast needs either a message or a title"})}function y(e,t){var i,n=e.closest(".toast-message"),a="expanded";n.hasClass(a)?(i=n.attr("data-truncated-message"),n.removeClass(a)):(i=n.attr("data-original-message"),n.addClass(a)),n.children(".toast-message-text").empty().html(i)}n={info:function(e){g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},"info")},error:function(e){g(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"error")},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},t);void 0===i.force&&(i.force=!0),s.clear(e,i)},getCrudMessage:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.defaults(i,{includeItem:!0,includeLink:!0,useActionTextAsLink:!1}),r=c.getTranslatedEntityAction(e,t),o="";return n.includeItem&&(o=function(e){var t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.useActionTextAsLink)t=h(n.actionText).name;else{var r=n.customGridDescriptorField||e.getEntityDefinition().entDef.gridDescriptorField;t=e.get(r)||e.get("childNumber")}if(!t)return"";var o="<strong>".concat(a.escape(t),"</strong>");if(i){var s=n.customLink?n.customLink:c.getEntityRoute(e);if(s){var l=s.replace("{id}",e.id);"sys/email"===e.getEntityCanon()&&(l=l.replace("{emailThreadId}",e.get("emailThreadId"))),"sys/listItem"===e.getEntityCanon()&&(l=l.replace("{pickListType}",e.get("name")).concat("/edit")),o='<a data-route="'.concat(l,'" href="').concat(l,'">').concat(o,"</a>")}}return o}(e,n.includeLink&&"deleted"!==t,{actionText:r,useActionTextAsLink:n.useActionTextAsLink,customLink:n.customLink,customGridDescriptorField:n.customGridDescriptorField})),c.translateKey("crud_message",{context:{action:n.useActionTextAsLink?h(r).action:r,item:o}})},addMoreLessBtn:function(e){var t=e.find(".toast-message");new p({callback:y}).render(t)},onLinkClicked:function(e){var t=r(e.currentTarget).closest(".toast");n.clear(t)}},e.exports=n},4658:(e,t,i)=>{"use strict";var n=i(939994),a=i(353538),r=i(521792);e.exports=function(e){return new r({validator:a,entDef:n.get(e)})}},959439:(e,t,i)=>{"use strict";i(962062),i(962010),i(202008),i(426099),i(874423),i(21699),i(311927),i(327495),i(725440),i(428706),i(423500),i(533110);var n=i(96190),a=i(274692),r=i(896727),o=i(40785);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.isArray(e)?e:[e]}var l={getAllUserLists:function(){return n.cloneDeep($appData.userLists)},getUserLists:function(){return n.reject(l.getAllUserLists(),(function(e){return"Favorites"===e.name}))},getUserListsByIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.isEmpty(e))return e;var t=l.getUserLists();return n.filter(t,(function(t){return n.includes(e,t.id)}))},getUserListLinksHTML:function(e){var t=$appData.router.entityMap["-/sys/user_list"];return n.chain(e).map((function(e){var i=t.replace("{id}",e.id);return'<a data-route="'.concat(i,'" href="').concat(i,'">').concat(n.escape(e.name),"</a>")})).join(", ").value()},setUserLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];$appData.userLists=e},addUserLists:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.isEmpty(e)?[]:n.map(e,(function(e){return n.pick(e,["id","name"])}))}(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])),t=l.getAllUserLists().concat(e);l.setUserLists(t)},removeUserLists:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.isEmpty(e)?[]:n.map(e,(function(e){return n.get(e,"id")}))}(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])),t=n.reject(l.getAllUserLists(),(function(t){return n.includes(e,t.id)}));l.setUserLists(t)},setFavoriteList:function(e){n.isEmpty(e)||($appData.userFavoriteList=n.pick(e,["id","name"]))},getFavoriteList:function(){return n.clone($appData.userFavoriteList)},updateUserLists:function(e){var t=n.get(e,"id"),i=n.get(e,"name"),a=n.map(l.getAllUserLists(),(function(e){return e.id===t?n.assign(e,{name:i}):e}));l.setUserLists(a)},convertModelsForEntityListCreation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=n.union(["id","entity$"],t),a=n.isArray(e)?e:[e];return n.map(a,(function(e){var t={};return n.forEach(i,(function(i){t[i]=e.get(i)})),t}))},batchUserListUpdate:function(e,t){var i=e.userListsToAdd,s=void 0===i?[]:i,d=e.userListsToRemove,c=void 0===d?[]:d,u=e.entityModels,p=void 0===u?[]:u;if(n.isEmpty(s)&&n.isEmpty(c))t();else{var f="".concat($appData.globalConfig.apiRoot,"/entityList/save/batch"),h={entityListsInfo:{userListsToAdd:s,userListsToRemove:c,selectedItems:n.map(p,(function(e){return{entityId:e.id,entityType:e.get("entity$")}}))}};a.ajax({url:f,method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(h)}).done((function(e){var t,i=e.successfulSaves,n=e.successfulDeletes;if(i.length>0&&n.length>0)t=o.translateKey("multiple_list_changes");else if(i.length>0&&0===n.length){var a=l.getUserListsByIds(i);t=o.translateKey({groupName:null,subgroupName:null,key:1===i.length?"added_to_list":"added_to_lists"},{context:{listsInfo:l.getUserListLinksHTML(a)}})}else if(n.length>0&&0===i.length){var s=l.getUserListsByIds(n);t=o.translateKey({groupName:null,subgroupName:null,key:1===n.length?"removed_from_list":"removed_from_lists"},{context:{listsInfo:l.getUserListLinksHTML(s)}})}t&&r.info(t)})).fail((function(e){403===e.status||401===e.status?r.error(o.translateKey({groupName:"errors",subgroupName:"general",key:"error_while_updating_lists"})):o.ignoreAjaxErrors(e)})).always(t)}}};e.exports=l},40785:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(83851),i(681278),i(802259),i(523418),i(426099),i(938781),i(409868),i(428706),i(533110),i(327495),i(5746),i(134782),i(725440),i(168156),i(690906),i(102892),i(311927),i(123792),i(936033),i(747764),i(962953),i(944114),i(154554),i(423500),i(874423),i(21699),i(962062),i(302945),i(55815),i(964979),i(779739),i(754743),i(321489),i(748140),i(281630),i(372170),i(775044),i(769539),i(931694),i(89955),i(821903),i(491134),i(733206),i(344496),i(866651),i(12887),i(917908),i(966812),i(408995),i(231575),i(36072),i(488747),i(128845),i(29423),i(857301),i(400373),i(686614),i(441405),i(237467),i(444732),i(933684),i(979577),i(369085),i(16280),i(962010),i(250113),i(879432),i(202008);var d=i(96190),c=i(274692),u=i(947432),p=i(122268),f=i(920192),h=i(489383),m=i(260556).aj,g=i(96789),y=i(34343),v=i(1825),b=i(770780),w=i(680553),A=i(522609)({globalOptions:$appData.globalConfig}),C=i(348174),k=i(939994),x=i(809375),_=i(790097),E=i(45701),I=i(33622),S={navigateTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$appData.appRouter.navigate(e,d.extend({trigger:!0},t))},currentLanguage:function(){return c("html").attr("lang")},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),hasTranslation:function(e){if(!e)return!1;var t=(e.key||e).toLowerCase(),i=(e.groupName||"null").toLowerCase(),n=(e.subgroupName||"null").toLowerCase();return!!d.get($appData.translations,[i,n,t])},scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.noop;d.isFunction(t)&&(i=t,t={});var n=c(window),a=null;if(d.isNumber(e))a=e;else if(e&&e.length>0){var r=0;!0===w.isReferenceUsed("toolbar")&&(r=w.getByRef("toolbar").$el.height()),n.scrollTop()+r>e.offset().top?a=e.offset().top-r-10:n.scrollTop()+n.height()<e.offset().top+e.height()&&(a=e.offset().top-n.height()+e.height()+20)}if(null!==a){c("html,body").bind("scroll mousedown DOMMouseScroll mousewheel keydown",(function(){c("html,body").stop()}));var o=d.isInteger(t.duration)?t.duration:400;c("html,body").animate({scrollTop:a},o,d.once((function(){c("html,body").unbind("scroll mousedown DOMMouseScroll mousewheel keydown"),i()})))}else i()},scrollToTop:function(){this.scrollTo(0),c(window).scroll()},formatSizeUnits:function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024)),i=(e/Math.pow(1024,t)).toFixed(2).toString();return i.lastIndexOf("0")===i.length-1&&(i=i.substring(0,i.length-1)),i.lastIndexOf("0")===i.length-1&&(i=i.substring(0,i.length-2)),i+" "+["Bytes","KB","MB","GB","TB"][t]},stripCharacters:function(e){for(var t="",i=0;i<e.length;i++)-1!=="abcdefghijklmnopqrstuvwxyz".indexOf(e[i])?t+=e[i]:t+="_";return t},translateKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>2||!d.isPlainObject(t))&&(t={allowUndefinedKey:arguments[1],context:arguments[2],missingTranslationValue:arguments[3]}),A.translate(l(l({filter:e},t),{},{translations:$appData.translations,entityFields:d.concat($appData.entityFields,$appData.dynamicEntityFields)}))},escapedTranslateKey:function(){return d.escape(S.translateKey.apply(S,arguments))},updateLocalTranslation:function(e){if(!e||!e.key||!e.value)return!1;var t=e.key.toLowerCase(),i=(e.groupName||"null").toLowerCase(),n=(e.subgroupName||"null").toLowerCase();d.set($appData.translations,[i,n,t],e.value)},fetchAndUpdateLocalTranslations:function(e,t){var n=i(939994).get({base:"sys",name:"translation"}).query(),a=d.reduce(e,(function(e,t,i){return e.concat(n.is(i,t))}),[]),r={query:n.and(a).toQuery(),size:1e3};c.ajax({url:$appData.globalConfig.apiRoot+"/search/sys_translation",data:JSON.stringify({search:r}),method:"POST",dataType:"json",contentType:"application/json"}).done((function(e){return d.each(d.get(e,"hits.hits"),(function(e){S.updateLocalTranslation(d.get(e,"_source"))})),t()})).fail(t)},getFormValues:function(e){var t={};return c("[name]",e).each((function(){var i=c(this),n=i.attr("name");switch(this.type){case"password":case"select-one":case"select-multiple":case"text":t[n]=i.val();break;case"textarea":i.data("ckeditor")?t[n]=i.data("ckeditor").getData():t[n]=i.val();break;case"checkbox":t[n]=i.prop("checked");break;case"radio":t[n]=c('[name="'+n+'"]:checked',e).val()}})),t},queryParams:function(e){if(d.isEmpty(e)){var t=window.location;e=t.search||t.hash.slice(t.hash.indexOf("?"))}if(d.isEmpty(e))return{};var i=b.parse(e);return d.isEmpty(i)?{}:i},navigateToUrlByModelType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=S._getEntityNavigationRoute(e.attributes);if(i){if(t.openInNewTab)return window.open(i,"_blank");S.navigateTo(i,t)}},_getEntityNavigationRoute:function(e,t){var i,n;e.attributes&&d.isFunction(e.get)?(i=e.get("_type")||e.get("entity$"),n=e.attributes):(i=e._type||e.entity$,n=e);var a=(t||$appData.router.entityMap)[i];return a||(C.get({entityName:i})&&(a="/form/{entityName}/{id}"),$appData.isExternal&&(a="/external/form/{entityName}/{id}")),a&&d.each(n,(function(e,t){a=a.replace("{"+t+"}",e)})),a},padLeft:function(e,t,i){for(;e.length<i;)e=t+e;return e},navigateWithPattern:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.each(t.attributes,(function(t,i){e=e.replace("{".concat(i,"}"),t)})),i.openInNewTab)return window.open(e,"_blank");S.navigateTo(e,i)},convertMillisecondsToTime:function(e){if(e&&e>10)return{hours:parseInt(e/36e5,10),minutes:parseInt(e/6e4%60,10),seconds:parseInt(e/1e3%60,10)}},convertMillisecondsToFormattedTime:function(e){var t=e/1e3;if(t<60)return t.toString();var i=this.convertMillisecondsToTime(e),n=i.hours,a=i.minutes,r=i.seconds,o=a.toString().padStart(2,"0"),s=r.toString().padStart(2,"0"),l="".concat(o,":").concat(s);if(n>0){var d=n.toString().padStart(2,"0");l="".concat(d,":").concat(l)}return l},getTimeUnitsTranslationKey:function(e){var t=e/1e3;return t<60?"_seconds":t/3600>=1?"_hours":"_minutes"},to12HrsTime:function(e){var t={time:e,amPm:"AM"};if(/^\d{2}:\d{2}$/.test(e)){var i=e.split(":"),n=Number(i[0]);n>12&&(t.time=""+Math.max(n-12,0),t.time+=":"+i[1],t.amPm="PM")}return t},to24HrsTime:function(e,t){var i=e;if("PM"===t){var n=e.split(":");i=""+(Number(n[0])+12),i+=":"+n[1]}else i=e;return i},redirectToLogin:function(e){var t="".concat($appData.redirectLoginRoute,"?redirect=true&win=").concat(window.location.pathname);e&&(t+="&".concat(e)),window.location.href=t},joinCommaWithAnd:function(e){if(!d.isArray(e))throw"Invalid parameter type. Array is expected";if(0!==e.length){if(1===e.length)return e[0];var t=e.slice(0,e.length-1),i=e.slice(-1)[0];return t.join(", ")+" and "+i}},sanitizeHtml:function(e,t){return d.isNull(e)||d.isUndefined(e)?e:m(e,t)},stripHtmlTags:function(e){return c("<div></div>").html(h(e)).text()},sanitizeFileName:function(e){return g(e)},sortLinkedlist:function(e){for(var t=[],i=new Map,n=null,a=0;a<e.length;a++){var r=e[a];null===r.previous?(n=r.id,t.push(r)):i.set(r.previous,a)}for(;t.length<e.length;){var o=e[i.get(n)];t.push(o),n=o.id}return t},reorderLinkedlist:function(e,t,i){var n=d.cloneDeep(e),a=n[t];if(t===i)return n;if(t<n.length-1&&(n[t+1].previous=a.previous),i<n.length-1){var r=n[i-t<0?i:i+1];a.previous=r.previous,r.previous=a.id}else a.previous=d.last(n).id;return n},moveArrayElement:function(e,t,i){return(e=d.cloneDeep(e)).splice(i,0,e.splice(t,1)[0]),e},rangeOfPeriod:function(e,t){return[u(t).startOf(e),u(t).endOf(e)]},getEntityCount:function(e,t){if(!e||!e.types||!e.query&&!e.filters)throw"Options required";var i={};i.search=d.cloneDeep(e.query),i.filters=e.filters,i.type=e.types.toString(),i.showCanceledCases$=e.showCanceledCases,c.ajax({type:"POST",url:$appData.globalConfig.apiRoot+"/search-count/"+i.type,contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).done((function(e){return t(null,e)})).fail(t)},getPicklistsConfig:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$appData.picklistConfig;if(e){var i={};return d.forEach(t,(function(e,t){S.hasEnabledFeature(e)&&(i[t]=e)})),i}return t},shouldSuggestLinks:function(e){var t=["frontend","backend_and_frontend"],n=$appData.globalConfig.automaticCaseSuggestLinks,a=$appData.globalConfig.automaticChildSuggestLinks,r=i(93216),o=e.getEntityCanon(),s="sys/case"===o,l=r.hasRole("create_suggested_link"),c=d.includes($appData.relationalEntitiesCanons,o),u=!0===e.changed.sysActive,p=d.includes(t,n),f=d.includes(t,a);return l&&u&&c&&(s&&p||!s&&f)},checkSuggestions:function(e,t,i,n){p.parallel({totalLinks:function(n){var a=new t(null,{entityId:e.id});a.setRowCount(1),a.setFilter(a.getSuggestedLinksFilter(i)),a.fetch({reset:!0,success:function(){n(null,a)}})},linksCreatedAfterGeneratingCaseSuggestions:function(n){var a=new t(null,{entityId:e.id}),r=e.get("lastSnapshotGenerationDate");if(r){var o=a.getFilterForLinksCreatedAfterDate(r,i);a.setFilter(o),a.fetch({success:function(){n(null,a)}})}else n(null,{})}},n)},isFilterSelected:function(e,t){var i=d.get(e,"_activeFilter.names",[]);return d.includes(i,t)},isUUIDSystemEmail:function(e){var t=$appData.emailServerDomain?$appData.emailServerDomain.toLowerCase():null;if(!e||!t)return!1;var i,n,a=(i=e.toLowerCase().split("@"),n=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(i,n)||r(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=void 0===o?"":o,l=a[1],d=/^(?:.*\+)?([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/i.test(s);return-1!==l.indexOf(t)&&d},nyi:function(){return window.alert("Not Yet Implemented.")},removeEmailFromRecipientNames:function(e){if(!e)return e;var t=e.split(", ");return(t=d.map(t,(function(e){var t=e.indexOf(" <");return-1===t?e:e.substring(0,t)}))).join(", ")},emailGridRowClickFn:function(e){S.isFilterSelected(this.gridView,"messages")?S.navigateWithPattern("/email/{emailThreadId}?msg={id}",e):S.navigateToUrlByModelType(e)},ignoreAjaxErrors:function(e){e.weAlreadyPreviouslyHandledThis=!0},ignoreBackboneAjaxErrors:function(e,t){S.ignoreAjaxErrors(t)},convertToBase64:function(e){var t=document.createElement("canvas"),i=t.getContext("2d");return t.height=e.naturalHeight,t.width=e.naturalWidth,i.drawImage(e,0,0),CanvasPngCompression.replaceToDataURL(),t.toDataURL("image/png",0)},convertToFile:function(e,t,i,n){for(var a,r=e.indexOf(";base64,"),o=e.substr(r+8),s=atob(o),l=new ArrayBuffer(s.length),d=new Uint8Array(l),c=0;c<s.length;c++)d[c]=s.charCodeAt(c);try{a=new File([d],t,{type:i})}catch(e){"function"!=typeof Object.assign&&(Object.assign=function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e});var u=new Blob([d],{type:i});u.name=t,a=Object.assign(u,{type:i})}return n(null,a)},getImageDimensions:function(e){return new y((function(t,i){var n=new Image;n.onload=function(){t({width:n.width,height:n.height})},n.onerror=i,n.src=e}))},resizeImage:function(e,t){var i=t.maxWidthOrHeight,n=t.maxWidth,a=t.maxHeight,r=new v;if(!i&&!n&&!a)throw new Error("Need to specify either a maxWidthOrHeight, maxWidth, or maxHeight");return this.getImageDimensions(e).then((function(t){var o=t.width,s=t.height;if(function(e,t){return i>e&&i>t||n>e||a>t}(o,s))return e;var l=document.createElement("canvas");l.width=o,l.height=s;var d=l.getContext("2d",{willReadFrequently:!0}),c=new Image;c.src=e,d.drawImage(c,0,0);var u=function(e,t){var r=e/t;return i?e>t?i:Math.round(i*r):n||(a?Math.round(a*r):void 0)}(o,s),p=function(e,t){var r=e/t;if(i){if(i)return e>t?Math.round(i/r):i}else{if(n)return Math.round(n/r);if(a)return a}}(o,s);return r.resample_single(l,u,p,!0),CanvasPngCompression.replaceToDataURL(),l.toDataURL("image/png",0)}))},updateThemeIfMissing:function(e,t,i,n){var a=e.get("themeId"),r=d.find(t,{default:!0}),o=!a,s=!!e.get("themeId__deletedDate")||!d.find(t,{id:a});o?e.setInitial({themeId:r.id,themeId__name:r.name}):s&&(i.removeOption(a),r?e.setInitial({themeId:r.id,themeId__name:r.name}):e.setInitial({themeId:null,themeId__name:null}),w.getByRef("deleted-theme-warning")||n.display(S.translateKey("user_theme_deleted"),{type:"warning",reference:"deleted-theme-warning"}))},getTableCaption:function(e,t,i){if(i){var n=S.escapedTranslateKey(i);return e.replace("{type}",n.toLowerCase())}if(d.isEmpty(t)||d.isArray(t)){if(!d.isEmpty(t)&&d.isArray(t)){var a=t.map((function(e){return e.captionPlural}))||"";return e.replace("{type}",a.join(", ").toLowerCase())}return""}var r=t.captionPlural||"";return e.replace("{type}",r.toLowerCase())},getTableHeadingCaption:function(e,t){var i=S.escapedTranslateKey("grid_caption");return S.getTableCaption(i,e,t)},getTableSelectAllCaption:function(e,t){var i=S.escapedTranslateKey("select_all_caption");return S.getTableCaption(i,e,t)},getEntityRoute:function(e){var t=e.getEntityCanon(),i=$appData.router.entityMap["-/".concat(t)];if(!i){var n=C.get({entityName:t});n&&(i=n.isDataFormEntry()?"/settings/data/data-form-entry/".concat(e.get("entityName"),"/{id}"):"/form/".concat(e.get("entityName"),"/{id}"))}return i},getTranslatedEntityAction:function(e,t){var i=e.getEntityCanon();if(["sys/dynamic_entity_data","sys/data_form_entry"].includes(i)){var n=e.dynamicEntityModel.get("canon");return S.translateKey({groupName:i,subgroupName:"actions",key:t},{context:{entity:S.translateKey({groupName:n,subgroupName:"general",key:"name"})}})}return S.translateKey({groupName:i,subgroupName:"actions",key:t})},calculateAvailableSeats:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return d.isNumber(e)?d.round(Math.max(e-t,0),i):null},getDownloadUrl:function(e){var t=d.assign({},e,{apiRoot:$appData.globalConfig.apiRoot});return A._getDownloadUrl(t)},downloadFile:function(e){var t=document.createElement("a");t.href=e,t.download="",t.style.display="none",document.body.appendChild(t),setTimeout((function(){t.click(),document.body.removeChild(t)}),100)},hasWorkflows:function(e){var t=e.getEntity();return d.find($appData.workflows,(function(e){return t.base===e.entity.base&&t.name===e.entity.name}))},getStaticWorkflowsByEntity:function(e){var t=e.getEntityCanon();return e.getEntityDefinition().isDynamicEntityData()&&(t=e.getEntityDefinition().dynamicEntityDataEntCanon),$appData.staticFieldWorkflows[t]},updateEntityFields:function(e){d.forEach(e,(function(e,t){k.get(t).setFields(e);var i=d.get(d.find($appData.entityFields,{entity:{name:t}}),"fields",{});A.updateObject(i,e)}))},fetchAndUpdateEntityFields:function(){var e=this,t="".concat($appData.globalConfig.apiRoot,"/fetch_entity_fields"),i=new XMLHttpRequest;i.open("GET",t,!0),i.timeout=6e4,i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("x-csrf-token",$appData.csrf),i.send(),i.responseType="json",i.onload=function(){if(200===i.status){var t=i.response;e.updateEntityFields(t)}}},executeCacheBustForFields:function(){var e=this;return function(t){var i="".concat($appData.globalConfig.apiRoot,"/fetch_cache_bust_info"),n=new XMLHttpRequest;n.open("POST",i,!0),n.timeout=6e4,n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("x-csrf-token",$appData.csrf),n.send(JSON.stringify({entity:{name:"entity"},cacheKey:"fields",frontEndIdentifier:d.get($appData,"cacheBustFields")})),n.responseType="json",n.onload=function(){if(200===n.status){var i=n.response,a=i.shouldRefresh,r=void 0!==a&&a,o=i.redisIdentifier;if(r)if(d.set($appData.cacheBustFields,o),t&&t.data){var s=JSON.parse(t.data);e.updateEntityFields(s)}else e.fetchAndUpdateEntityFields()}}}},executeCacheBustEventHandler:function(e){return function(t){var i,n=e.entity,a=e.cacheKey,r=e.cacheBustEventHandler,o=e.query;t&&t.data&&(i=JSON.parse(t.data));var s=d.get($appData,"cacheBustGroups.".concat(n.name,".").concat(a));"translation"===n.name&&d.isObject(o)&&d.assign(o,{locale:$appData.user.locale});var l="".concat($appData.globalConfig.apiRoot,"/fetch_cache_bust_info"),c=new XMLHttpRequest;c.open("POST",l,!0),c.timeout=6e4,c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("x-csrf-token",$appData.csrf),c.send(JSON.stringify({entity:n,query:o,frontEndIdentifier:s,cacheKey:a})),c.responseType="json",c.onload=function(){if(200===c.status){var e=c.response,t=e.shouldRefresh,o=void 0!==t&&t,s=e.redisIdentifier,l=e.dataFetched;o&&(r({dataFetched:l,patchData:i}),d.set($appData.cacheBustGroups,"".concat(n.name,".").concat(a),s))}}}},triggerBackboneEvent:function(e){return function(t){var i={};t&&t.data&&(i=JSON.parse(t.data)),_.trigger(e,i)}},getDynamicEntitiesMap:function(){var e=d.cloneDeep($appData.dynamicEntities);return d.map(e,(function(e){var t=S.translateKey({groupName:e.canon,subgroupName:"general",key:"name"}),i=S.translateKey({groupName:e.canon,subgroupName:"general",key:"nameplural"});return t&&i?d.assign(e,{entityCaption:t,entityCaptionPlural:i}):e}))},togglePopover:function(e){if(!e.keyCode||(e.stopPropagation(),13===e.keyCode||27===e.keyCode)){var t=this.$(e.currentTarget),i=t.find("div.popover").length>0;27!==e.keyCode?i?t.popover("hide"):t.popover("show"):i&&t.popover("hide")}},getEditCaption:function(e){return S.translateKey("editCaption",{context:{edit:S.translateKey("edit"),entityName:e.caption}})},getEntDef:function(e){var t=k.get(e);return t||(t=C.get({entityName:e})),t},getAllEntDefs:function(){return k.getAll().concat(C.getAll())},getAllCustomForms:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeDataForms,t=void 0!==e&&e,i=[].concat(a(k.getCustomForms()),a(C.getAll()));return t?i:d.reject(i,{type:"data"})},patch:function(e){var t=e.appDataCategory,i=e.data,n=e.identifierProperties,a=$appData[t];d.isArray(a)?d.forEach(i,(function(e,t){d.remove(a,(function(e){return function(e,t){if(d.isNil(e))return!1;var i=!1;return d.forEach(n,(function(n){if(e[n]===t)return i=!0,!1})),i}(e,t)})),d.isEmpty(e)||a.push(e)})):d.isObject(a)&&d.forEach(i,(function(e,t){if(d.isNil(e))delete a[t];else{var i={};i[t]=e,d.assign(a,i)}}))},getLayoutTrees:function(e){if(e.isDynamicEntity())return d.filter($appData.layouts,{dynamicEntityId:e.dynamicEntityId});var t=d.filter($appData.layouts,{entity:e.entity});if(e.isPartiallyDynamicEntity()){var i=d.filter($appData.layouts,{staticEntityId__canon:e.entityCanon});t.push.apply(t,a(i))}return t},createTabViewClass:function(e,t,i,n){var a=f.compile('<div class="autorender-placeholder"></div>',t||n),r=new Function("dust","return "+a)(f);return e.extend({formConfigName:t,formConfigId:n,template:r,caption:S.translateKey(i,{missingTranslationValue:i})})},checkDynamicCustomFormPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(93216),n=e.entDef,a=e.action;return t.hasRole("customForm-".concat(a,":").concat(null==n?void 0:n.entityId))},getSortedCustomForms:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.validateAcl,a=void 0===n||n,r=i.sortOrder,o=i.action,s=i.filter,l=void 0===s?{}:s;return e=d.isEmpty(l)?S.getAllCustomForms():C.getByFilter(l),a&&!d.isEmpty(o)&&(e=d.filter(e,(function(e){return!e.isDynamicEntity()||t.checkDynamicCustomFormPermission({entDef:e,action:o})}))),d.orderBy(e,(function(e){return t.translateKey({groupName:e.entityCanon,subgroupName:"general",key:"name"}).toLowerCase()}),r)},isMobileDevice:function(){return c(window).width()<=767},getTooltipTemplate:function(e){var t=e.customClasses,i=void 0===t?"":t,n="tooltip";return i&&(n+=" ".concat(i)),'<div class="'.concat(n,'" role="tooltip">')+'<div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'},getValidationTooltipOpts:function(e){var t=e.validationTooltipOpts;if(t)return t;var i=w.getParentView(e);return i?this.getValidationTooltipOpts(i):{}},getFieldTypesIncludedInBuilder:function(e,t){return d.filter(x,(function(i){var n=i.includeInFormBuilder,a=void 0!==n&&n,r=i.includeInDataForm,o=void 0!==r&&r,s=i.excludeFrom;return!!a&&!(t.isDataForm()&&!o)&&(d.isArray(a)?d.includes(a,e):d.isFunction(a)?a($appData.globalConfig):d.isArray(s)?!d.includes(s,e):!d.isFunction(s)||s($appData.globalConfig))}))},destroyTooltip:function(e){e.tooltip&&e.tooltip().each((function(){c(this).data("bs.tooltip").tip().removeClass("fade")})).tooltip("destroy")},setupValidationTooltip:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={placement:"auto right top",trigger:"manual"},a=this.getValidationTooltipOpts(e),r=".modal-content",o=t.parents(r).length>0?t.parents(r).first():null;n.container=o||t.parents(".form-group").first(),this.destroyTooltip(t),t.tooltip(l(l(l({},n),a),i))},getVisibleParentView:function(e){var t=w.getParentView(e);return t?document.contains(t.el)?t:this.getVisibleParentView(t):null},getFormattedValues:function(e){var t=e.entityObj,i=e.fields,n=e.context,a=e.escape,r=void 0===a||a;return d.mapValues(t,(function(e,a){var o=i[a],s=e;if(o){var c,u=x[o.type],p=d.get(u,"db.afterRead");if(n.useAfterDbRead&&p&&(s=p(null,s,{fieldDef:o})),n.html&&u&&u.formatHtml){var f=u.formatHtml(s);c=m(f)}else if(u&&u.format){var h=l(l({picklistConfig:S.getPicklistsConfig(),translateKey:S.translateKey,globalOptions:$appData.globalConfig,entityService:k},n),{},{fieldDef:o,data:t});c=u.format(s,h)}else c=s?d(s).toString():"";return!0!==r||n.html&&u.formatHtml||(c=u&&u.escape?u.escape(c):d.escape(c)),c}return s=s?d(s).toString():"",!0===r&&(s=d.escape(s)),s}))},convertStringToBool:function(e){var t=e;return d.isString(e)&&("true"===e?t=!0:"false"===e&&(t=!1)),t},shouldHideOnPortal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entDef,i=e.fieldDef,n=e.model,a=e.showOnPortal,r=d.get(t,"allowOnPortal",!1),o=n.isExternalForm();if(i){var s="dynamic"===d.get(i,"kind"),l=!r||!d.get(i,"typeOptions.showOnPortal",!1);return o&&l&&s}return o&&(!r||!a)},shouldHideOnHotline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entDef,i=e.fieldDef,n=e.model,a=e.showOnHotline;if(!n.isHotlineIntakeForm())return!1;var r=d.get(t,"allowOnHotline",!1);if(i){var o="dynamic"===d.get(i,"kind");return(!r||!d.get(i,"typeOptions.showOnHotline",!1))&&o}return!r||!a},isSSOOptionsEnabled:function(){return!$appData.disableSSOOptions&&!$appData.enableStaticSSOOverride},isPortalUser:function(){return"portal"===$appData.user.type},isHotlineUser:function(){return"hotline"===$appData.user.type},hasShowOnPortalFormElement:function(e,t){var i=d.find($appData.entityFields,(function(e){return e.entity.name===t})).fields;return!d.isEmpty(I.map({tree:e,attribute:"showOnPortal",compact:!0,fields:i,excludeRoot:!0}))},positionOptionsMenu:function(e,t){if(e){var i=e.find(".dropdown-container"),n=t.position().left,a=parseInt(t.css("padding-left"),10);a&&(n+=a);var r=n+i.outerWidth()-t.parents(".data-container").outerWidth();r>0&&(n-=r),i.css("left",n)}},formattedPasswordExpiry:function(e){var t=$appData.dateFormat,i=u(e).format(t),n=u().isAfter(e);return{passwordExpiry:"".concat(i,"."),expired:n,changePasswordRoute:"portal"===$appData.user.type?"/external/change-password":"/change-password"}},hideByIntakeMethod:function(e){var t,i=e.$el,n=e.entDef,a=e.fieldDef,r=e.model,o=e.hideOnIntakeLayout,s=e.showOnPortalLayout,l=e.showOnHotlineLayout,d=e.disableHideOnIntake,c=void 0!==d&&d;if(!i||!n||!r)throw new Error("missing args");var u=(null==a||null===(t=a.typeOptions)||void 0===t?void 0:t.hideOnIntake)||o,p=S.shouldHideOnPortal({entDef:n,fieldDef:a,model:r,showOnPortal:s}),f=S.shouldHideOnHotline({entDef:n,fieldDef:a,model:r,showOnHotline:l});r.isIntakeForm()&&u&&!c&&i.attr("data-hide-on-intake",!0),p&&i.attr("data-hide-on-portal",!0),f&&i.attr("data-hide-on-hotline",!0)},translateFieldCaption:function(e){var t=e.fieldName,i=e.entCanon,n=e.captionType,a=void 0===n?"fields":n,r=e.escape,o={groupName:i,subgroupName:a,key:t};return void 0===r||r?this.escapedTranslateKey(o):this.translateKey(o)},hasEnabledFeature:function(e){return!!d.isEmpty(e.features)||d.intersection(e.features,E.getEnabledFeatures()).length>0},getEnabledFeaturesQuery:function(e){var t=E.getEnabledFeatures(),i=[e.is_empty("features")];return d.forEach(t,(function(t){i.push(e.contains("features",t))})),e.or(i)},isMouseEvent:function(e){return e&&0!==e.screenX&&0!==e.screenY},buildEntityConfExportImportCtx:function(){return{pdftronEnabled:$appData.pdftronEnabled}},getDefaultAddBtnControls:function(e,t){var i;"data"===e.type?i="create_data_form_entry":"custom"===e.type&&(i="customForm-create:".concat(e.dynamicEntityId));var n=d.upperFirst(e.entity.name),a=d.has(null==t?void 0:t.rules,"canAdd".concat(n))?"canAdd".concat(n):null,r="display".concat(n),o="canEditCase && canAddCustomForms";return d.find(null==t?void 0:t.childrenLayoutRuleGroups,{displayRuleName:r})&&(o="".concat(o," && ").concat(r)),a&&(o="".concat(o," && ").concat(a)),{displayRule:o,dataDisableRule:"isMarkedOrPurged || disableForClosedCase",aclRole:i}}};d(S).extend(A).value(),e.exports=S},233518:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(311927),i(962062),i(428706),i(327495),i(725440),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(40785);function l(e){var t=e.key,i=e.translationContext;return o.isObject(t)||(t={groupName:"validation",subgroupName:"general",key:t}),s.translateKey(t,{context:r({},i)})}function d(e){var t,i=e.defaultData,n=void 0===i?{}:i,a=e.entity,r=e.property,l=e.translateProperty,d=void 0===l||l,c=e.customFieldTranslations;if(d){var u=null,p="fields";if((a&&a.entity$||o.isString(a))&&(u=(u=a.entity$?a.entity$:a).replace("-/","")),u&&"sys/listitem"===u.toLowerCase()&&"value"!==r&&(u="picklist_type",p="caption"),o.isEmpty(c))t=s.translateKey({groupName:u,subgroupName:"form-captions",key:r},{missingTranslationValue:s.translateKey({groupName:u,subgroupName:p,key:r})});else{var f=c[r];f&&(t=s.translateKey(f))}}else t=r;return o.defaultsDeep({field:t},n)}function c(e){var t=e.code,i=e.entity,n=e.property,a=e.translateProperty,r=e.customFieldTranslations,s=void 0===r?{}:r;if(o.isArray(n))return o.chain(n).map((function(e){return c({code:t,entity:i,property:e,translateProperty:a,customFieldTranslations:s})})).uniq().value();var u=d({entity:i,property:n,translateProperty:a,customFieldTranslations:s});return u.field?l({key:t,translationContext:u}):null}e.exports={makeHumanReadable:function(e){var t=e.error,i=e.entityType,n=void 0===i?null:i;if(t&&t.code&&t.reason)return l({key:{groupName:"validation",subgroupName:t.code,key:t.reason},translationContext:t.data})||t.message;if(t&&t.code&&t.value&&t.property)return c({code:t.code,entity:t.value,property:t.property,translateProperty:t.translateProperty})||t.message;if(t&&t.parambulator&&"atleastone$"===t.parambulator.code)return function(e){var t=o.map(e.parambulator.expected,(function(e){return"'".concat(s.translateKey(e),"'")})).join(", ");return["".concat(s.translateKey("at_least_one")," ").concat(t," ").concat(s.translateKey("expected"))]}(t);if(t&&t.parambulator&&("min$"===t.parambulator.code||"max$"===t.parambulator.code))return function(e){return l({key:{groupName:"validation",subgroupName:"general",key:e.code},translationContext:d({defaultData:{spec:e.spec},entity:e.entity,property:e.property})})}({code:t.parambulator.code,spec:t.parambulator.expected,entity:n||t.parambulator.value,property:t.parambulator.property});if(t&&t.parambulator&&t.parambulator.code){var a=c({code:t.parambulator.code,entity:n||t.parambulator.value,property:t.parambulator.property,customFieldTranslations:t.parambulator.customFieldTranslations,translateProperty:t.parambulator.translateProperty});return o.isArray(a)?a[0]?a:[t.message]:a||t.message}if(t&&t.valmap&&"entity-invalid"===t.code){var r=c({code:t.valmap.code,entity:n||o.get(t,"valmap.entity"),property:t.valmap.property,translateProperty:t.translateProperty});return o.isArray(r)?r[0]?r:[t.message]:r||t.message}return t?t.message:void 0}}},440389:(e,t,i)=>{"use strict";i(944114),i(428706),i(962010);var n=i(96190),a=i(858612),r=i(939994),o=i(348174),s={};$appData.validation={},$appData.validation.prefs=i(823936)(r,o,$appData.globalConfig),$appData.validation.prefs.multiErrors=!0;var l=[];n.each(r.getAll(),(function(e){l.push({entity:"".concat(e.entity.base,"/").concat(e.entity.name),rules:e.validation||{}})})),$appData.validation.rules=l,n.each($appData.validation.rules,(function(e){s[e.entity]=a(e.rules,$appData.validation.prefs)})),window.validation=s,e.exports=s,e.exports.validation=$appData.validation},680553:(e,t,i)=>{"use strict";i(944114),i(250113),i(426099),i(16280),i(428706),i(154554),i(202008),i(962062),i(874423),i(21699);var n=i(274692),a=i(96190);e.exports={views:{instantiated:{},orphanage:{},reference:{},groups:{}},add:function(e,t){var i=a.defaults({},t,{parent:null,reference:null,group:null});if(null==e)return null;if(i.reference&&!0===this._doesReferenceExist(i.reference))throw'Reference "'+i.reference+'" already exists.';return!1===a.isNull(i.parent)?this._addSubView(i.parent,e,i.reference,i.group):this._addOrphan(e,i.reference,i.group)},addToGroup:function(e,t){this._addToGroup(e,t),this._setViewInfo(t,{group:e})},addReference:function(e,t){this._addReference(e,t),this._setViewInfo(t,{reference:e})},getParentView:function(e){var t=this._deriveHandle(e),i=this._getViewInfo(t);if(a.get(i,"parentHandle"))return this.getByHandle(i.parentHandle)},remove:function(e,t){var i=this,n=a.defaults({},t,{leaveInDOM:!1,skipRemovalCheck:!1}),r=i._deriveHandle(e);if(!i.views.instantiated.hasOwnProperty(r))return!0;var o=i._getViewInfo(r),s=o.view;return!(!0!==n.skipRemovalCheck&&a.isFunction(s.canRemove)&&!1===s.canRemove()||(i.views.instantiated[r].subViews.length>0&&i.removeSubViews(r,{skipRemovalCheck:!0}),o.parentHandle&&i._removeFromParent(o.parentHandle,r),o.reference&&delete i.views.reference[o.reference],o.group&&i._removeFromGroup(o.group,r),!1===n.leaveInDOM?s.remove(t):s.unviewify(),delete i.views.instantiated[r],i.views.orphanage.hasOwnProperty(r)&&delete i.views.orphanage[r],0))},getViewsWithDirtyFeature:function(){var e=[];return a.each(this.views.instantiated,(function(t){var i=t.view;a.get(i,"features.dirtyFormHandling",!1)&&e.push(t.view)})),e},disableAllDirtyFormHandling:function(){if($appData.globalConfig.dirtyFormsEnabled){var e=this.getViewsWithDirtyFeature();a.each(e,(function(e){return e.disableDirtyFormHandling()}))}},enableAllDirtyFormHandling:function(){if($appData.globalConfig.dirtyFormsEnabled){var e=this.getViewsWithDirtyFeature();a.each(e,(function(e){return e.enableDirtyFormHandling()}))}},removeByReference:function(e,t){var i=this.getByRef(e),n=!1;return i&&(n=this.remove(i.handle,t)),!!n&&this},removeAllInGroup:function(e,t){var i=this,n=!0;if(!1===a.has(i.views.groups,e))return[];for(var r=i.views.groups[e].length-1;r>=0;r-=1)i.remove(i.views.groups[e][r],t)||(n=!1);return n},getById:function(e){var t=a.find(this.views.instantiated,(function(t){return t.view.id===e}));return a.isNil(t)?null:t.view},getByHandle:function(e){var t=this._getViewInfo(e,!1);return a.isNull(t)?null:t.view},getBySelector:function(e){return this.getByHandle(n(e).data("handle"))},getByRef:function(e){var t=this.views.reference[e];return t?this._getViewInfo(t,!1).view:null},getSubViews:function(e){var t=[],i=this,n=i.getViewInfoByHandle(e).subViews;return a.each(n,(function(e){t.push(i.getByHandle(e))})),t},isReferenceUsed:function(e){return 0==(null===this.views.reference[e]||void 0===this.views.reference[e])},getByGroup:function(e){var t=this,i=[];if(!1===a.has(t.views.groups,e))return i;for(var n=t.views.groups[e].length-1;n>=0;n-=1)i.push(t.getByHandle(t.views.groups[e][n]));return i},getViewInfoByHandle:function(e){return this._getViewInfo(e,!0)},removeSubViews:function(e,t){var i=this,n=i._deriveHandle(e),r=i._getViewInfo(n),o=a.defaults(t,{skipRemovalCheck:!1});if(r&&0!==r.subViews.length)for(;r.subViews.length>0;){var s=r.subViews[0],l=i._getViewInfo(s);l&&(l.subViews.length>0&&i.removeSubViews(l.view.handle,t),i.remove(s,o))}},isOrphan:function(e){var t=this._deriveHandle(e);return this.views.orphanage.hasOwnProperty(t)},execOnGroup:function(e,t,i){for(var n=this.getByGroup(e),a=n.length-1;a>=0;a-=1)n[a][t].apply(n[a],i)},_addOrphan:function(e,t,i){var n=this;if(!0===n.views.orphanage.hasOwnProperty(e.handle))throw'View "'+e.handle+"\" already exists in the view manager's orphanage.";return n.views.orphanage[e.handle]=e,n._addInstantiated(e,null,t,i)},_addReference:function(e,t){if(!0===this.views.reference.hasOwnProperty(e))return null;this.views.reference[e]=t},_addToGroup:function(e,t){var i=this;!1===i.views.groups.hasOwnProperty(e)&&(i.views.groups[e]=[]),i.views.groups[e].push(t)},_addSubView:function(e,t,i,n){var r=this,o=r._deriveHandle(e),s=r._getViewInfo(o,!1);if(r._addInstantiated(t,o,i,n),!1===a.isNull(s)){if(a.indexOf(s.subViews,t.handle)>-1)throw new Error('SubView "'.concat(t.handle,'" already exists in the parent "').concat(o,'".'));s.subViews.push(t.handle)}return t},_addInstantiated:function(e,t,i,n){var r=this;if(!0===r.views.instantiated.hasOwnProperty(e.handle))throw'View "'+e.handle+'" already exists in the view manager.';if(i&&a.isNull(r._addReference(i,e.handle)))throw'Reference "'+i+'" is already used.';return n&&r._addToGroup(n,e.handle),r.views.instantiated[e.handle]={view:e,parentHandle:t,reference:i,group:n,subViews:[]},e},_removeFromParent:function(e,t){var i=this._getViewInfo(e);if(i){var n=this._deriveHandle(t),r=a.indexOf(i.subViews,n);i.subViews.splice(r,1)}},_removeFromGroup:function(e,t){var i=this;if(!1===a.has(i.views.groups,e))throw'Cannot remove view "'+t+'" from group "'+e+'" because that group does not exist.';var n=a.indexOf(i.views.groups[e],t);return n>-1&&(i.views.groups[e].splice(n,1),!0)},_getViewInfo:function(e,t){var i=this,n=i._deriveHandle(e);if(i.views.instantiated.hasOwnProperty(n))return i.views.instantiated[n];if(!0===t)throw'Could not find view "'+n+'".';return null},_setViewInfo:function(e,t){var i=this._getViewInfo(e,!1)||{};a.extend(i,t)},_deriveHandle:function(e){var t=null;return a.isString(e)?t=e:!0===a.has(e,"handle")&&(t=e.handle),t},_doesReferenceExist:function(e){return a.has(this.views.reference,e)},dbgGetViewsByModelId:function(e){var t=a.filter(this.views.instantiated,(function(t){return t.view&&t.view.model&&t.view.model.id===e}));return a.map(t,(function(e){return e.view}))},dbgFindView:function(e){var t={instantiated:[],subViewOf:[]},i=this.views.instantiated[e];return i&&t.instantiated.push(i),a.each(this.views.instantiated,(function(i){if(a.includes(i.subViews,e))return t.subViewOf.push(i.view.id)})),t}}},77720:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(947432),r=i(637527),o=i(40785);e.exports=r.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/action"),entity:{base:"sys",name:"action_history"},idAttribute:"id",onParse:function(e){var t=e.eventName,i=e.objectType,a=e.recordContext,r=e.actionType,o=e.datePurged,s=t?this.getEventNameTranslation(t,i):null,l=o?null:this.computeSummary(r,a);return n.assign(e,{eventName:s,summary:l}),e},getEventNameTranslation:function(e,t){var i={groupName:"picklist",subgroupName:"record_events",key:e},n=o.hasTranslation(i)?o.translateKey(i):e;if("sys/case"===t)return n;var a=o.translateKey({groupName:t,subgroupName:"general",key:"name"});return"".concat(a," ").concat(n)},computeSummary:function(e,t){var i=e;if(t.entity){var r=o.translateKey({groupName:t.entity,subgroupName:"general",key:"name"});n.assign(t,{entityName:r})}if("owner"===t.fieldName&&"sys/case"===t.entity&&n.assign(t,{entityName:""}),t.fieldName){var s=o.escapedTranslateKey({groupName:t.entity,subgroupName:"fields",key:t.fieldName});n.assign(t,{fieldName:s})}if("sys/automated_todo_action"===e&&t.assigned&&(i+="_assigned"),"sys/automated_todo_action"===e&&t.dueDate&&(i+="_with_due_date",t.dueDate=a(t.dueDate).format($appData.dateFormat)),"sys/notification_action"===e&&n.assign(t,{method:n.capitalize(t.method)}),"sys/set_flag_action"===e){var l=o.translateKey({groupName:"sys/flag",subgroupName:"actions",key:t.setUnset?"set":"unset"});n.assign(t,{setUnset:n.lowerCase(l)})}"sys/assignment_action"!==e||t.assigned||(i+="_unassigned");var d=o.translateKey({groupName:"sys/action_history",subgroupName:"summary",key:i},{context:t});return o.sanitizeHtml(d)}})},258558:(e,t,i)=>{"use strict";var n=i(947432),a=i(274692),r=i(637527),o=i(40785),s=i(766821);e.exports=r.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/appointment"),entity:{base:"sys",name:"appointment"},idAttribute:"id",defaults:{status:"sent",locale:$appData.user.locale},rules:{isNew:function(){return this.isNew()},isNotNew:function(){return!this.isNew()}},updateAllDayEvent:function(){var e,t;this.get("allDayEvent")?(e=n(this.get("startDate")).startOf("day"),t=n(e)):(e=n(),t=n(e).add(30,"minutes")),this.set("startDate",e.toISOString()),this.set("endDate",t.toISOString())},updateDuration:function(){var e=this.get("startDate"),t=this.get("endDate");if(e&&t){var i=this.get("allDayEvent");n(t).isBefore(e,"minute")&&(t=i?n(e).toISOString():n(e).add(30,"minutes").toISOString(),this.set("endDate",t))}if(this.set("duration",this.calculateDuration()),e){var r=s.getDateFormat($appData.dateTimeFormat);a('input[name="endDate"]').datepicker("setStartDate",n(e).format(r))}},updateStatus:function(e,t){this.save({status:e},{wait:!0,success:t})},calculateDuration:function(){var e=o.removeSeconds(n(this.get("startDate")).toDate()),t=o.removeSeconds(n(this.get("endDate")).toDate()),i=this.get("allDayEvent")?n(t).add(1,"day").toISOString():t;return n(i).diff(e,"milliseconds")}})},509896:(e,t,i)=>{"use strict";i(962010),i(250113),i(426099),i(962062),i(123792),i(962953),i(884864),i(757465),i(327495),i(87745),i(938781),i(690906),i(202008),i(423500);var n=i(96190),a=i(145312),r=i(637527),o=i(40785);e.exports=r.extend({idAttribute:"id",entity:{base:"audit",name:"log"},hideCaseItemNumberReference:function(){return this.collection&&this.collection._hideCaseItemNumberReference},onParse:function(e){if(e.deniedAccess)return e;var t=this,i=e.diff,a=e.entity,r=e.objectType?n.last(e.objectType.split("/")):null,s=o.getEntDef(e.objectType),l=n.get(s,"audit"),d=e.action,c=n.get(l,"navigateTo"),u=n.get(l,"allowNavigateTo"),p=n.get(l,"navigateToType"),f=n.get(l,"cmd")?n.get(l,"cmd")[d]:null,h=null;switch(e.userId__name||(e.userId__name=o.translateKey("unknown_user")),d){case"load":e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey},e.url=t.createNavigateToUrl(e,c,u,p),h=t.getActionOptions(r,f,"viewed"),n.each(h,(function(n,r){e[r]=t.parseEntity(a,i,n)}));break;case"save":var m=e.actionTranslationKey,g=n.get(e,"diff.id");g&&!g.originalValue&&g.updatedValue?(n.each(f,(function(i,n){if(t.checkCondition(i,e))return h=t.getActionOptions(r,f,n),!1})),h?n.each(h,(function(n,r){"changes"===r?e[r]=i?t.parseDiff(i,n):t.parseEntity(a,i,n):"reference"===r&&(e[r]=t.parseEntity(a,i,n))})):h&&"created"!==m||(h=t.getActionOptions(r,f,"created"),n.each(h,(function(n,r){"changes"===r?e[r]=i?t.parseDiff(i,n):t.parseEntity(a,i,n):"reference"===r&&(e[r]=t.parseEntity(a,i,n))}))),e.url=t.createNavigateToUrl(e,c,u,p),e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey}):(n.each(f,(function(i,n){if(t.checkCondition(i,e))return h=t.getActionOptions(r,f,n),!1})),h?n.each(h,(function(n,r){"changes"===r?e[r]=i?t.parseDiff(i,n):t.parseEntity(a,i,n):"reference"===r&&(e[r]=t.parseEntity(a,i,n))})):h&&"updated"!==m||(h=t.getActionOptions(r,f,"updated"),n.each(h,(function(n,r){"changes"===r?e[r]=i?t.parseDiff(i,n):t.parseEntity(a,i,n):"reference"===r&&(e[r]=t.parseEntity(a,i,n))})),e.changes||(e.changes=i)),e.url=t.createNavigateToUrl(e,c,u,p),e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey});break;case"remove":e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey},(h=t.getActionOptions(r,f,"deleted"))&&n.each(h,(function(n,r){"reference"===r&&(e[r]=t.parseEntity(a,i,n))}));break;case"scheduled_for_purge":e.action={groupName:e.objectType,subgroupName:"actions",key:"scheduled_for_purge"};break;case"canceled_purge":e.action={groupName:e.objectType,subgroupName:"actions",key:"canceled_purge"};break;case"purge":e.action={groupName:e.objectType,subgroupName:"actions",key:"purge"};break;case"links_purge":e.action={groupName:e.objectType,subgroupName:"actions",key:"links_purge"};break;case"incoming_email_blocked":e.action={groupName:"sys/email",subgroupName:"actions",key:"email_blocked"};break;case"set_flag":e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey},a&&a.lastFlagSetName&&(e.reference=t.parseEntity({lastFlagSetName:a.lastFlagSetName}));break;case"create_form":case"activate_form":case"deactivate_form":case"discard_form_changes":e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey},a&&a.caption&&(e.reference=t.parseEntity({caption:a.caption}));break;case"updated_workflow_criteria":e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey},a&&a.name&&(e.reference=t.parseEntity({name:a.name}));break;case"added_workflow_to_entity_record":case"removed_workflow_from_entity_record":e.action={groupName:"sys/workflow",subgroupName:"actions",key:e.actionTranslationKey};break;case"translate_record":n.each(f,(function(i,n){if(t.checkCondition(i,e))return h=t.getActionOptions(r,f,n),!1})),h&&n.each(h,(function(n,r){e[r]=t.parseEntity(a,i,n)})),e.url=t.createNavigateToUrl(e,c,u,p),e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey};break;default:e.action={groupName:e.objectType,subgroupName:"actions",key:e.actionTranslationKey}}return l?e:n.omit(e,"changes","reference")},createNavigateToUrl:function(e,t,i,a){var r=null;if(i&&e.objectId&&e.objectType&&e.parentId&&e.parentId!==e.objectId){var s;t&&e.entity&&(s=n.isObject(t)&&t.id?e.entity[t.id]:t,a=a||(n.isObject(t)&&t.type?e.entity[t.type]:null)),s=s||e.objectId,a="todo"===(a=a||n.last(e.objectType.split("/")))?"to-do":a;var l=n.find(o.getAllCustomForms({includeDataForms:!0}),{entity:{name:a}});l?r="/form/"+l.entity.name+"/"+s:a&&s&&(r="/"+a+"/"+s)}return r},mapOrGetField:function(e,t){return t.mapField&&n.isArray(e)?n.map(e,t.mapField):t.getField&&n.isObject(e)?n.get(e,t.getField):e},parseDiff:function(e,t){var i=n.keys(e);function a(e,t){var i,a;return n.isObject(e)&&e.re$&&(a=new RegExp(e.re$)),i=function(t){return a?a.test(t):t===e},n.filter(t,i)}if(t&&t.displayFields){var r={},o=this,s=n.isFunction(t.displayFields)?t.displayFields(e,this):t.displayFields;return n.each(s,(function(t){var s,l=n.isObject(t)&&n.has(t,"key");l&&(s={mapField:t.mapField,getField:t.getField},t=t.key),a(t,i).forEach((function(t){r[t]=n.cloneDeep(e[t]),l&&n.isObject(r[t])&&(r[t].originalValue=o.mapOrGetField(r[t].originalValue,s),r[t].updatedValue=o.mapOrGetField(r[t].updatedValue,s))}))})),r}var l=["id","createdBy","createdDate","lastUpdatedBy","lastUpdatedDate","copiedFromId","copiedToId"];if(t&&t.excludeFields){var d=n.isFunction(t.excludeFields)?t.excludeFields(e,this):t.excludeFields;l=n.union(l,d)}return n.each(l,(function(t){a(t,i).forEach((function(t){delete e[t]}))})),e},parseEntity:function(e,t,i){var a={},r=this;if(i&&i.displayFields&&e){var o=n.isFunction(i.displayFields)?i.displayFields(e,this):i.displayFields;n.each(o,(function(i){var o,s=n.isObject(i)&&n.has(i,"key");if(s&&(o={mapField:i.mapField,getField:i.getField},i=i.key),n.indexOf(n.keys(e),i)>-1&&(a[i]=e[i]||null),/diff./g.test(i)){var l=n.last(i.split("."));a[l]=t[l]&&t[l].updatedValue?t[l].updatedValue:null,i=l}s&&(a[i]=r.mapOrGetField(a[i],o))}))}else if(i&&i.excludeFields&&e){var s=n.isFunction(i.excludeFields)?i.excludeFields(e,this):i.excludeFields;n.each(s,(function(t){n.indexOf(n.keys(e),t)>-1&&delete e[t]})),a=e}else a=e;var l={};return n.each(a,(function(e,t){l[t]={originalValue:null,updatedValue:e}})),l},getActionOptions:function(e,t,i){var n=null;return t&&t[i]&&t[i].options&&(n=t[i].options),n},checkCondition:function(e,t){var i=e.condition?e.condition:null,n=!1,r={id:t.objectId,diff:t.diff,entity:t.entity};return i&&(n=a.parse(i).test(r)),n}})},511381:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({entity:{base:"sys",name:"automated_todo_action"},idAttribute:"id",urlRoot:"".concat($appData.globalConfig.apiRoot,"/automated_todo_action"),defaults:{responsibleUserType:"Context",dateType:"Business"}})},687895:(e,t,i)=>{"use strict";var n=i(882935);e.exports=n.extend({defaults:{isHotlineCase:null},rules:{}})},882935:(e,t,i)=>{"use strict";i(426099),i(874423),i(21699);var n=i(96190),a=i(274692),r=i(947432),o=i(637527),s=i(93216),l=i(450863),d=i(45701),c=i(40785);e.exports=o.extend({urlRoot:$appData.globalConfig.apiRoot+"/case",entity:{base:"sys",name:"case"},idAttribute:"id",ignore:[],defaults:{reportedBy:$appData.user.id,dateOfEntry:r(new Date).format($appData.dateFormat),caseOpenDate:r(new Date).format($appData.dateFormat),recordSource:"web",intakeMethod:"capture"},onInit:function(e){var t=this;e=e||{},this.on("change:caseOpenDate",(function(){var e=t.getDaysOpenAging(this.get("caseOpenDate"));t.set("daysOpenAging",e)}))},rules:{isDraft:function(){return this.isDraft()},canAddCustomForms:function(){var e=n.some(c.getAllCustomForms(),(function(e){return"custom"===e.type?s.hasRole("customForm-create:".concat(e.dynamicEntityId)):"standard"===e.type}));return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&e},caseCanceled:function(){return!0===this.get("canceled")},casePurgeScheduled:function(){return!!this.get("pendingPurgeDate")},casePurged:function(){return!!this.get("datePurged")},caseClosed:function(){return!!this.get("dateClosed")},canEditWhenClosed:function(){var e=this.get("owner")===$appData.user.id,t=n.includes(this.get("investigativeTeamMembers"),$appData.user.id);return s.hasRole("edit_closed_case")||e&&s.hasRole("edit_closed_case_as_owner")||t&&s.hasRole("edit_closed_case_as_investigative_team_member")},canEditCase:function(){var e=this.get("owner")===$appData.user.id,t=n.includes(this.get("investigativeTeamMembers"),$appData.user.id);return s.hasRole("edit_case_group")||s.hasRole("edit_case_as_owner")&&e||s.hasRole("edit_case_as_investigative_team_member")&&t},canEditCaseForm:function(){var e=this.get("owner")===$appData.user.id,t=n.includes(this.get("investigativeTeamMembers"),$appData.user.id);return s.hasRole("edit_case_form")||s.hasRole("edit_case_form_as_owner")&&e||s.hasRole("edit_case_form_as_investigative_team_member")&&t},canAddAtLeastOneForm:function(){return this.rules.canAddNote.call(this)||this.rules.canAddNoteExternal.call(this)||this.rules.canSendEmail.call(this)||this.rules.canAddTodo.call(this)||this.rules.canAddAppointment.call(this)||this.rules.canAddParty.call(this)||this.rules.canAddPartyExternal.call(this)||this.rules.canUploadFile.call(this)||this.rules.canUploadFileExternal.call(this)||this.rules.canAddCustomForms.call(this)},disableForClosedCase:function(){return this.rules.caseClosed.call(this)&&!this.rules.canEditWhenClosed.call(this)},canNotAddAnyForm:function(){return!this.rules.canAddAtLeastOneForm.call(this)&&this.rules.disableForClosedCase.call(this)},canAddTodo:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&this.rules.canEditCase.call(this)&&s.hasRole("create_todo")},canAddNote:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&this.rules.canEditCase.call(this)&&s.hasRole("create_note")},canAddNoteExternal:function(){return!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&s.hasRole("create_note_external")},canAddAppointment:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&this.rules.canEditCase.call(this)&&s.hasRole("create_appointment")},canUploadFile:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&(this.rules.canEditCase.call(this)||this.isDraft())&&s.hasRole("create_attachment")},canUploadFileExternal:function(){return!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&s.hasRole("create_attachment_external")},displayParty:function(){return!0},canAddParty:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&(this.rules.canEditCase.call(this)||this.isDraft())&&s.hasRole("create_party")},canAddPartyExternal:function(){return!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&s.hasRole("create_party_external")},canSendEmail:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&this.rules.canEditCase.call(this)&&s.hasRole("create_email")},canAddCaseLink:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&s.hasRole("create_manual_link")},canSuggestLinks:function(){return!this.rules.caseCanceled.call(this)&&!this.rules.casePurgeScheduled.call(this)&&!this.rules.casePurged.call(this)&&s.hasRole("create_suggested_link")},canViewRelatedCases:function(){return s.hasRole("view_manual_link")||s.hasRole("view_suggested_link")},canViewRelatedPeople:function(){return s.hasRole("view_manual_link")&&s.hasRole("view_person")},canAssignCase:function(){var e=this.get("owner")===$appData.user.id,t=n.includes(this.get("investigativeTeamMembers"),$appData.user.id),i=this.rules.caseClosed.call(this);return(s.hasRole("assign_a_case")||s.hasRole("assign_a_case_as_owner")&&e||s.hasRole("assign_a_case_as_investigative_team_member")&&t)&&(!i||this.rules.canEditWhenClosed.call(this))},displaySyncWorkflowsBanner:function(){return s.hasRole("view_transition_history")},intakeTranslationEnabled:function(){return d.isEnabled("intakeTranslation")}},cancelCase:function(e,t){this.save({canceled:!0,restoreReason:null,cancelReason:e,lang:this.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:t})},restoreCase:function(e,t){this.save({canceled:!1,cancelReason:null,restoreReason:e,lang:this.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:t})},copyCase:function(e){var t=$appData.globalConfig.apiRoot+"/case/"+this.id+"/copy";a.post(t,this.attributes,(function(t){e(t)}))},markConfidential:function(e){this.save({confidential:!0,lang:this.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:e})},unmarkConfidential:function(e){this.save({confidential:!1,lang:this.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:e})},getDaysOpenAging:function(e){if(e){var t=$appData.dateFormat,i=r(e,t);return r.utc(new Date).startOf("day").diff(i,"days")+1}return null},onParse:function(e){return e?(e.caseOpenDate&&(e.daysOpenAging=this.getDaysOpenAging(e.caseOpenDate)),e):e},getTeamSize:function(){var e=0,t=this;return this.get("owner")&&e++,n.each(l,(function(i){t.get(i.idField)&&e++})),n.isArray(this.get("investigativeTeamMembers"))&&(e+=this.get("investigativeTeamMembers").length),e},canEditRestrictedFields:function(){var e=this.get("owner")===$appData.user.id,t=n.includes(this.get("investigativeTeamMembers"),$appData.user.id),i=this.isNew()||!1===this.get("sysSubmitted");return i&&s.hasRole("create_case_restricted_fields")||!i&&s.hasRole("save_case_restricted_fields")||!i&&s.hasRole("save_case_restricted_fields_as_owner")&&e||!i&&s.hasRole("save_case_restricted_fields_as_investigative_team_member")&&t}})},356182:(e,t,i)=>{"use strict";i(428706),i(16280),i(533110);var n=i(274692),a=i(637527);e.exports=a.extend({idAttribute:"id",entity:{base:"sys",name:"caseSummary"},urlRoot:function(){var e=this.get("caseId");return"".concat($appData.globalConfig.apiRoot,"/case/").concat(e,"/summary")},publish:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.success,a=t.error,r=this.get("caseId"),o=this.get("content");if(t.validate&&this.validate(this.attributes))return t.error(this,new Error("Validation Failed"));n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/case/").concat(r,"/summary/").concat(this.id,"/publish"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({content:o})}).done((function(){e.clearDirtyFields(),i&&i.apply(void 0,arguments)})).fail(a)}})},944366:(e,t,i)=>{"use strict";var n=i(947432),a=i(637527);e.exports=a.extend({urlRoot:$appData.globalConfig.apiRoot+"/comment",entity:{base:"sys",name:"comment"},idAttribute:"id",defaults:{createdBy:$appData.user.id,createdDate:n(new Date).format($appData.dateFormat)}})},401335:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({entity:{base:"sys",name:"data_form_entry"},idAttribute:"id"})},29041:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/data_import"),entity:{base:"sys",name:"data_import"},idAttribute:"id",defaults:{importEntity:"profile",status:"draft",importMethod:"sftp",type:"scheduled_batch"}})},161820:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/dialing_instruction"),entity:{base:"sys",name:"dialing_instruction"},idAttribute:"id"})},359578:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/document",entity:{base:"sys",name:"document"},idAttribute:"id",fileAttribute:"file"})},99503:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(690906),i(428706),i(874423),i(21699),i(944114),i(16280),i(327495),i(671761);var r=i(96190),o=i(93216),s=i(637527),l=i(332520),d=i(348174),c=i(40785);e.exports=s.extend({idAttribute:"id",urlRoot:function(){return"".concat($appData.globalConfig.apiRoot,"/dynamic_entity/").concat(this.attributes.entityId)},rules:{isDraftOwner:function(){return!1===this.get("sysActive")&&this.get("createdBy")===$appData.user.id},canEditDraft:function(){var e=this.entityDefinition;return c.checkDynamicCustomFormPermission({entDef:e,action:"edit"})||this.rules.isDraftOwner.call(this)},showDeleteBtn:function(){var e=this.entityDefinition;return c.checkDynamicCustomFormPermission({entDef:e,action:"remove"})||this.rules.isDraftOwner.call(this)},canEditCase:function(){if(!1===this.get("sysActive"))return this.rules.canEditDraft.call(this);var e=this.get("caseId__owner")===$appData.user.id,t=r.includes(this.get("caseId__investigativeTeamMembers"),$appData.user.id);return o.hasRole("edit_case_group")||o.hasRole("edit_case_as_owner")&&e||o.hasRole("edit_case_as_investigative_team_member")&&t}},getSaveAndCopyExcludeFields:function(){for(var e=[],t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];e.push.apply(e,n(s.prototype.getSaveAndCopyExcludeFields.apply(this,i)));var r=this.getEntityDefinition();return c.checkDynamicCustomFormPermission({entDef:r,action:"create_restricted_fields"})||e.push.apply(e,n(s.prototype.getRestrictEditExcludeFields.apply(this,i))),e},canEditRestrictedFields:function(){var e=this.getEntityDefinition(),t=this.isNew()||!1===this.get("sysActive");return t&&this.isExternalForm()||t&&c.checkDynamicCustomFormPermission({entDef:e,action:"create_restricted_fields"})||!t&&c.checkDynamicCustomFormPermission({entDef:e,action:"edit_restricted_fields"})},setInitialAttributes:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).entDef,i=e.entityName||e.entityId__name;if(!i)throw new Error("entityName is missing");if(i.match(/^sys\//))throw new Error("entityName needs to be the entity object's name and not the canon");if(t)this.setEntityDefinition(t);else{if(!(t=c.getEntDef("sys/".concat(i))))throw new Error("entity not found");this.setEntityDefinition(t)}this.entity=t.entity,t.isDynamicEntity()&&(e.entityId=t.dynamicEntityId,this.dynamicEntityModel=new l(t.entDef))},preinitialize:function(e,t){this.setInitialAttributes(e,t),s.prototype.preinitialize.call(this,e,t)},onInit:function(){this.attributes.entityName||(this.attributes.entityName=this.attributes.entityId__name),this.attributes.typeText=c.translateKey({groupName:"sys/".concat(this.attributes.entityName),subgroupName:"general",key:"name"})},onParse:function(e){return this.dynamicEntityModel&&(this.attributes.entityName=this.dynamicEntityModel.get("name")),e},getEntityDefinition:function(){if(!this.entityDefinition){var e=this.attributes.entityId;this.entityDefinition=d.get({entityId:e})}return this.entityDefinition}})},751123:(e,t,i)=>{"use strict";i(327495),i(725440),i(884864),i(757465),i(87745),i(938781),i(962010),i(944114),i(874423),i(21699);var n=i(96190),a=i(40785),r=i(637527),o=i(992574);e.exports=r.extend({idAttribute:"id",fileAttribute:"attachments",url:function(){return this.isNew()?$appData.globalConfig.apiRoot+"/email/send":$appData.globalConfig.apiRoot+"/email/"+this.id},entity:{base:"sys",name:"email"},defaults:{locale:$appData.user.locale},onInit:function(){this.parseAttachments(),this.on("change:attachments",this.parseAttachments,this)},onParse:function(e){if(n.isEmpty(e))return{};if("inbound"===e.direction&&e.body&&(e.body=n.escape(e.body),e.body=e.body.replace(new RegExp(/(\r\n|\r|\n)/,"gm"),"<br />").replace(new RegExp(/\[data:[a-zA-Z0-9]{1,}\/[a-zA-Z]{1,};base64,...*=]/g),"").replace("[https://i-sight.com]","").replace("[https://caseiq.com]","")),e.subject||(e.subject="<no subject>"),e.bodyParsed=a.stripHtmlTags(e.body),!e.body&&e.datePurged&&(e.body=a.translateKey("email_purged"),e.senderName=a.translateKey("name_purged")),$appData.emailServerDomain){var t=this.placeholderForSystemEmails(e,"recipients"),i=this.placeholderForSystemEmails(e,"ccRecipients"),r={recipients:t.emails,recipients__name:t.names,ccRecipients:i.emails,ccRecipients__name:i.names};e=n.extend({},e,r)}return e},parseAttachments:function(){var e=this.get("attachments");n.each(e,(function(e){e.sizeBytesText=a.formatSizeUnits(e.sizeBytes),e.icon=o.getIconClass(e.name)}))},placeholderForSystemEmails:function(e,t){var i={emails:[],names:[]},r=n.get(e,t),o=n.get(e,"".concat(t,"__name")),s="inbound"===n.get(e,"direction"),l=n.get(e,"parentEmailSender"),d=s&&n.isEmpty(l);if(n.isEmpty(r)&&!d)return i;var c=[],u=n.reject(r,(function(e,t){var i=a.isUUIDSystemEmail(e);return i&&c.push(t),i})),p=n.reject(o,(function(e,t){return n.includes(c,t)})),f=c.length>0,h=f||!f&&d&&"recipients"===t,m=e.caseId?"Case ".concat(e.caseId__caseNumber):null,g=d?m:e.parentEmailSender,y=d?null:e.parentEmailSender__name;return h&&g&&(u.push(g),p.push(y)),i.names=p,i.emails=u,i}})},105522:(e,t,i)=>{"use strict";var n=i(641792);e.exports=n.extend({fieldsToSetToCaseAttributesField:["caseType","caseSubType"]})},641792:(e,t,i)=>{"use strict";i(874423),i(21699),i(944114),i(311927);var n=i(96190),a=i(637527),r=i(40785);e.exports=a.extend({urlRoot:$appData.globalConfig.apiRoot+"/email-rule",entity:{base:"sys",name:"emailRule"},idAttribute:"id",fieldsToSetToCaseAttributesField:[],defaults:{acceptAllSenders:!1},onParse:function(e){var t=this;if(n.isEmpty(e.caseAttributes)&&(e.caseAttributes=null),e.caseAttributes){var i=[];n.each(this.fieldsToSetToCaseAttributesField,(function(a){if(e.caseAttributes[a]){var o=r.translateKey("case."+a);e[a]=e.caseAttributes[a],n.includes(t.fieldsToHideInGrid,a)||i.push(o+": "+e.caseAttributes[a])}})),e.caseAttributesText=i.join(", ")}return e},onPreSave:function(){var e=this,t={},i=this.get("emailFrom"),a=this.get("validRecipients");n.each(this.fieldsToSetToCaseAttributesField,(function(i){var n=e.get(i);n&&n.length>0&&(t[i]=n)})),this.set("caseAttributes",t),i&&!n.isArray(i)&&this.set("emailFrom",i.split(",")),a&&!n.isArray(a)&&this.set("validRecipients",a.split(","))}})},332520:(e,t,i)=>{"use strict";i(533110);var n=i(274692),a=i(96190),r=i(142732);e.exports=r.extend({idAttribute:"id",entity:{base:"isight",name:"dynamic_entity"},defaults:{caption:"Untitled",captionPlural:"Untitled",dynamic:!0,enableTranslation:!1},onInit:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.layoutId&&(this.layoutId=e.layoutId),this.isNew()){var r=!0===i.wait&&a.isFunction(i.success);if("custom"===e.type){var o="sys/case";n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/search/isight_entity"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({search:{query:{bool:{must:[{term:{canon:o}}]}},size:1}})}).done((function(e){var n=a.get(e,"hits.hits[0]._source");t.set({parentEntityId:n.id,parentEntityId__canon:o}),r&&i.success(t)})).fail((function(e,t,n){!0===i.wait&&a.isFunction(i.error)&&i.error(e,t,n)}))}else r&&i.success(this)}},urlRoot:"".concat($appData.globalConfig.apiRoot,"/dynamic_entity_schema")})},142732:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527),r=i(40785);e.exports=a.extend({entity:{base:"isight",name:"entity"},urlRoot:$appData.globalConfig.apiRoot+"/entity",onParse:function(e){return e.caption=r.translateKey({groupName:e.canon,subgroupName:"general",key:"name"},{missingTranslationValue:e.caption}),e.captionPlural=r.translateKey({groupName:e.canon,subgroupName:"general",key:"namePlural"},{missingTranslationValue:e.captionPlural}),e},save:function(e,t){var i=this;a.prototype.save.call(this,e,n.extend({},t||{},{success:function(){var e=arguments;r.fetchAndUpdateLocalTranslations({groupName:i.get("canon")},(function(){i.set("caption",r.translateKey({groupName:i.get("canon"),subgroupName:"general",key:"name"})),i.set("captionPlural",r.translateKey({groupName:i.get("canon"),subgroupName:"general",key:"namePlural"})),t&&t.success&&t.success.apply(i,e)}))},error:t?t.error:void 0}))}})},502675:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({idAttribute:"id",entity:{base:"sys",name:"event"},urlRoot:$appData.globalConfig.apiRoot+"/event"})},79579:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(541191);e.exports=o.extend({isDynamicEntity:!0,entity:{base:"isight",name:"dynamic_entity_field"},fetch:function(e){o.prototype.fetch.call(this,r(r({},e),{},{url:"".concat($appData.globalConfig.apiRoot,"/field/").concat(this.attributes.id,"?isDynamicEntity=true")}))}})},541191:(e,t,i)=>{"use strict";i(874423);var n=i(96190),a=i(637527),r=i(40785),o=i(291599);e.exports=a.extend({urlRoot:$appData.globalConfig.apiRoot+"/field",isDynamicEntity:!1,entity:{base:"isight",name:"field"},idAttribute:"id",defaults:{orientation:"horizontal",dynamicKind:"editable",required:!1,showOnPortal:!1},rules:{isNew:function(){return this.isNew()},isReadOnly:function(){return!0===this.get("readOnly")},isDependentChecked:function(){return!0===this.get("dependent")},isExpressionDisabled:function(){return o.isDisabled},isEnableTranslationChecked:function(){return!0===this.get("enableTranslation")}},onInit:function(e,t){t&&t.entityModel&&(this.entityModel=t.entityModel,this.set("entityId",this.entityModel.get("id")),this.set("entityName",this.entityModel.get("base")+"/"+this.entityModel.get("name"))),"coordinate"===e.type&&(this.setDefaultValue("dropMapPinOnSearch",$appData.globalConfig.dropMapPinOnSearch),this.setDefaultValue("defaultMapLayer",$appData.globalConfig.defaultMapLayer),this.setDefaultValue("initialMapZoom",$appData.globalConfig.initialMapZoom),this.setDefaultValue("initialMapCenter",$appData.globalConfig.initialMapCenter),this.setDefaultValue("defaultMapZoom",$appData.globalConfig.defaultMapZoom)),["email","email[]","emailLookup[]"].includes(e.type)&&this.setDefaultValue("linkWithSystemUser",!1),["email[]","emailLookup[]"].includes(e.type)&&this.setDefaultValue("linkWithSystemParties",!1),e.dataForm&&this.setDefaultValue("readOnly",!0)},save:function(e,t){var i=this.isNew(),o=this.get("caption"),s=this;e.isDynamicEntity=this.isDynamicEntity,a.prototype.save.call(this,e,n.extend({},t||{},{success:function(){i&&o&&r.updateLocalTranslation({key:s.get("field"),value:o,groupName:s.entityModel.get("base")+"/"+s.entityModel.get("name"),subgroupName:"fields"}),t&&t.success&&t.success.apply(s,arguments)},error:t?t.error:void 0}))},setDefaultValue:function(e,t){n.isNil(this.get(e))&&this.set(e,t)}})},516713:(e,t,i)=>{"use strict";i(311927),i(962062);var n=i(96190),a=i(637527),r=i(93216);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/attachment"),idAttribute:"id",fileAttribute:"files",entity:{base:"sys",name:"attachment"},defaults:{kind:"file_upload",fileShared:!1,templateLocale:$appData.user.locale,tableOfContentsTemplateKind:null,tableOfContentsTemplate:null},onPreSave:function(e,t){this.useTranslatedText=this.get("useTranslatedText")},onParse:function(e){return e.caseId__caseNumber&&e.number&&(e.fileNumber=e.caseId__caseNumber+" / "+e.number),n.isArray(e.files)&&(e.fileNames=n.map(e.files,"name").join(", ")),this.useTranslatedText&&(e.useTranslatedText=this.useTranslatedText),e},canEditParent:function(){var e=this.rules.canEditCase.call(this),t=this.get("parentType");if("case"===t)return e;var i="edit_".concat(t);if("todo"===t){var n=this.get("parentId__responsible")===$appData.user.id;return r.hasRole(i)&&(r.hasRole("edit_others_todos")&&!n&&e||r.hasRole("edit_my_todos")&&n)}return e&&r.hasRole(i)},rules:{isDraft:function(){return this.isDraft()},canEditFile:function(){return this.canEditParent()&&r.hasRole("edit_attachment")},canRemoveFile:function(){return this.canEditParent()&&r.hasRole("remove_attachment")},canUpload:function(){return"file_upload"===this.get("kind")&&this.rules.canEditCase.call(this)}}})},382254:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/filter_child"),entity:{base:"sys",name:"filter_child"},idAttribute:"id"})},333147:(e,t,i)=>{"use strict";i(478350),i(730237),i(426099);var n=i(96190),a=i(637527),r=i(809375);e.exports=a.extend({idAttribute:"dataFilterUniqueId",save:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&this.set(e),this.collection.save(i,(function(e){e&&i.error&&i.error(t,e),!e&&i.success&&i.success(t)}))},getFilterData:function(){var e=this.get("dataFilters");return n.flatMap(e,"filterData")},getUniqueFilterData:function(){var e=this.getFilterData();return n.uniqBy(e,"dataFilterUniqueId")},getDefaultFilterData:function(){return{operator:null,fieldValues:[]}},getFilterOptions:function(){var e;return null===(e=r[this.get("fieldType")].ui)||void 0===e||null===(e=e.gridConfiguration)||void 0===e?void 0:e.dataFilterOperators},getFilterOption:function(e){return this.getFilterOptions()[e]},isEquivalent:function(e){return this.get("dataFilterUniqueId")===e.get("dataFilterUniqueId")}})},595850:(e,t,i)=>{"use strict";i(962062),i(269479),i(428706),i(726910),i(874423),i(21699),i(944114),i(548980),i(154554);var n=i(96190),a=i(637527),r=i(939994),o=i(40785),s=i(36742);e.exports=a.extend({urlRoot:$appData.globalConfig.apiRoot+"/grid_filter",idAttribute:"id",parse:function(e){var t=this,i=e.entityId__base,a=e.entityId__name,l={base:i,name:a};return e.columns=n.chain(e.columns).map((function(e){var d=r.get(l).getFieldInfo(e.field);if(!d||!d.flags.gridVisible){var c=d?"is not grid visible":"does not exist";return s.log({type:"WARNING",msg:"The column, ".concat(e.field,", ").concat(c)}),null}return n.assign(e,{value:d.field,sort:!1!==d.flags.gridSortable?d.sort:null,width:t.getColumnWidth(d.gridWidth,d.minGridWidth),title:o.translateKey({groupName:i+"/"+a,subgroupName:"fields",key:e.field})})})).compact().value(),e},sync:function(e,t,i){var r;i||(i={});var o=i.success;return i.success=function(t){var i="gridsFilters",a=$appData.user&&$appData.user.perm&&$appData.user.perm.roles;("0"===t.userId||a&&n.includes($appData.user.perm.roles,"external_user"))&&(i="gridsDefaultFilters");var s=$appData[i];switch(e){case"create":$appData[i].push(t);break;case"update":r=n.findIndex($appData[i],{id:t.id}),s.splice(r,1,t);break;case"delete":r=n.findIndex($appData[i],{id:t.id}),s.splice(r,1)}n.isFunction(o)&&o.apply(this,arguments)},a.prototype.sync.apply(this,arguments)},getColumnWidth:function(e,t){return n.isNumber(e)?e+"px":n.isNumber(t)?t+"px":null}})},843765:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({idAttribute:"filterName",save:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&this.set(e),this.collection.save(i,(function(e){e&&i.error&&i.error(t,e),!e&&i.success&&i.success(t)}))}})},133485:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({entity:{base:"sys",name:"grid_view"},urlRoot:"".concat($appData.globalConfig.apiRoot,"/grid_view"),idAttribute:"id",defaults:{entityName:"sys/case"},ignore:["entity$"]})},65506:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/holiday_entry",idAttribute:"id",entity:{base:"sys",name:"holiday_entry"}})},442877:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/language"),entity:{base:"sys",name:"language"},idAttribute:"id"})},369783:(e,t,i)=>{"use strict";var n=i(170769);e.exports=n.extend({entity:{base:"sys",name:"data_form_section_layout_type"},defaults:{layoutType:"data-form-section"}})},867262:(e,t,i)=>{"use strict";var n=i(170769);e.exports=n.extend({entity:{base:"sys",name:"entity_grid_layout_type"},defaults:{layoutType:"entity-grid"}})},385668:(e,t,i)=>{"use strict";var n=i(170769);e.exports=n.extend({entity:{base:"sys",name:"field_layout_type"},defaults:{layoutType:"field",dynamicKind:"editable"}})},556500:(e,t,i)=>{"use strict";i(428706);var n=i(274692),a=i(170769);e.exports=a.extend({entity:{base:"sys",name:"form_layout_type"},defaults:{layoutType:"form",status:"inactive",hideOnIntake:!0,entityType:"custom"},active:function(){return"active"===this.get("status")},inactive:function(){return"inactive"===this.get("status")},pendingChanges:function(){return"pending_changes"===this.get("status")},isCustomForm:function(){return"custom"===this.get("entityType")},isDataForm:function(){return"data"===this.get("entityType")},destroy:function(e){this.pendingChanges()?n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_layout/discard_changes/").concat(this.id),method:"POST",dataType:"json",contentType:"application/json"}).done(e.success).fail(e.error):a.prototype.destroy.call(this,e)}})},170769:(e,t,i)=>{"use strict";i(428706);var n=i(274692),a=i(637527);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/dynamic_layout_type"),idAttribute:"id",entity:{base:"sys",name:"layout"},destroy:function(e){n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_layout_type/").concat(this.id,"?forceDelete=").concat(e.forceDelete||!1),method:"DELETE",dataType:"json",contentType:"application/json"}).done((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.success(i)})).fail((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.error(i)}))}})},218067:(e,t,i)=>{"use strict";var n=i(170769);e.exports=n.extend({entity:{base:"sys",name:"section_layout_type"},defaults:{layoutType:"section"}})},833347:(e,t,i)=>{"use strict";var n=i(170769);e.exports=n.extend({entity:{base:"sys",name:"tab_layout_type"},defaults:{layoutType:"tab"},isDynamicTabsInsertionPoint:function(){return"dynamic-tabs-insertion-point"===this.get("name")}})},21059:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527);function r(e){return n.mapKeys(e,(function(e,t){return-1!==t.indexOf("__formatted")?t.substring(0,t.lastIndexOf("__formatted")):-1!==t.indexOf("._english")?t.substring(0,t.lastIndexOf("._english")):-1!==t.indexOf("._exactLowercase")?t.substring(0,t.lastIndexOf("._exactLowercase")):t}))}e.exports=a.extend({entity:{base:"sys",name:"link_match"},idAttribute:"id",onParse:function(e){var t=this.collection.currentEntityAttrPrefix,i=this.collection.otherEntityAttrPrefix;return e.currentEntity=e[t+"Entity"],e.currentEntityId=e[t+"EntityId"],e.currentEntityType=e[t+"EntityType"],e.currentEntityHighlight=e[t+"MatchHighlight"],e.currentEntityHighlight=r(e.currentEntityHighlight),e.otherEntity=e[i+"Entity"],e.otherEntityId=e[i+"EntityId"],e.otherEntityType=e[i+"EntityType"],e.otherEntityHighlight=e[i+"MatchHighlight"],e.otherEntityHighlight=r(e.otherEntityHighlight),e.direction={},n.isEmpty(e.currentEntityHighlight)||n.isEmpty(e.otherEntityHighlight)?n.isEmpty(e.currentEntityHighlight)?n.isEmpty(e.otherEntityHighlight)||(e.direction.to=!0):e.direction.from=!0:(e.direction.from=!0,e.direction.to=!0),e.selected="Approved"===e.status||"Undecided"===e.status,e}})},556395:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(938781),i(962010),i(690906),i(16280),i(874423),i(21699),i(327495),i(725440),i(962062),i(944114),i(428706),i(123792),i(426099),i(962953),i(423500),i(269479);var r=i(96190),o=i(637527),s=i(40785),l=i(842317),d=i(93216),c=i(790097);e.exports=o.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/link"),entity:{base:"sys",name:"link"},idAttribute:"id",onInit:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];c.on("flags-updated",(function(){return e.updateLinkFlags(i[0]||{})}),this)},destroy:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];c.off("flags-updated",(function(){return e.updateLinkFlags(i[0]||{})}),this),o.prototype.destroy.apply(this,i)},rules:{canEdit:function(){return"Manual"===this.get("type")&&d.hasRole("edit_manual_link")||"Suggested"===this.get("type")&&d.hasRole("edit_suggested_link")},hasMatches:function(){var e=this.get("matches");return!!e&&e.length>0},hasDeniedMatches:function(){var e=this.get("matches"),t=e?e.length:0;return this.get("numberOfMatches")>t}},onParse:function(e,t){var i,n,a,o,s=this;if(r.get(t,"entityId"))this.entityId=t.entityId;else{if(!r.get(this.collection,"entityId"))throw new Error("entityId is required");this.entityId=this.collection.entityId}function d(t){return r.pickBy(e,(function(e,i){return r.includes(i,"".concat(t,"__"))}))}e.entity1Id===s.entityId?(i="entity1Id",n="entity1Type",a="entity2Id",o="entity2Type"):(i="entity2Id",n="entity2Type",a="entity1Id",o="entity1Type");var c=d(a),u=d(i),p={otherCaseRefField:a,otherEntityId:e[a],otherEntityType:e[o],otherEntityFlags:this.getFlagData(e,a),currentCaseRefField:i,currentEntityId:e[i],currentEntityType:e[n],currentEntityFlags:this.getFlagData(e,i)};function f(e,t,i){var n=t.replace(/(.+)__(.+)/,"".concat(i,"__$2"));p[n]=e}r.each(c,(function(e,t){return f(e,t,"otherEntityId")})),r.each(u,(function(e,t){return f(e,t,"currentEntityId")}));var h=$appData.router.entityMap["-/".concat(p.otherEntityType)];p.navigateToOther=h.replace("{id}",p.otherEntityId);var m=new Date(e.createdDate),g=p.currentEntityId__lastSnapshotGenerationDate&&new Date(p.currentEntityId__lastSnapshotGenerationDate);e.shouldSuggestMoreLinks="Undecided"===e.status&&(!g||m>g);var y=e.entity1Id===s.entityId?"case1":"case2",v=e.entity1Id===s.entityId?"case2":"case1";return p.matches=new l(e.matches,{parse:!0,currentEntityAttrPrefix:y,otherEntityAttrPrefix:v}),e=r.extend({},e,p,s.getSummary(p.matches))},approve:function(e,t,i){var n=this.get("matches").map((function(e){return r.includes(t,e.id)?e.status="Approved":e.status="Dismissed",r.pick(e,"id","status")}));this.save({reason:e,status:"Approved",matches:n},{wait:!0,parse:!1,success:function(){i()},error:function(e,t,n){var a=n;!n&&e instanceof Error&&(a=e),!n&&t instanceof Error&&(a=t),i(a)}})},dismiss:function(e,t){this.save({reason:e,status:"Dismissed"},{wait:!0,success:function(){t()},error:function(e,i,n){var a=n;!n&&e instanceof Error&&(a=e),!n&&i instanceof Error&&(a=i),t(a)},parse:!1})},isApproved:function(){return"Approved"===this.get("status")},isDismissed:function(){return"Dismissed"===this.get("status")},isUndecided:function(){return"Undecided"===this.get("status")},isManual:function(){return"Manual"===this.get("type")},getSummary:function(e){var t=[],i=[];e.each((function(e){t.push({entityType:e.get("currentEntityType"),entityId:e.get("currentEntityId"),partyName:e.get("currentEntity.partyName")||""}),t.push({entityType:e.get("otherEntityType"),entityId:e.get("otherEntityId"),partyName:e.get("otherEntity.partyName")||""})}));var n=r.groupBy(t,"entityType");return r.forOwn(n,(function(e,t){var n=r.uniqBy(e,"entityId"),a={groupName:t,subgroupName:"general",key:1===n.length?"name":"namePlural"};i.push("".concat(n.length," ").concat(s.translateKey(a).toLowerCase()))})),{totalMatches:e.length,involvedEntities:i}},updateLinkFlags:function(e){if(this.entity){var t=this._originalData,i=t.otherCaseRefField,n=t.currentCaseRefField,a={otherEntityFlags:this.getFlagData(e,i),currentEntityFlags:this.getFlagData(e,n)};this.set(a)}},getFlagData:function(e,t){var i={},a={};e["".concat(t,"__flagsData")]&&r.keys(e["".concat(t,"__flagsData")]).forEach((function(n){e["".concat(t,"__flagsData")][n].staticFlag?a[n]=e["".concat(t,"__flagsData")][n]:n in $appData.flags&&(i[n]=$appData.flags[n])}));var o=r.sortBy(r.values(this.translateStaticFlags(a)),["name"]),s=r.sortBy(r.values(i),["name"]);return[].concat(n(o),n(s))},translateStaticFlags:function(e){return r.mapValues(e,(function(e,t){return r.forEach(["title","description","name"],(function(t){var i=e[t],n=i.groupName,a=i.subgroupName,r=i.key;e[t]=s.escapedTranslateKey({groupName:n,subgroupName:a,key:r})})),e}))}})},163143:(e,t,i)=>{"use strict";i(962062),i(18107),i(967357);var n=i(96190),a=i(637527),r=i(556395),o=i(93216),s=i(40785);e.exports=a.extend({ignore:["view"],views:{timeout:i(702463),loading:i(251910),summary:i(372142),suggestions:i(483553),approve:i(253441),dismiss:i(514570),edit:i(125288),confirm:i(421526)},rules:{canAddSuggestedLinks:function(){return o.hasRole("create_suggested_link")},canEdit:function(){return!!this.linkModel&&this.linkModel.rules.canEdit.bind(this.linkModel)()},hasMatches:function(){return!!this.linkModel&&this.linkModel.rules.hasMatches.bind(this.linkModel)()},hasDeniedMatches:function(){return!!this.linkModel&&this.linkModel.rules.hasDeniedMatches.bind(this.linkModel)()}},urlRoot:function(){if(this.caseModel)return $appData.globalConfig.apiRoot+"/case/"+this.caseModel.id+"/suggested-links"},onInit:function(e){if(this.caseModel=e.caseModel,e.linkModel){this.originalLinkModel=e.linkModel;var t=n.extend({},e.linkModel.attributes,{matches:n.map(e.linkModel.get("matches").models,"attributes")});this.linkModel=new r(t,{entityId:e.linkModel.entityId,parse:!0})}else{if(!e.linkCollection)throw"linkModel or linkCollection are required.";this.linkCollection=e.linkCollection,this.initialSet(),this.on("sync",this.onFetchSuccess),this.on("error",this.onFetchError),this.linkCollection.on("reset",this.onLinkCollectionReset,this)}},defaults:{view:"loading"},fetch:function(e){e=n.assign({},e,{type:"POST",parse:!1}),a.prototype.fetch.call(this,e)},onFetchSuccess:function(){this.caseModel.set("lastSnapshotGenerationDate",(new Date).toISOString()),this.linkCollection.fetch({reset:!0})},onFetchError:function(e,t,i){i&&"timeout"===i.errorThrown&&(this.timeout(),s.ignoreAjaxErrors(t))},onLinkCollectionReset:function(){this.clear({silent:!0}),this.initialSet(),!1!==this.showSummary&&this.summarize()},progress:function(){this.set("view","loading")},suggest:function(e){"confirm"===this.get("view")&&!0!==e||this.set("view","suggestions")},finish:function(e){var t=this;this.linkCollection&&0!==this.linkCollection.total?(this.linkCollection.getSkipCount()===this.linkCollection.total&&this.linkCollection.resetSkipCount(),this.linkCollection.fetch({success:function(){e&&t.set("lastLinkedToCaseNumber",e),t.suggest()},reset:!0})):this.set("view","finished")},summarize:function(){this.set("view","summary")},approve:function(){this.set("view","approve")},dismiss:function(){this.set("view","dismiss")},edit:function(){this.set("view","edit")},confirm:function(){this.set("view","confirm")},timeout:function(){this.set("view","timeout")},getCurrentView:function(){var e=n.get(this.views,this.get("view"));return e?new e({model:this}):null},initialSet:function(){this.linkModel=this.linkCollection.at(0)}})},399282:(e,t,i)=>{"use strict";var n=i(504542);e.exports=n.Model.extend({urlRoot:$appData.globalConfig.apiRoot+"/lockout",idAttribute:"id",getEntityCanon:function(){}})},416821:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/log",defaults:function(){return{msg:"",currentRoute:"",details:""}}})},931240:(e,t,i)=>{"use strict";i(874423),i(21699);var n=i(947432),a=i(96190),r=i(260556).aj,o=i(637527);e.exports=o.extend({urlRoot:$appData.globalConfig.apiRoot+"/message",entity:{base:"sys",name:"message"},idAttribute:"id",onParse:function(e){var t=this.getFormattedData({attributes:e,escape:!0});switch(e.ago=n(t.createdDate,$appData.dateTimeFormat).fromNow(),e.html=r(e.html,(function(e){return a.includes(["http","https"],e.getScheme())?e:null})),e.targetType){case"sys/case":default:e.icon="fa-file-text-o";break;case"sys/todo":e.icon="fa-check-square-o";break;case"sys/user":e.icon="fa-address-card-o"}switch(e.method){case"email":default:e.iconMethod="fa-envelope";break;case"sms":e.iconMethod="fa-commenting";break;case"phone":e.iconMethod="fa-phone"}return e}})},904143:(e,t,i)=>{"use strict";var n=i(637527),a=i(93216),r=i(45701);e.exports=n.extend({urlRoot:function(){return"".concat($appData.globalConfig.apiRoot,"/note")},entity:{base:"sys",name:"note"},idAttribute:"id",rules:{canUploadFile:function(){return a.hasRole("create_attachment")&&!this.get("pendingPurgeDate")&&!this.get("caseId__pendingPurgeDate")&&!this.get("datePurged")&&!this.get("caseId__datePurged")&&(this.rules.canEditNoteGroup.call(this)||!0!==this.get("sysSubmitted"))},canEditNote:function(){return this.rules.canEditCase.call(this)&&a.hasRole("edit_note")},canEditNoteGroup:function(){return this.rules.canEditCase.call(this)&&a.hasRole("edit_note_group")},canRemoveNote:function(){return this.rules.canEditCase.call(this)&&a.hasRole("remove_note")},isUntranslatedNote:function(){return!r.isEnabled("intakeTranslation")||!this.get("intakeTranslationStatus")}}})},278994:(e,t,i)=>{"use strict";var n=i(637527),a=i(278518);e.exports=n.extend({idAttribute:"id",entity:{base:"sys",name:"option"},urlRoot:"".concat($appData.globalConfig.apiRoot,"/option"),onParse:function(e,t){return a.prepareForFrontend(e)}})},17667:(e,t,i)=>{"use strict";i(842762);var n=i(858612),a=i(637527);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/packet"),entity:{base:"sys",name:"packet"},defaults:{tableOfContentsTemplateKind:"default",tableOfContentsTemplate:null,documentGenerationMethod:"always_new",caseFilesInclusionKind:"no"},idAttribute:"id",fileAttribute:"tableOfContentsTemplate",onInit:function(){this.isNew()&&(this.validator=n(this.getCustomRules(),$appData.validation.prefs))},onParse:function(e,t){return e},getCustomRules:function(){return this.getEntityDefinition().validation},rules:{canCreate:function(){var e=this.get("name");return"string"==typeof e&&e.trim().length>0}}})},282798:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/packet_template"),entity:{base:"sys",name:"packet_template"},idAttribute:"id",defaults:{locale:$appData.baseLanguage}})},681127:(e,t,i)=>{"use strict";var n=i(697383);e.exports=n.extend({defaults:{},rules:{}})},697383:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(944114);var r=i(637527),o=i(93216);e.exports=r.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/party"),entity:{base:"sys",name:"party"},idAttribute:"id",defaults:{primaryEntity:!1},rules:{isDraft:function(){return this.isDraft()},canEditParty:function(){return this.rules.canEditCase.call(this)&&o.hasRole("edit_party")},canRemoveParty:function(){return this.rules.canEditCase.call(this)&&o.hasRole("remove_party")},canLinkSearchProfile:function(){return o.hasRole("view_manual_link")&&o.hasRole("view_person")}},getSaveAndCopyExcludeFields:function(){for(var e=[],t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.push.apply(e,n(r.prototype.getSaveAndCopyExcludeFields.apply(this,i))),o.hasRole("create_party_restricted_fields")||e.push.apply(e,n(r.prototype.getRestrictEditExcludeFields.apply(this,i))),e},getAutofillExcludeFields:function(){for(var e=[],t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.push.apply(e,n(r.prototype.getAutofillExcludeFields.apply(this,i))),o.hasRole("create_party_restricted_fields")||e.push.apply(e,n(r.prototype.getRestrictEditExcludeFields.apply(this,i))),e},canEditRestrictedFields:function(){var e=this.isNew()||!1===this.get("sysActive");return e&&o.hasRole("create_party_restricted_fields")||!e&&o.hasRole("edit_party_restricted_fields")}})},922078:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(944114);var r=i(93216),o=i(637527);e.exports=o.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/person"),entity:{base:"sys",name:"person"},idAttribute:"id",rules:{canAddCaseLinkToPerson:function(){return!this.rules.isMarkedOrPurged.call(this)&&r.hasRole("create_manual_link")&&r.hasRole("view_case")},canAddPersonLinkToPerson:function(){return!this.rules.isMarkedOrPurged.call(this)&&r.hasRole("create_manual_link")&&r.hasRole("view_person")}},getSaveAndCopyExcludeFields:function(){for(var e=[],t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.push.apply(e,n(o.prototype.getSaveAndCopyExcludeFields.apply(this,i))),r.hasRole("create_person_restricted_fields")||e.push.apply(e,n(o.prototype.getRestrictEditExcludeFields.apply(this,i))),e},canEditRestrictedFields:function(){return this.isNew()&&r.hasRole("create_person_restricted_fields")||!this.isNew()&&r.hasRole("edit_person_restricted_fields")}})},993816:(e,t,i)=>{"use strict";i(944114),i(250113),i(426099),i(154554);var n=i(96190),a=i(40785),r=i(637527);$appData.picklists||($appData.picklists={},$appData.picklists.data={}),e.exports=r.extend({urlRoot:$appData.globalConfig.apiRoot+"/list",idAttribute:"id",entity:{base:"sys",name:"listItem"},sync:function(e,t,i){i||(i={});var a=i.success;return i.success=function(t){var i,r=t.picklistTypeId,o=$appData.picklists.data[r];if(n.isArray(o))switch(e){case"create":o.push(t);break;case"update":i=n.indexOf(o,n.find(o,{id:t.id})),o.splice(i,1,t);break;case"delete":i=n.indexOf(o,n.find(o,{id:t.id})),o.splice(i,1)}n.isFunction(a)&&a.apply(this,arguments)},r.prototype.sync.apply(this,arguments)},onParse:function(e){return e.relatedData&&n.each(e.relatedData,(function(t,i){e[i]=t})),e},compare:function(e){var t=this.compareRank(e);if(0!==t)return t;var i=this.get("value")||"",n=e.get("value")||"";return i.localeCompare(n)},compareRank:function(e){var t=this.get("rank")||null,i=e.get("rank")||null;return t===i?0:n.isNull(t)?1:n.isNull(i)?-1:t>i?1:-1},rules:{isNotLocked:function(){var e;return!(null===(e=a.getPicklistsConfig()[this.get("name")])||void 0===e?void 0:e.locked)}},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.get("name"),i=r.prototype.clear.call(this,e);return this.set("name",t,{silent:e.silent}),i}})},137371:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(16871).v4,r=i(122268),o=i(637527),s=i(40785);e.exports=o.extend({urlRoot:$appData.globalConfig.apiRoot+"/picklist_type",idAttribute:"id",entity:{base:"sys",name:"list"},defaults:{text:"value",value:"value",name:a()},onParse:function(e){return e.caption=s.translateKey(s.picklistTypeTranslationKey(e)),e.parents__caption=n.map(e.parents,(function(e){return s.translateKey(s.picklistTypeTranslationKey({name:e}))})),e},save:function(e,t){var i,a,l=this;r.series([function(i){o.prototype.save.call(l,e,n.extend({},t,{success:function(){return a=arguments,i()},error:function(e,t,n){return i(n)}}))},function(e){i=s.picklistTypeTranslationKey(l.attributes),s.fetchAndUpdateLocalTranslations(i,e)},function(e){return l.set("caption",s.translateKey(i)),e()}],(function(e,i){return e&&t&&t.error?t.error(l,{},e):!e&&t.success?t.success.apply(l,a):void 0}))}})},647623:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/saved-search",entity:{base:"sys",name:"searches"},idAttribute:"id"})},479653:(e,t,i)=>{"use strict";var n=i(947432),a=i(637527);e.exports=a.extend({onParse:function(e){e.ago=n(e.createdDate).fromNow()}})},942536:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({})},980452:(e,t,i)=>{"use strict";i(311927),i(962062);var n=i(96190),a=i(637527);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/selected_file_for_packet"),entity:{base:"sys",name:"selected_file_for_packet"},idAttribute:"id",fileAttribute:"selectedAttachmentId__files",onParse:function(e){var t=e.selectedAttachmentId__files,i=void 0===t?null:t;return n.isArray(i)&&(e.fileNames=n.map(i,"name").join(", ")),e}})},865742:(e,t,i)=>{"use strict";i(428706);var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/shared_link_access"),entity:{base:"sys",name:"shared_link_access"},idAttribute:"id",fileAttribute:"sharedLinkId__filesShared",downloadUrl:function(e){return"".concat($appData.globalConfig.apiRoot,"/download_shared_file/")+"".concat(this.id,"/").concat(this.get("verificationCode"),"/").concat(e.objectId)},rules:{canDownloadSharedFile:function(){return this.get("sharedLinkId__provideDownloadLink")}}})},658875:(e,t,i)=>{"use strict";var n=i(947432),a=i(637527),r=i(93216),o=i(40785);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/shared_link"),entity:{base:"sys",name:"shared_link"},idAttribute:"id",defaults:{locale:$appData.user.locale,expiryDate:n().startOf("d").add(1,"year").toISOString(),subject:o.translateKey({groupName:"fileSharing",subgroupName:"general",key:"file_share_default_subject"},!1,{systemName:$appData.globalConfig.systemName})},rules:{canEditSharedLink:function(){return r.hasRole("edit_shared_link")&&"Active"===this.get("status")}}})},760258:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/shared_link_receipt"),entity:{base:"sys",name:"shared_link_receipt"},idAttribute:"id"})},50144:(e,t,i)=>{"use strict";i(962010);var n=i(637527),a=i(40785),r=i(493793);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/standard_response",entity:{base:"sys",name:"response"},idAttribute:"id",onParse:function(e){var t="";return e&&(t+=e.name?"Name: "+e.name:"",t+=t&&e.body?", ":"",t+=e.body?"Response: "+e.body:"",e.responseDetails=t||null,e._type=a.translateKey("standard_response")),e},onPreSave:function(){r.clearPicklistCache("locales")}})},902778:(e,t,i)=>{"use strict";i(311927),i(134782);var n=i(96190),a=i(637527),r=i(40785);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/team"),entity:{base:"sys",name:"team"},idAttribute:"id",defaults:{filterOperator:"all"},rules:{membershipIsAtTheLimit:function(){return $appData.globalConfig.maxNumberOfTeamMembers===(n.isEmpty(this.get("members"))?[]:this.get("members")).length}},onParse:function(e){if(!e)return{};var t=e.members__name||[],i="";e.summary&&(i=r.translateKey({groupName:null,subgroupName:null,key:"team_summary_message"},{context:{count:e.summary}}));var a=t.join(", ");if(t.length>10){var o=t.slice(0,10);a="".concat(o.join(", ")," ...")}return n.assign(e,{formattedMemberNames:a,summary:i})}})},487805:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(858612),r=i(637527);e.exports=r.extend({urlRoot:$appData.globalConfig.apiRoot+"/template",entity:{base:"sys",name:"template"},defaults:{fileType:"MS Word",locale:$appData.user.locale},idAttribute:"id",onInit:function(){this.validator=a(this.getCustomRules(),$appData.validation.prefs)},onParse:function(e,t){return this.unset("files"),e},getCustomRules:function(){var e=this.getEntityDefinition().validation;return e.dependentMandatory$=n.get(e,"dependentMandatory$",[]).concat({condition:"isNew",fields:["files"]}),e}})},384366:(e,t,i)=>{"use strict";var n=i(637527),a=i(493793);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/theme"),entity:{base:"sys",name:"theme"},idAttribute:"id",defaults:{primary:"#1C005E",accent:"#3E3096",complementary1:"#999999",complementary2:"#f0f0f0",filterOperator:"all"},sync:function(e,t,i){return a.clearPicklistCache("themes"),n.prototype.sync.call(this,e,t,i)}})},503363:(e,t,i)=>{"use strict";var n=i(947432),a=i(637527),r=i(93216),o=i(40785);e.exports=a.extend({urlRoot:function(){return this.get("caseId")?$appData.globalConfig.apiRoot+"/case/"+this.get("caseId")+"/todo":$appData.globalConfig.apiRoot+"/todo"},entity:{base:"sys",name:"todo"},idAttribute:"id",defaults:{status:"pending"},rules:{isTypeOther:function(){return"Other"===this.get("todoType")},canUploadFile:function(){return r.hasRole("create_attachment")&&(this.rules.canEditThisTodo.call(this)||this.isDraft())&&!this.get("pendingPurgeDate")&&!this.get("caseId__pendingPurgeDate")&&!this.get("datePurged")&&!this.get("caseId__datePurged")},isNew:function(){return this.isNew()},isDraft:function(){return this.isDraft()},isNotNew:function(){return!(this.isNew()||!this.isActive())},closed:function(){return"closed"===this.get("status")},todoTypeIsReviewApproval:function(){return"review_approval"===this.get("todoType")},todoTypeOther:function(){return"Other"===this.get("todoType")},showAcceptDecline:function(){return $appData.user.id===this.get("responsible")&&"pending"===this.get("status")},canCompleteTodos:function(){return r.hasRole("complete_others_todos")||r.hasRole("complete_my_todos")},canCompleteThisTodo:function(){var e=this.get("responsible")===$appData.user.id;return e&&r.hasRole("complete_my_todos")||!e&&r.hasRole("complete_others_todos")&&this.rules.canEditCase.call(this)},canRemoveThisTodo:function(){var e=!!this.get("responsible"),t=this._originalData.responsible===$appData.user.id;return(this.rules.canEditCase.call(this)||t)&&(e&&r.hasRole("remove_assigned_todo")||!e&&r.hasRole("remove_unassigned_todo"))},canSometimesEdit:function(){return r.hasRole("edit_todo")},canEditThisTodo:function(){var e=this._originalData.responsible===$appData.user.id;return r.hasRole("edit_todo")&&(r.hasRole("edit_others_todos")&&!e&&this.rules.canEditCase.call(this)||r.hasRole("edit_my_todos")&&e)},canReassignThisTodo:function(){var e=this._originalData.responsible===$appData.user.id;return r.hasRole("reassign_todo")&&(this.rules.canEditCase.call(this)||e)&&!this.rules.disableForClosedCase.call(this)}},onParse:function(e){return this.isActive()&&(e.whosResponsibleReadonly=!0,$appData.user&&(e.whosResponsibleReadonly=$appData.user.id!==e.caseOwnerId&&$appData.user.perm.roles.indexOf("modify_todo_whos_responsible")<0)),e.textDetails=o.stripHtmlTags(e.details),e.isOverdue=this.dateHasPassed(e.due),e},dateHasPassed:function(e,t){if(!e)return!1;var i=n(t),a=n(e);return i.startOf("day").isAfter(a.endOf("day"))}})},279309:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/transition"),entity:{base:"sys",name:"transition_history"},idAttribute:"id"})},576556:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({idAttribute:"id",entity:{base:"sys",name:"translation"},urlRoot:$appData.globalConfig.apiRoot+"/translation",onParse:function(e){return e.key?(e.shortKey=e.key.length>=30?e.key.substring(0,30)+"...":e.key,e):e}})},185787:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/usage_statistic"),idAttribute:"id",entity:{base:"sys",name:"usage_statistic"}})},291428:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527);e.exports=a.extend({urlRoot:$appData.globalConfig.apiRoot+"/user",entity:{base:"sys",name:"user"},ignore:["action","timeZone"],idAttribute:"id",defaults:{active:!0,type:"local",locale:$appData.globalConfig.baseLanguage,todoEmailNotifications:"48"},sync:function(e,t,i){i||(i={});var r=i.success;return i.success=function(i){t.get("id")===$appData.user.id&&"update"===e&&($appData.user.signature=t.get("signature")),n.isFunction(r)&&r.apply(this,arguments)},a.prototype.sync.apply(this,arguments)}})},408219:(e,t,i)=>{"use strict";var n=i(504542),a=i(40785);e.exports=n.Model.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/user_preferences"),idAttribute:"preferenceName",isNew:function(){return!1},setPreferenceUnThrottled:function(e,t){this.isUserPreferencesEnabled()&&(this.getPreference(e)===t||($appData.userPreferences[e]=t,this.save({preferenceName:e,value:t})))},setPreference:a.throttleByArguments((function(e,t){this.setPreferenceUnThrottled(e,t)}),$appData.globalConfig.userPreferenceThrottle),getPreference:function(e){if(this.isUserPreferencesEnabled())return $appData.userPreferences[e]},isUserPreferencesEnabled:function(){return Object.prototype.hasOwnProperty.call($appData,"userPreferences")}})},906165:(e,t,i)=>{"use strict";i(202008),i(426099),i(962062);var n=i(96190),a=i(637527),r=i(493793);e.exports=a.extend({idAttribute:"id",urlRoot:"".concat($appData.globalConfig.apiRoot,"/user_role"),entity:{base:"sys",name:"user_role"},ignore:["filterCount","permissionsExcludingGroupCount"],defaults:{filterOperator:"all"},setDefaultPermissions:function(e){var t=this.get("permissions")||[],i=n.filter(e,{selectedByDefault:!0});t=n.union(t,n.map(i,"id")),this.set("permissions",t)},sync:function(e,t,i){return r.clearPicklistCache("user_roles"),a.prototype.sync.call(this,e,t,i)}})},364894:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/workflow",entity:{base:"sys",name:"workflow"},idAttribute:"id",defaults:{status:"draft"},rules:{displayAddChildBtn:function(){return this.isCopy()}},active:function(){return"active"===this.get("status")},inactive:function(){return"inactive"===this.get("status")},pendingChanges:function(){return"pending_changes"===this.get("status")},draft:function(){return"draft"===this.get("status")}})},467633:(e,t,i)=>{"use strict";var n=i(96190),a=i(637527),r=i(93216);e.exports=a.extend({urlRoot:"".concat($appData.globalConfig.apiRoot,"/rule"),entity:{base:"sys",name:"rule"},idAttribute:"id",getTargetEntityName:function(){return this.isWorkflowRule()?this.get("workflowId__entityName"):this.get("entityId__canon")},isWorkflowRule:function(){return"Workflow"===this.get("type")},rules:{canEdit:function(){return r.hasRole("edit_rule")},canRemove:function(){return r.hasRole("remove_rule")},canCreateAction:function(){var e=this.get("hardLocked"),t=r.hasRole("create_rule")&&!this.get("sysSubmitted"),i=r.hasRole("edit_rule")&&!!this.get("sysSubmitted");return!n.isNil(this.get("type"))&&!e&&(t||i)},canEditAction:function(){var e=this.get("hardLocked"),t=r.hasRole("create_rule")&&!this.get("sysSubmitted"),i=r.hasRole("edit_rule")&&!!this.get("sysSubmitted");return!e&&(t||i)},canDeleteAction:function(){return!this.get("hardLocked")&&(r.hasRole("edit_rule")||!this.get("sysSubmitted"))}}})},293318:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/state",entity:{base:"sys",name:"state"},idAttribute:"id",isWorkflowActive:function(){return"active"===this.get("workflowId__status")}})},217628:(e,t,i)=>{"use strict";var n=i(637527);e.exports=n.extend({urlRoot:$appData.globalConfig.apiRoot+"/transition",entity:{base:"sys",name:"transition"},idAttribute:"id",isWorkflowActive:function(){return"active"===this.get("workflowId__status")}})},174354:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:i):a.value}},r.apply(this,arguments)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}i(715472),i(860825),i(16280),i(740888),i(83851),i(45700),i(689572),i(752675),i(489463),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(874423),i(21699),i(240875);var l=i(96190),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(p,e);var t,i,d,c,u=(d=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(d);if(c){var i=s(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=u.call(this,t)).featureFlags=t.featureFlags,e}return t=p,(i=[{key:"getEntityFields",value:function(e){var t=this,i=this.featureFlags.getEnabledFeatures(),n=e.filterEnabledFeaturesFields(e.fields(),i);return"sys/user"!==e.entityCanon?n:l.filter(n,(function(e){return!t.blacklistedUserAttributes.includes(e.field)}))}},{key:"buildUserContext",value:function(e){var t=r(s(p.prototype),"buildUserContext",this).call(this,e),i="sys/user"===e.entityCanon?e:this.userEntDef,n=this.featureFlags.getEnabledFeatures(),a=i.filterDisabledFeaturesFields(i.fields(),n);l.each(a,(function(e){delete t[e.field]}))}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),p}(i(927474));e.exports=d},600078:(e,t,i)=>{"use strict";e.exports=i(174354)},531832:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(426099),i(423500),i(944114),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var r=i(96190),o=i(274692),s=i(13288),l=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureFlagsInfo=r.isObject(i.featureFlagsInfo)?i.featureFlagsInfo:{},this.serverSentEvents=i.serverSentEvents,this.serverSentEvents.addEventListener(this,"feature_flags_changed",(function(){s("Fetching feature flag values"),o.ajax({type:"GET",url:"".concat($appData.globalConfig.apiRoot,"/feature_flags"),contentType:"application/json",dataType:"json"}).done((function(e){s("DONE fetching feature flag values"),e&&(t.featureFlagsInfo=e)})).fail((function(e){var t;s("Failed to fetch feature flag values ".concat(null==e||null===(t=e.responseJSON)||void 0===t?void 0:t.message))}))}))}var t,i;return t=e,(i=[{key:"isEnabled",value:function(e){return!0===(this.featureFlagsInfo[e]||{}).enabled}},{key:"getAllFeatures",value:function(){return this.featureFlagsInfo}},{key:"getEnabledFeatures",value:function(){var e=[];return r.forEach(this.featureFlagsInfo,(function(t,i){!0===t.enabled&&e.push(i)})),e}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=l},527392:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var r=i(96190),o=i(132662),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layerOptions=t.layerOptions}var t,i;return t=e,(i=[{key:"createMap",value:function(e){var t=e.mapType,i=void 0===t?"OpenLayers":t,n=e.mapOptions,a=void 0===n?{}:n,r=e.target;return"OpenLayers"===i?new o({target:r,mapOptions:a,layerOptions:this.layerOptions}):null}},{key:"destroyMap",value:function(e){r.isFunction(e.destroy)&&e.destroy()}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=s},132662:(e,t,i)=>{"use strict";var n=i(274692);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}i(879432),i(202008),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(962062),i(426099),i(423500),i(944114),i(16280),i(45700),i(689572),i(752675),i(489463),i(102892);var l=i(96190),d=i(690727),c=i(975576).Map,u=i(436775).A,p=i(975576),f=p.View,h=p.Feature,m=i(659745),g=m.FullScreen,y=m.defaults,v=m.Attribution,b=i(430054).A,w=i(401175),A=w.XYZ,C=w.Vector,k=i(312438).Point,x=i(711321),_=x.Style,E=x.Text,I=x.Fill,S=i(993495).unByKey,D=i(253386).applyStyle,F=i(233964).A,O=i(158969).A,B=i(48371).A,T=i(663029).default,N=i(352615),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.target,a=t.mapOptions,o=void 0===a?{}:a,l=t.layerOptions,u=o.initialCenter,p=void 0===u?{}:u,h=o.initialZoom,m=void 0===h?16:h,b=o.smallAttributionThreshold,w=void 0===b?600:b,A=o.onAttributionsSizeChangeFn,C=o.zoomInTooltip,k=o.zoomOutTooltip,x=o.toggleFullScreenTooltip;this.minZoom=0,this.maxZoom=28,this.smallAttributionThreshold=w,this.onAttributionsSizeChange=A,this.attribution=new v({collapsible:!1}),this.attributionsCollapsed=!1;var _={attribution:!1,zoomOptions:{zoomInTipLabel:C,zoomOutTipLabel:k}};this.map=new c(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=s(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({target:i,layers:this._getMapLayers(l),view:new f({center:N.getCoordinates(p),zoom:this._getValidZoom(m)}),controls:y(_).extend([new g({tipLabel:x}),this.attribution])},o));var E=new d;this.map.addControl(E),n(window).on("resize.OpenLayersMap",this._checkSize.bind(this)),this._checkSize()}var t,i;return t=e,(i=[{key:"addClickListener",value:function(e){this.eventKey=this.map.on("singleclick",(function(t){e(t.coordinate)}))}},{key:"removeClickListener",value:function(){S(this.eventKey),this.eventKey=null}},{key:"center",value:function(e){if(!l.isEmpty(e)){this._validateGeoJson(e);var t=e.coordinates;l.isEmpty(t)||this.map.getView().setCenter(t)}}},{key:"zoom",value:function(e){l.isNil(e)||this.map.getView().setZoom(this._getValidZoom(e))}},{key:"dropPin",value:function(e){if(!l.isEmpty(e)){this._validateGeoJson(e);var t=e.coordinates;l.isEmpty(t)||(this.pinLayer||this._addPinLayer(),this.pinGeometry.setCoordinates(t))}}},{key:"removePin",value:function(){this.pinLayer&&(this.map.removeLayer(this.pinLayer),this.pinLayer=null)}},{key:"hasPin",value:function(){return!!this.pinLayer}},{key:"getPinCoordinates",value:function(){return this.hasPin()?this.pinGeometry.getCoordinates():null}},{key:"setVisibleLayer",value:function(e){this._setLayerVisible(e),this._ensureTopVisibleBaseLayerShown()}},{key:"destroy",value:function(){this.removeClickListener(),n(window).off("resize.OpenLayersMap")}},{key:"_getMapLayers",value:function(e){var t=this,i=[],n={};return l.forEach(e,(function(e){if("vector"===e.type){var a=t._createVectorLayer(e);t._setVectorLayerStyle(a,e.styleUrl),e.baseLayer?i.push(a):e.groupName&&(n[e.groupName]||(n[e.groupName]=[]),n[e.groupName].push(a))}else if("raster"===e.type){var r=t._createRasterLayer(e);e.baseLayer?i.push(r):e.groupName&&(n[e.groupName]||(n[e.groupName]=[]),n[e.groupName].push(r))}})),l.forOwn(n,(function(e,n){i.push(t._createLayerGroup(n,e))})),i}},{key:"_createVectorLayer",value:function(e){return new F({declutter:!0,title:e.layerName,type:e.baseLayer?"base":null,source:new O({attributions:$appData.globalConfig.disableGeoMapAttributon?null:e.attribution,format:new B,url:e.url})})}},{key:"_createRasterLayer",value:function(e){return new u({title:e.layerName,type:e.baseLayer?"base":null,source:new A({attributions:$appData.globalConfig.disableGeoMapAttributon?null:e.attribution,url:e.url})})}},{key:"_createLayerGroup",value:function(e,t){return new T({title:e,type:"base",combine:"true",layers:t})}},{key:"_setVectorLayerStyle",value:function(e,t){n.ajax({url:t,method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){t.sprite="/plugins/map/map-sprite",D(e,t,"composite")}))}},{key:"_addPinLayer",value:function(){this.pinGeometry=new k([0,0]);var e=new h({geometry:this.pinGeometry}),t=new _({text:new E({text:"",font:'900 40px "Font Awesome 6 Free"',fill:new I({color:"#d9534f"}),offsetY:-20})});e.setStyle(t),this.pinLayer=new b({source:new C({features:[e]}),zIndex:10}),this.map.addLayer(this.pinLayer)}},{key:"_setLayerVisible",value:function(e){d.forEachRecursive(this.map,(function(t){t.get("title")===e?t.setVisible(!0):"base"===t.get("type")&&t.setVisible(!1)}))}},{key:"_ensureTopVisibleBaseLayerShown",value:function(){var e;d.forEachRecursive(this.map,(function(t){"base"===t.get("type")&&t.getVisible()&&(e=t)})),e&&this._setLayerVisible(e.get("title"))}},{key:"_getValidZoom",value:function(e){return e<this.minZoom?this.minZoom:e>this.maxZoom?this.maxZoom:e}},{key:"_validateGeoJson",value:function(e){if("EPSG:3857"!==N.getProjection(e))throw new Error("Invalid projection")}}])&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();P.prototype._checkSize=l.throttle((function(){var e=this.map.getSize()[0]<this.smallAttributionThreshold;this.attributionsCollapsed!==e&&(this.attributionsCollapsed=e,this.attribution.setCollapsible(e),this.attribution.setCollapsed(e),l.isFunction(this.onAttributionsSizeChange)&&this.onAttributionsSizeChange(e))}),150),e.exports=P},286698:(e,t,i)=>{"use strict";var n=i(527392);e.exports=n},291599:(e,t,i)=>{"use strict";var n=i(939994),a=i(600078),r=i(45701);e.exports=new a({disabled:$appData.globalConfig.expression.disabled,blacklistedUserAttributes:$appData.blacklistedUserAttributes,userEntDef:n.get("sys/user"),featureFlags:r})},45701:(e,t,i)=>{"use strict";var n=i(323175),a=i(531832);e.exports=new a({featureFlagsInfo:$appData.featureFlagsInfo,serverSentEvents:n})},901427:(e,t,i)=>{"use strict";var n=i(96190),a=i(286698),r={layerOptions:n.get($appData,"geomapping.layers",[])};e.exports=new a(r)},832008:(e,t,i)=>{"use strict";i(752675),i(489463);var n=i(260556).aj,a=i(947432),r=i(325425);e.exports=r.extend({template:i(710865),className:"agenda-event-card-tmpl",dateTimeFormat:$appData.dateTimeFormat,timeFormat:$appData.timeFormat,onInit:function(e){this.event=e.event},locals:function(){var e=this.getEventDateStrings(),t=this.event._originalEntity.getEntityDefinition();return{title:this.event.title,subtitle:this.event.subtitle,description:n(this.event.description),startDate:e.startDate,endDate:e.endDate,dateDelimiter:e.delimiter,typeCaption:this.event.typeCaption,backgroundColor:t.backgroundColor,textColor:t.textColor,originalEntityId:this.event._originalEntity.id,originalEntityType:this.event._originalEntity.getEntityCanon()}},getEventDateStrings:function(){var e=a(this.event.start),t=a(this.event.end),i="",n="",r="";return this.event.allDay||(e.isValid()&&t.isValid()?e.isSame(t,"day")?e.isSame(t,"hour")&&e.isSame(t,"minute")?i="".concat(e.format(this.timeFormat)):(i="".concat(e.format(this.timeFormat)),n="".concat(t.format(this.timeFormat)),r=" – "):(i="".concat(e.format(this.dateTimeFormat)),n="".concat(t.format(this.dateTimeFormat)),r=" – "):e.isValid()&&(i="".concat(e.format(this.timeFormat)))),{startDate:i,endDate:n,delimiter:r}}})},483160:(e,t,i)=>{"use strict";i(426099),i(423500);var n=i(462816),a=i(40785);e.exports=n.extend({template:i(637825),className:"agenda-modal-tmpl",locals:function(){var e=n.prototype.locals.call(this),t=this.calendarEvents.length||0;return e.agendaCount=t,e},getTitle:function(){return a.translateKey("agenda_other")},renderEvents:function(){var e=this;this.calendarEvents.forEach((function(t){return e.renderEventCard(t)}))},onRendered:function(){this.renderEvents()}})},462816:(e,t,i)=>{"use strict";i(16280),i(250113),i(426099),i(423500);var n=i(96190),a=i(947432),r=i(325425),o=i(832008),s=i(40785),l=i(680553),d=i(450048);e.exports=r.extend({template:i(709821),caption:s.translateKey("agenda"),className:"agenda-tmpl",groupName:"agendaEventsGroup",currentDateFormat:"MMMM D, YYYY",locals:function(){return{title:this.getTitle(),currentDate:a(this.currentDate).format(this.currentDateFormat),events:this.calendarEvents}},onRendered:function(){return this.loader=new d({showOnStart:!0}),this.addSubView(this.loader).render(this.$(".loader-container"))},onInit:function(e){var t=this;if(!e)throw new Error("Options Required.");this.eventClick=n.debounce((function(i){if(e.eventClick){var a=i.currentTarget.children[0].dataset,r=n.find(t.calendarEvents,(function(e){return e._originalEntity.id===a.originalEntityId&&e._originalEntity.getEntityCanon()===a.originalEntityType}));e.eventClick(r)}}),500,{leading:!0,trailing:!1}).bind(this),this.currentDate=a(e.currentDate),this.calendarEvents=e.calendarEvents},renderEventCard:function(e){var t=this.$(".agenda-events"),i=new o({event:e});return this.addSubView(i,{group:this.groupName}).render(t)},getTitle:function(){return this.currentDate.isSame(a(),"day")?s.translateKey("agenda_today"):s.translateKey("agenda_other")},clearEvents:function(){l.removeAllInGroup(this.groupName)},renderEvents:function(){var e=this;this.calendarEvents.forEach((function(t){return e.renderEventCard(t)})),this.loader.hide()},updateEvents:function(e,t){this.currentDate=a(e),this.clearEvents(),this.calendarEvents=t,this.render().done(this.renderEvents)},onEventClick:function(e){this.eventClick(e)},events:{"click .agenda-event-card-tmpl":"onEventClick"}})},836975:(e,t,i)=>{"use strict";i(428706),i(944114),i(752675),i(489463),i(327495),i(725440);var n=i(96190),a=i(947432),r=i(267062),o=i(93216),s=i(40785),l=i(344427),d=i(896727),c=i(258558);e.exports=r.extend({template:i(503326),className:"appointment-details-tmpl",urlRoot:"/appointment",Model:c,formConfigName:"appointment-details",caption:function(){return"".concat(s.translateKey("sys_appointment")," ").concat(this.model.get("number"))},features:n.extend(r.prototype.features,{workflowFlags:!0}),crumbs:function(){var e=[];return e.push({title:s.translateKey("case"),url:"/cases"}),this.model.get("caseId")?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(this.model.get("caseId"))}),e.push({title:s.translateKey("activity"),url:"/case/".concat(this.model.get("caseId"),"/activity")}),e.push({title:s.translateKey({groupName:"sys/appointment",subgroupName:"general",key:"name"}),url:"/case/".concat(this.model.get("caseId"),"/activity/appointments")})):e.push({title:s.translateKey({groupName:"sys/appointment",subgroupName:"general",key:"name"}),url:"/appointments"}),this.model.isNew()?e.push({title:s.translateKey("new")}):e.push({title:this.model.get("number")}),e},locals:function(e){var t=this;r.prototype.locals.call(this,(function(i){var a=!t.model.isNew(),r="cancelled"!==t.model.get("status"),o=n.extend({},i,{showSaveWithoutSending:a&&r});e(o)}))},events:{"click #add-signature":"onAddSignatureClick","change [name=standardResponse].loaded":"onStandardResponseChange","click #save-and-send":"onSaveClick","click #save-without-sending":"onSaveClick","click #save-and-copy":"onSaveClick","click #cancel-appointment":"onCancelAppointmentClick"},rules:{canEdit:function(){return o.hasRole("edit_appointment")&&this.model.rules.canEditCase.call(this.model)&&("cancelled"!==this.model.get("status")||o.hasRole("edit_cancelled_appointment"))},canSave:function(){var e=this.model.isNew(),t=o.hasRole("create_appointment")&&e,i=o.hasRole("edit_appointment")&&!e;return(t||i)&&this.model.rules.canEditCase.call(this.model)&&("cancelled"!==this.model.get("status")||o.hasRole("edit_cancelled_appointment"))},canCancel:function(){return o.hasRole("cancel_appointment")&&"cancelled"!==this.model.get("status")&&this.model.rules.canEditCase.call(this.model)},canDelete:function(){return o.hasRole("remove_appointment")&&this.model.rules.canEditCase.call(this.model)}},onBindEvents:function(){this.model.on("change:allDayEvent",this.model.updateAllDayEvent),this.model.on("change:startDate",this.model.updateDuration),this.model.on("change:endDate",this.model.updateDuration),r.prototype.onBindEvents.call(this)},onRendered:function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=r.prototype.onRendered).call.apply(e,[this].concat(i));var s=this.model.rules.isMarkedOrPurged.call(this.model);if(this.model.get("locale")||this.model.set("locale",$appData.user.locale),this.model.isNew()&&n.isNil(this.model.get("startDate"))){var l=a();this.model.set("startDate",l.toISOString()),this.model.set("endDate",a(l).add(30,"minutes").toISOString())}"cancelled"===this.model.get("status")||s||(this.showISightWarning(),"unsentChanges"===this.model.get("status")&&this.showUnsavedChangesWarning())},onUnbindEvents:function(){this.model.off("change:allDayEvent",this.model.updateAllDayEvent),this.model.off("change:startDate",this.model.updateDuration),this.model.off("change:endDate",this.model.updateDuration),r.prototype.onUnbindEvents.call(this)},onAddSignatureClick:function(){var e,t=this.model.getFormattedData({escape:!0}).description,i=void 0===t?"":t;$appData.user.signature&&(e=n.isEmpty(i)?"<br/><br/> ".concat($appData.user.signature):"".concat(i.replace(/(?:<br\s?\/?>\s*)*$/,"")," <br/><br/> ").concat($appData.user.signature),this.model.set("description",e))},onStandardResponseChange:function(){var e=this.$('[name="standardResponse"] option:selected').data("picklistData"),t=e&&e.body||"";this.model.set("description",t)},onSaveClick:function(e){var t=this,i=e.currentTarget.id;"save-and-send"===i||"send-invite"===i?this.model.isNew()?r.prototype.onSaveClickThrottled.call(t,e):this.showSaveAndSendConfirmation((function(i){i&&(t.model.set("sendInvite",!0),r.prototype.onSaveClickThrottled.call(t,e),l.removeAllWarnings())})):(this.model.set("sendInvite",!1),l.removeAllWarnings(),this.showUnsavedChangesWarning(),r.prototype.onSaveClickThrottled.call(this,e))},onCancelClick:function(){this.model.get("caseId")?r.prototype.onCancelClick.call(this):s.navigateTo("/home")},cancel:function(){r.prototype.cancel.call(this),this.model.set("locale",$appData.user.locale)},onCancelAppointmentClick:function(){var e=this;this.model.updateStatus("cancelled",(function(){l.removeAllWarnings(),d.info(d.getCrudMessage(e.model,"cancelled")),e.setReadOnly(!0)}))},showISightWarning:function(){return l.display(s.translateKey("appointment_isight_warning"),{type:"notification",sticky:!0,container:this.$("#messages-container"),parent:this.handle})},showUnsavedChangesWarning:function(e){var t=n.escape(s.translateKey("appointment_unsent_changes_warning")),i=(t=t.replace("{here}",'<a id="send-invite" data-route="#" class="send-latest-changes alert-link">'+"".concat(n.escape(s.translateKey("_here")))+"</a>")).split(".");return l.display(t,{type:"warning",html:!0,container:this.$("#messages-container"),parent:this.handle,model:this.model,lockedBody:"".concat(i[0],"."),onClickFunctions:[{selector:"#send-invite",onClickFunction:e||this.onSaveClick,context:this}]})},showSaveAndSendConfirmation:function(e){return l.display(s.translateKey("appointment_confirm_overwrite"),{type:"confirm",title:s.translateKey("appointment_confirm_overwrite_title"),confirmCaption:"Yes",cancelCaption:"No",callback:e})}})},668697:(e,t,i)=>{"use strict";i(428706),i(250113),i(426099);var n=i(96190),a=i(333745),r=i(836975),o=i(93216),s=i(896727);e.exports=a.extend({template:i(114104),formConfigName:"appointment-event",readOnly:!o.hasRole("edit_appointment"),rules:n.assign({},r.prototype.rules,a.prototype.rules,{hasUnsentChanges:function(){return"unsentChanges"===this.model.get("status")}},{canSave:function(){return o.hasRole("edit_appointment")&&this.model.rules.canEditCase.call(this.model)&&("cancelled"!==this.model.get("status")||o.hasRole("edit_cancelled_appointment"))}}),events:{"click #add-signature":"onAddSignatureClick","change [name=standardResponse].loaded":"onStandardResponseChange","click #save-and-send":"onSaveAndSendClickThrottled","click #save-without-sending":"onSaveWithoutSendingClickThrottled","click #cancel-appointment":"onCancelAppointmentClick"},onInit:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=a.prototype.onInit).call.apply(e,[this].concat(i)),this.readOnly=this.readOnly||"cancelled"===this.model.get("status")&&!o.hasRole("edit_cancelled_appointment")||!this.model.rules.canEditCase.call(this.model)||this.model.rules.disableForClosedCase.call(this.model)},onRendered:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=a.prototype.onRendered).call.apply(e,[this].concat(i)),this.model.get("locale")||this.model.set("locale",$appData.user.locale),this.model.isNew()||"cancelled"===this.model.get("status")||(r.prototype.showISightWarning.call(this),"unsentChanges"===this.model.get("status")&&r.prototype.showUnsavedChangesWarning.call(this,this.onSaveAndSendClickThrottled))},locals:function(){var e=a.prototype.locals.call(this);return n.extend(e,{isCancelled:"cancelled"===this.model.get("status")})},onBindEvents:r.prototype.onBindEvents,onUnbindEvents:r.prototype.onUnbindEvents,onAddSignatureClick:r.prototype.onAddSignatureClick,onStandardResponseChange:r.prototype.onStandardResponseChange,initializeStaleFormListener:r.prototype.initializeStaleFormListener,onSaveAndSendClickThrottled:n.throttle((function(){var e=this;r.prototype.showSaveAndSendConfirmation((function(t){t&&(e.$(e.$el.find("#save-and-send")[0]).ladda({model:e.model,action:"save"}),e.save.call(e))}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onSaveWithoutSendingClickThrottled:n.throttle((function(e){this.$(e.currentTarget).ladda({model:this.model,action:"save"}),this.model.set("sendInvite",!1),this.save()}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onCancelAppointmentClick:function(e){this.$(e.currentTarget).ladda({model:this.model,action:"save"});var t=this;this.model.updateStatus("cancelled",(function(){s.info(s.getCrudMessage(t.model,"cancelled")),t.closeView(),t.onSave()}))}})},333745:(e,t,i)=>{"use strict";i(962010);var n=i(274692),a=i(402193),r=i(325425),o=i(680553),s=i(454568),l=i(344427),d=i(896727),c=i(40785);e.exports=r.extend({template:i(887714),className:"calendar-event-modal-tmpl",features:{validation:!0,workflowFlags:!0},rules:{haveFieldsChanged:function(){return this.model.hasOriginalDataChanged(this.formLayoutElementFieldNames)}},events:{"click #delete":"onDeleteClick"},locals:function(){var e=this.model.getEntityDefinition(),t=this.model.getFormattedData(),i=(null==t?void 0:t.childNumber)||(null==t?void 0:t.name);return{entityCaption:e.caption,model:this.model.attributes,itemName:i,formattedData:t,readOnly:this.readOnly}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.onSave&&(this.onSave=e.onSave);var t=!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged");this.readOnly=this.readOnly||t},onRendered:function(){var e=this,t=n.Deferred();if(this.readOnly)t.resolve(),this.setReadOnly(!0);else{var i=this;i.model.lock({customMessageContainer:this.$("#messages-container")},(function(i,n){!1===n&&e.setReadOnly(!0),t.resolve()})),i.model.on("change:isLockedByAnotherUser",(function(){!0===e.model.get("isLockedByAnotherUser")?e.setReadOnly(!0):e.model.lock((function(e,t){!0===t&&i.setReadOnly(!1)}))}))}return t.promise()},save:function(){var e=this;e.model.save(null,{wait:!0,success:function(){d.info(d.getCrudMessage(e.model,"updated")),e.closeView(),e.onSave()}})},onDeleteClick:function(e){a.create(e.currentTarget).start();var t=this;l.display(c.translateKey("delete_confirmation"),{type:"confirm",title:c.translateKey("delete_confirmation_title"),confirmText:c.translateKey("delete"),cancelText:c.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(e){a.stopAll(),e&&t.model.destroy({success:function(){d.info(d.getCrudMessage(t.model,"deleted")),t.closeView(),t.onSave()}})}}),e.stopImmediatePropagation()},closeView:function(){o.remove(this)},onRemove:function(){this.model.unlock(),s.hideAllWarnings()}})},995108:(e,t,i)=>{"use strict";i(944114),i(202008),i(426099);var n=i(274692),a=i(96190),r=i(947432),o=i(939994),s=i(325425),l=i(462816),d=i(483160),c=i(40785),u=i(605927),p=i(344427),f=i(577079),h=i(879176),m=i(521239),g=i(354849),y="miniCalendar",v="mainCalendar";e.exports=s.extend({template:i(134229),caption:c.translateKey("calendar"),navigateUrl:"/calendar",className:"calendar-tmpl col-12",getEventsForCurrentDate:function(e){var t=this.collection.toEventsJSON(),i=e?r(e):this.selectedDate;return a.filter(t,(function(e){var t=r(e.start),n=r(e.end);return!(!t.isValid()||!n.isValid())&&i.isBetween(t,n,"day","[]")}))},onInit:function(){var e,t,i,n,a=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=this,p=s.caseId,b=s.enableSearchFilter,w=void 0===b||b,A=s.enableEntityFilters,C=void 0===A||A,k=s.showTitle,x=void 0!==k&&k;this.showTitle=x,this.selectedDate=r(),this.collection=new u,this.miniCalendar=new g({headerToolbar:{left:"title",right:"prev next"},aspectRatio:1,selectedDate:this.selectedDate,dateClick:function(e){d.onDateChanged(e.date,y)}}),this.agendaView=new l({selectedDate:this.selectedDate,eventClick:function(e){var t=e._originalEntity;d.showEntityCalendarView(t)}}),this.mainView=new h({addFilterTooltipContainer:"#main-view",configName:p?"case-calendar-grid":"calendar-grid",enableSearchFilter:w,enableEntityFilters:C,collection:this.collection,staticFilters:(e=o.get({base:"sys",name:"todo"}).query(),t=o.get({base:"sys",name:"appointment"}).query(),i=$appData.user,n=[{name:"users",cssClass:"nav-pills-lg",options:[]},{name:"status",cssClass:"nav-pills-lg",options:[{text:"pending",filter:e.is("status","pending").toQuery()},{text:"complete",filter:e.is("status","closed").toQuery()},{text:"sent",filter:t.is("status","sent").toQuery()},{text:"unsent_changes",filter:t.is("status","unsentChanges").toQuery()},{text:"cancelled",filter:t.is("status","cancelled").toQuery()}]},f.getTeamFilters([{type:"sys_appointment",fields:["organizer","invitees"]},{type:"sys_todo",fields:["responsible"]},{type:"sys_holiday_entry"}])],null!=i.id&&null!=i.email&&n[0].options.push({text:"only_mine",filter:[{type:"sys_todo",query:e.is("responsible",i.id).toQuery()},{type:"sys_appointment",query:t.or([t.is("organizer",i.id).toQuery(),t.contains_exact_words("invitees",i.email).toQuery()]).toQuery()},{type:"sys_holiday_entry"}],selected:!0},{text:"only_others",filter:[{type:"sys_todo",query:e.is_not("responsible",i.id).toQuery()},{type:"sys_appointment",query:t.and([t.is_not("organizer",i.id).toQuery(),t.does_not_contain_exact_words("invitees",i.email).toQuery()]).toQuery()},{type:"sys_holiday_entry"}]}),n),alwaysOnFilters:this.getAlwaysOnFilters(p),onPluginRendered:function(){var e=a.mainView.getSelectedPlugin();e instanceof m?(a.$(".sidebar").hide(),a.$el.removeClass("plugin-calendar"),a.$el.addClass("plugin-grid")):e instanceof g&&(a.$(".sidebar").show(),a.miniCalendar.calendar.updateSize(),a.$el.removeClass("plugin-grid"),a.$el.addClass("plugin-calendar"))},onCollectionUpdate:function(e){return a.mainView.getSelectedPlugin()instanceof g&&a.agendaView.updateEvents(a.selectedDate,a.getEventsForCurrentDate()),e()},plugins:[g,m],pluginsOptions:[{selectedDate:this.selectedDate,dateClick:function(e){d.onDateChanged(e.date,v)},onTodayClicked:function(){d.onDateChanged(r(),v),d.miniCalendar.goToDate(d.selectedDate)},eventClick:function(e){var t=e.event.extendedProps._originalEntity;d.showEntityCalendarView(t)},moreLinkClick:function(e){return d.showAllEventsCalendarView(e),e}},{enableDynamicColumns:!0,enableBatchExport:!0,enableBatchDelete:!0,enableDragColumns:!0,multiSelect:!0,onRowClicked:function(e){return c.navigateToUrlByModelType(e)},customColumnOptions:[{field:"typeText",caption:c.translateKey("type"),sort:"entity$",isSortable:!0},{field:"effectiveStartDate",caption:c.translateKey("effective_start_date"),sort:{_script:{script:{lang:"painless",id:"sort-calendar-collection"},type:"number"}},gridExportable:!1}]}]})},getAlwaysOnFilters:function(e){if(e){var t=o.getCalendarEntities();return o.queryMap(t,(function(t){if("sys_holiday_entry"!==t.entDef.entityType)return t.is("caseId",e)})).toQuery()}},locals:function(){return{showTitle:this.showTitle}},onRendered:function(){this.renderMainView(),this.renderMiniCalendar(),this.renderAgenda()},renderMiniCalendar:function(){var e=this.$("#mini-calendar");return this.addSubView(this.miniCalendar).render(e)},renderAgenda:function(){var e=this.$("#agenda");return this.addSubView(this.agendaView).render(e)},renderMainView:function(){var e=this.$("#main-view");return!!this.mainView&&this.addSubView(this.mainView).render(e)},onDateChanged:function(e,t){this.selectedDate=r(e);var i=this.mainView.getSelectedPlugin();i instanceof g&&(t===y&&i.goToDate(this.selectedDate),i.selectDate(this.selectedDate)),this.miniCalendar.selectDate(this.selectedDate),this.agendaView.updateEvents(this.selectedDate,this.getEventsForCurrentDate())},renderEntityCalendarView:function(e){var t=this,i=e.getEntityDefinition().entDef;e.clone().fetch({success:function(e){var n=new(i.calendarView())({model:e,onSave:function(){t.mainView.fetchCollection()}});t.addSubView(n).renderAsModal()}})},showEntityCalendarView:function(e){var t=this;if(e.getEntityDefinition().entDef.calendarView){var i=n("#agenda-modal-tmpl");a.isEmpty(i)||!0!==i.data()["bs.modal"].isShown?t.renderEntityCalendarView(e):(i.one("hidden.bs.modal",(function(){t.renderEntityCalendarView(e)})),i.modal("hide"))}},showAllEventsCalendarView:function(e){var t,i=e.date,n=null===(t=e.allSegs[0])||void 0===t?void 0:t.start,a=this,r=new d({currentDate:i,calendarEvents:a.getEventsForCurrentDate(n),eventClick:function(e){var t=e._originalEntity;a.showEntityCalendarView(t)}});a.addSubView(r).renderAsModal()},onRemove:function(){p.removeAllWarnings()}})},818065:(e,t,i)=>{"use strict";i(426099),i(423500),i(944114);var n=i(325425),a=i(247564),r=i(879176),o=i(40785),s=i(93216),l=i(939994);e.exports=n.extend({className:"case-action-history-tmpl",template:i(715787),caption:o.translateKey("action_history"),gridView:null,actionHistoryCollection:null,onInit:function(e){this._showAll=e&&e.showAll,this._print=e&&e.print,this.actionHistoryCollection=new a(null,{objectId:this.model.id,objectType:"sys/case",showCanceledCases:!0,includeChildAudits:!0})},onRendered:function(){var e={enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableBatchExport:!0,multiSelect:!0,onRowClicked:s.hasRole("view_rule")?function(e){return o.navigateTo("settings/workflow/rule/".concat(e.get("ruleId")))}:null};this._showAll&&(e.enablePager=!1,e.rowCountOptions=$appData.globalConfig.maxAuditPrintableRows),this._print&&(e.defaultRowCountOption=$appData.globalConfig.maxAuditPrintableRows,e.applyUserRowCount=!1),this.gridView=new r({model:this.model,configName:"case-action-history",collection:this.actionHistoryCollection,enableEntityFilters:!1,pluginsOptions:[e],condensedLayout:!0,staticFilters:this.getActionsStaticFilter()}),this.addSubView(this.gridView).render(this.$("#case-action-history-grid"))},getActionsStaticFilter:function(){var e={name:"action",options:[]};return l.getWorkflowActionEntities().forEach((function(t){var i=t.entityCanon,n=t.query(),a=o.translateKey({groupName:i,subgroupName:"general",key:"name"});e.options.push({text:i,translatedCaption:a,filter:n.is("actionType",i).toQuery()})})),[e]}})},679540:(e,t,i)=>{"use strict";i(944114),i(874423),i(21699),i(962062),i(428706),i(962010),i(327495),i(725440),i(134782);var n=i(274692),a=i(96190),r=i(947432),o=i(325425),s=i(40785),l=i(975640),d=i(426491),c=i(153976),u=i(427383),p=i(879176),f=i(771017),h=i(219531),m=i(995803),g=i(939994);e.exports=o.extend({selections:null,template:i(409869),caption:s.translateKey("activity"),showAllTab:!0,notFormEntities:["-/sys/note","-/sys/todo","-/sys/email","-/sys/appointment"],defaultFirstColumn:{title:s.translateKey("number"),value:"number",sort:"number"},onInit:function(e){var t=this;this.multiSelect=!!e&&e.multiSelect,this.onSelectionChanged=e?e.onSelectionChanged:void 0,this.showCreateButtons=!e||void 0===e.showCreateButtons||e.showCreateButtons,this.pagerEnabled=!e||void 0===e.pagerEnabled||e.pagerEnabled,this.lastChangedActivity=e&&e.lastChangedActivity?e.lastChangedActivity:null,this.subCategory=e&&e.subCategory?e.subCategory:null,this.formSubCategory=e&&e.formSubCategory?e.formSubCategory:null,this.resetSelection(),this.selectedActivities=[],e&&e.selectedActivities&&a.each(e.selectedActivities,(function(e){e&&t.selectedActivities.push(a.last(e.split("_")))})),e&&a.isBoolean(e.showAllTab)&&(this.showAllTab=e.showAllTab),e&&e.selectedItems&&(t.populateSelectedValuesByData(e.selectedItems),this.selectedItems=e?e.selectedItems:null)},rules:{displayAll:function(){return this.showAllTab}},locals:function(){return{model:this.model.attributes,customForms:s.getAllCustomForms()}},resetSelection:function(e){var t=this;"forms"===e?a.each(this.selections,(function(e,i){a.includes(t.notFormEntities,i)||(t.selections[i]={})})):this.selections={}},populateSelectedValuesByData:function(e){var t=this;a.each(e,(function(e,i){var n=e.get("entity$");t.selections[n]||(t.selections[n]={}),t.selections[n][i]=e}))},getSelectedItems:function(e){var t=this,i={};return"forms"===e?a.each(this.selections,(function(e,n){a.includes(t.notFormEntities,n)||(i=t.merge(i,e))})):a.each(this.selections,(function(e){i=t.merge(i,e)})),i},emailsGridColumns:[{title:s.translateKey("sender"),value:"senderName",sort:"senderName",width:"150px"},{value:"subject",sort:"subject",width:"150px"},{value:"body"},{value:"createdDate",sort:"createdDate",width:"150px"},{value:"count",title:s.translateKey("count"),width:"75px"}],allGridColumns:["createdDate",{caption:s.translateKey("type"),field:"typeText",sort:"entity$"},{caption:s.translateKey("category"),field:"category"},"responsible","details","status"],getNotesGrid:function(){var e=this;this.displayNewButton("new-note");var t=new p({model:e.model,configName:"case-notes",condensedLayout:!0,enableEntityFilters:!1,collection:new l(null,{caseId:this.model.id,showCanceledCases:!0}),buttons:[{caption:s.translateKey({groupName:"sys/note",subgroupName:"actions",key:"add"}),route:"/case/".concat(this.model.get("id"),"/note/new"),displayRule:"canAddNote",dataDisableRule:"disableForClosedCase"}],pluginsOptions:[{enableBatchExport:!0,enableBatchExternal:this.model.showExternalGridActions(),enableExternalRowActions:this.model.showExternalGridActions(),enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,condensedLayout:!0,selectedItems:this.selections["-/sys/note"],multiSelect:this.multiSelect,onRowClicked:function(e){return s.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.selections["-/sys/note"]=t.getSelectedItems(),e.onSelectionChanged&&e.onSelectionChanged()}}]});return t},getAppointmentsGrid:function(){var e=this;e.displayNewButton("new-appointment");var t=new p({model:e.model,configName:"case-appointments",condensedLayout:!0,enableEntityFilters:!1,collection:new d(null,{caseId:e.model.id,showCanceledCases:!0}),buttons:[{caption:s.translateKey({groupName:"sys/appointment",subgroupName:"actions",key:"add"}),route:"/case/".concat(e.model.get("id"),"/appointment/new"),displayRule:"canAddAppointment",dataDisableRule:"disableForClosedCase"}],pluginsOptions:[{enableBatchExport:!0,enableBatchExternal:this.model.showExternalGridActions(),enableExternalRowActions:this.model.showExternalGridActions(),enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,condensedLayout:!0,selectedItems:e.selections["-/sys/appointment"],multiSelect:e.multiSelect,onRowClicked:function(e){return s.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.selections["-/sys/appointment"]=t.getSelectedItems(),e.onSelectionChanged&&e.onSelectionChanged()}}]});return t},_filterByDate:function(e,t,i){return e.is(t,this._formatAsDateTime(i)).toQuery()},_filterByDateRange:function(e,t,i){return e.between(t,a.map(i,this._formatAsDateTime)).toQuery()},_filterByGreaterThanDate:function(e,t,i){return e.greater_than_or_equals(t,this._formatAsDateTime(i)).toQuery()},_filterByLaterDate:function(e,t){var i=[null,r().add(-1,"days")];return e.and([e.between(t,a.map(i,this._formatAsDateTime))]).toQuery()},_formatAsDateTime:function(e){return e?e.utc().toISOString():e},getTodosGrid:function(){var e=this;this.displayNewButton("new-todo");var t=new p({model:e.model,configName:"case-todos",condensedLayout:!0,enableEntityFilters:!1,collection:new c(null,{caseId:this.model.id,showCanceledCases:!0}),buttons:[{caption:s.translateKey({groupName:"sys/todo",subgroupName:"actions",key:"add"}),route:"/case/".concat(this.model.get("id"),"/to-do/new"),displayRule:"canAddTodo",dataDisableRule:"disableForClosedCase"}],pluginsOptions:[{enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,selectedItems:this.selections["-/sys/todo"],multiSelect:this.multiSelect,onRowClicked:function(e){return s.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.selections["-/sys/todo"]=t.getSelectedItems(),e.onSelectionChanged&&e.onSelectionChanged()}}]});return t},getEmailsGrid:function(){var e=this;this.displayNewButton("new-email");var t=g.get("sys/email").query(),i=new p({model:e.model,configName:"case-emails",condensedLayout:!0,enableEntityFilters:!1,collection:new u(null,{caseId:this.model.id,showCanceledCases:!0}),buttons:[{caption:s.translateKey({groupName:"sys/email",subgroupName:"actions",key:"add"}),route:"/case/".concat(this.model.get("id"),"/email/new"),displayRule:"canSendEmail",dataDisableRule:"disableForClosedCase"}],staticFilters:[{name:"view",options:[{text:"threads",filter:t.is("latestSent",!0).toQuery(),selected:!0},{text:"messages"}]}],pluginsOptions:[{enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,selectedItems:this.selections["-/sys/email"],multiSelect:this.multiSelect,onRowClicked:s.emailGridRowClickFn.bind(this),onSelectionChanged:function(){e.selections["-/sys/email"]=i.getSelectedItems(),e.onSelectionChanged&&e.onSelectionChanged()}}]});return i.collection.setGridViewByReference(i),this.gridView=i,i},getAllGrid:function(){var e=this,t=new p({configName:"case-all-grid",enableEntityFilters:!0,condensedLayout:!0,entityFilterPillView:!1,enableEntityFiltersMultiSelect:!0,collection:new f(null,{caseId:this.model.id,showCanceledCases:!0}),filterSortOptions:{sortProperty:"name"},pluginsOptions:[{columns:this.allGridColumns,enableDynamicColumns:!1,selectedItems:this.getSelectedItems(),multiSelect:!1,onRowClicked:function(e){return s.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.resetSelection();var i=t.getSelectedItems();e.populateSelectedValuesByData(i),e.onSelectionChanged&&e.onSelectionChanged()}}]});return t},getFormsGrid:function(){var e=this,t=this.getDataContainer(),i=a.map(s.getAllCustomForms(),(function(e){return"".concat(e.entity.base,"_").concat(e.entity.name)})),n=new t({model:e.model,configName:"case-forms-all-grid",condensedLayout:!0,collection:new h(null,{caseId:this.model.id,showCanceledCases:!0,entityNames:i}),enableEntityFilters:!0,entityFilterPillView:!1,enableEntityFiltersMultiSelect:!1,filterSortOptions:{sortProperty:"name",filterToSort:"form_type"},pluginsOptions:[{multiSelect:this.multiSelect,enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,enableExternalRowActions:!0,externalRowActionsByRow:!0,customColumnOptions:[{field:"typeText",caption:s.translateKey("type"),sort:"entity$",isSortable:!0}],selectedItems:this.getSelectedItems("forms"),onRowClicked:function(e){return s.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.resetSelection("forms");var t=n.getSelectedItems();e.populateSelectedValuesByData(t),e.onSelectionChanged&&e.onSelectionChanged()}}]});return n},getSubView:function(e,t){var i=null;switch(e){case"notes":(i=this.getNotesGrid()).caption=s.translateKey("notes");break;case"appointments":(i=this.getAppointmentsGrid()).caption=s.translateKey("sys_appointment");break;case"to-dos":(i=this.getTodosGrid()).caption=s.translateKey("todos");break;case"emails":(i=this.getEmailsGrid()).caption=s.translateKey("emails");break;case"all":(i=this.getAllGrid()).caption=s.translateKey("all");break;case"forms":this.formsGrid={viewName:t||e},(i=this.getFormsGrid()).caption=s.translateKey("forms"),this.formsGrid.view=i}return i},loadSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,a=t.formName,r=t.focus,o=n.Deferred();this.$("#add-buttons-container a").hide(),this.removeSubViews();var s=this.getSubView(e,a);if(s){var l=this.$('[data-navigation="'.concat(e,'"] a[role="tab"]')),d=l.attr("href"),c=this.$(d);m.hideTab(i.$currentActiveTab,i.$currentActiveTabContent),m.showTab(this,l,r),m.showContent(this,c),i.$currentActiveTab=l,i.$currentActiveTabContent=c,this.addSubView(s,{updatePageTitle:!0}).render(c).done((function(){o.resolveWith(this)}))}return this.$("#activity-subcategory li.active").removeClass("active"),this.$('#activity-subcategory li[data-navigation="'.concat(e,'"]')).addClass("active"),this.$("#activity-subcategory .forms-dropdown li.active").length>0&&this.$("#activity-subcategory .forms-dropdown").addClass("active"),o.promise()},events:{"click #activity-subcategory li[data-navigation]":"onNavigationClick",'keydown #case-activity-tabs a[role="tab"]:focus':"onKeyboardNavigation"},onKeyboardNavigation:a.throttle((function(e){if(!(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0)){var t=m.getTabsMap(this),i=m.getNextView(e.key,t);this.loadSubView(i)}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),merge:function(){for(var e={},t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return a.each(i,(function(t){a.each(t,(function(t,i){e[i]=t}))})),e},onNavigationClick:function(e){e.preventDefault();var t=n(e.currentTarget).attr("data-navigation");this.loadSubView(t)},displayNewButton:function(e){if(this.showCreateButtons&&!0!==this.model.get("canceled"))if("new-note"===e)this.$("#".concat(e)).show();else if("new-appointment"===e)this.$("#".concat(e)).show();else if("new-todo"===e)this.$("#".concat(e)).show();else if("new-email"===e)this.$("#".concat(e)).show();else{var t=a.transform(this.model.rules,(function(e,t,i){e[i.toLowerCase()]=t})),i=e.slice(4).replace(/-/g,"");t["canadd".concat(i)]?t["canadd".concat(i)].call(this.model)&&this.$("#".concat(e)).show():this.$("#".concat(e)).show()}},onRendered:function(){this.subCategory?this.loadSubView(this.subCategory||"all",{formName:this.formSubCategory,focus:!1}):-1!==a.indexOf(this.selectedActivities,"activity")||0===this.selectedActivities.length?this.showAllTab?this.loadSubView("all",{focus:!1}):this.loadSubView("notes",{focus:!1}):this.loadSubView(this.lastChangedActivity||"all",{focus:!1})},getDataContainer:function(){var e=this;return p.extend({onRemove:function(){e.formsGrid={}}})}})},791106:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(274692),r=i(325425),o=i(783118),s=i(879176),l=i(894944),d=i(40785),c=i(939994);e.exports=r.extend({className:"case-audit-tmpl",template:i(276251),caption:d.translateKey("audit"),gridView:null,summaryView:null,auditCollection:null,displayViewActivity:!1,_print:!1,_hideList:!1,onInit:function(e){e&&e.showAll&&(this._showAll=e.showAll),this._print=e&&e.print,this._hideList=e&&e.hideList,this.auditCollection=new o(null,{objectType:"sys/case",objectId:this.model.id,includeChildAudits:!0,showCanceledCases:!0,hideCaseItemNumberReference$:!0}),this.summaryView=new l({enabled:!1,collection:this.auditCollection}),e&&n.isBoolean(e.displayViewActivity)&&(this.displayViewActivity=e.displayViewActivity)},gridColumns:[{caption:d.translateKey("user"),field:"userId__name",width:"150px"},{caption:d.translateKey("action"),field:"action"},{caption:d.translateKey("changes"),field:"differences"},{caption:d.translateKey("reference"),field:"reference"},{field:"timestamp",width:"145px"}],onRendered:function(){var e={columns:this.gridColumns,enableDynamicColumns:!1,multiSelect:!1,disableRowCriteria:function(e){return!1===e.get("isCreated")||!0===e.get("isDeleted")},disableRowReason:function(e){return!0===e.get("isDeleted")?d.translateKey("deleted_disable_reason"):!1===e.get("isCreated")?d.translateKey("not_created_disable_reason"):""},onRowClicked:function(e){var t=e.get("url");if(t&&"sys/email"===e.get("objectType")){var i=new(d.getEntDef(e.get("objectType")).model())(e.get("entity"));i.get("emailThreadId")||i.set("emailThreadId",i.id),d.navigateToUrlByModelType(i)}else t&&d.navigateTo(t)}};this._showAll&&(e.enablePager=!1,e.rowCountOptions=-1);var t=[];this._print&&(e.defaultRowCountOption=$appData.globalConfig.maxAuditPrintableRows,e.applyUserRowCount=!1,t.push(this.addSubView(this.summaryView).render(this.$("#case-audit-exceeded-container"))));var i=c.get({base:"audit",name:"log"}).query();return this.gridView=new s({configName:"case-history-grid",condensedLayout:!0,collection:this.auditCollection,enableEntityFilters:!1,enableSearchFilter:!1,pluginsOptions:[e],filterOptions:{filterSelectedColumns:!0},staticFilters:[{name:"action",cssClass:"nav-pills-lg",options:[{text:"all",selected:!0===this.displayViewActivity},{text:"exclude_views",filter:i.is_not("action","load").toQuery(),selected:!this.displayViewActivity}]}]}),this._hideList||t.push(this.addSubView(this.gridView).render(this.$("#case-audit-container"))),a.when.apply(a,t).promise()}})},22741:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(858612),r=i(325425),o=i(687895),s=i(680553),l=i(40785),d=i(610421),c=i(896727),u=a({mandatory$:["cancelReason"]},$appData.validation.prefs);e.exports=r.extend({formConfigName:"case-cancel",features:{validation:!0},caseModel:null,navigateUrl:null,template:i(592860),events:{"click #save":"onSaveClickThrottled"},onInit:function(e){if(!e)throw new Error("Options Required");if(!e.caseModel)throw new Error("caseModel Required");this.caseModel=e.caseModel;var t=o.extend({validator:u});this.model=new t},onRendered:function(){d.ladda(this.$el,this.caseModel)},onSaveClickThrottled:n.throttle((function(){var e=this;this.model.validate(this.model.attributes)||this.caseModel.cancelCase(this.model.get("cancelReason"),(function(){c.info(c.getCrudMessage(e.caseModel,"canceled")),l.navigateTo("/cases")}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),_closeView:function(){s.remove(this)}})},808640:(e,t,i)=>{"use strict";i(428706),i(944114),i(202008),i(426099),i(16280),i(962062),i(250113),i(123792),i(962953),i(423500),i(874423),i(21699);var n=i(96190),a=i(274692),r=i(122268),o=i(40785),s=i(325425),l=i(591341),d=i(975760),c=i(995803),u=i(790097),p=i(610421),f=i(450048),h=i(381910),m=i(680553);e.exports=s.extend({loadedTabs:null,template:i(831509),className:"case-details-subcategory-selector-tmpl",caption:o.translateKey("details"),onInit:function(e){var t,i,a=this;this.loadedTabs=[];var r=l(),c=n.isFunction(r)?r():r;n.each(c,(function(e){var t=e,i=h.getTabFormConfig(t),r=i&&n.isEmpty(i.elements),l=i&&o.isPortalUser()&&!o.hasShowOnPortalFormElement(i,"case");if(!(r||l||a.model.isExternalForm()&&!1===t.showOnPortal)){var c;t.View||(t.View=o.createTabViewClass(s,t.formConfigName,t.caption,t.id)),c=t.Model?new t.View({model:new t.Model,caseModel:a.model}):new t.View({model:a.model});var u=a.loadedTabs.length,p=t.NavView||d,f="tab-".concat(t.id,"-").concat(u),m="tabpanel-".concat(t.id,"-").concat(u),g=new p({model:a.model,tab:t,tabId:f,tabPanelId:m});a.loadedTabs.push({id:t.id,tabId:f,tabPanelId:m,view:c,navView:g})}})),this.propagateValidation=e.propagateValidation||n.noop,this.firstSubcategoryView=(null===(t=this.getTabFromStateHistory())||void 0===t?void 0:t.id)||e.subCategory||(null===(i=this.loadedTabs[0])||void 0===i?void 0:i.id)},locals:function(){return{model:this.model.attributes,tabs:this.loadedTabs}},getCurrentSubView:function(){return this._currentSubView},loadSubView:function(e,t){var i=a.Deferred(),r=n.filter(this.loadedTabs,{id:e}),o=this;if(1!==r.length)throw new Error("View not found");o.loader.show();var s=r[0].view;if(!o._currentSubView||!1!==o.removeSubView(o._currentSubView)){var l=o.$('li[data-navigation="'.concat(e,'"] a[role="tab"]')),d=l.attr("href"),u=o.$(d);return c.hideTab(o.$currentActiveTab,o.$currentActiveTabContent),c.showTab(o,l,t),c.showContent(o,u),o.$currentActiveTab=l,o.$currentActiveTabContent=u,o._currentSubView=s,o.addSubView(s,{reference:"case-details-subcategory",updatePageTitle:!0}).render(u).done((function(){o.propagateValidation(),o.loader.hide(),i.resolveWith(this)})),s.delegateEvents(),o.$("#details-subcategory li.active").removeClass("active"),o.$('#details-subcategory li[data-navigation="'.concat(e,'"]')).addClass("active"),i.promise()}o.loader.hide()},events:{"click #details-subcategory li[data-navigation]":"onNavigationClick",'keydown #case-details-tabs a[role="tab"]:focus':"onKeyboardNavigation"},onBindEvents:function(){var e=this;n.each(this.loadedTabs,(function(t){t.view.on("captionChanged",(function(){e.onSubViewCaptionChanged(t)}))})),this.initializeStaleFormListener()},onUnbindEvents:function(){n.each(this.loadedTabs,(function(e){e.view.off("captionChanged")})),u.off(null,null,this)},onKeyboardNavigation:n.throttle((function(e){if(!(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0)){var t=c.getTabsMap(this),i=c.getNextView(e.key,t);this.loadSubView(i)}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onSubViewCaptionChanged:function(e){var t=n.isFunction(e.view.caption)?e.view.caption():e.view.caption;this.$('li[data-navigation="'.concat(e.id,'"] a')).html(n.escape(t))},onNavigationClick:n.throttle((function(e){e.preventDefault();var t=a(e.currentTarget).attr("data-navigation");this.loadSubView(t)}),$appData.globalConfig.buttonClickEventsThrottle),onRendered:function(){var e=this,t=this,i=a.Deferred();return r.parallel([function(t){e.loader=new f({overlay:!0}),e.addSubView(e.loader).render(e.$(".loader-container")).done(t)},function(t){e.renderTabs().then((function(){return t()}))}],(function(){t.loadSubView(t.firstSubcategoryView,!1).then((function(){return i.resolveWith(t)}))})),i.promise()},renderTabs:function(){var e=a.Deferred();return r.eachSeries(this.loadedTabs||[],this.renderTab.bind(this),(function(){e.resolve()})),e.promise()},renderTab:function(e,t){var i=this.$(".case-details-nav");this.addSubView(e.navView).render(i).then((function(){t()}))},initializeStaleFormListener:function(){var e=n.chain($appData.layoutRuleGroups).filter({entityName:"sys/case"}).map("id").value(),t=["form-layout-updated","dynamic-entity-translations-updated"];e.length>0&&t.push("form-layout-rule-groups-updated"),u.conditionalOn({eventNames:t,condition:function(t,i){var a=i.patchData;if(!a)return!0;switch(t){case"form-layout-updated":return n.find(a,(function(e){return!!e&&"sys/case"===e.entityName}));case"form-layout-rule-groups-updated":return n.intersection(e,n.keys(a)).length>0;case"dynamic-entity-translations-updated":return n.find(a,{groupName:"sys/case"});default:return!1}},callback:this.formUpdated},this)},disableAllFormFields:function(){var e=this.$("div[data-field-name] .form-control, div[data-field-name] fieldset");p.makeFieldDisabled(e)},rerenderTabs:function(e){var t=e.$buttonsToDisable,i=this,a=i.model.getDirtyFields(),r=n.pick(i.model.attributes,a);n.forEach(a,(function(e){var t=i.model.pickJoinData({attribute:e});n.assign(r,t)})),i.showMainLoader({overlay:!0}),i.model.fetch({success:function(){i.model.set(r),n.forEach(a,(function(e){return i.model.addDirtyField(e)})),i.remove(),i.removeSubViews(),i._currentSubView=null,i.initialize({}),i.render("#case-details-tab-content").done((function(){t.removeClass("disabled"),i.hideMainLoader()}))}})},validateStaleForm:function(e){var t=e.formConfigName?n.find($appData.layouts,{name:e.formConfigName}):n.find($appData.layouts,{id:e.formConfigId});return!t||t.lastUpdatedDate!==e.formLayout.lastUpdatedDate},formUpdated:function(e){var t=i(344427),n=this,r=this.getCurrentSubView();if(e["form-layout-updated"].patchData||n.validateStaleForm(r)){var s=r.isReadOnly(),l=r.isDirtied(),d=a("button:not([disabled]):not(#cancel):not(#delete)");d.addClass("disabled");var c={$buttonsToDisable:d};if(0!==n.$el.parent().length)if(s||n.disableAllFormFields(),n.rerenderTabs(c),!s&&l){var u=o.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_body"}),p=o.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_title"});t.display(u,{type:"information",title:p})}else{var f=o.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_form_reloaded"});t.display(f,{type:"notification"})}}else n.initializeStaleFormListener()},getTabFromStateHistory:function(){var e,t=null===(e=m.getByRef("main-view").stateHistory)||void 0===e?void 0:e.tabs;return n.isEmpty(t)?null:n.find(this.loadedTabs,(function(e){return t.includes(e.tabId)}))}})},766629:(e,t,i)=>{"use strict";i(428706),i(16280),i(874423),i(21699),i(962062),i(327495),i(725440),i(533110),i(250113),i(426099),i(202008),i(196135),i(95335),i(557034);var n=i(274692),a=i(96190),r=i(93216),o=i(325425),s=i(637527),l=i(40785),d=i(808640),c=i(679540),u=i(267763),p=i(428585),f=i(573679),h=i(18015),m=i(22741),g=i(275357),y=i(209779),v=i(995108),b=i(454568),w=i(525220),A=i(295981),C=i(680553),k=i(789694),x=i(344427),_=i(896727),E=i(939994),I=i(995803),S=i(436053),D=i(790097),F=i(712090),O=i(408219),B=i(45701),T=i(870182);e.exports=o.extend({dust:i(920192),template:i(208448),className:"case-details-tmpl readonly",caption:function(){return"".concat(l.translateKey("case")," ").concat(this.model.get("caseNumber"))},features:{validation:!0,dirtyFormHandling:!0,workflowFlags:!0,workflowTimeline:!0,enableFlags:!0,evaluateChildrenLayoutRuleGroups:!0,translatedTextWarning:!0},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.readonly,i=e.workflowId,n=e.enableCollapsibleHeader,a=void 0===n||n;!1===t?this.setReadOnly(!1):this.setReadOnly(!0),this.workflowId=i,this.enableCollapsibleHeader=a,this.headerCollapsedClass="collapsed",this.userPreferenceModel=new O},crumbs:function(){return[{title:l.translateKey("case"),url:"/cases"},{title:this.model.get("caseNumber")}]},navigateUrl:function(){return this.isReadOnly()?"/case/".concat(this.model.id):"/case/".concat(this.model.id,"/edit")},loadSubView:function(e,t,i){var r,o=this,s=n.Deferred(),m=a.extend(t,{model:o.model,propagateValidation:o._displayTooltips.bind(o)});switch(e){case"details":r=new d(m);break;case"activity":r=new c(m);break;case"calendar":r=new v(a.extend(t,{caseId:o.model.id}));break;case"parties":r=new u(m);break;case"files":r=new p(m);break;case"history":var g=a.extend({},m,{workflowId:o.workflowId});r=new h(g);break;case"summary":r=new f(m);break;default:throw new Error("View not found")}var y=C.getByRef("case-subcategory");y&&o.removeSubView(y);var b=o.$('li[data-navigation="'.concat(e,'"] a[role="tab"]')),w=b.attr("href"),A=o.$(w);return I.hideTab(o.$currentActiveTab,o.$currentActiveTabContent),I.showTab(o,b,i),I.showContent(o,A),o.$currentActiveTab=b,o.$currentActiveTabContent=A,o.subView=r,o.subViewName=e,o.addSubView(o.subView,{reference:"case-subcategory",updatePageTitle:!0,parentCaption:"".concat(l.translateKey("case")," ").concat(o.model.get("caseNumber"))}).render(A).done((function(){o._displayTooltips(),s.resolveWith(this)})),o.$("#case-subcategory-selector li.active").removeClass("active"),o.$('#case-subcategory-selector li[data-navigation="'.concat(e,'"]')).addClass("active"),s.promise()},rules:{casePurged:function(){return!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged")},isOwner:function(){return this.model.get("owner")===$appData.user.id},hasOwner:function(){return!!this.model.get("owner")},isClosed:function(){return!!this.model.rules.caseClosed.call(this.model)},canEditWhenClosed:function(){return this.model.rules.canEditWhenClosed.call(this.model)},isInvestigativeTeamMember:function(){return a.includes(this.model.get("investigativeTeamMembers"),$appData.user.id)},canEdit:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.rules.isOwner.apply(this,t),a=this.rules.isInvestigativeTeamMember.apply(this,t),o=!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged"),s=this.rules.isClosed.call(this);return(r.hasRole("edit_case_form")||r.hasRole("edit_case_form_as_owner")&&n||r.hasRole("edit_case_form_as_investigative_team_member")&&a)&&!o&&(!s||this.rules.canEditWhenClosed.call(this))},canChangeConfidentialField:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.rules.isOwner.apply(this,t),a=this.rules.isInvestigativeTeamMember.apply(this,t),o=!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged"),s=this.rules.isClosed.call(this);return!o&&(r.hasRole("edit_confidential_case_field")||r.hasRole("edit_confidential_case_field_as_owner")&&n||r.hasRole("edit_confidential_case_field_as_investigative_team_member")&&a)&&(!s||this.rules.canEditWhenClosed.call(this))},canMarkCaseAsDoNotPurge:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.rules.isOwner.apply(this,t),a=this.rules.isInvestigativeTeamMember.apply(this,t),o=!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged"),s=this.rules.isClosed.apply(this,t);return!o&&(r.hasRole("edit_exclude_from_purge")||r.hasRole("edit_exclude_from_purge_as_owner")&&n||r.hasRole("edit_exclude_from_purge_as_investigative_team_member")&&a)&&(!s||this.rules.canEditWhenClosed.call(this))},canViewTeam:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.rules.isOwner.apply(this,t),a=this.rules.isInvestigativeTeamMember.apply(this,t);return r.hasRole("view_case_team")||r.hasRole("view_case_team_as_owner")&&n||r.hasRole("view_case_team_as_investigative_team_member")&&a},caseCanceled:function(){return!0===this.model.get("canceled")},caseLockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canCopy:function(){return!0!==this.model.get("canceled")},canViewHistory:function(){return r.hasRole("view_case_history")},isOutcomeAssistantEnabled:function(){return!0===B.isEnabled("outcomeAssistant")}},locals:function(){var e=o.prototype.locals.call(this),t=this.model.getTeamSize();this.model.get("owner")&&(t=Math.max(t-1,0));var i=l.getSortedCustomForms({action:"create"}),n=!a.isEmpty(i);return a.extend(e,{cid:this.cid,model:this.model.attributes,formattedData:this.model.getFormattedData(),teamSizeOtherThanOwner:t,tombstoneConfig:this.insertCaptionsIntoHeader(A),emptyHeaderValue:"&ndash;",hasForms:n,customForms:i,enableCollapsibleHeader:this.enableCollapsibleHeader,isRecordSourceViewEnabled:B.isEnabled("recordSourceView")&&r.hasRole("view_source_data")})},insertCaptionsIntoHeader:function(e){var t=this;return a.map(e,(function(e){var i=e.caption?e.caption:{groupName:t.model.getEntityCanon(),subgroupName:"fields",key:e.field};return a.extend({},e,{caption:l.translateKey(i)})}))},displayContentSearchWarnings:function(){if($appData.indexAttachmentsEnabled){var e=E.get({base:"sys",name:"attachment"}),t=e.query(),i=e.query("es");x.removeAllWarnings();var r=new k;r.setRowCount(0),r.setSkipCount(0),r.setFilter({query:t.and([t.is("contentSearchable",!0),t.is("caseId",this.model.id)]).toQuery()}),r.fetch({success:function(){var e=$appData.globalConfig.maxSearchableFilesPerCase;if(r.total>=e){var t=l.translateKey("case_content_search_limit_passed");t=t.replace("{countLimit}",e),x.display(t,"warning")}}}),n.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/search/sys_attachment"),data:JSON.stringify({search:{query:i.is("caseId",this.model.id).toQuery(),aggs:{attachment_by_size:{terms:{field:"id",order:[{"qualified_files>total_size":"desc"}],size:1},aggs:{qualified_files:{filter:{terms:{"files.mimeType":$appData.esSupportedContentTypes}},aggs:{total_size:{sum:{field:"files.sizeBytes"}}}}}}}}}),dataType:"json",contentType:"application/json"}).done((function(e){if(a.get(e,"aggregations.attachment_by_size.buckets[0].qualified_files.total_size.value",0)>$appData.globalConfig.maxAttachmentSizeToIndex){var t="".concat(l.translateKey("files_too_big_for_content_search")," ").concat(l.formatSizeUnits($appData.globalConfig.maxAttachmentSizeToIndex));x.display(t,"warning")}}))}},events:{"click #edit":"onEditClick","click #case-header-container .collapse-control":"toggleHeaderCollapse","click .assign-case-owner":"onReAssignClick","click .reassign-case-owner":"onReAssignClick","click #cancel-case":"onCancelCaseClick","click #restore-case":"onRestoreCaseClick","click #allow-purge":"onAllowPurgeClick","click #do-not-purge":"onDoNotPurgeClick","click #copy-case":"onCopyCaseClick","click #forms":"onFormsClick","click #case-subcategory-selector li[data-navigation]":"onNavigationClick","click #save":"onSaveClickThrottled","click #cancel":"onCancelClick","click #print":"onPrintClick","click #addLink":"onCaseAddLinkClick","click #mark-confidential":"onMarkConfidentialClick","click #unmark-confidential":"onUnmarkConfidentialClick","click #transition":"onTransitionClick",'keydown #case-subcategory-selector a[role="tab"]:focus':"onKeyboardNavigation","click #record-source-view":"onRecordSourceViewClicked","click #submit-for-translation":"onSubmitForTranslationClicked","click #show-translated-text":"onShowTranslatedTextClicked","click #show-original-text":"onShowOriginalTextClicked"},onKeyboardNavigation:a.throttle((function(e){if(!(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0)){var t=I.getTabsMap(this),i=I.getNextView(e.key,t);this.loadSubView(i)}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onSaveClickThrottled:a.throttle((function(){var e=this,t=this;if(this.isSafeToLeaveDirtyInlines()){var i=!1;"Close"===this.model.get("action")&&(this.model.set("action",null),i=!0),this.model.save({lang:$appData.intakeTranslationLanguage},{success:function(){e.model.unlock(),e.setReadOnly(!0),e.updateUrl(),i&&e.model.set("action","Close"),_.info(_.getCrudMessage(t.model,"updated")),e.renderWorkflowTransitionsAndTimeline()}})}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onEditClick:function(){var e=this;this.model.lock((function(t,i){!0===i&&(e.setReadOnly(!1),e.updateUrl())}))},onCancelClick:function(){this.canRemove()&&this.cancel()},cancel:function(){this.model.reset(),this.model.unlock(),this.setReadOnly(!0),this.updateUrl(),this.clearErrors()},onPrintClick:function(){var e="/case/".concat(this.model.id,"/print");this.model.hasTranslationsApplied()&&(e="".concat(e,"/translated")),l.navigateTo(e)},onReAssignClick:function(){if(!this.model.validate(this.model.attributes)){var e=new y({caseModel:this.model});this.addSubView(e).renderAsModal(!1,{noUpdateFocus:!0})}},onAllowPurgeClick:function(){var e=this;this.model.save({excludeFromPurge:!1,lang:this.model.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:function(){_.info(_.getCrudMessage(e.model,"marked_allow_purge"))}})},onDoNotPurgeClick:function(){var e=this;this.model.save({excludeFromPurge:!0,lang:this.model.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null},{wait:!0,success:function(){_.info(_.getCrudMessage(e.model,"marked_do_not_purge"))}})},onMarkConfidentialClick:function(){var e=this;this.model.markConfidential((function(){_.info(_.getCrudMessage(e.model,"marked_confidential"))}))},onUnmarkConfidentialClick:function(){var e=this;this.model.unmarkConfidential((function(){_.info(_.getCrudMessage(e.model,"unmarked_confidential"))}))},onCancelCaseClick:function(){this.model.set("action","Cancel");var e=this.model.validate(this.model.attributes,{});if(a.isUndefined(e)){var t=new m({caseModel:this.model});this.addSubView(t).renderAsModal()}},onRestoreCaseClick:function(){var e=new g({caseModel:this.model});this.addSubView(e).renderAsModal()},onCopyCaseClick:function(){this.model.copyCase((function(e){var t=new s(e);l.navigateToUrlByModelType(t),l.navigateTo("/case/".concat(e.id))}))},onFormsClick:function(e){var t=this.$(".form-types"),i=this.$(".dropdown-icon i");t.hasClass("hidden")?(t.removeClass("hidden"),i.addClass("fa-caret-up"),i.removeClass("fa-caret-down")):(t.addClass("hidden"),i.addClass("fa-caret-down"),i.removeClass("fa-caret-up")),e.stopPropagation()},refreshFlags:function(){this.enableFlags({refreshList:!0})},onNavigationClick:function(e){e.preventDefault();var t=n(e.currentTarget).attr("data-navigation");this.loadSubView(t)},onBindEvents:function(){D.on("workflows-out-of-sync",this.parseEventData,this),this.on("workflowDataChanged",this.onWorkflowDataChanged,this),this.model.on("change:owner change:dateClosed change:investigativeTeamMembers",this.refreshFlags,this)},onUnbindEvents:function(){D.off(null,null,this),this.off("workflowDataChanged",this.onWorkflowDataChanged,this),this.model.off("change:owner change:dateClosed change:investigativeTeamMembers",this.refreshFlags,this)},onRendered:function(){var e=this;this.$headerContainer=this.$("#case-header-container"),this.$headerCollapseControl=this.$headerContainer.find("> .divider > .collapse-control"),this.isReadOnly()?this.model.checkLockedByAnotherUser():this.model.lock((function(t,i){(t||!1===i)&&(e.setReadOnly(!0),e.updateUrl())})),w({view:this,model:this.model,workflowName:"case-cancel-static-workflow",buttons:{"case-cancelled":this.$("#cancel-case").parent(),"case-restored":this.$("#restore-case").parent()}}),this.displayContentSearchWarnings();var t=new S({model:this.model,dataDisableRule:"caseCanceled"});this.addSubView(t).render(".star-btn-control").done(),this.applyHeaderCollapsedUserPreference()},onRemove:function(){b.unlockAll(),b.hideAllWarnings(),x.removeAllWarnings()},isFilterMatched:function(e){var t=new F({entDef:E.get("sys/case"),entData:this.model.attributes}),i=e.mustMatchAll?"and":"or",n=a.map(e.filterDenormalized,(function(e){return{operator:e.operator,field:e.fieldName,value:e.fieldValues}}));return t.evaluateOperations(n,i)},parseEventData:function(e){var t=e.entityName,i=e.entityRecordId,n=e.filter,r=e.entStatusField;if(!a.isEmpty(e)&&"sys/case"===t)if(i)i===this.model.id&&this.showSyncWorkflowsBanner();else if(r&&n){var o=this.isFilterMatched(n),s=this.model.get(r);(!s&&o||s&&!o)&&this.showSyncWorkflowsBanner()}},expandHeader:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$headerContainer&&(this.$headerContainer.removeClass(this.headerCollapsedClass),this.workflowTimelineView&&this.workflowTimelineView.expand(),this.$headerCollapseControl.attr("aria-label",l.translateKey("minimize")),e&&(this.userPreferenceModel.setPreference("caseHeaderCollapsed",0),$appData.userPreferences.caseHeaderCollapsed=0))},collapseHeader:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$headerContainer&&(this.$headerContainer.addClass(this.headerCollapsedClass),this.workflowTimelineView&&this.workflowTimelineView.collapse(),this.$headerCollapseControl.attr("aria-label",l.translateKey("expand")),e&&(this.userPreferenceModel.setPreference("caseHeaderCollapsed",1),$appData.userPreferences.caseHeaderCollapsed=1))},toggleHeaderCollapse:function(){this.$headerContainer.hasClass(this.headerCollapsedClass)?this.expandHeader():this.collapseHeader()},applyHeaderCollapsedUserPreference:function(){var e=this.userPreferenceModel.getPreference("caseHeaderCollapsed");1===e?this.collapseHeader(!1):0===e&&this.expandHeader(!1)},onWorkflowDataChanged:function(){this.applyHeaderCollapsedUserPreference()},onRecordSourceViewClicked:function(){this.recordSourceModalView=new T({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()},onSubmitForTranslationClicked:function(e){var t=this;x.display(l.translateKey("submit_for_translation_confirmation"),{type:"confirm",title:l.translateKey("submit_for_translation"),callback:function(i){if(i){n(e.currentTarget).parent('li[data-display-rule="canManuallyTranslate"]').hide(),n.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/translate/case/").concat(t.model.get("id")),contentType:"application/json",dataType:"json"});var a={entityName:l.translateKey({groupName:"sys/case",subgroupName:"general",key:"name"})};_.info(l.translateKey("record_sent_for_translation",{context:a}))}}})},onShowTranslatedTextClicked:function(){this.model.fetch({data:{lang:$appData.intakeTranslationLanguage}})},onShowOriginalTextClicked:function(){this.model.fetch()}})},428585:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(274692),r=i(789694),o=i(508611),s=i(325425),l=i(40785),d=i(899184),c=i(413995),u=i(520258);e.exports=s.extend({template:i(189204),caption:l.translateKey("files"),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.subCategory&&(this.subCategory=e.subCategory),this.options=e},getBatchActions:function(){return{caption:l.escapedTranslateKey({key:"share"}),onClicked:c.share.bind(this),aclRole:"create_shared_link"}},getSharedLinkRowAction:function(){return c.sharedLinkRowAction},onRendered:function(){var e=this,t=a.Deferred(),i=!this.model.rules.disableForClosedCase.call(this.model),s=n.map(n.cloneDeep(u),(function(t){return e.subCategory&&n.set(t,"default",e.subCategory===t.caption),"shared"===t.caption?(n.set(t,"gridOptions.collection",new o(null,n.defaults({},t.gridCollectionFilters,{caseId:e.model.id,showCanceledCases:!0}))),n.set(t,"gridOptions.onRowClicked",e.getSharedLinkRowAction())):n.set(t,"gridOptions.collection",new r(null,n.defaults({},t.gridCollectionFilters,{caseId:e.model.id,showCanceledCases:!0}))),t.gridOptions.gridButtons&&n.map(t.gridOptions.gridButtons,(function(t){return t.route||n.set(t,"route","/case/".concat(e.model.get("id"),"/file/new")),t})),t.gridOptions.addShareFileBatch&&i&&n.set(t,"gridOptions.batchButtons",[e.getBatchActions()]),n.set(t,"gridOptions.enableBatchExternal",e.model.showExternalGridActions()),n.set(t,"gridOptions.enableExternalRowActions",e.model.showExternalGridActions()),t})),l=new d(n.defaults({},this.options,{model:this.model,tabs:s,navPillSize:"sm",tabUnderline:!0}));return this.addSubView(l).render(this.$(".tabs-container")).done(t.resolve),t.promise()}})},894944:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(325425),r=i(637527).extend({onInit:function(e){var t=this,i=n.has(e,"aggregations.actions.actions.buckets")&&n.isArray(e.aggregations.actions.actions.buckets),a=n.has(e,"aggregations.users.users.buckets")&&n.isArray(e.aggregations.users.users.buckets),r=e.enabled,o=$appData.globalConfig.maxAuditPrintableRows,s=e&&e.total?parseInt(e.total,10)-o:0;if(this.set({enabled:r,remaining:s,save:0,load:0,remove:0}),i){var l=n.map(e.aggregations.actions.actions.buckets,(function(e){var t={};return t[e.key]=e.doc_count,t}));n.each(l,(function(e){t.set(e)})),this.unset("actions")}a&&this.set({users:e.aggregations.users.users.buckets.length})}});e.exports=a.extend({template:i(593633),enabled:!1,_collection:null,onInit:function(e){this.enabled=e.enabled,this._collection=e.collection},locals:function(e){var t=this;t._collection&&t._collection.fetch({success:function(){var i=new r({enabled:t.enabled,aggregations:t.collection.aggregations,total:t.collection.total});e({model:i.attributes})}})}})},18015:(e,t,i)=>{"use strict";var n=i(40785),a=i(791106),r=i(929079),o=i(818065),s=i(687895),l=i(409);e.exports=l.extend({className:"case-audit-tmpl",Model:s,template:i(679126),caption:n.translateKey("audit"),keyboardNavigation:!0,subcategoryViews:{audit:a,workflowHistory:r,actionHistory:o},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.prototype.onInit.call(this,e),this.subCategory=e.subCategory},onRendered:function(){this.parentCaption=this.caption,this._loadSubcategoryView(this.subCategory||"audit",this.options)}})},959279:(e,t,i)=>{"use strict";i(18107),i(967357),i(327495),i(725440);var n=i(96190),a=i(975760),r=i(975877),o=i(40785),s=i(610421);e.exports=a.extend({template:i(384998),className:"case-link-nav-tmpl",onInit:function(e){return this.model.on("change:_totalLinks change:_linksCreatedAfterGeneratingCaseSuggestions",this.refreshSuggestedLinksCount.bind(this)),this.checkSuggestions(),a.prototype.onInit.call(this,e)},locals:function(){var e=a.prototype.locals.call(this);return n.extend({},e,{message:this.message,isMarkedOrPurged:!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged")})},checkSuggestions:function(){var e=this;o.checkSuggestions(this.model,r,"sys/case",(function(t,i){if(t)throw t;var n,a=i.totalLinks.at(0);a&&a.get("entity1Id")===e.model.id?n=a.get("entity1Id__lastSnapshotGenerationDate"):a&&a.get("entity2Id")===e.model.id&&(n=a.get("entity2Id__lastSnapshotGenerationDate")),e.model.set("_totalLinks",i.totalLinks.total),n!==e.model.get("lastSnapshotGenerationDate")?e.model.set({lastSnapshotGenerationDate:n,_linksCreatedAfterGeneratingCaseSuggestions:0}):e.model.set("_linksCreatedAfterGeneratingCaseSuggestions",i.linksCreatedAfterGeneratingCaseSuggestions.total||0)}))},refreshSuggestedLinksCount:function(){var e,t=this.model.get("_totalLinks");if(this.model.get("_linksCreatedAfterGeneratingCaseSuggestions")>0)e=o.translateKey("link_partial_suggestion_warning_no_link");else if(t>0){e=o.translateKey("found_possible_links");var i=1===t?o.translateKey("_link"):o.translateKey("_links");e=(e=e.replace("{totalLinks}",t)).replace("{links}",i)}this.message=e,this.render()},onRendered:function(){s.tooltip(this.$el,{container:"body"})}})},975760:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({tagName:"li",template:i(478965),attributes:{role:"presentation"},onInit:function(e){this.tab=e.tab,this.tabId=e.tabId,this.tabPanelId=e.tabPanelId,this.$el.attr("data-navigation",e.tab.id)},locals:function(){return{caption:this.tab.caption,displayRule:this.tab.displayRule,tabPanelId:this.tabPanelId,tabId:this.tabId}}})},267763:(e,t,i)=>{"use strict";var n=i(325425),a=i(335987),r=i(879176),o=i(40785),s=i(186360);e.exports=n.extend({template:i(429934),caption:o.translateKey("parties"),selectedItems:null,onInit:function(e){this.multiSelect=!!e&&e.multiSelect,this.showCreateButtons=!e||void 0===e.showCreateButtons||e.showCreateButtons,this.pagerEnabled=!e||void 0===e.pagerEnabled||e.pagerEnabled,this.onSelectionChanged=e?e.onSelectionChanged:void 0,this.selectedItems=e?e.selectedItems:{}},getSelectedItems:function(){return this.selectedItems},onRendered:function(){var e=this;if(!s.evaluate("displayParty",e,e.model)){var t=e.model.id;o.navigateTo("/case/".concat(t))}var i=new r({model:e.model,configName:"case-parties",condensedLayout:!0,collection:new a(null,{caseId:this.model.id,showCanceledCases:!0}),enableEntityFilters:!1,buttons:[{caption:o.translateKey({groupName:"sys/party",subgroupName:"actions",key:"add"}),route:"/case/".concat(this.model.get("id"),"/party/new"),displayRule:"canAddParty && displayParty",dataDisableRule:"disableForClosedCase"}],pluginsOptions:[{enableBatchExport:!0,enableBatchExternal:this.model.showExternalGridActions(),enableExternalRowActions:this.model.showExternalGridActions(),enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,multiSelect:this.multiSelect,pagerEnabled:this.pagerEnabled,selectedItems:this.selectedItems,onRowClicked:function(e){o.navigateToUrlByModelType(e)},onSelectionChanged:function(){e.selectedItems=i.getSelectedItems(),e.onSelectionChanged&&e.onSelectionChanged()}}]});this.addSubView(i).render(this.$("#parties-grid"))}})},209779:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280),i(250113),i(426099);var o=i(96190),s=i(858612),l=i(274692),d=i(402193),c=i(325425),u=i(687895),p=i(680553),f=i(40785),h=i(610421),m=i(233518),g=i(896727),y=i(344427);i(900615),i(440389),e.exports=c.extend({caseIds:null,caseModel:null,callbackUrl:null,groupFilter:null,className:"case-reassign-tmpl",formConfigName:"case-reassign",template:i(671998),isCompleted:!1,features:{validation:!0},onInit:function(e){var t=this._validationRules(),i=s(t,$appData.validation.prefs),n=u.extend({validator:i});if(this.model=new n,!e)throw new Error("Options Required");if(e.caseModel)this.caseModel=e.caseModel,this.model.set("caseType",this.caseModel.get("caseType")),this.model.set("owner",this.caseModel.get("owner")),this.model.set("reassignReason",this.caseModel.get("reassignReason"));else{if(!e.caseIds||!o.isArray(e.caseIds))throw new Error("Invalid Case");this.caseIds=e.caseIds}e.callbackUrl&&(this.callbackUrl=e.callbackUrl),e.groupFilter&&(this.groupFilter=e.groupFilter),this.isStaticBackdrop=!0===e.staticBackdrop,this.reassigning=!!this.model.get("owner")},rules:{hasCaseOwner:function(){return!!this.model.get("owner")}},events:{"click #save":"onSaveClickThrottled"},locals:function(){return r(r({},c.prototype.locals.call(this)),{},{isStaticBackdrop:this.isStaticBackdrop})},onRendered:function(){this.ownerSelectize=this.$("input[name=owner]")[0].selectize,this.model.get("owner")&&this.setSelectizeCurrentOwner(),h.ladda(this.$el,this.caseModel)},onSaveClickThrottled:o.throttle((function(){var e=this;function t(t){var i=t.responseJSON.valmap?m.makeHumanReadable({error:t.responseJSON,entityType:"sys/case"}):f.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:t.responseJSON.message});y.display(i,{type:"error",modal:!1,showTitle:!1,container:e.$el.find("#messages-container")}),t.weAlreadyPreviouslyHandledThis=!0}var i=this.$el.find(".ladda-button");if(y.removeAllErrors(),!this.model.validate(this.model.attributes)){var n=this._getFieldsToReassign();if(this.caseModel)i.ladda({model:this.caseModel,action:"save"}),this.caseModel.save(r(r({},n),{},{lang:this.caseModel.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null}),{wait:!0,validate:!1,success:function(){var t=e.reassigning?"reassigned":"assigned";g.info(g.getCrudMessage(e.caseModel||e.model,t)),e.isCompleted=!0,e._closeView()},error:function(e,i,n){t(i)}});else if(o.isArray(this.caseIds)){var a=d.create(i[0]);a.start(),n.cases=this.caseIds;var s="".concat($appData.globalConfig.apiRoot,"/case/reassign/batch");l.post(s,n).done((function(t){a.stop(),function(t){if(e.isCompleted=!0,e._closeView(),t.failures&&t.failures.length>0)y.display(f.translateKey({groupName:"sys/case",subgroupName:"actions",key:"batched_reassign"}),{type:"information",confirmCaption:"confirm",title:f.translateKey({groupName:"sys/case",subgroupName:"actions",key:"batched_reassign_title"})});else{var i=e.reassigning?"reassigned":"assigned";g.info(g.getCrudMessage(e.caseModel||e.model,i))}}(t)})).fail((function(e){a.stop(),t(e)}))}}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRemove:function(){!0===this.isCompleted?this.trigger("reassigned"):this.trigger("remove")},setSelectizeCurrentOwner:function(){var e=this.caseModel.get("owner"),t=this.ownerSelectize.getOption(e);o.isEmpty(t)&&this.ownerSelectize.addOption({id:e,name:this.caseModel.get("owner__name")}),this.ownerSelectize.setValue(e,!0)},_closeView:function(){this.callbackUrl?f.navigateTo(this.callbackUrl):p.remove(this)},_getFieldsToReassign:function(){return{owner:this.model.get("owner"),reassignReason:this.model.get("reassignReason")||null}},_validationRules:function(){return{mandatory$:[]}}})},361384:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(879176),r=i(87876),o=i(975877),s=i(680240),l=i(556395),d=i(40785),c=i(521239),u=i(698673),p=i(163143);e.exports=n.extend({template:i(100857),caption:d.translateKey("related_people"),relatedPeopleGrid:null,caseModel:null,acknowledgedLinkCollection:null,features:{validation:!0},className:"case-related-people-tmpl",onInit:function(e){var t=this,i=this;if(!e&&!e.caseModel)throw Error("Case Model Required");this.caseModel=e.caseModel,this.model=new l({entityId:this.caseModel.id}),this.acknowledgedLinkCollection=new o(null,{entityId:this.caseModel.id}),this.acknowledgedLinkCollection.setFilter(this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/person")),this.relatedPersonGridOptions={model:i.caseModel,configName:"links-between-case-and-person",condensedLayout:!0,collection:this.acknowledgedLinkCollection,enableEntityFilters:!1,alwaysOnFilters:this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/person"),buttons:[{caption:d.translateKey("link_person"),onClicked:this.onAddLinkClick.bind(this),aclRole:"create_manual_link",displayRule:"canAddCaseLink"}],pluginsOptions:[{enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,fetchOnRender:!0,multiSelect:!0,printing:e.printing,batchButtons:[{caption:d.translateKey("delete"),aclRole:"remove_manual_link",onClicked:function(e,i){return c.prototype.onBatchDelete.call(t.relatedPeopleGrid,e,i)}}],onRowClicked:function(e){new p({caseModel:i.caseModel,linkModel:e}).on("link-updated",i.refreshLinksGrid,i),e.on("link-updated",i.refreshLinksGrid,i);var t=new u({model:e});i.addSubView(t).renderAsModal()}}]},this.relatedPeopleGrid=this.getRelatedPeopleGrid()},getRelatedPeopleGrid:function(){return new a(this.relatedPersonGridOptions)},locals:function(e){return{model:this.caseModel?this.caseModel.attributes:{}}},onAddLinkClick:function(){var e=this,t=new r({entityLinkingTo:{base:"sys",name:"person"},collection:new s,gridName:"search-result-person",customPlaceholderKey:"select_person_to_continue",template:i(392141),model:new l({entity1Id:this.model.get("entityId"),entity1Type:"sys/case",entity2Type:"sys/person"}),alwaysIncludeSelectedFields:["personName"],callback:function(){e.refreshLinksGrid()}});this.addSubView(t).renderAsModal()},refreshLinksGrid:function(){this.relatedPeopleGrid.fetchCollection()},onRendered:function(){return this.addSubView(this.getRelatedPeopleGrid()).render(this.$("#cases-related-people-grid"))}})},10314:(e,t,i)=>{"use strict";i(16280),i(426099),i(327495),i(725440),i(18107),i(967357);var n=i(96190),a=i(93216),r=i(325425),o=i(879176),s=i(521239),l=i(87876),d=i(975877),c=i(205260),u=i(556395),p=i(40785),f=i(939994),h=i(896727),m=i(131485),g=i(698673),y=i(163143);e.exports=r.extend({template:i(174751),caption:p.translateKey("related_cases"),relatedCasesGrid:null,caseModel:null,acknowledgedLinkCollection:null,features:{validation:!0},className:"case-related-tmpl",events:{"click .generate-links":"onGenerateLinksClick","click #view-suggested-links":"onViewSuggestedLinks"},onInit:function(e){var t,i=this,r=this;if(!e&&!e.caseModel)throw new Error("Case Model Required");this.caseModel=e.caseModel,this.model=new u({entityId:this.caseModel.id}),this.acknowledgedLinkCollection=new d(null,{entityId:this.caseModel.id}),this.acknowledgedLinkCollection.setFilter(this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/case")),this.caseModel.on("change:_totalLinks change:_linksCreatedAfterGeneratingCaseSuggestions",this.refreshSuggestedLinksCount.bind(this)),(a.hasRole("remove_manual_link")||a.hasRole("remove_suggested_link"))&&(t=[{caption:p.translateKey("delete"),onClicked:function(e,t){var r=null,o=n.some(e,(function(e){return"Manual"===e.get("type")})),l=n.some(e,(function(e){return"Suggested"===e.get("type")}));if(o&&!a.hasRole("remove_manual_link")?r="remove_manual_link_permission_denied":l&&!a.hasRole("remove_suggested_link")&&(r="remove_suggested_link_permission_denied"),r)return h.error(p.translateKey({groupName:"errors",subgroupName:"general",key:r})),void t();s.prototype.onBatchDelete.call(i.relatedCasesGrid,e,t)}}]),this.relatedCasesGridOptions={model:r.caseModel,configName:"main-links",condensedLayout:!0,collection:this.acknowledgedLinkCollection,enableEntityFilters:!1,alwaysOnFilters:this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/case"),buttons:[{caption:p.translateKey("suggest_links"),onClicked:this.onGenerateLinksClick.bind(this),disabled:!0===this.caseModel.get("currentlyGeneratingLinkSuggestions"),displayRule:"canSuggestLinks"},{caption:p.translateKey("related_cases_link_case"),onClicked:this.onAddLinkClick.bind(this),aclRole:"create_manual_link",displayRule:"canAddCaseLink"}],pluginsOptions:[{enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,fetchOnRender:!0,batchButtons:t,printing:e.printing,onRowClicked:function(e){var t,i=new y({caseModel:r.caseModel,linkModel:e});i.on("link-updated",r.refreshLinksGrid,r),"Suggested"!==e.get("type")?(e.on("link-updated",r.refreshLinksGrid,r),t=new g({model:e})):(i.edit(),t=new m({model:i})),r.addSubView(t).renderAsModal(!1,{preventMultipleModals:!0})}}]},this.relatedCasesGrid=this.getRelatedCasesGrid()},getRelatedCasesGrid:function(){return new o(this.relatedCasesGridOptions)},locals:function(e){return{model:this.caseModel?this.caseModel.attributes:{}}},onAddLinkClick:function(){var e=this,t=this.caseModel.id,n=new l({entityLinkingTo:{base:"sys",name:"case"},gridName:"list-cases",collection:new c,customPlaceholderKey:"select_case_to_continue",template:i(59715),model:new u({entity1Id:this.model.get("entityId"),entity1Type:"sys/case",entity2Type:"sys/case"}),alwaysOnFilter:this._getExcludeLinkFilter(t),callback:function(){e.refreshLinksGrid()}});this.addSubView(n).renderAsModal()},onGenerateLinksClick:function(){var e=this,t=new d(null,{entityId:this.caseModel.id});t.setRowCount(1),t.setFilter(t.getSuggestedLinksFilter("sys/case")),t.on("reset",(function(){e.caseModel.set("_totalLinks",this.total),e.caseModel.set("_linksCreatedAfterGeneratingCaseSuggestions",0)}));var i=new y({caseModel:e.caseModel,linkCollection:t});i.on("link-updated",e.refreshLinksGrid,e),i.fetch({timeout:$appData.globalConfig.linkSuggestTimeout});var n=new m({model:i});e.addSubView(n).renderAsModal()},onViewSuggestedLinks:function(){var e=this;if(!e.loadingSuggestedLinks){e.loadingSuggestedLinks=!0;var t=new d(null,{entityId:this.caseModel.id});t.setRowCount(1),t.setFilter(t.getSuggestedLinksFilter("sys/case"));var i=new y({caseModel:e.caseModel,linkCollection:t});i.showSummary=!1,i.on("link-updated",e.refreshLinksGrid,e);var n=new m({model:i});e.addSubView(n).renderAsModal(),t.on("reset",(function(){e.caseModel.set("_totalLinks",this.total),0===this.total&&e.caseModel.set("_linksCreatedAfterGeneratingCaseSuggestions",0)})),t.fetch({reset:!0}).then((function(){t.total>0?i.suggest():i.summarize(),e.loadingSuggestedLinks=!1}))}},refreshSuggestedLinksCount:function(){var e,t=this.caseModel.get("_totalLinks");if(this.caseModel.get("_linksCreatedAfterGeneratingCaseSuggestions")>0)e=a.hasRole("create_suggested_link")?(e=p.escapedTranslateKey("link_partial_suggestion_warning")).replace("{here}",'<a data-route="#" class="generate-links">'.concat(p.escapedTranslateKey("_here"),"</a>")):p.escapedTranslateKey("link_partial_suggestion_warning_no_link");else if(t>0){e=p.escapedTranslateKey("found_possible_links");var i=1===t?p.escapedTranslateKey("_link"):p.escapedTranslateKey("_links");e=(e=e.replace("{totalLinks}",t)).replace("{links}",i)}e?(this.$("#suggested-link-message").html(e),this.$("#link-suggestions").show()):this.$("#link-suggestions").hide()},refreshLinksGrid:function(){this.acknowledgedLinkCollection.fetch({reset:!0})},checkSuggestions:function(){var e=this;p.checkSuggestions(this.caseModel,d,"sys/case",(function(t,i){if(t)throw t;var n,a=i.totalLinks.at(0);a&&a.get("entity1Id")===e.caseModel.id?n=a.get("entity1Id__lastSnapshotGenerationDate"):a&&a.get("entity2Id")===e.caseModel.id&&(n=a.get("entity2Id__lastSnapshotGenerationDate")),e.caseModel.set("_totalLinks",i.totalLinks.total),n!==e.caseModel.get("lastSnapshotGenerationDate")?e.caseModel.set({lastSnapshotGenerationDate:n,_linksCreatedAfterGeneratingCaseSuggestions:0}):e.caseModel.set("_linksCreatedAfterGeneratingCaseSuggestions",i.linksCreatedAfterGeneratingCaseSuggestions.total||0)}))},onRendered:function(){var e=!!this.caseModel.get("pendingPurgeDate")||!!this.caseModel.get("datePurged");e||!0===this.model.get("canceled")||!1!==this.model.get("currentlyGeneratingLinkSuggestions")||this.checkSuggestions();var t=this.addSubView(this.getRelatedCasesGrid());return e||this.refreshSuggestedLinksCount(),t.render(this.$("#cases-related-grid"))},_getExcludeLinkFilter:function(e){return f.get({base:"sys",name:"case"}).query().is_not("id",e).toQuery()}})},275357:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(274692),r=i(858612),o=i(325425),s=i(687895),l=i(680553),d=i(610421),c=i(896727),u=r({mandatory$:["restoreReason"]},$appData.validation.prefs);e.exports=o.extend({formConfigName:"case-restore",caseModel:null,navigateUrl:null,template:i(58708),features:{validation:!0},events:{"click #save":"onSaveClickThrottled"},onInit:function(e){if(!e)throw new Error("Options Required");if(!e.caseModel)throw new Error("caseModel Required");this.caseModel=e.caseModel;var t=s.extend({validator:u});this.model=new t},onRendered:function(){d.ladda(this.$el,this.caseModel)},onSaveClickThrottled:n.throttle((function(){var e=this;this.model.validate(this.model.attributes)||this.caseModel.restoreCase(this.model.get("restoreReason"),(function(){a(".case-canceled").removeClass("case-canceled"),c.info(c.getCrudMessage(e.caseModel,"restored")),e._closeView()}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),_closeView:function(){l.remove(this)}})},867195:(e,t,i)=>{"use strict";i(16280),i(327495),i(328543),i(123792),i(426099),i(531415),i(747764),i(962953),i(423500),i(428706),i(944114),i(250113),i(962062);var n=i(96190),a=i(325425),r=i(40785);e.exports=a.extend({className:"case-submit-context-rule",template:i(261427),onInit:function(e){var t=e.model,i=e.conditionType,n=e.ruleResults;if(!t)throw new Error("model is missing.");this.ruleResults=n||[],this.conditionType=i||{},this.model=t,this.entDef=this.model.getEntityDefinition(),this.matchAll=[],this.matchAny=[],this.matchAllSet=new Set},locals:function(){this.aggregateResults();var e=this.conditionType.overallResultFailed;return{type:this.conditionType.type,hasMatchAny:!n.isEmpty(this.matchAny),hasMatchAll:!n.isEmpty(this.matchAll),matchAll:{conditionFailed:e,conditionStatus:e?"condition-result-fail":"condition-result-pass",conditionStatusLabel:e?r.escapedTranslateKey("criteria_not_met"):r.escapedTranslateKey("criteria_met"),matchAllEntityInfo:n.sortBy(this.matchAll,"translation"),matchAllTranslation:this.getTranslationKey(this.conditionType,{mustMatchAll:!0})},matchAny:this.matchAny}},aggregateResults:function(){var e=this,t=this.conditionType,i=t.type,a=t.conditionTypes,r=t.overallResultFailed;n.forEach(a,(function(t){var n=t.id,a=t.typeData.mustMatchAll,o=e.entDef.entityEvaluators[i],s=e.getConditionResultbyId(n),l=o.getContextInfo({conditionType:t});if(s){var d=s.additionalData,c=void 0===d?{}:d,u=s.failed;r&&!u||e.getEntityInfo(l,c,u,a)}}))},getEntityInfo:function(e,t,i,a){var o=this,s=[];n.forEach(e,(function(e){var l=e.translationInfo,d=e.inactiveEntity,c=e.entityCanon,u=r.translateKey(l),p=t[c];if(!(n.isNil(p)||a&&i===p))if(a){var f="".concat(u,"_").concat(d);o.matchAllSet.has(f)||(o.matchAllSet.add(f),o.matchAll.push({translation:u,inactiveEntity:d}))}else s.push({translation:u,inactiveEntity:d})})),a||this.updateMatchAny(s,i)},updateMatchAny:function(e,t){var i=this.getTranslationKey(this.conditionType,{mustMatchAll:!1},t),a=t?"condition-result-fail":"condition-result-pass",o=t?r.escapedTranslateKey("criteria_not_met"):r.escapedTranslateKey("criteria_met");this.matchAny.push({conditionFailed:t,matchAnyTranslation:i,conditionStatus:a,conditionStatusLabel:o,matchAnyEntityInfo:n.sortBy(e,"translation")})},getConditionResultbyId:function(e){return n.chain(this.ruleResults).map("conditionResponse").flatten().find({id:e}).value()},getTranslationKey:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.overallResultFailed,a=e.type,o=e.translationKeyInfo;i||(i=n);var s=o.groupName,l=o.subgroupName,d=o.key,c=this.entDef.entityEvaluators[a];return c&&c.getAlternateCaption&&(d=c.getAlternateCaption({typeData:t},i)),r.translateKey({groupName:s,subgroupName:l,key:d})}})},304656:(e,t,i)=>{"use strict";i(16280),i(426099);var n=i(274692),a=i(402193),r=i(325425),o=i(40785),s=i(843401),l=i(450048);e.exports=r.extend({template:i(907350),className:"case-submit-modal-tmpl",features:{validation:!0},events:{"click #confirm":"onConfirmClicked"},locals:function(e){var t=this.hasFailedConditions?o.translateKey("add_forms"):o.translateKey({groupName:"portal",subgroupName:"report_online",key:"confirmation_modal_title"});e({confirmName:this.hasFailedConditions?o.translateKey("case_submit_button"):o.translateKey("case_confirmation_modal_confirm"),cancelName:this.hasFailedConditions?o.translateKey("case_cancel_button"):o.translateKey("case_confirmation_modal_cancel"),title:t,hasValidationError:this.hasFailedConditions,description:this.ruleResults.length<1?o.translateKey("confirmation_modal_body"):null})},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.model,i=e.onConfirmClick,n=e.ruleResults;if(!t)throw new Error("model is required");if(!i||"function"!=typeof i)throw new Error("Invalid onConfirmClick");this.model=t,this.onConfirmClick=i,this.ruleResults=n||[],this.hasFailedConditions=this.ruleResults.some((function(e){return!e.validationPasses}))},onRendered:function(){var e=this;this.loader=new l,this.addSubView(this.loader).render(this.$(".loader-container")).done((function(){e.renderConditionsView()}))},renderConditionsView:function(){var e=this;this.loader.show({overlay:!0});var t=n.Deferred();if(this.ruleResults.length<1)return this.loader.hide(),t.resolve();var i=new s({model:this.model,ruleResults:this.ruleResults}),a=this.$(".conditions-container");return this.addSubView(i).render(a).done((function(){e.loader.hide(),t.resolve()})).fail((function(){e.loader.hide(),t.reject()})),t},onConfirmClicked:function(){var e=this.$("#confirm");a.create(e[0]).start(),this.onConfirmClick()}})},843401:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){a=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function p(e,t,i,n){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),s=new B(n||[]);return o(r,"_invoke",{value:S(e,i,s)}),r}function f(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function A(){}var C={};u(C,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(T([])));x&&x!==i&&r.call(x,l)&&(C=x);var _=A.prototype=b.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(a,o,s,l){var d=f(e[a],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==n(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(d.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(r,r):r()}})}function S(t,i,n){var a=h;return function(r,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===r)throw o;return{value:e,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var l=D(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var d=f(t,i,n);if("normal"===d.type){if(a=n.done?y:m,d.arg===v)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=y,n.method="throw",n.arg=d.arg)}}}function D(t,i){var n=i.method,a=t.iterator[n];if(a===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,D(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var r=f(a,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,v;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var i=t[l];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function i(){for(;++a<t.length;)if(r.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=A,o(_,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(I.prototype),u(I.prototype,d,(function(){return this})),t.AsyncIterator=I,t.async=function(e,i,n,a,r){void 0===r&&(r=Promise);var o=new I(p(e,i,n,a),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),u(_,c,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,a){return s.type="throw",s.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(l&&d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function r(e,t,i,n,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}i(703362),i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(366412),i(978125),i(704731),i(960479),i(240875),i(962010),i(134782),i(16280),i(426099),i(962062),i(250113),i(423500),i(944114),i(428706);var o=i(274692),s=i(96190),l=i(122268),d=i(325425),c=i(40785),u=i(867195);e.exports=d.extend({className:"transition-conditions-tmpl",template:i(988537),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.model)throw new Error("model is missing.");this.conditionId=e.conditionId,this.model=e.model,this.ruleResults=e.ruleResults||[],this.conditionTypesResult={},this.hasFailedConditions=this.ruleResults.some((function(e){return!e.validationPasses})),this.hasCritieraMetRule=this.ruleResults.some((function(e){return!0===e.critieraMet})),this.entDef=this.model.getEntityDefinition()},locals:function(){var e=this;this.aggregateConditionTypes(),this.conditionTypesResult=s.mapValues(this.conditionTypesResult,(function(t){var i=e.getConditionInfo(t.type);return s.merge({},t,i)}));var t=s.map(this.conditionTypesResult,(function(e){return s.pick(e,["type","requiresContext"])}));return{hasActiveFilters:this.hasCritieraMetRule,conditionTypes:t,hasFailedConditions:this.hasFailedConditions,allCriteriaMetText:c.escapedTranslateKey("all_criteria_met")}},onRendered:function(){var e=this,t=o.Deferred();return o("#criteria-collapse").on("show.bs.collapse",(function(){o("#criteria-expand").remove()})),this.renderConditionTypes((function(i){if(i)return t.reject();e.displayruleResults(e.conditionTypesResult),t.resolve()})),t.promise()},getConditionInfo:function(e){var t=s.find($appData.conditionTypesInfo,{conditionType:e});return s.pick(t,["translationKeyInfo","requiresContext"])},aggregateConditionTypes:function(){var e=this;s.forEach(this.ruleResults,(function(t){var i=t.conditionResponse;s.forEach(i,(function(t){var i=t.conditionType;e.conditionTypesResult[i]||(e.conditionTypesResult[i]={overallResultFailed:!1,type:i,conditionTypes:[]})}))}))},generateConditionTypesResult:function(e){var t=this;l.map(this.ruleResults,function(){var e,i=(e=a().mark((function e(i,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchConditionTypes(i.validationId);case 2:return r=e.sent,s.forEach(r,(function(e){var n=e.type;t.conditionTypesResult[n]&&(t.conditionTypesResult[n].conditionTypes.push(e),i.validationPasses||(t.conditionTypesResult[n].overallResultFailed=!0))})),e.abrupt("return",n());case 5:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))});return function(e,t){return i.apply(this,arguments)}}(),e)},fetchConditionTypes:function(e){return o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/condition/").concat(e,"/types"),method:"GET",dataType:"json",contentType:"application/json"})},renderConditionTypes:function(e){var t=this;this.generateConditionTypesResult((function(){l.each(t.conditionTypesResult,(function(e,i){return e.requiresContext?t.renderConditionContext(e,i):(t.renderConditionLabel(e),i())}),e)}))},renderConditionLabel:function(e){var t=e.translationKeyInfo,i=e.type,n=this.$(".label-container-".concat(i)),a=t.groupName,r=t.subgroupName,o=t.key,s=c.escapedTranslateKey({groupName:a,subgroupName:r,key:o}),l='\n\t\t<div data-type="'.concat(i,'">\n\t\t\t<span aria-label="').concat(s,'">').concat(s,"</span>\n\t\t</div>\n\t\t");n.append(l)},renderConditionContext:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.noop,i=e.type,n=this.$(".context-container-".concat(i));return this.caseSubmitContextRuleView=new u({ruleResults:this.ruleResults,model:this.model,conditionType:e}),this.addSubView(this.caseSubmitContextRuleView).render(n).done(t)},displayruleResults:function(e){var t=this;s.each(e,(function(e){var i=e.type,n=e.overallResultFailed,a=t.$("div[data-type=".concat(i,"]")),r=n?c.escapedTranslateKey("criteria_not_met"):c.escapedTranslateKey("criteria_met"),o=n?"fa-times-circle":"fa-check-circle",s=n?"condition-result-fail":"condition-result-pass";a.prepend('<span class="'.concat(s,'" aria-label="').concat(r,'">\n')+'<i class="fa fa-icon fa-fw fa-lg '.concat(o,'"></i>\n')+"</span>")}))}})},856532:(e,t,i)=>{"use strict";var n=i(402193),a=i(683178),r=i(40785),o=i(325425);e.exports=o.extend({className:"case-summary-confirm-modal-tmpl",template:i(50877),events:{"click #confirm":"onConfirmClick"},onInit:function(e){var t,i,n,a,o,s;this.model=e.model,this.html=e.html,this.titleText=e.titleText,this.content=e.content,this.cancelText=null!==(t=e.cancelText)&&void 0!==t?t:r.translateKey("cancel"),this.confirmText=null!==(i=e.confirmText)&&void 0!==i?i:r.translateKey("continue"),this.onConfirm=e.onConfirm,this.cancelIcon=null!==(n=e.cancelIcon)&&void 0!==n?n:"fa-times",this.cancelClass=null!==(a=e.cancelClass)&&void 0!==a?a:"secondary",this.confirmIcon=null!==(o=e.confirmIcon)&&void 0!==o?o:"fa-check",this.confirmClass=null!==(s=e.confirmClass)&&void 0!==s?s:"primary"},locals:function(){return{titleText:this.titleText,html:this.html,content:this.html?a(this.content,{allowedAttributes:!1}):this.content,cancelText:this.cancelText,confirmText:this.confirmText,cancelIcon:this.cancelIcon,cancelClass:this.cancelClass,confirmIcon:this.confirmIcon,confirmClass:this.confirmClass}},onConfirmClick:function(){var e=this;if("function"==typeof this.onConfirm){var t=n.create(this.$("#confirm")[0]);return t.start(),this.onConfirm((function(){t.stop(),e.remove()}))}this.remove()}})},609826:(e,t,i)=>{"use strict";i(428706),i(16280),i(533110);var n=i(274692),a=i(122268),r=i(181199),o=i(325425),s=i(687895),l=i(40785),d=i(896727),c=i(633514),u=i(450048),p=i(680553);i(440389),e.exports=o.extend({className:"case-summary-download-modal-tmpl",template:i(264671),Model:s,features:{validation:!0},events:{"click #download":"onDownloadClick"},onInit:function(e){var t=e.model;this.downloadModel=new this.Model({summaryFileType:"docx"}),this.model=t},onRendered:function(){var e=this,t=n.Deferred();return a.parallel([function(t){return e.renderLoader(t)},function(t){return e.renderFields(t)}],(function(e){return e?t.reject(e):t.resolve()})),t.promise()},renderLoader:function(e){this.loader=new u({overlay:!0}),this.addSubView(this.loader).render(this.$(".modal-body")).done(e)},renderFields:function(e){var t=new c({field:"summaryFileType",model:this.downloadModel,fieldDef:{picklistName:"summary_download_types",sysActive:!0,typeOptions:{addBlankRow:!1}}});this.addSubView(t).render(this.$("#summaryFileType"),e)},onDownloadClick:function(){var e=this;this.loader.show();var t=this.downloadModel.get("summaryFileType"),i="".concat($appData.globalConfig.apiRoot,"/case/").concat(this.model.id,"/summary/export"),n=new XMLHttpRequest;n.open("POST",i,!0),n.timeout=0,n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("x-csrf-token",$appData.csrf),n.responseType="blob",n.onload=function(){if(200!==n.status)throw p.remove(e),new Error("Export failed");var i="".concat(e.model.get("caseNumber"),"_CaseSummary.").concat(t);r.saveAs(n.response,i),d.info(l.translateKey({groupName:"sys/caseSummary",subgroupName:"actions",key:"downloaded"})),p.remove(e)},n.send(JSON.stringify({summaryFileType:t}))}})},573679:(e,t,i)=>{"use strict";i(874423),i(21699),i(428706),i(533110),i(16280),i(250113),i(426099),i(768858);var n=i(96190),a=i(122268),r=i(274692),o=i(402193),s=i(93216),l=i(40785),d=i(325425),c=i(687895),u=i(532619),p=i(344427),f=i(323175),h=i(450048),m=i(45701),g=i(856532),y=i(609826);e.exports=d.extend({className:"case-summary-tmpl",Model:c,formConfigName:"case-summary",template:i(825286),caption:l.translateKey({groupName:"sys/caseSummary",subgroupName:"general",key:"summary"}),locals:function(){return{caseId:this.model.id}},rules:{isPhase2Enabled:function(){return!0===m.isEnabled("outcomeAssistant2")},hasSummary:function(){return!n.isEmpty(this.model.get("caseSummary"))},canEdit:function(){var e=!0===this.model.get("isLockedByAnotherUser"),t=this.model.rules.caseCanceled.call(this.model),i=this.model.rules.casePurgeScheduled.call(this.model),n=this.model.rules.casePurged.call(this.model),a=this.model.rules.canEditCase.call(this.model),r=this.model.rules.canEditCaseForm.call(this.model),o=this.model.rules.disableForClosedCase.call(this.model);return!e&&!(t||n||i||!a||!r||o)},canGenerate:function(){var e=$appData.user.id,t=this.model.get("owner")===e,i=n.includes(this.model.get("investigativeTeamMembers"),e),a=s.hasRole("generate_summary")||s.hasRole("generate_summary_as_owner")&&t||s.hasRole("generate_summary_as_investigative_team_member")&&i,r=this.model.rules.isMarkedOrPurged.call(this.model);return a&&!r}},navigateUrl:function(){return"/case/".concat(this.model.id,"/summary")},onInit:function(){this.statusData={status:"none"},this.model.on("workflowDataChanged change:owner change:dateClosed change:investigativeTeamMembers change:isLockedByAnotherUser",this.onRendered,this)},onRemove:function(){this.model.off("workflowDataChanged change:owner change:dateClosed change:investigativeTeamMembers change:isLockedByAnotherUser",this.onRendered,this),this.removeSummaryStatusListener()},onRendered:function(){var e=this;if(!this.rules.canGenerate.call(this))return this.renderButtons({});var t=r.Deferred();return a.waterfall([function(t){return e.renderLoader((function(e){if(e)return t(e);t()}))},function(t){return e.getSummaryStatus(t)},function(t,i){return e.renderComponents(t,i)}],(function(e){if(e)return t.reject();t.resolve()})),t.promise()},renderLoader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.$(".loader-container").empty(),this.loader=new h({overlay:!0}),this.addSubView(this.loader).render(this.$(".loader-container")).done(e)},renderComponents:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop;this.renderStatusBanner(e,(function(n){if(n)return i(n);a.parallel([function(i){return t.renderInfoText(e,i)},function(i){return t.renderButtons(e,i)},function(e){return t.renderSummaryFootnote(e)}],i)}))},renderSummaryFootnote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.model.get("caseSummary")&&this.rules.isPhase2Enabled.call(this)?this.$(".summary-footnote").removeClass("hidden"):this.$(".summary-footnote").addClass("hidden"),e()},renderStatusBanner:function(e){var t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,r=e.status,o=e.summaryId,s='<a class="alert-link" data-route="/case/'.concat(this.model.id,"/case-summary/").concat(o,'"> <u>').concat(this.getTranslation("success_status_link"),"</u></a>");switch(r){case"done":t="success",i="".concat(n.escape(this.getTranslation("success_status"))).concat(s);break;case"pending":t="warning",i=n.escape(this.getTranslation("pending_status"));break;case"expired":case"error":t="danger",i=n.escape(this.getTranslation("error_status"));break;default:return this.$(".summary-status-banner").empty(),a()}var l='<div class="alert alert-'.concat(t,'" role="alert"><p>').concat(i,"</p></div>");this.$(".summary-status-banner").html(l),a()},renderInfoText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,i=e.status;if(this.model.get("caseSummary")||"none"!==i)return this.$(".summary-info-text").empty(),t();var a=this.getTranslation("summary_customization_info","general"),r=this.getTranslation("summary_iteration_info","general"),o=this.getTranslation("summary_persistence_info","general");this.$(".summary-info-text").html("".concat(a,"<br/>").concat(r,"<br/>").concat(o)),t()},renderButtons:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,r=e.status;this.$(".generate-menu").empty(),this.$(".action-menu").empty();var s=null;"pending"===r?s=this.getTranslation("pending_summary_tooltip"):"done"===r&&(s=this.getTranslation("success_summary_tooltip")),a.parallel([function(e){if(!t.rules.canGenerate.call(t))return e();t.renderMenu({actionButtons:t.getGenerateButtons(),caption:t.getTranslation("generate"),icon:"fa fa-arrow-rotate-left",$renderTo:t.$(".generate-menu"),addCaret:!0,tooltip:t.rules.canEdit.call(t)?s:null},e)},function(e){return t.renderMenu({actionButtons:t.getActionButtons(),icon:"fa fa-ellipsis-v",$renderTo:t.$(".action-menu")},e)}],(function(){return t.generateMenuLadda=o.create(t.$(".generate-menu button")[0]),t.model.get("caseSummary")?t.enableMenu(".action-menu"):t.disableMenu(".action-menu"),t.rules.canEdit.call(t)&&"pending"!==r?t.enableMenu(".generate-menu"):t.disableMenu(".generate-menu"),i()}))},renderMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,i=e.addCaret,a=e.actionButtons,r=e.caption,o=e.icon,s=e.$renderTo,l=e.tooltip;if(0===a.length)return t();this.addSubView(new u({menuItems:a,associatedModel:this.model,showTooltip:!!l,classes:"btn-secondary",useStyledDropdown:!0,icon:o,addCaret:i,caption:r,tooltip:l,ladda:{style:"zoom-in",spinnerColor:"black"}})).render(s).done((function(){return t()}))},getGenerateButtons:function(){var e=this,t=this.isWorkflowUnsynced();return[{btnId:"generate-brief",caption:this.getTranslation("generate_brief"),onClicked:function(){return e.onGenerateSummary("synopsis")}},{btnId:"generate_detailed",caption:this.getTranslation("generate_detailed"),btnClasses:"styled-dropdown-btn",disabled:t,onClicked:t?void 0:function(){return e.onGenerateSummary("detailed")},tooltip:t?{title:this.getTranslation("generate_summary_workflow_mismatch")}:void 0}]},getActionButtons:function(){var e=this,t="!lockedByAnotherUser && !(caseCanceled || isMarkedOrPurged || !canEditCase || disableForClosedCase || !canEditCaseForm)",i=[{caption:this.getTranslation("download"),onClicked:function(){return e.onDownloadSummary()},btnId:"download-summary"},{caption:this.getTranslation("delete_summary"),customClass:"text-danger",onClicked:function(){return e.onDeleteSummary()},btnId:"delete-summary",displayRule:t}];return this.rules.isPhase2Enabled.call(this)&&i.unshift({caption:this.getTranslation("edit_summary"),onClicked:function(){return e.onEditSummary()},btnId:"edit-summary",displayRule:t}),i},getSummaryStatus:function(e){var t,i=this;null===(t=this.loader)||void 0===t||t.show(),r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/case/").concat(this.model.id,"/summary/generate/status"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){var n;null===(n=i.loader)||void 0===n||n.hide(),"pending"===t.status&&i.attachSummaryStatusListener(),i.statusData=t,e(null,t)})).fail((function(){var t;i.statusData={status:"error"},null===(t=i.loader)||void 0===t||t.hide(),e.apply(void 0,arguments)}))},onEditSummary:function(){var e=this;this.model.validate(this.model.attributes)||this.model.lock((function(t,i){!0===i&&l.navigateTo("/case/".concat(e.model.id,"/case-summary/edit"))}))},onDownloadSummary:function(){var e={model:this.model},t=new y(e);this.addSubView(t).renderAsModal()},onDeleteSummary:function(){var e=this,t=new g({html:!0,model:this.model,titleText:this.getTranslation("delete_summary_title"),confirmText:this.getTranslation("delete_confirm","actions"),cancelText:this.getTranslation("cancel","actions"),content:this.getTranslation("delete_text","actions",{context:{caseId:this.model.id,caseNumber:this.model.get("caseNumber")}}),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",onConfirm:function(t){e.model.save({caseSummary:null},{wait:!0,validate:!0,success:function(){return e.renderComponents(e.statusData,t)}})}});this.addSubView(t).renderAsModal()},attachSummaryStatusListener:function(){if(!this.bindedSummaryGenerated){this.bindedSummaryGenerated=this.onSummaryGenerated.bind(this);var e=this.model.id;f.addEventListener(this,"".concat(e,"-case-summary-generation-completed"),this.bindedSummaryGenerated)}},removeSummaryStatusListener:function(){if(this.bindedSummaryGenerated){var e=this.model.id;f.removeEventListener(this,"".concat(e,"-case-summary-generation-completed"),this.bindedSummaryGenerated),this.bindedSummaryGenerated=null}},onSummaryGenerated:function(){var e=this;this.getSummaryStatus((function(t,i){if(e.removeSummaryStatusListener(),t||"done"!==i.status)return e.renderComponents(i);l.navigateTo("/case/".concat(e.model.id,"/case-summary/").concat(i.summaryId))}))},startSummaryGeneration:function(e){var t=this;r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/case/").concat(this.model.id,"/summary/generate"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({type:e})}).done((function(e){var i;t.statusData=e,null===(i=t.generateMenuLadda)||void 0===i||i.stop(),t.attachSummaryStatusListener(),t.renderComponents(t.statusData)})).fail((function(){var e;t.statusData={status:"error"},t.renderComponents(t.statusData),null===(e=t.generateMenuLadda)||void 0===e||e.stop()}))},onGenerateSummary:function(e){var t,i=this;if(!this.model.validate(this.model.attributes)){if(null===(t=this.generateMenuLadda)||void 0===t||t.start(),"detailed"!==e)return this.startSummaryGeneration(e);a.waterfall([function(e){return i.checkVectorStorageIndexedFiles(e)},function(e,t){var n=e.missingFilesIds;return!n||!Array.isArray(n)||n.length<1||i.indexFilesInVectorStorage(n),t(null,n)}],(function(t,n){if(t)throw t;if(0===n.length)return i.startSummaryGeneration(e);i.displayFileIndexWarning((function(t){var n;if(t)return i.startSummaryGeneration(e);null===(n=i.generateMenuLadda)||void 0===n||n.stop()}))}))}},checkVectorStorageIndexedFiles:function(e){var t=this;r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/case/").concat(this.model.id,"/summary/check_vector_storage_indexed_files"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){return e(null,t)})).fail((function(i){var n,a,r=(null===(n=i.responseJSON)||void 0===n?void 0:n.message)||"Failed to check file index";null===(a=t.generateMenuLadda)||void 0===a||a.stop(),e(new Error(r))}))},indexFilesInVectorStorage:function(e){r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/summary/case_index_vector_storage_files"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({objectIds:e})})},disableMenu:function(e){this.$(e).find("button").prop("disabled",!0),this.$(e).addClass("disabled")},enableMenu:function(e){this.$(e).find("button").prop("disabled",!1),this.$(e).removeClass("disabled")},getTranslation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"actions",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.translateKey({groupName:"sys/caseSummary",subgroupName:t,key:e},i)},displayFileIndexWarning:function(e){p.display(this.getTranslation("index_files_warning"),{type:"confirm",title:this.getTranslation("index_files_warning_title"),confirmCaption:{groupName:"sys/caseSummary",subgroupName:"actions",key:"index_files_warning_confirm"},cancelCaption:{key:"cancel"},confirmIcon:"fa fa-check",callback:e})}})},929079:(e,t,i)=>{"use strict";i(16280),i(426099),i(423500),i(962010),i(944114);var n=i(96190),a=i(325425),r=i(409511),o=i(48334),s=i(879176),l=i(40785),d=i(939994);e.exports=a.extend({className:"case-workflow-history-tmpl",template:i(953638),caption:l.translateKey("workflow_history"),gridView:null,workflowHistoryCollection:null,onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._showAll=e&&e.showAll,this._print=e&&e.print,this.workflowId=e.workflowId,this.workflowHistoryCollection=new r(null,{objectId:this.model.id,objectType:"sys/case",showCanceledCases:!0})},onRendered:function(){var e=this;this.fetchWorkflowData((function(t,i){t&&(i={}),e.renderDataContainer(i)}))},renderDataContainer:function(e){var t=this,i={enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableBatchExport:!0,multiSelect:!0};this._showAll&&(i.enablePager=!1,i.rowCountOptions=$appData.globalConfig.maxAuditPrintableRows),this._print&&(i.defaultRowCountOption=$appData.globalConfig.maxAuditPrintableRows,i.applyUserRowCount=!1),this.gridView=new s({model:this.model,configName:"case-workflow-history",collection:this.workflowHistoryCollection,enableEntityFilters:!1,pluginsOptions:[i],condensedLayout:!0,staticFilters:[{name:"workflow",options:this.getWorkflowFilter(e)}]});var n=this.$("#case-workflow-history-grid");this.addSubView(this.gridView).render(n).then((function(){t.workflowId&&l.scrollTo(n)}))},fetchWorkflowData:function(e){var t=new o,i=d.get(t.entity).query(),n={query:i.and([i.is_empty("copiedFromId"),i.is_not("status","draft"),i.is("entityName","sys/case")]).toQuery()};t.setFilter(n),t.fetch({error:function(){e(new Error("Failed to fetch workflow data"))},success:function(t){var i=t.models.reduce((function(e,t){return e[t.id]=t.attributes,e}),{});e(null,i)}})},getWorkflowFilter:function(e){var t=this,i=d.get("sys/transition_history").query(),a=[];return n.forEach(e,(function(e,n){var r={text:e.name,translatedCaption:e.name,filter:i.is("workflowId",n).toQuery()};n===t.workflowId&&(r.selected=!0),a.push(r)})),a}})},816577:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(423500),i(681278),i(802259),i(428706),i(962010),i(16280),i(202008),i(426099),i(123792),i(703362),i(747764),i(962953),i(962062),i(944114),i(874423),i(21699);var o=i(96190),s=i(274692),l=i(402193),d=i(93216),c=i(267062),u=i(40785),p=i(896727),f=i(687895),h=i(879176),m=i(789694),g=i(219531),y=i(939994),v=i(446322),b=i(186360),w=i(185999),A=i(800030),C=i(429986),k=i(790097),x=i(680553),_=i(344427),E=i(304656);i(390786),i(900615),e.exports=c.extend({urlRoot:"/case",Model:f,formConfigName:"case-capture",template:i(674668),caption:u.translateKey({groupName:"sys/case",subgroupName:"general",key:"new"}),features:{readOnlyFields:!0,validation:!0,dirtyFormHandling:!0,draftHandling:!0},onInit:function(){this.model.set("assignToQueue",o.isEmpty(this.model.get("owner")));for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];c.prototype.onInit.apply(this,t),this.setReadOnly(!1)},getSaveAttrs:function(){return{}},sortForms:function(e){return o.sortBy(e,["sequence","caption"])},getFormInfo:function(e){var t,i,n,a,r,s,l,d;if(null!==(t=e.partiallyDynamicFormOptions)&&void 0!==t&&t.allowShowOnIntake){var c="".concat(e.entity.base,"/").concat(e.entity.name),p=C[c],f=p.Collection,h=p.grid,m=p.addRule;if(!f||!h||!m)return new Error("Missing form information");i=new f(null,{caseId:this.model.id,showInactiveRecords:!0}),n=o.toLower(e.caption),a=h,r=u.translateKey({groupName:c,subgroupName:"general",key:"namePlural"}),s=u.translateKey({groupName:c,subgroupName:"actions",key:"add"}),l=m}else{var y=A.getEntityName(e.entityName);i=new g(null,{caseId:this.model.id,showInactiveRecords:!0,entityNames:["sys_".concat(y)]}),n="form/".concat(y),a="case-dynamic-form-grid",r=u.translateKey({groupName:e.entityName,subgroupName:"general",key:"namePlural"}),s=u.translateKey({groupName:e.entityName,subgroupName:"actions",key:"add"}),d="customForm-create:".concat(e.entityId)}return{formCollection:i,route:n,configName:a,gridTitle:r,buttonCaption:s,addDisplayRule:l,createAclRole:d}},setupCustomFormGrids:function(){var e=this,t=!!this.model.id,i=s("#forms-grid-container"),n=o.filter($appData.layouts,(function(e){return!1===e.hideOnIntake&&"sys/case"!==e.entityName})),a=this.sortForms(n);this.customFormGridHandles=[],Promise.all(o.map(a,(function(i){var n=s.Deferred(),a=i.entityName?i.entityName:i.entity,l=A.getEntityName(a),d=A.getEntityCanon(a),c=o.chain($appData.layoutRuleGroups).filter((function(e){return e.entityName===d})).value(),p=e.getFormInfo(i);if(!p)return null;var f=p.formCollection,m=p.route,g=p.configName,y=p.gridTitle,v=p.buttonCaption,b=p.addDisplayRule,C=p.createAclRole,k=new h({model:e.model,title:y,configName:g,condensedLayout:!0,collection:f,enableSearchFilter:!1,enableEntityFilters:!1,enableDataFilters:!1,fetchOnRender:t,alwaysOnFilters:t?null:[w.impossibleTerm()],disableDefaultFilters:!0,displayRule:!o.isEmpty(c)&&"display".concat(o.upperFirst(l)),hideOnIntake:!1,buttons:[r(r({caption:v,onClicked:e.onNewFormClick.bind(e,m)},b&&{displayRule:b}),C&&{aclRole:C})],pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,multiSelect:!1,onRowClicked:function(t){e.model.save({},{success:function(){e.updateUrl(),e.disableDirtyFormHandling(),e.disableDraftHandling(),u.navigateToUrlByModelType(t)},validate:!1})}}]});return e.addSubView(k).render(e.$("#forms-grid-container")).done((function(){e.customFormGridHandles.push(k.handle),n.resolve()})),n.promise()}))).then((function(){return b.apply(i,e)}))},setupFilesGrid:function(){var e=this,t=!!this.model.id,i=new m(null,{caseId:this.model.id,showInactiveRecords:!0}),n=y.get({base:"sys",name:"attachment"}),a=new h({model:this.model,title:u.translateKey({groupName:n.entityCanon,subgroupName:"general",key:"namePlural"},{missingTranslationValue:n.captionPlural}),configName:"case-capture-files",condensedLayout:!0,collection:i,enableSearchFilter:!1,enableEntityFilters:!1,enableDataFilters:!1,fetchOnRender:t,alwaysOnFilters:t?null:[w.impossibleTerm()],buttons:[{caption:u.translateKey({groupName:n.entityCanon,subgroupName:"actions",key:"add"},{missingTranslationValue:n.addCaption}),onClicked:this.onNewFileClick.bind(this),displayRule:"canUploadFile"}],pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,multiSelect:!1,onRowClicked:function(t){e.model.save({},{success:function(){e.updateUrl(),e.disableDirtyFormHandling(),e.disableDraftHandling(),u.navigateToUrlByModelType(t)},validate:!1})},rowActions:v.getRowActions.call(this)}]});this.addSubView(a).render(this.$("#files-grid-container")),this.filesGridHandle=a.handle},events:{"click #submit":"onSubmitClickThrottled"},onNewFormClick:function(e){var t=this,i={sysSubmitted:!1};this.assignToQueue&&(i.owner=null),t.model.save(i,{success:function(i){t.updateUrl(),t.disableDirtyFormHandling(),t.disableDraftHandling(),u.navigateTo("/case/".concat(i.id,"/").concat(e,"/new"))},validate:!1})},onNewFileClick:function(){var e=this,t={sysSubmitted:!1};this.assignToQueue&&(t.owner=null),e.model.save(t,{success:function(t){e.updateUrl(),e.disableDirtyFormHandling(),e.disableDraftHandling(),u.navigateTo("/case/".concat(t.id,"/file/new"))},validate:!1})},onCancelClick:function(){u.navigateTo("/cases")},onSubmitClickThrottled:o.throttle((function(){var e=this;if(!this.model.validate(this.model.attributes)){var t=l.create(this.$("#submit")[0]).start();this.isSafeToLeaveDirtyInlines()?this.getValidationResults((function(i,n){if(i)throw t.stop(),new Error("Could not get validation Error");var a=n.filter((function(e){return e.critieraMet}));return e.caseSubmitModalView=new E({model:e.model,onConfirmClick:e.onConfirmSave.bind(e),ruleResults:a}),e.addSubView(e.caseSubmitModalView).renderAsModal().then((function(){t.stop()}))})):t.stop()}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onConfirmSave:function(){var e=this,t=this.getSaveAttrs(),i=["frontend","backend_and_frontend"],n=$appData.globalConfig.automaticCaseSuggestLinks,a=o.get($appData,"user.caseCaptureRedirect")||o.get($appData,"globalConfig.caseCaptureRedirect");t.sysSubmitted=!0,this.model.save(t,{success:function(){o.includes(i,n)&&d.hasRole("create_suggested_link")?u.navigateTo("/case/".concat(e.model.id,"/details/related_cases/suggest")):"/case"===a?d.canView(e.model,(function(t,i){var n=!t&&i?"/case/".concat(e.model.id):"/cases";u.navigateTo(n)})):u.navigateTo(a),p.info(p.getCrudMessage(e.model,"created"))},error:function(){e.caseSubmitModalView.remove()}})},getValidationResults:function(e){var t=this;this.saveInitialCase((function(i){if(i)return e(i);if(!t.entityRecordId)return e(new Error("Case not found"));var n="".concat($appData.globalConfig.apiRoot,"/entity_validate/sys_case/").concat(t.entityRecordId);return s.ajax({url:n,method:"POST",dataType:"json",contentType:"application/json"}).done((function(t){e(null,t)})).fail(e)}))},saveInitialCase:function(e){var t=this;this.model.save({sysSubmitted:this.model.get("sysSubmitted")||!1},{wait:!0,validate:!1,success:function(){return t.entityRecordId=t.model.get("id"),e()},error:function(t,i,n){return e(n)}})},setupGrids:function(){this.setupCustomFormGrids(),$appData.globalConfig.filesFormOnIntake&&this.setupFilesGrid()},reSetupGrids:function(e){this.setupGridsListener(),o.each(this.customFormGridHandles,(function(e){return x.remove(e)})),this.filesGridHandle&&x.remove(this.filesGridHandle),this.setupGrids();var t=u.translateKey({groupName:"errors",subgroupName:"general",key:"outdated_forms_reloaded"});_.display(t,{type:"notification"})},setupGridsListener:function(){k.conditionalOn({eventNames:["dynamic-fields-updated","form-layout-updated"],callback:this.reSetupGrids},this)},onBindEvents:function(){this.setupGridsListener(),c.prototype.onBindEvents.call(this)},onUnbindEvents:function(){k.off(null,null,this),c.prototype.onUnbindEvents.call(this)},onRendered:function(){this.setupGrids();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];c.prototype.onRendered.apply(this,t)}})},383645:(e,t,i)=>{"use strict";var n=i(96190),a=i(939994),r=i(325425),o=i(896727),s=i(944366),l=i(958329),d=i(809375);e.exports=r.extend({template:i(38724),navigateUrl:null,features:{validation:!0,dirtyFormHandling:!0},onInit:function(e){if(!e)throw"Options Required";if(!e.data)throw"Data Options Required";if(!e.data.parentType)throw"parentType Required";if(!e.data.parentId)throw"parentId Required";if(!e.data.caseId)throw"caseId Required";if(!e.data.parentNumber)throw"parentNumber Required";this.data=e.data,this.commentsGrid=e.commentsGrid,this.resetModel()},resetModel:function(){this.model=new s(this.data)},events:{"click #saveComment":"onSaveCommentClickThrottled"},onSaveCommentClickThrottled:n.throttle((function(){var e=this;this.model.save(null,{success:function(){o.info(o.getCrudMessage(e.model,"created",{includeItem:!1})),e.commentsGrid&&(e.commentsGrid.collection.add(e.model),e.commentsGrid._rerenderComponents({pluginId:e.commentsGrid.getSelectedPluginId()})),e.resetModel(),e.renderTextArea()}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRendered:function(){this.renderTextArea()},renderTextArea:function(){var e=a.get({base:"sys",name:"comment"}),t=e.fields().details;t.ariaLabel=t.caption;var i=d[t.type];this.textAreaComponent&&this.textAreaComponent.remove(),this.textAreaComponent=new l({field:"details",model:this.model,fields:e.fields(),format:i.format,escape:i.escape,fieldDef:t}),this.textAreaComponent.render(this.$("#editable-comment-container"),(function(e){if(e)throw e}))}})},740421:(e,t,i)=>{"use strict";var n=i(383645);e.exports=n.extend({features:{dirtyFormHandling:!1}})},550427:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(962010),i(16280);var r=i(96190),o=i(402193),s=i(40785),l=i(325425),d=i(879176),c=i(939994),u=i(348174),p=i(45991),f=i(964030);e.exports=l.extend({template:i(212578),className:"child-entity-grid",locals:function(){var e=l.prototype.locals.call(this);return r.extend(e,{gridContainerId:this.gridContainerId})},onInit:function(e){var t=e.caseModel,i=e.Model,n=e.dataContainerOptions,a=void 0===n?{}:n,r=e.defaultModelAttributes,o=void 0===r?{}:r,s=e.entityName,l=e.formName,d=e.addButtonDisplayRule,p=e.addButtonCaption,f=e.modalTitle,h=e.enableRecordLimit,m=void 0!==h&&h,g=e.recordLimitOptions,y=void 0===g?{}:g,v=e.isCustomForm,b=void 0!==v&&v;this.model=t,this.Model=i,this.defaultModelAttributes=o,this.addButtonDisplayRule=d,this.formName=l,this.addButtonCaption=p,this.modalTitle=f,this.dataContainerOptions=a,this.isCustomForm=b,m&&this.setRecordLimit(y),this.entDef=c.get(s)||u.get({entityName:"sys/".concat(s)}),this.gridContainerId="".concat(this.entDef.entity.name,"-entity-grid"),this.addButtonClass="btn-add-".concat(this.entDef.entity.name)},onRendered:function(){var e=this;this.entityGrid=this.getEntityGrid(),this.addSubView(this.entityGrid).render(this.$("#".concat(this.gridContainerId))).then((function(){e.addBtnLadda=o.create(e.$(".".concat(e.addButtonClass))[0])})),this.renderElementLimitFlag()},getEntityGrid:function(){var e,t=this,i=r.defaults(this.dataContainerOptions.pluginOptions||{},{enableDynamicColumns:!1,enableBatchDelete:!0,multiSelect:!0,onRowClicked:function(e){return t.openModal(e)}}),n=r.defaults(this.dataContainerOptions,{condensedLayout:!0,enableSearchFilter:!1,enableEntityFilters:!1,enableDataFilters:!1,disableDefaultFilters:!0,enableResetDefault:!1,enableDefaultConfiguration:!1,fetchOnRender:!1,disableSelectedFields:!0,buttons:[{onClicked:this.onAddClick.bind(this),caption:null!==(e=this.addButtonCaption)&&void 0!==e?e:s.translateKey({groupName:this.entDef.entityCanon,subgroupName:"actions",key:"add"}),displayRule:this.addButtonDisplayRule,customClass:this.addButtonClass}],onCollectionUpdate:function(e){return t.recordLimitEnabled?(t.elementLimitFlagView.updateRecordCount(t.entityGrid.collection.length),t.recordlimit>t.entityGrid.collection.length?t.toggleAddButtonDisabled(!1):t.toggleAddButtonDisabled(!0),e()):e()}});return n.pluginsOptions=[i],new d(n)},toggleAddButtonDisabled:function(e){this.$(".".concat(this.addButtonClass)).prop("disabled",e)},setGridFilters:function(){if(this.model.get("id")){var e=this.entityGrid.collection.getDefaultFilter({caseId:this.model.id,showInactiveRecords:!0}).toQuery();this.entityGrid.setAlwaysOnFilters([]),this.entityGrid.setDefaultFilters(e),this.entityGrid.collection.setFilter(e)}},getEntityModel:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({caseId:this.model.id,parentId:this.model.id},this.defaultModelAttributes);return new this.Model(e,{entDef:this.entDef})},onAddClick:function(){var e=this;if(this.model.id)return this.openModal(this.getEntityModel());this.addBtnLadda.start(),this.model.save({sysSubmitted:!1},{success:function(){e.openModal(e.getEntityModel()).done((function(){e.addBtnLadda.stop()}))},error:function(){e.addBtnLadda.stop()},validate:!1})},openModal:function(e){var t={model:e,entDef:this.entDef,formName:this.formName,modalTitle:this.modalTitle};return this.isCustomForm?(t.formConfigId=e.dynamicEntityModel.get("layoutId"),t.layoutFormOpts={renderTabsAsInlineForm:!0,defaultFieldsLayout:{labelWidth:"col-xs-12 col-sm-3",width:"col-xs-12 col-sm-6",hideCaptionOffset:"col-xs-offset-0 col-sm-offset-3",helpBlockOffset:"col-xs-offset-0 col-sm-offset-3"}}):t.formName=this.formName,this.modalView=new p(t),this.modalView.on("added-entity",this.onAdd,this),this.addSubView(this.modalView).renderAsModal()},onAdd:function(){this.entityGrid.fetchCollection()},onBindEvents:function(){this.model.on("change:id",this.setGridFilters,this)},onUnBindEvents:function(){this.model.off("change:id",this.setGridFilters,this)},setRecordLimit:function(e){var t=e.entityType;if(!t)throw new Error("recordLimitOptions.entityType required");var i=$appData.globalConfig.recordLimits[t].limit;this.recordlimit=i,this.recordlimitEntityType=t,this.recordLimitEnabled=!0},renderElementLimitFlag:function(){if(this.recordLimitEnabled){var e=this.$(".flags-container");this.elementLimitFlagView&&this.elementLimitFlagView.remove(),this.elementLimitFlagView=new f({model:this.model,customEntity:this.recordlimitEntityType,limitType:"forms"}),this.addSubView(this.elementLimitFlagView).render(e).done()}}})},45991:(e,t,i)=>{"use strict";i(962010);var n=i(96190),a=i(325425),r=i(680553),o=i(896727),s=i(40785);i(440389),e.exports=a.extend({template:i(245453),formConfigName:"hotline-party-modal",features:{validation:!0},locals:function(){var e,t=a.prototype.locals.call(this);return n.extend(t,{modalId:this.modalId,title:null!==(e=this.modalTitle)&&void 0!==e?e:s.translateKey({groupName:this.entDef.entityCanon,subgroupName:"actions",key:"add"})})},onInit:function(e){var t=e.entDef,i=e.model,n=e.formName,a=e.modalTitle,r=e.formConfigId;this.model=i,this.entDef=t,this.formConfigName=n,this.entDef.isDynamicEntity()&&(this.formConfigId=this.entDef.layoutId),this.modalTitle=a,this.formConfigId=r,this.modalId="".concat(this.entDef.entity.name,"-modal")},events:{"click #save":"onSaveClickThrottled"},onSaveClick:function(){this.onSaveClickThrottled()},onSaveClickThrottled:n.throttle((function(){var e=this,t=e.model.isNew();e.model.save({sysSubmitted:!0},{wait:!0,success:function(){var i=t?"created":"updated";o.info(o.getCrudMessage(e.model,i,{includeLink:!1})),e.trigger("added-entity"),e.closeView()}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),closeView:function(){r.remove(this)}})},819885:(e,t,i)=>{"use strict";var n=i(96190),a=i(683178),r=i(325425),o=i(680553),s=i(40785);e.exports=r.extend({template:i(53244),events:{"click #confirm":"onClickConfirmThrottled","click #cancel":"onClickCancel"},locals:function(){var e=n.isString(this.title)&&!!this.title,t="large"===this.size?"confirmation-modal-large":"confirmation-modal";return{hideHeader:!e,title:this.title,message:this.html?a(this.message,{allowedAttributes:!1}):this.message,confirmText:this.confirmText?this.confirmText:s.translateKey(this.confirmCaption||"confirm"),confirmClass:this.confirmClass||"primary ladda-button",cancelIcon:this.cancelIcon||"fa-times",confirmIcon:this.confirmIcon||"fa-check",cancelText:this.cancelText?this.cancelText:s.translateKey(this.cancelCaption||"cancel"),html:this.html,hideCloseBtn:!!n.isBoolean(this.canClose)&&!this.canClose,isStatic:this.isStatic,modalClass:t,customClass:this.customClass||""}},onInit:function(e){n.extend(this,e)},onClickConfirmThrottled:n.throttle((function(){this.confirmed=!0,this.$(".modal").modal("hide")}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onClickCancel:function(){this.confirmedFn&&"function"==typeof this.confirmedFn&&this.confirmedFn(!1),this.callbackUrl&&s.navigateTo(this.callbackUrl),o.remove(this)}})},226739:(e,t,i)=>{"use strict";i(962010),i(752675),i(489463);var n=i(96190),a=i(325425),r=i(40785),o=i(258150),s=o.getBorderColor,l=o.getTextColor;e.exports=a.extend({template:i(271014),className:"dynamic-flag-tmpl",events:{"click .label":"togglePopover","keyup .label":"togglePopover"},onInit:function(e){this.model=e.model,this.flag=e.flag,n.assign(this.flag,{title:n.escape(this.flag.name),description:n.escape(this.flag.description),borderColor:s(this.flag),textColor:l(this.flag)})},locals:function(){return this.flag},togglePopover:function(e){r.togglePopover.call(this,e)}})},589900:(e,t,i)=>{"use strict";i(16280),i(269479),i(962062);var n=i(96190),a=i(274692),r=i(122268),o=i(325425),s=i(226739),l=i(790097);e.exports=o.extend({className:"dynamic-flags-tmpl",template:i(79097),onInit:function(e){if(!e.setFlags)throw new Error("setFlags is missing");if(!e.model)throw new Error("model is missing");if(!e.entityFlags)throw new Error("entityFlags is missing");this.flags=e.setFlags,this.model=e.model,this.entityFlags=e.entityFlags},onRendered:function(){var e=this,t=a.Deferred();return r.eachSeries(this.flags,(function(t,i){var n=new s({model:e.model,flag:t});e.addSubView(n).render(e.$(".flags-container")).done(i)}),(function(){return t.resolve()})),t.promise()},onBindEvents:function(){this.model.on("flag-set-unset",this.onFlagSetUnset,this),l.on("flags-updated",this.onFlagsUpdated,this)},onUnbindEvents:function(){this.model.off("flag-set-unset",this.onFlagSetUnset,this),l.off("flags-updated",this.onFlagsUpdated,this)},updateEntityFlags:function(){this.flags=n.map(this.flags,(function(e){var t=e.id;return $appData.flags[t]&&(e=n.assign(e,$appData.flags[t])),e}))},onFlagsUpdated:function(){this.updateEntityFlags(),this.onUnbindEvents(),this.render()},onFlagSetUnset:function(){var e=this;this.entityFlags.listEntityFlags((function(t,i){e.flags.length!==i.entitySetFlags.length&&(e.flags=i.entitySetFlags,e.onUnbindEvents(),e.render())}))}})},280507:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(680553);e.exports=a.extend({template:function(){return this.isModal?i(864850):i(299098)},navigateUrl:null,errorTitle:null,errorBody:null,onInit:function(e){e&&(this.errorTitle=e.title,this.showTitle=!1!==e.showTitle,this.errorBody=e.body,this.isModal=e.isModal,this.isStatic=e.isStatic,this.html=e.html,this.canClose=!n.isBoolean(e.canClose)||e.canClose)},locals:function(){return{isStatic:this.isStatic,title:this.errorTitle,showTitle:this.showTitle,body:this.errorBody,html:this.html,canClose:this.canClose}},events:{"click button[name=close]":"onCloseClick","closed.bs.alert":"onCloseClick"},onCloseClick:function(){r.remove(this),this.closeCallback&&this.closeCallback()}})},40531:(e,t,i)=>{"use strict";i(16280);var n=i(894187);e.exports=n.extend({authUrl:null,className:"expired-external-session-tmpl",template:i(301438),events:{"click #redirect":"onRedirectClick"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.redirectUrl=e.redirectUrl,!this.redirectUrl)throw new Error("redirectUrl required")},onRedirectClick:function(e){window.location.href=this.redirectUrl}})},24478:(e,t,i)=>{"use strict";i(269479),i(16280),i(426099),i(423500),i(250113),i(202008),i(944114),i(962010);var n=i(96190),a=i(325425),r=i(40785),o=i(896727);e.exports=a.extend({template:i(151551),tagName:"ul",className:"flag-list-tmpl",events:{"click .flag-item a":"onSetUnsetClicked"},onInit:function(e){var t=e.flags,i=e.entityFlags,n=e.model;if(!t)throw new Error("flags required");if(!i)throw new Error("entityFlags required");if(!n)throw new Error("model required");this.flags=t,this.entityFlags=i,this.model=n},onRendered:function(){this.flags.allFlags.length<3&&this.$el.parent().css({"flex-shrink":0})},locals:function(){var e=this,t=this.flags.allFlags;return n.forEach(t,(function(t){var i=n.find(e.flags.setFlags,{id:t.id});n.assign(t,{set:i})})),{flags:t,disableFlags:this.model.get("pendingPurgeDate")}},onSetUnsetClicked:function(e){var t=this,i=this.$(e.currentTarget).attr("data-id"),a=this.model.validate(this.model.attributes),s=n.filter(this.flags.setFlags,{id:i}).length>0;if(a)o.error(r.translateKey({groupName:"errors",subgroupName:"general",key:s?"unset_flag_invalid_model":"set_flag_invalid_model"},{context:{entity:this.model.getEntityDefinition().caption.toLowerCase()}}));else{var l,d=s?n.remove(this.flags.setFlags,{id:i})[0]:n.remove(this.flags.unsetFlags,{id:i})[0],c=this;s||this.entityFlags.setEntityFlag({flag:d},(function(e){e||(t.flags.setFlags.push(d),l=r.translateKey({groupName:"sys/flag",subgroupName:"actions",key:"set_flag"},{context:{name:d.name}}),u())})),s&&this.entityFlags.unsetEntityFlag({flag:d},(function(e){e||(t.flags.unsetFlags.push(d),l=r.translateKey({groupName:"sys/flag",subgroupName:"actions",key:"unset_flag"},{context:{name:d.name}}),u())}))}function u(){o.info(l),c.model.trigger("flag-set-unset"),c.render()}}})},872919:(e,t,i)=>{"use strict";i(123792),i(426099),i(962953),i(962010),i(250113);var n=i(96190),a=i(325425),r=i(40785);e.exports=a.extend({template:i(932306),className:"flag-tmpl",events:{"click .label":"togglePopover","keyup .label":"togglePopover"},onInit:function(e){this.model=e.model,this.workflow=e.workflow,this.renderWhenValueChanged()},locals:function(){return this.getFlagValue()},getFlagValue:function(){var e=this.workflow,t=this.model,i=this.model.get(e.field),a=!1,o=null,s="*!empty";n.each(e.values,(function(e){var t=e.value===s&&!n.isEmpty(i);(e.value===i||t)&&(o=e,a=!0)}));var l={indicator:"none"};if(a){var d=t.getFormattedData(),c=r.getEntDef(e.entity),u=n.lowerCase(null==c?void 0:c.caption);c.isDynamicEntityData()&&(u=n.lowerCase(r.translateKey({groupName:this.model.dynamicEntityModel.get("canon"),subgroupName:"general",key:"name"})));var p={context:n.assign({},d,{entityName:u})},f=o.value===s?o.value:n.snakeCase(o.value),h=e.name;l.indicator=o.indicator||"none",l.title=n.escape(r.translateKey({groupName:h,subgroupName:null,key:"title"},p));var m="content";if(o.content){var g=n.find(o.content,(function(e){return n.every(e.condition,(function(e,i){return t.attributes[i]===e}))}));g&&(m=g.caption)}"external-record-workflow"===h&&"case"===u&&(m="case"),l.content=n.escape(r.translateKey({groupName:h,subgroupName:f,key:m},p)),l.tooltip=r.translateKey({groupName:h,subgroupName:f,key:"tooltip"},p),e.displayRule&&(l.displayRule=e.displayRule)}return l},renderWhenValueChanged:function(){var e=this;this.model.on("change:".concat(this.workflow.field),(function(){e.render()}))},togglePopover:function(e){r.togglePopover.call(this,e)}})},28136:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(122268),o=i(325425),s=i(872919),l=i(40785);e.exports=o.extend({className:"flags-tmpl",template:i(717085),getStaticFieldWorkflows:function(){return a.sortBy(l.getStaticWorkflowsByEntity(this.model),"flagSequence")},onInit:function(e){this.staticFieldWorkflows=this.getStaticFieldWorkflows()},onRendered:function(){var e=this,t=n.Deferred();return r.eachSeries(this.staticFieldWorkflows,(function(t,i){var n=new s({model:e.model,workflow:t});e.addSubView(n).render(e.$(".flags-container")).done(i)}),(function(){return t.resolve()})),t.promise()}})},651424:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425),r=i(40785);e.exports=a.extend({template:i(523909),events:{"click #scroll-to-top":"scrollToTop"},onInit:function(){this.showing=!1,this.hovering=!1},onBindEvents:function(){n(document).on("scroll.footerView",this.onScroll.bind(this)),this.$scrollToTop=n(".scroll-to-top"),this.$scrollToTop.hover(this.onMouseEnter.bind(this),this.onMouseLeave.bind(this))},onUnbindEvents:function(){n(document).off("scroll.footerView"),this.$scrollToTop.off("mouseenter mouseleave")},onScroll:function(){n(window).scrollTop()>40?this.showScrollToTop():this.hideScrollToTop()},onMouseEnter:function(){this.hovering=!0},onMouseLeave:function(){this.hovering=!1,setTimeout(this.hideScrollToTop.bind(this),$appData.globalConfig.scrollToTopExtendedTimeout)},showScrollToTop:function(){this.showing||(this.$scrollToTop.fadeIn(200),this.showing=!0,setTimeout(this.hideScrollToTop.bind(this),$appData.globalConfig.scrollToTopTimeout))},hideScrollToTop:function(){this.showing&&!this.hovering&&(this.$scrollToTop.fadeOut(200),this.showing=!1)},scrollToTop:function(){r.scrollToTop()}})},848879:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(325425),r=i(40785),o=i(446322),s=i(879176);e.exports=a.extend({template:i(176374),caption:r.translateKey("files"),selectedItems:null,onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.gridOptions)throw new Error("gridOptions missing");this.gridOptions=n.cloneDeep(e.gridOptions),n.each(this.gridOptions.gridButtons,(function(e){e.caption=r.translateKey(e.caption)})),this.onSelectionChanged=e.onSelectionChanged||void 0,this.pagerEnabled=void 0===e.pagerEnabled||e.pagerEnabled,this.showCreateButtons=void 0===e.showCreateButtons||e.showCreateButtons,"function"==typeof this.gridOptions.onRowClicked&&(this.gridOptions.onRowClicked=n.partialRight(this.gridOptions.onRowClicked,this)),this.gridConfig=n.defaults({},this.gridOptions,{model:this.model,enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,multiSelect:e.multiSelect||!1,pagerEnabled:this.pagerEnabled,disableTitle:!0,rowActions:o.getRowActions.call(this),selectedItems:e.selectedItems||{},onRowClicked:function(e){r.navigateToUrlByModelType(e)},onSelectionChanged:function(){this.selectedItems=this.gridView.getSelectedItems(),this.onSelectionChanged&&this.onSelectionChanged()}})},locals:function(){var e=a.prototype.locals.call(this);return n.extend(e,{showCreateButtons:this.showCreateButtons})},getSelectedItems:function(){return this.selectedItems},onRendered:function(){this.gridView=new s({model:this.model,configName:this.gridConfig.configName,collection:this.gridConfig.collection,enableEntityFilters:!1,condensedLayout:!0,buttons:this.gridConfig.gridButtons,staticFilters:this.gridConfig.staticFilters||[],pluginsOptions:[this.gridConfig]}),this.addSubView(this.gridView).render(this.$("#main-grid"))}})},515931:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(680553),o=i(40785);e.exports=a.extend({template:function(){return i(449474)},onInit:function(e){n.extend(this,e),n.isString(e.body)&&(this.body=[{line:e.body}])},locals:function(){return{title:this.title,body:this.body,confirmText:o.translateKey(this.confirmCaption||"ok"),callbackUrl:!!this.callbackUrl}},events:{"click button[name=close]":"onCloseClick"},onCloseClick:function(){r.remove(this),this.callbackUrl&&o.navigateTo(this.callbackUrl)}})},410177:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099);var n=i(274692),a=i(96190),r=i(122268),o=i(93216),s=i(325425),l=i(285623),d=i(450048);e.exports=s.extend({template:function(){return i(107709)},onInit:function(e){if(!e.tabs)throw new Error("Tabs is required.");var t=a.cloneDeep(e.tabs);this.options=e,this.tabs=a.filter(t,(function(e){var t=!e.aclRole||o.hasRole(e.aclRole),i=!a.isFunction(e.displayRule)||e.displayRule();return t&&i}));var i=this.model.isExternalForm(),n=this.model.isHotlineIntakeForm();(i||n)&&(this.tabs=a.filter(t,(function(e){return e.showOnPortal&&i||e.showOnHotline&&n})))},renderTabs:function(e,t){var i=this,n=this,a=this.$(".tabs-content");r.eachSeries(e,(function(e,t){var r=new l({tab:e,model:e.Model?new e.Model:n.model,parentModel:n.model,parentElement:i.options.parentElement});n.addSubView(r).render(a).done(t)}),t)},onRendered:function(){var e=this,t=n.Deferred();return r.parallel([function(t){e.loader=new d,e.addSubView(e.loader).render(e.$(".loader-container")).done(t)},function(t){e.renderTabs(e.tabs,t)}],(function(){t.resolve()})),t.promise()}})},450048:(e,t,i)=>{"use strict";var n=i(96190),a=i(683178),r=i(325425),o=i(680553);e.exports=r.extend({className:"loader-tmpl",template:i(54861),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showOnStart,i=void 0!==t&&t,n=e.overlay,a=void 0!==n&&n,r=e.position,o=void 0===r?"center":r,s=e.delay,l=void 0===s?$appData.globalConfig.spinnerDelay:s,d=e.hideIfMainLoaderShowing,c=void 0===d||d,u=e.hideIfParentLoaderShowing,p=void 0===u||u;this.showOnStart=i,this.defaultOverlay=a,this.defaultPosition=o,this.defaultDelay=l,this.hideIfMainLoaderShowing=c,this.hideIfParentLoaderShowing=p},onRendered:function(){this.$loaderOverlay=this.$(".loader-overlay"),this.$messageContainer=this.$(".message-container"),this.$title=this.$(".title"),this.$message=this.$(".message"),this.hasOverlayClass="has-overlay",this.loaderShowingClass="loader-showing",this.parentView=o.getParentView(this),this.showOnStart&&this.show()},clearCustomClasses:function(){this.customClasses&&(this.$el.removeClass(this.customClasses),this.customClasses=null)},show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.title,n=t.message,r=t.overlay,o=void 0===r?this.defaultOverlay:r,s=t.delay,l=void 0===s?this.defaultDelay:s,d=t.position,c=void 0===d?this.defaultPosition:d,u=t.customClasses;this.isShowing()||this.wasRemoved||this.isMainLoaderShowing()&&this.hideIfMainLoaderShowing||this.isParentLoaderShowing()&&this.hideIfParentLoaderShowing||(this.parentView&&this.parentView.$el&&this.parentView.$el.addClass(this.loaderShowingClass),this.loaderTimeoutId=setTimeout((function(){var t={allowedTags:["b","i","em","strong","br"]};i&&e.$title.html(a(i,t)),n&&e.$message.html(a(n,t)),(n||i)&&e.$messageContainer.css("display","flex"),o&&(e.$el.addClass(e.hasOverlayClass),e.$loaderOverlay.show()),c&&e.$el.addClass(c),e.clearCustomClasses(),u&&(e.customClasses=u,e.$el.addClass(e.customClasses)),e.$el.css("display","flex")}),l))},hide:function(){this.isShowing()&&!this.wasRemoved&&(clearTimeout(this.loaderTimeoutId),this.loaderTimeoutId=null,this.parentView&&this.parentView.$el&&this.parentView.$el.removeClass(this.loaderShowingClass),this.$el.hide(),this.$el.removeClass(this.hasOverlayClass),this.$el.removeClass("center left right"),this.$messageContainer.hide(),this.$title.empty(),this.$message.empty(),this.$loaderOverlay.hide(),this.clearCustomClasses())},isShowing:function(){return n.isNumber(this.loaderTimeoutId)},isParentLoaderShowing:function(){return this.$el.parents(".".concat(this.loaderShowingClass)).length>0}})},743331:(e,t,i)=>{"use strict";i(16280),i(962062);var n=i(96190),a=i(274692),r=i(947432),o=i(230004),s=i(325425),l=i(450048),d=i(901427),c=i(896727),u=i(40785),p=i(352615),f=i(36742).create("map-view.js");e.exports=s.extend({template:i(337106),className:"map-tmpl",events:{"click .current-location-btn":"onCurrentLocationBtnClick","click .pin-btn":"onPinBtnClick"},locals:function(){var e=s.prototype.locals.call(this);return n.extend(e,{mapId:this.mapId})},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!$appData.globalConfig.enableGeoMapping)throw new Error("Geo mapping must be enabled");if(!$appData.globalConfig.mapboxAccessToken)throw new Error("Mapbox access token required");var t=e.field,i=e.initialCenter,n=void 0===i?$appData.globalConfig.initialMapCenter:i,a=e.initialZoom,r=void 0===a?$appData.globalConfig.initialMapZoom:a,o=e.defaultZoom,s=void 0===o?$appData.globalConfig.defaultMapZoom:o,l=e.defaultLayer,d=void 0===l?$appData.globalConfig.defaultMapLayer:l,c=e.dropPinOnSearch,u=void 0===c?$appData.globalConfig.dropMapPinOnSearch:c,p=e.goToCurrentLocationOnReset,f=void 0===p||p,h=e.forceReadOnly,m=void 0!==h&&h;this.field=t,this.initialCenter=n,this.initialZoom=r,this.defaultZoom=s,this.goToCurrentLocationOnReset=f,this.defaultLayer=d,this.dropPinOnSearch=u,this.forceReadOnly=m,this.mapId="".concat(this.cid,"-map"),this.attributionsCollapsedClass="attributions-collapsed",this.hasSearchText=!1,this.hasSearchResults=!1},onBindEvents:function(){this.model.on("readOnlyChange",this.onReadOnlyModeChange,this),this.model.on("change:".concat(this.field),this.updateMapView,this)},onRendered:function(){var e=this,t=a.Deferred();return this.$pinBtn=this.$(".pin-btn"),this.loader=new l,this.addSubView(this.loader).render(this.$(".loader-container")).done((function(){e.createMap(),e.onReadOnlyModeChange(e.model.readOnly),t.resolve()})),t.promise()},onUnbindEvents:function(){this.model.off("readOnlyChange",this.onReadOnlyModeChange,this),this.model.off("change:".concat(this.field),this.updateMapView,this),this.geocoder&&(this.geocoderOnResult&&this.geocoder.off("result",this.geocoderOnResult),this.geocoderOnResults&&this.geocoder.off("results",this.geocoderOnResults),this.geocoderOnClear&&this.geocoder.off("clear",this.geocoderOnClear)),this.$searchInput&&this.searchInputOnClick&&this.$searchInput.off("click",this.searchInputOnClick)},onRemove:function(){d.destroyMap(this.map)},onReadOnlyModeChange:function(e){e||this.forceReadOnly?(this.removeClickListener(),this.hideSearchBox()):(this.addClickListener(),this.showSearchBox())},onCurrentLocationBtnClick:function(){this.goToCurrentLocation((function(e){e&&e.code===e.PERMISSION_DENIED&&c.error(u.translateKey({groupName:"errors",subgroupName:"general",key:"location_permission_denied"}))}))},onPinBtnClick:function(){this.goToPin()},onMapClick:function(e){if(this.map.hasPin())this.removePinFromMap(),this.model.off("change:".concat(this.field),this.updateMapView,this),this.model.set(this.field,null),this.model.on("change:".concat(this.field),this.updateMapView,this);else{var t=p.getGeoJson({coordinates:e});this.dropPinOnMap(t),this.updateModelValue(t)}},onSearch:function(e){var t=e.result.center,i=p.convertToMeters(t),a=p.getGeoJson({coordinates:i});this.centerMap(a),this.zoom(),this.dropPinOnSearch&&(this.dropPinOnMap(a),this.updateModelValue(a)),this.hasSearchText=!n.isEmpty(this.$searchInput.val()),this.hasSearchResults=!1},onSearchResults:function(){this.hasSearchText||(this.hasSearchText=!0),this.hasSearchResults||(this.hasSearchResults=!0)},onSearchClear:function(){this.hasSearchResults=!1,this.hasSearchText=!1},onSearchInputClick:function(){this.hasSearchText&&!this.hasSearchResults&&this.$searchInput.select()},getValue:function(){return this.model.get(this.field)},isReadOnly:function(){return this.model.readOnly},getCoordinates:function(){return p.getCoordinates(this.getValue())},hasCoordinates:function(){return!n.isEmpty(this.getCoordinates())},createMap:function(){this.map=d.createMap({target:this.mapId,mapOptions:{initialCenter:this.initialCenter,initialZoom:this.initialZoom,smallAttributionThreshold:300,onAttributionsSizeChangeFn:this.onAttributionsSizeChange.bind(this),zoomInTooltip:u.escapedTranslateKey("zoom_in"),zoomOutTooltip:u.escapedTranslateKey("zoom_out"),toggleFullScreenTooltip:u.escapedTranslateKey("toggle_full_screen")}}),this.addSearchBox(),this.setVisibleLayer(this.defaultLayer),navigator.geolocation&&this.$(".current-location-btn").css("display","flex"),this.syncDroppedPin(),this.resetMapPosition()},addSearchBox:function(){this.geocoder=new o({accessToken:$appData.globalConfig.mapboxAccessToken,placeholder:u.escapedTranslateKey("map_search_placeholder"),origin:$appData.globalConfig.enableGeoMappingProxyMode?$appData.globalConfig.apiRoot:null});try{this.geocoderOnResult=this.onSearch.bind(this),this.geocoderOnResults=this.onSearchResults.bind(this),this.geocoderOnClear=this.onSearchClear.bind(this),this.searchInputOnClick=this.onSearchInputClick.bind(this),this.geocoder.addTo(this.$(".geocoder-container")[0]),this.geocoder.on("result",this.geocoderOnResult),this.geocoder.on("results",this.geocoderOnResults),this.geocoder.on("clear",this.geocoderOnClear),this.$searchInput=this.$(".geocoder-container input"),this.$searchInput.on("click",this.searchInputOnClick)}catch(e){f.error(e.message)}},clearSearchBox:function(){this.geocoder.clear(),this.$searchInput.blur()},showSearchBox:function(){this.$el.removeClass("hide-search")},hideSearchBox:function(){this.$el.addClass("hide-search")},focusSearchBox:function(){this.$searchInput.focus()},addClickListener:function(){this.map.addClickListener(this.onMapClick.bind(this))},removeClickListener:function(){this.map.removeClickListener()},centerMap:function(e){this.map.center(e)},zoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultZoom;this.map.zoom(e)},goToPin:function(){this.centerMap(this.getValue()),this.zoom()},goToCurrentLocation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;if(!navigator.geolocation)return t();this.loader.show({overlay:!0}),navigator.geolocation.getCurrentPosition((function(i){var n=[i.coords.longitude,i.coords.latitude],a=p.convertToMeters(n),r=p.getGeoJson({coordinates:a});e.centerMap(r),e.zoom(),e.loader.hide(),t()}),(function(i){i&&i.code===i.PERMISSION_DENIED&&e.$(".current-location-btn").attr("disabled","disabled"),e.loader.hide(),t(i)}),{timeout:r.duration(30,"seconds").asMilliseconds()})},dropPinOnMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getValue();n.isEmpty(e)||(this.map.dropPin(e),this.$pinBtn.css("display","flex"))},removePinFromMap:function(){this.map.removePin(),this.$pinBtn.hide()},syncDroppedPin:function(){this.hasCoordinates()?this.dropPinOnMap(this.getValue()):this.removePinFromMap()},resetMapPosition:function(){var e=this;this.hasCoordinates()?(this.goToPin(),this.focusSearchBox()):navigator.geolocation&&this.goToCurrentLocationOnReset&&this.goToCurrentLocation((function(t){t&&t.code===t.PERMISSION_DENIED&&(e.centerMap(e.initialCenter),e.zoom(e.initialZoom)),e.focusSearchBox()}))},updateModelValue:function(e){var t=this.getCoordinates(),i=e.coordinates,n=p.coordinatesAreEqual(t,i);this.readOnly||n||(this.model.off("change:".concat(this.field),this.updateMapView,this),this.model.set(this.field,e),this.model.on("change:".concat(this.field),this.updateMapView,this))},onAttributionsSizeChange:function(e){e?this.$el.addClass(this.attributionsCollapsedClass):this.$el.removeClass(this.attributionsCollapsedClass)},setDefaultZoom:function(e){this.defaultZoom=e},setVisibleLayer:function(e){this.map.setVisibleLayer(e)},setGoToCurrentLocationOnReset:function(e){this.goToCurrentLocationOnReset=e},updateMapView:function(){this.syncDroppedPin(),this.resetMapPosition()}})},892499:(e,t,i)=>{"use strict";i(327495),i(725440);var n=i(96190),a=i(267062),r=i(40785),o=i(680553),s=i(751123),l=i(384736);e.exports=a.extend({template:i(996892),className:"message-details readonly",events:{"click button[name=close]":"onCloseClick","closed.bs.alert":"onCloseClick","click button[name=view]":"onViewClick","click a":"onLinkClick"},locals:function(e){var t=this;a.prototype.locals.call(this,(function(i){var a=n.extend({},i,{showViewRecordBtn:t.showViewRecordBtn,viewIcon:t.viewIcon,viewBtn:t.viewBtn});e(a)}))},onInit:function(){this.showViewRecordBtn=!!this.model.get("targetType")&&!!this.model.get("targetId"),this.viewIcon="case_summary_tab"===this.model.get("targetType")?"fa-right-to-bracket":"fa-file",this.viewBtn="case_summary_tab"===this.model.get("targetType")?r.translateKey({groupName:"sys/caseSummary",subgroupName:"templates",key:"summary_tab"}):r.translateKey("view_record")},onRemove:function(){this.model.off("change",this._refreshTips)},onLinkClick:function(e){return l.prototype.onLinkClick(e)},onCloseClick:function(){o.remove(this)},onViewClick:function(e){var t=this.model.get("targetType"),i=this.model.get("targetId"),n=$appData.router.entityMap["-/".concat(t)];n||(n="/form/".concat(t.split("/")[1],"/{id}")),n=n.replace("{id}",i);var a=this.model.get("redirectUrlKey");a&&(n=$appData.router.redirectRoutes[a]),o.remove(this),"sys/email"===t?this.navigateToEmail(n,i):r.navigateTo(n)},navigateToEmail:function(e,t){var i=new s({id:t});return i.fetch({success:function(){var t=e.replace("{emailThreadId}",i.get("emailThreadId"));r.navigateTo(t)}})}})},704788:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(892499),o=i(680553);e.exports=a.extend({openMessageModal:function(e,t){var i=n.isFunction(t)?t:function(){},a=this;if(e.get("viewed"))return this.renderMessageDetails(e),void i();e.fetch({success:function(){o.getByRef("navbar").fetchUnreadMessagesCount(),a.renderMessageDetails(e),i()}})},renderMessageDetails:function(e){var t=new r({model:e});this.addSubView(t).renderAsModal()}})},652327:(e,t,i)=>{"use strict";i(327495),i(725440),i(428706);var n=i(96190),a=i(274692),r=i(122268),o=i(93216),s=i(325425),l=i(115787),d=i(55785),c=i(680553),u=i(40785),p=i(751123),f=i(320770),h=i(450048);i(340883),e.exports=s.extend({template:i(908298),className:"navbar-tmpl",rules:{isPortalUser:u.isPortalUser},locals:function(){var e=s.prototype.locals.call(this);return n.extend(e,{user:$appData.user,showChangePasswordLink:"local"===$appData.user.type||u.isPortalUser(),logoUrl:$appData.theme.logo.url.replace(/{apiRoot}/,$appData.globalConfig.apiRoot),canCreateEntity:o.hasRole("create_case"),enableNotifications:this.enableNotifications,enableExternalHelp:!0===$appData.globalConfig.enableExternalHelp,helpUrl:$appData.globalConfig.helpUrl})},events:{"click #bell-btn":"onNotificationBtnClickThrottled","click #mark-all":"markAllMessagesRead","click #sign-out-link":"logoutUser","click #primary-add-btn":"onPrimaryAddBtnClick","click .navbar-logo a":"onNavbarLogoClick","click #profile-link":"onProfileLinkClick","click #change-password-link":"onChangePasswordLinkClick"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enableQuickSearch,i=void 0===t||t,n=e.enableNotifications,a=void 0===n||n;this.enableQuickSearch=i,this.enableNotifications=a,this.previousDisplayCount=null,this.enableNotifications&&(this.messagesCollection=new d(null,{ignoreFetchErrors:!0}),this.messagesCollection.setRowCount(10),this.messagesCollection.fetch({reset:!0}))},onBindEvents:function(){this.enableNotifications&&this.messagesCollection.on("add",this.onMessagesCollectionAdd,this)},onUnbindEvents:function(){this.enableNotifications&&this.messagesCollection.off("add",this.onMessagesCollectionAdd,this)},onRendered:function(){var e=this,t=a.Deferred();return r.parallel([function(t){if(!e.enableNotifications)return t();e.recentMessagesLoader=new h({delay:0}),e.addSubView(e.recentMessagesLoader).render(e.$(".recent-messages-list .loader-container")).done((function(){e.addServerEventListener("message_added",(function(){e.fetchUnreadMessagesCount(),e.messagesCollection.fetch()})),e.fetchUnreadMessagesCount(t)}))},function(t){if(!e.enableQuickSearch)return t();var i=new f;e.addSubView(i).render(e.$(".navbar-search-container")).done(t)}],(function(e){return e?t.reject(e):t.resolve()})),t.promise()},onNotificationBtnClickThrottled:n.throttle((function(){if(this.enableNotifications){var e=this;e.fetchUnreadMessagesCount(),e.recentMessagesLoader.show(),e.recentMessagesView&&(c.remove(e.recentMessagesView),e.recentMessagesView=null),e.messagesCollection.fetch({success:function(t){e.recentMessagesView||(e.recentMessagesView=new l({collection:t,unreadMessagesCount:e.unreadMessagesCount}),e.addSubView(e.recentMessagesView).render(e.$(".recent-messages-list")).done((function(){e.recentMessagesLoader.hide()})))}})}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onMessagesCollectionAdd:function(e){if("Notification"in window&&"granted"===Notification.permission){var t=new Notification(e.get("subject"),{body:e.get("text")||"",icon:"/img/notification-logo.png",data:{targetType:e.get("targetType"),targetId:e.get("targetId"),redirectUrlKey:e.get("redirectUrlKey")}}),i=this;t.onclick=function(){window.focus();var e,n=t.data,a=n.targetType,r=n.targetId,o=t.data.redirectUrlKey;e=o?$appData.router.redirectRoutes[o]:(e=$appData.router.entityMap["-/".concat(a)]).replace("{id}",r),"sys/email"===a?i.navigateToEmail(e,r):u.navigateTo(e)}}},onPrimaryAddBtnClick:function(){u.navigateTo("/case/new")},onNavbarLogoClick:function(){u.navigateTo("/")},onProfileLinkClick:function(){u.navigateTo("/profile")},onChangePasswordLinkClick:function(){u.navigateTo("/change-password")},navigateToEmail:function(e,t){var i=new p({id:t});return i.fetch({success:function(){var t=e.replace("{emailThreadId}",i.get("emailThreadId"));u.navigateTo(t)}})},markAllMessagesRead:function(){var e=this;a.post("".concat($appData.globalConfig.apiRoot,"/message/mark_all_viewed"),(function(){e.updateMessageCount(0)}))},fetchUnreadMessagesCount:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/message/count/unread"),type:"GET"}).done((function(i){e.updateMessageCount(i),t()})).fail((function(e){u.ignoreAjaxErrors(e),t()}))},updateMessageCount:function(e){var t="".concat(e);if(e>99&&(t="99+"),this.unreadMessagesCount!==e||this.previousDisplayCount!==t){if(e<1){this.$(".notification-badge").hide(),this.$(".notification-badge").html(t);var i=u.translateKey("empty_notifications");this.$(".notification-badge-sr").text(i)}else{this.$(".notification-badge").removeClass("badge-pulse"),this.$(".notification-badge").html(t),this.$(".notification-badge").show(),this.$(".notification-badge").addClass("badge-pulse");var n=u.escapedTranslateKey({key:"notifications"}),a="".concat(t," ").concat(n);this.$(".notification-badge-sr").text(a)}this.unreadMessagesCount=e,this.previousDisplayCount=t}},logoutUser:function(){var e=c.getByRef("main-view");if(e){if(!e.canRemove())return;e.dirtyFormHandlingEnabled=!1}a.ajax({method:"POST",url:"/auth/logout"}).done((function(){window.location.href="".concat($appData.redirectLogoutRoute)}))}})},536636:(e,t,i)=>{"use strict";var n=i(96190),a=i(683178),r=i(325425),o=i(680553);e.exports=r.extend({template:function(){return this.isModal?i(960213):i(80073)},navigateUrl:null,notificationTitle:null,notificationBody:null,onInit:function(e){e&&(this.notificationTitle=e.title,this.notificationBody=e.body,this.notificationHtml=e.html,this.isModal=e.isModal,this.isStatic=e.isStatic,this.canClose=!n.isBoolean(e.canClose)||e.canClose,this.size=e.size)},locals:function(){var e="large"===this.size?"confirmation-modal-large":"confirmation-modal";return{isStatic:this.isStatic,title:this.notificationTitle,body:this.notificationHtml?a(this.notificationBody,{allowedAttributes:!1}):this.notificationBody,html:this.notificationHtml,canClose:this.canClose,modalClass:e}},events:{"click button[name=close]":"onCloseClick","closed.bs.alert":"onCloseClick"},onCloseClick:function(){o.remove(this),this.closeCallback&&this.closeCallback()}})},425423:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(563706),navigateUrl:null})},120342:(e,t,i)=>{"use strict";i(884864),i(757465),i(327495),i(87745),i(938781),i(690906),i(962062),i(944114);var n=i(274692),a=i(96190),r=i(325425),o=i(40785);i(621202),i(892634),e.exports=r.extend({className:"password-validator-matcher-tmpl",passwordComplexityConfig:$appData.passwordComplexityConfig,passwordSelector:"#password",confirmPasswordSelector:"#confirmedPassword",locals:function(){var e=r.prototype.locals.call(this);return a.extend({},e,{validationSections:this.getSectionTranslations(this.passwordComplexityConfig)})},onBindEvents:function(){this.passwordSelectorOnKeyup=this.onNewPasswordKeyup.bind(this),this.confirmPasswordSelectorOnKeyup=this.onConfirmPasswordKeyup.bind(this),this.$(this.passwordSelector).on("keyup",this.passwordSelectorOnKeyup),this.$(this.confirmPasswordSelector).on("keyup",this.confirmPasswordSelectorOnKeyup)},onUnbindEvents:function(){this.$(this.passwordSelector).off("keyup",this.passwordSelectorOnKeyup),this.$(this.confirmPasswordSelector).off("keyup",this.confirmPasswordSelectorOnKeyup)},onNewPasswordKeyup:function(e){var t=this,i=n(e.currentTarget).val(),r=n(this.confirmPasswordSelector).val();if(a.isEmpty(i))return this.resetValidationStyle(),void(a.isEmpty(r)&&this.resetConfirmationValidationStyle());a.each(this.passwordComplexityConfig.mandatory,(function(e){new RegExp(e.regex).test(i)?t.elementChangeClass("#".concat(e.caption),"valid","not-valid"):t.elementChangeClass("#".concat(e.caption),"not-valid","valid")})),i.length<this.passwordComplexityConfig.minLength?t.elementChangeClass("#minimum_length","not-valid","valid"):t.elementChangeClass("#minimum_length","valid","not-valid"),!1===this.passwordComplexityConfig.spaceAllowed&&(/[ \s]/.test(i)?t.elementChangeClass("#no_spaces","not-valid","valid"):t.elementChangeClass("#no_spaces","valid","not-valid")),this.checkMatch(i,r)},onConfirmPasswordKeyup:function(e){var t=n(this.passwordSelector).val(),i=n(e.currentTarget).val();a.isEmpty(t)&&a.isEmpty(i)?this.resetConfirmationValidationStyle():this.checkMatch(t,i)},checkMatch:function(e,t){t===e?this.elementChangeClass("#pass_and_confirm_pass_must_match","valid","not-valid"):this.elementChangeClass("#pass_and_confirm_pass_must_match","not-valid","valid")},elementChangeClass:function(e,t,i){n(e).addClass(t),n(e).removeClass(i)},resetValidationStyle:function(){var e=this,t=a.map(this.getSectionTranslations(this.passwordComplexityConfig),"id");a.each(t,(function(t){e.$("#".concat(t)).removeClass("not-valid valid")}))},resetConfirmationValidationStyle:function(){this.$("#pass_and_confirm_pass_must_match").removeClass("not-valid valid")},getSectionTranslations:function(e){var t=a.map(e.mandatory,(function(e){var t=e.caption;return a.extend({},e,{id:t,caption:o.translateKey(t)})}));return t.push({id:"minimum_length",caption:o.translateKey("minimum_length",{context:{minLength:e.minLength}})}),!1===e.spaceAllowed&&t.push({id:"no_spaces",caption:o.translateKey("no_spaces")}),t}})},115787:(e,t,i)=>{"use strict";var n=i(274692),a=i(680553),r=i(704788);e.exports=r.extend({template:i(263286),onInit:function(e){this.collection=e.collection,this.unreadMessagesCount=e.unreadMessagesCount},locals:function(){return{messages:this.collection.models}},onRendered:function(){var e=a.getByRef("navbar");this.unreadMessagesCount<1?e.$("#mark-all").addClass("disabled"):e.$("#mark-all").removeClass("disabled")},events:{"click .message-item[data-id]":"onMessageItemClick"},onMessageItemClick:function(e){e.preventDefault();var t=n(e.currentTarget).attr("data-id"),i=this.collection.get(t);this.openMessageModal(i)}})},995964:(e,t,i)=>{"use strict";i(16280);var n=i(325425);e.exports=n.extend({template:i(155041),navigateUrl:null,lockedModel:null,onInit:function(e){if(!e)throw new Error("Options Required");if(!e.lockedModel)throw new Error("Locked Model Required");this.lockedModel=e.lockedModel,this.lockCheckOpts=e.lockCheckOpts},events:{"click #refresh-lock-check":"onRefreshClick"},onRefreshClick:function(){i(454568).checkLockedByAnotherUser(this.lockedModel,this.lockCheckOpts)}})},425127:(e,t,i)=>{"use strict";i(874423),i(21699);var n=i(274692),a=i(96190),r=i(325425),o=i(63421),s=i(874043);e.exports=r.extend({template:i(803474),className:"relationship-indicator-tmpl hidden",events:{"click .relationship-indicator-btn":"onRelationshipIndicatorClick"},locals:function(){return{caseId:this.model.get("caseId")}},onRendered:function(){var e=this;a.includes($appData.entitiesInvolvedInRelationships,e.model.getEntityCanon())?(this.linkRelatedMatchesCollection=new s(null,{matchId:e.model.get("id")}),this.linkRelatedMatchesCollection.fetch({success:function(){e.linkRelatedMatchesCollection.length?(e.$el.removeClass("hidden"),e.linkRelatedMatchesCollection.each((function(t){var i=new o({model:t,editMode:!1,disabled:!1});e.addSubView(i).render(e.$(".matches"))}))):e.remove()}})):e.remove()},onRelationshipIndicatorClick:function(){this.setHorizontalDropdownPosition()},setHorizontalDropdownPosition:function(){var e=n(window),t=this.$(".relationship-container"),i=e.innerWidth(),a=t.width();this.$el[0].getBoundingClientRect().left+a>i?t.addClass("related-records-shift-left"):t.removeClass("related-records-shift-left")}})},894187:(e,t,i)=>{"use strict";var n=i(96190),a=i(274692),r=i(402193),o=i(680553),s=i(325425),l=i(656546);e.exports=s.extend({authUrl:null,callsToResume:null,className:"resume-session-tmpl",template:i(418818),resumeSessionModalOpenClass:"resume-session-modal-open",events:{"click #login":"onLoginClick","show.bs.modal":"onModalShow","shown.bs.modal":"onModalShown","hide.bs.modal":"onModalHide"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callsToResume=[],this.authUrl=e.authUrl||null},onBindEvents:function(){var e=this;a(document).on("keydown.onResumeSessionKeydown",(function(t){"Enter"===t.key&&e.onLoginClick()}))},onUnbindEvents:function(){a(document).off("keydown.onResumeSessionKeydown")},displayMessage:function(e){this.$message.text(e).show()},onLoginClick:function(){var e=this;if(!this.isLoggingIn){this.isLoggingIn=!0;var t=r.create(this.$("#login")[0]);t.start(),a.ajax({method:"POST",url:this.authUrl,data:{username:$appData.user.nick,password:this.$passwordInput.val()}}).done((function(i){t.stop(),i.redirect?e._refreshCsrfToken((function(){l.start(),n.each(e.callsToResume,(function(e){$appData.csrf&&n.set(e,"headers.x-csrf-token",$appData.csrf),a.ajax(e)})),o.remove(e)})):i.message?(e.$passwordInput.val("").focus(),e.displayMessage(i.translatedMessage||i.message),e.isLoggingIn=!1):e.isLoggingIn=!1})).fail((function(){t.stop(),e.displayMessage("There was an error processing your request"),e.isLoggingIn=!1}))}},onModalShow:function(){this.$body.addClass("blurred"),this.$body.addClass(this.resumeSessionModalOpenClass);var e=this.$(".modal").data("bs.modal");e.options.keyboard=!1,e.options.backdrop="static"},onModalShown:function(){this.$passwordInput.focus()},onModalHide:function(){this.$body.removeClass("blurred"),this.$body.removeClass(this.resumeSessionModalOpenClass)},onRendered:function(){this.$body=a("body"),this.$message=this.$("#message"),this.$passwordInput=this.$('input[name="password"]'),this.$disabledInputs=a("input:not(.resume-session-tmpl *, :disabled)").attr("disabled","disabled")},_refreshCsrfToken:function(e){return $appData.csrf?a.ajax({method:"GET",url:"".concat($appData.globalConfig.apiRoot,"/csrf_token")}).done((function(t){return $appData.csrf=t.csrfToken,a.ajaxSetup({headers:{accept:"application/json","x-csrf-token":$appData.csrf}}),e()})).fail(e):e()},onRemove:function(){this.$disabledInputs.removeAttr("disabled")}})},174989:(e,t,i)=>{"use strict";i(202008),i(426099),i(874423),i(21699),i(944114);var n=i(96190),a=i(274692),r=i(460296);e.exports=r.extend({template:i(77760),className:"select-checkboxes-menu-tmpl",events:{"change input.option":"onSelectionChange"},updateSelectedOptionsOnUi:function(){var e=this;this.selectedOptions=n.filter(this.selectedOptions,(function(t){return e.getOption(t)}));var t=this;this.$inputs.each((function(){n.includes(t.selectedOptions,this.value)&&a(this).prop("checked",!0)}))},updateSelectedOptionsArray:function(e){e.preventDefault();var t=e.currentTarget,i=t.checked,a=t.value,r=this.selectedOptions.indexOf(a);i&&r<0&&this.selectedOptions.push(a),!i&&r>-1&&n.pull(this.selectedOptions,a)},selectAllOptionsOnUi:function(){this.$inputs.prop("checked",!0)},clearAllOptionsOnUi:function(){this.$inputs.prop("checked",!1)}})},865148:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(747764),i(202008),i(426099),i(250113),i(123792),i(962953),i(962010),i(390786);var a=i(274692),r=i(96190),o=i(947432),s=i(126186),l=i(892005),d=i(40785),c=i(289693);e.exports=l.extend({template:i(892549),className:"select-date-menu-tmpl",features:{dismissOnOutsideClick:{enabled:!0,toggleOnParentClick:!0,ignoredElements:[".datepicker"]}},maxDigitLimit:5,events:{'change input[type="radio"]':"onSelectionChange","change .date-components > input":"onDateChanged","keyup .date-components > input":"onDateKeyup","blur .date-components > input":"onDateChanged",'change input[name="period"]':"onTimeChanged",'keyup input[name="period"]':"onTimeChanged",'blur input[name="period"]':"onTimeBlured",'change select[name="unit"]':"onTimeChanged"},locals:function(){var e=l.prototype.locals.call(this);return r.assign({},e,{datePlaceholder:$appData.datePickerDatePlaceholder,timeTooltipTitle:d.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_digits"},{context:{digitLimit:this.maxDigitLimit}})})},onInit:function(e){l.prototype.onInit.call(this,e),this.setDefaultSelectedOptions()},setDefaultSelectedOptions:function(){r.isEmpty(this.selectedOptions)&&(this.selectedOptions=[{value:"all"}]),this.originalSelectedOptions=r.cloneDeep(this.selectedOptions)},_initDatePickers:function(){this.$(".input-daterange").each((function(){a(this).datepicker({autoclose:!0,format:$appData.datePickerDateFormat,maxViewMode:2,keepEmptyValues:!0,todayHighlight:!0,forceParse:!1})}))},getMaskConfig:function(){return r.defaults({integerDigits:this.maxDigitLimit,allowMinus:!1},$appData.globalConfig.defaultNumberMask)},onRendered:function(){var e=this.getMaskConfig();return new s(e).mask('input[name="period"]'),this._initDatePickers(),l.prototype.onRendered.call(this)},updateSelectedOptionsOnUi:function(){var e=this.selectedOptions[0],t=this.$inputs.filter("[value=".concat(e.value,"]"));t.attr("checked",!0),this._toggleDateTimeDisplay(t),e.startDate&&e.endDate&&(this.$dateTimeComponent.children('input[name="startDate"]').data("datepicker").setDate(o(e.startDate).toDate()),this.$dateTimeComponent.children('input[name="endDate"]').data("datepicker").setDate(o(e.endDate).toDate())),e.period&&e.unit&&(this.$dateTimeComponent.children('input[name="period"]').val(e.period),this.$dateTimeComponent.children('select[name="unit"]').val(e.unit))},shouldDisableDoneBtn:function(){var e=this.originalSelectedOptions[0],t=this.selectedOptions[0],i=r.find(this.allOptions,{value:t.value}),n=i.displayTimePeriod,a=i.displayDates;return!(!n||t.period)||!(!a||t.startDate&&"Invalid date"!==t.startDate&&t.endDate&&"Invalid date"!==t.endDate)||!!e&&r.chain(t).keys().every((function(i){return t[i]===e[i]})).value()},_toggleDateTimeDisplay:function(e){this.$dateTimeComponent&&this.$dateTimeComponent.removeClass("selected"),this.$dateTimeComponent=e.parent().next(),this.$dateTimeComponent.addClass("selected")},updateSelectedOptionsArray:function(e){e.preventDefault();var t=e.currentTarget.value,i=r.find(this.allOptions,function(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},this.valueProperty,t));this.selectedOptions=[{value:i[this.valueProperty]}],this._toggleDateTimeDisplay(this.$(e.currentTarget))},applyDateChanges:function(e){var t=e.field,i=e.value,n=e.expectValidDate,r=e.currentTarget,s=(r=a(r)).data("datepicker").getFormattedDate(),l=this.selectedOptions[0];if(i===l.value){var d=o(s,$appData.dateFormat);if(l[t]=d.format(c.recordDateFormat),n){var u=r.val();if(u&&!o(u,$appData.dateFormat,!0).isValid())return r.val(null),l[t]=null,void(s=null)}"startDate"===t&&this.$dateTimeComponent.children('input[name="endDate"]').data("datepicker").setStartDate(s),"endDate"===t&&this.$dateTimeComponent.children('input[name="startDate"]').data("datepicker").setEndDate(s),this.updateDoneBtn()}},onDateChanged:function(e){e.preventDefault();var t=e.currentTarget,i=e.currentTarget,n=i.name,a=i.dataset.value;this.applyDateChanges({field:n,value:a,expectValidDate:!0,currentTarget:t})},onDateKeyup:function(e){e.preventDefault();var t=e.currentTarget,i=e.currentTarget,n=i.name,a=i.dataset.value;this.applyDateChanges({field:n,value:a,expectValidDate:!1,currentTarget:t})},onTimeChanged:function(e){e.preventDefault();var t=e.currentTarget.dataset.value,i=this.selectedOptions[0];if(t===i.value){var n=this.$(e.currentTarget).parent(),a=n.find('input[name="period"]'),r=a.val(),o=n.find('select[name="unit"]').val();if(r.length>this.maxDigitLimit)return a.val(i.period),void a.tooltip("show");r.length<this.maxDigitLimit&&a.tooltip("hide"),i.period=parseInt(r,10),i.unit=o,this.updateDoneBtn()}},onTimeBlured:function(e){this.$(e.currentTarget).parent().find('input[name="period"]').tooltip("hide")}})},611121:(e,t,i)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(250113),i(426099),i(202008),i(428706),i(390786);var r=i(274692),o=i(96190),s=i(947432),l=i(126186),d=i(865148),c=i(766821);e.exports=d.extend({template:i(902692),className:"select-datetime-menu-tmpl",events:{'change input[type="radio"]':"onSelectionChange","change .datetime-component > input":"onDateTimeChanged","keyup .datetime-component > input":"onDateTimeChangedThrottled","change .datetime-component > .time-component > select":"onDateTimeChanged","change .datetime-component > .time-component > input":"onDateTimeChanged","keyup .datetime-component > .time-component > input":"onDateTimeChangedThrottled",'change .time-components > input[name="period"]':"onTimeChanged",'keyup .time-components > input[name="period"]':"onTimeChanged",'change .time-components > select[name="unit"]':"onTimeChanged"},locals:function(){var e=d.prototype.locals.call(this);return o.assign({},e,{datePlaceholder:$appData.datePickerDateTimePlaceholder,displayAmPm:this.shouldDisplayAmPm()})},shouldDisplayAmPm:function(){return c.is12HourFormat($appData.dateTimeFormat)},_initDatePickers:function(){this.$(".input-daterange").each((function(){r(this).datepicker({autoclose:!0,format:$appData.datePickerDateTimeFormat,maxViewMode:2,keepEmptyValues:!0,inputs:r(this).find(".datetime-component .date-component"),todayHighlight:!0,forceParse:!1})}))},_initTimeMasks:function(){this.$(".datetime-component > .time-component > input").each((function(){l("99:99").mask(this)}))},onRendered:function(){this._initTimeMasks(),d.prototype.onRendered.call(this)},_getDateTimeValuesDeconstructed:function(e){var t=c.getDateFormat($appData.dateTimeFormat),i=c.getTimeFormat($appData.dateTimeFormat),n=s(e);return[n.format(t),n.format(i),n.format("A")]},updateSelectedOptionsOnUi:function(){var e=this.selectedOptions[0],t=this.$inputs.filter("[value=".concat(e.value,"]"));if(t.attr("checked",!0),this._toggleDateTimeDisplay(t),e.startDateTime&&e.endDateTime){var i=n(this._getDateTimeValuesDeconstructed(e.startDateTime),3),a=i[0],r=i[1],o=i[2];this.$dateTimeComponent.find('input[name="startDate"]').data("datepicker").setDate(a),this.$dateTimeComponent.find('.time-component > input[name="startTime"]').val(r),this.$dateTimeComponent.find('.time-component > select[name="startAmpm"]').val(o);var s=n(this._getDateTimeValuesDeconstructed(e.endDateTime),3),l=s[0],d=s[1],c=s[2];this.$dateTimeComponent.find('input[name="endDate"]').data("datepicker").setDate(l),this.$dateTimeComponent.find('.time-component > input[name="endTime"]').val(d),this.$dateTimeComponent.find('.time-component > select[name="endAmpm"]').val(c)}e.period&&e.unit&&(this.$dateTimeComponent.children('input[name="period"]').val(e.period),this.$dateTimeComponent.children('select[name="unit"]').val(e.unit))},shouldDisableDoneBtn:function(){var e=this.selectedOptions[0],t=e.value,i=e.startDateTime,n=e.endDateTime;return!(!o.find(this.allOptions,{value:t}).displayDateTimes||i&&n)||d.prototype.shouldDisableDoneBtn.call(this)},onDateTimeChangedThrottled:o.throttle((function(e){e.preventDefault();var t=e.currentTarget,i=e.currentTarget.dataset.value;this.applyDateTimeChanges({value:i,expectValidDate:!1,currentTarget:t})}),$appData.globalConfig.defaultThrottle,{trailing:!1}),onDateTimeChanged:function(e){e.preventDefault();var t=e.currentTarget,i=e.currentTarget.dataset.value;this.applyDateTimeChanges({value:i,expectValidDate:!0,currentTarget:t})},applyDateTimeChanges:function(e){var t=e.value,i=e.expectValidDate,n=e.currentTarget,a=this.selectedOptions[0],r=c.getDateFormat($appData.dateTimeFormat),l=c.getTimeFormat($appData.dateTimeFormat);if(t===a.value){var d=this.$(n).parents(".datetime-component"),u=d.attr("name"),p=d.children(":first-child").val(),f=d.find(".time-component > input"),h=d.find(".time-component > select"),m=f.val(),g=h.val();if(i&&p&&!s(p,$appData.dateFormat,!0).isValid()&&(p=null,d.children(":first-child").val(null)),!o.isEmpty(m)&&s(m,"HH:mm",!0).isValid()&&!s(m,"hh:mm",!0).isValid()){var y=s("".concat(m),"HH:mm");m=y.format(l),g=y.format("A"),f.val(m),h.val(g)}if(p&&m&&s(m,l,!0).isValid()){var v=s("".concat(p," ").concat(m," ").concat(g),"".concat(r," hh:mm A"));if(a[u]=v.toISOString(),"startDateTime"===u&&this.$dateTimeComponent.find('input[name="endDate"]').data("datepicker").setStartDate(p),"endDateTime"===u){this.$dateTimeComponent.find('input[name="startDate"]').data("datepicker").setEndDate(p);var b=this.$dateTimeComponent.find('input[name="startDate"]').val(),w=this.$dateTimeComponent.find('input[name="startTime"]').val(),A=this.$dateTimeComponent.find('.time-component > select[name="startAmpm"]').val(),C=s("".concat(b," ").concat(w," ").concat(A),"".concat(r," hh:mm A"));v.isBefore(C)&&(f.val(w),h.val(A),a[u]=s("".concat(p," ").concat(w," ").concat(A),"".concat(r," hh:mm A")).toISOString())}this.updateDoneBtn()}}}})},291485:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(747764),i(202008),i(426099),i(250113),i(962010),i(123792),i(962953);var a=i(96190),r=i(126186),o=i(892005);e.exports=o.extend({template:i(25240),className:"select-number-menu-tmpl",events:{'change input[type="radio"]':"onSelectionChange","change .number-components > input":"onNumberChanged","keyup .number-components > input":"onNumberChanged"},getMaskConfig:function(){return{alias:"numeric",autoGroup:!0,digits:6,groupSeparator:",",groupSize:3,integerDigits:13,max:9999999999999.99,nullable:!0,rightAlign:!1,unmaskAsNumber:!0}},onInit:function(e){o.prototype.onInit.call(this,e),this.setDefaultSelectedOptions(),this.inputMask=new r(this.getMaskConfig())},setDefaultSelectedOptions:function(){a.isEmpty(this.selectedOptions)&&(this.selectedOptions=[{value:"all"}]),this.originalSelectedOptions=a.cloneDeep(this.selectedOptions)},onRendered:function(){o.prototype.onRendered.call(this);var e=this;this.$(".number-components > input").each((function(){e.inputMask.mask(this)}))},updateSelectedOptionsOnUi:function(){var e=this.selectedOptions[0],t=this.$inputs.filter("[value=".concat(e.value,"]"));t.attr("checked",!0),this._toggleNumberDisplay(t),a.isFinite(e.startNumber)&&this.$numberComponent.find('input[name="startNumber"]').val(e.startNumber),a.isFinite(e.endNumber)&&this.$numberComponent.find('input[name="endNumber"]').val(e.endNumber)},_toggleNumberDisplay:function(e){this.$numberComponent&&this.$numberComponent.removeClass("selected"),this.$numberComponent=e.parent().next(),this.$numberComponent.addClass("selected")},updateSelectedOptionsArray:function(e){e.preventDefault();var t=e.currentTarget.value,i=a.find(this.allOptions,function(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},this.valueProperty,t));this.selectedOptions=[{value:i[this.valueProperty]}],this._toggleNumberDisplay(this.$(e.currentTarget))},onNumberChanged:function(e){e.preventDefault();var t=e.currentTarget,i=t.name,n=t.dataset.value,a=this.selectedOptions[0];n===a.value&&(a[i]=e.currentTarget.inputmask.unmaskedvalue(),this.updateDoneBtn())},shouldDisableDoneBtn:function(){var e=this.originalSelectedOptions[0],t=this.selectedOptions[0],i=a.find(this.allOptions,{value:t.value}),n=i.displayNumber,r=i.displayNumbers;return!(!n||a.isFinite(t.startNumber))||!(!r||a.isFinite(t.startNumber)&&a.isFinite(t.endNumber))||!!e&&a.chain(t).keys().every((function(i){return t[i]===e[i]})).value()}})},596801:(e,t,i)=>{"use strict";var n=i(291485);e.exports=n.extend({template:i(779512),getMaskConfig:function(){return{alias:"numeric",autoGroup:!0,digits:0,groupSeparator:",",groupSize:3,integerDigits:15,max:999999999999999,nullable:!0,rightAlign:!1,unmaskAsNumber:!0}}})},460296:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(962010),i(690906),i(45700),i(689572),i(102892),i(879432),i(202008),i(83851),i(681278),i(16280),i(726910),i(327495),i(5746),i(962062),i(944114),i(426099),i(423500),i(123792),i(962953),i(884864),i(757465),i(87745),i(938781),i(671761),i(725440),i(250113),i(196245),i(177392);var d=i(96190),c=i(274692),u=i(122268),p=i(336722),f=i(325425),h=i(40785),m=i(304722),g=i(500769);e.exports=f.extend({className:"select-options-menu-tmpl open",features:{dismissOnOutsideClick:{enabled:!0,toggleOnParentClick:!0}},events:{"click .select-all-btn":"onSelectAllClick","click .clear-all-btn":"onClearAllClick","change input.search":"onSearchChange","paste input.search":"onSearchChange","keyup input.search":"onSearchChange",keyup:"onEsc",keydown:"onEsc"},onBindEvents:function(){c("body :focusable").on("focus",this.onGlobalFocus)},onUnbindEvents:function(){c("body :focusable").off("focus",this.onGlobalFocus)},focusDesired:function(e){var t=this.$(e).get(0);if(t){if("radio"===t.type){var i=this.$('input[type="radio"]:checked').get(0);if(i)return void i.focus()}t.focus()}},onGlobalFocus:function(e){if(!this.$el[0].contains(e.target)){var t=e.relatedTarget;t&&this.$el[0].contains(t)&&(c(":focusable").index(e.target)<c(":focusable").index(t)?this.focusDesired(":focusable:last"):this.focusDesired(":focusable:first"))}},onEsc:function(e){"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),"keyup"===e.type&&this.remove({event:e}))},locals:function(){var e={options:this.allOptions,position:this.position,valueProperty:this.valueProperty,textProperty:this.textProperty};return this.enableSearch&&(e.searchPlaceholder=this.getSearchPlaceholder()),e},rules:{enableSearch:function(){return!!this.enableSearch},showSelectAllBtn:function(){return!!this.showSelectAllBtn},showClearAllBtn:function(){return!!this.showClearAllBtn},showSearchIcon:function(){return!!this.showSearchIcon}},onInit:function(e){var t=e.template,i=e.allOptions,n=e.selectedOptions,a=void 0===n?[]:n,r=e.optionsFilter,o=e.allowNoOptionsSelected,l=void 0!==o&&o,c=e.valueProperty,u=void 0===c?"field":c,p=e.textProperty,f=void 0===p?"caption":p,h=e.enableSearch,m=void 0===h||h,g=e.searchPlaceholder,y=e.searchValueClass,v=void 0===y?"caption":y,b=e.parentTriggerElement,w=e.position,A=void 0===w?"right":w,C=e.showSearchIcon,k=void 0===C||C,x=e.showSelectAllBtn,_=void 0!==x&&x,E=e.showClearAllBtn,I=void 0!==E&&E,S=e.overrideSearch,D=void 0!==S&&S,F=e.sortList,O=void 0===F||F,B=e.onDoneClick,T=void 0===B?d.noop:B,N=e.onCancelClick,P=void 0===N?d.noop:N,R=e.onRemove,j=void 0===R?d.noop:R,M=e.onToggleChange,Q=void 0===M?d.noop:M,V=e.enableToggle,L=void 0!==V&&V,U=e.toggleOptions;if(!i)throw new Error("allOptions required");t&&(this.template=t),this.selectedOptions=s(a),this.valueProperty=u,this.textProperty=f,this.allOptions=this.getOptions(i,a,r),this.originalSelectedOptions=d.sortBy(a),this.allowNoOptionsSelected=l,this.parentTriggerElement=b,this.position=A,this.enableSearch=m,this.searchPlaceholder=g,this.searchValueClass=v,this.showSelectAllBtn=_,this.showClearAllBtn=I,this.showSearchIcon=k,this.overrideSearch=D,this.sortList=O,this.onDoneClick=T,this.onCancelClick=P,this.onRemoveFn=j,this.documentOnKeypress=this.onKeypress.bind(this),this.onGlobalFocus=this.onGlobalFocus.bind(this),this.enableToggle=L,this.toggleOptions=U,this.onToggleChange=Q},getOptions:function(e,t,i){if(!d.isFunction(i))return e;var n=i(e,t);if(!d.isArray(n))throw new Error("optionsFilter must return an array");return n},onRendered:function(){var e=this,t=c.Deferred();return u.parallel([function(t){return e.renderDoneAndCancel(t)},function(t){return e.renderToggle(t)}],(function(i){if(i)return t.reject();if(e.$btnGroup=e.$("#all-options-view .btn-group"),e.$inputs=e.$(".option-items input"),e.$doneBtn=c(".done-add-options-btn"),e.showSelectAllBtn&&(e.$selectAllBtn=e.$(".select-all-btn")),e.showClearAllBtn&&(e.$clearAllBtn=e.$(".clear-all-btn")),(e.showSelectAllBtn||e.showClearAllBtn)&&e.$el.addClass("control-buttons"),e.enableSearch&&!e.overrideSearch){var n={valueNames:[e.searchValueClass],item:"<li></li>"};e.allOptionsList=new p(e.$("#all-options-view")[0],n),e.sortList&&e.allOptionsList.sort(e.textProperty,{order:"asc"}),e.updateListValues(e.allOptionsList),c(".search").on("keyup",(function(t){var i=t.target||t.srcElement,n=d.escape(i.value);e.allOptionsList.search(n)}))}return setTimeout((function(){e.focusDesired(":focusable:first")}),0),c(document).on("keypress",e.documentOnKeypress),e.updateSelectedOptionsOnUi(),e.updateBtnStates(),t.resolve()})),t.promise()},onRemove:function(e){c(document).off("keypress",this.documentOnKeypress),this.onRemoveFn(e)},renderToggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.noop;if(!this.enableToggle)return e();this.originalToggleValue=this.toggleOptions.value,this.selectedToggleValue=this.originalToggleValue,this.toggleView=new g(r(r({},this.toggleOptions),{},{onToggleChange:this.onToggleSelectionChange.bind(this)})),this.addSubView(this.toggleView).render(this.$(".toggle-container")).done(e)},renderDoneAndCancel:function(e){var t=this,i=new m({btnClasses:"btn btn-primary done-add-options-btn",ariaLabel:h.translateKey("done"),caption:h.translateKey("done"),onClicked:function(e,i){t.remove({event:i}),t.onDoneClick(t.selectedOptions)},disabled:!0}),n=new m({btnTagName:"a",href:"#",btnClasses:"cancel-add-options-btn",btnWrapClasses:"cancel-slim-btn",ariaLabel:h.translateKey("cancel"),caption:h.translateKey("cancel"),onClicked:function(e,i){t.remove({event:i}),t.onCancelClick()}});return u.parallel([function(e){t.addSubView(i).render(t.$("#dropdown-footer")).done(e)},function(e){t.addSubView(n).render(t.$("#dropdown-footer")).done(e)}],e)},onSelectionChange:function(e){this.updateSelectedOptionsArray(e),this.updateBtnStates()},emptySelectedOptions:function(){this.selectedOptions.length=0},onSearchChange:function(e){if(this.$btnGroup){var t="search-text";c(e.target).val()?(this.$btnGroup.hide(),this.$el.addClass(t)):(this.$btnGroup.show(),this.$el.removeClass(t))}},onSelectAllClick:function(){var e;this.emptySelectedOptions();var t=d.sortBy(this.allOptions,this.textProperty),i=d.map(t,this.valueProperty);(e=this.selectedOptions).push.apply(e,s(i)),this.selectAllOptionsOnUi(),this.updateBtnStates()},onClearAllClick:function(){this.emptySelectedOptions(),this.clearAllOptionsOnUi(),this.updateBtnStates()},shouldDisableDoneBtn:function(){var e=!this.enableToggle||this.originalToggleValue===this.selectedToggleValue,t=d.isEqual(this.originalSelectedOptions,d.sortBy(this.selectedOptions))&&e,i=d.isEmpty(this.selectedOptions);return t||i&&!this.allowNoOptionsSelected},updateDoneBtn:function(){this.shouldDisableDoneBtn()?this.$doneBtn.prop("disabled",!0):this.$doneBtn.removeAttr("disabled")},updateSelectAllBtn:function(){if(this.showSelectAllBtn){var e=this.selectedOptions.length===this.allOptions.length;this.$selectAllBtn.attr("disabled",e)}},updateClearAllBtn:function(){if(this.showClearAllBtn){var e=d.isEmpty(this.selectedOptions);this.$clearAllBtn.attr("disabled",e)}},updateBtnStates:function(){this.updateDoneBtn(),this.updateSelectAllBtn(),this.updateClearAllBtn()},onKeypress:function(e){"Enter"!==e.key&&13!==e.keyCode||this.$el[0].contains(e.target)||this.remove({event:e})},getSearchPlaceholder:function(){return this.searchPlaceholder||h.translateKey({groupName:"placeholders",key:"search_fields"})},updateSelectedOptionsArray:function(e){throw new Error("updateSelectedOptionsArray not implemented")},updateSelectedOptionsOnUi:function(){throw new Error("updateSelectedOptionsOnUi not implemented")},selectAllOptionsOnUi:function(){throw new Error("selectAllOptionsOnUi not implemented")},clearAllOptionsOnUi:function(){throw new Error("clearAllOptionsOnUi not implemented")},onToggleSelectionChange:function(e){this.selectedToggleValue=e,this.updateBtnStates(),this.onToggleChange(e)},updateListValues:function(e){d.forEach(e.items,(function(e){var t=e.values();d.forEach(t,(function(e,i){var n=new RegExp("[-[\\]{}()*+?.,\\\\^$|#]","g");e.match(n)&&(t[i]=e.replace(n,"\\\\$&"))}))}))},getOption:function(e){return d.find(this.allOptions,o({},this.valueProperty,e))}})},892005:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(327495),i(690906),i(16280),i(202008),i(426099);var a=i(96190),r=i(460296);e.exports=r.extend({template:i(639932),className:"select-radio-menu-tmpl",events:{'change input[type="radio"]':"onSelectionChange"},locals:function(){var e=r.prototype.locals.call(this);return a.extend(e,{cid:this.cid})},updateSelectedOptionsOnUi:function(){var e,t,i=(e=this.selectedOptions,t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];this.$inputs.filter("[value=".concat(i,"]")).attr("checked",!0)},updateSelectedOptionsArray:function(e){e.preventDefault(),this.selectedOptions=[e.currentTarget.value]}})},173983:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(274692),l=i(460296),d=i(40785);e.exports=l.extend({template:i(364494),className:"select-text-menu-tmpl",events:{"change input.option":"onTextChange","paste input.option":"onTextChange","keyup input.option":"onTextChange","click .remove-search-icon":"onRemoveSearchClick"},locals:function(){return r(r({},l.prototype.locals.call(this)),{},{placeholder:d.translateKey("search_field_name",{context:{fieldName:this.model.get("caption")}})})},onRendered:function(){var e=this;l.prototype.onRendered.call(this).then((function(){var t=e.$("input.option");o.isEmpty(e.selectedOptions)||t.val(e.selectedOptions[0]),t.focus()}))},updateSelectedOptionsOnUi:function(){var e=this.selectedOptions[0];if(!o.isEmpty(e)){var t=this.$inputs[0];s(t).text(e)}},onTextChange:o.throttle((function(e){this.onSelectionChange(e)}),$appData.globalConfig.defaultThrottle),onRemoveSearchClick:function(){this.$("input.option").val(""),this.selectedOptions=[],this.updateBtnStates()},updateSelectedOptionsArray:function(e){this.selectedOptions[0]=e.target.value||e.currentTarget.value},shouldDisableDoneBtn:function(){return(this.selectedOptions[0]||"")===(this.originalSelectedOptions[0]||"")}})},582664:(e,t,i)=>{"use strict";i(426099),i(423500),i(672890);var n=i(96190),a=i(40785),r=i(460296);e.exports=r.extend({selectize:null,className:"select-text-multiple-menu-tmpl",template:i(432949),onRendered:function(){var e=this,t=this.$("select.option").selectize(this.getSelectizeOptions());this.selectize=t[0].selectize,r.prototype.onRendered.call(this).then((function(){e.selectize.on("change",e.onSelectionChange.bind(e)),e.selectize.$control.on("click",".remove",(function(){return!1})),e.selectize.focus()}))},getSelectizeOptions:function(){return{create:!0,delimiter:!1,plugins:["remove_button"],placeholder:a.translateKey("search_field_name",{context:{fieldName:this.model.get("caption")}})}},updateSelectedOptionsOnUi:function(){var e=this;this.selectize.clearOptions(),this.selectedOptions.forEach((function(t){e.selectize.addOption({text:t,value:t})})),this.selectize.setValue(this.selectedOptions,!0)},updateSelectedOptionsArray:function(e){e&&(this.selectedOptions=e,this.selectize.clearOptions())},shouldDisableDoneBtn:function(){var e=!this.enableToggle||this.originalToggleValue===this.selectedToggleValue;return n.isEqual(this.selectedOptions,this.originalSelectedOptions)&&e}})},538558:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(533110),i(944114),i(428706),i(962010),i(250113),i(426099),i(874423),i(21699);var r=i(96190),o=i(274692),s=i(174989),l=i(939994),d=i(40785);e.exports=s.extend({template:i(77760),className:"select-users-menu-tmpl",events:{"change input.option":"onSelectionChange"},getSearchFilters:function(e){var t=l.get({base:"sys",name:"user"}).query();return t.and([t.or([t.contains_partial("name",e),t.contains_partial("email",e)])]).toQuery()},selectizeLoadFn:function(e,t){o.ajax("".concat($appData.globalConfig.apiRoot,"/grid_search/sys_user"),{data:JSON.stringify({filters:this.getSearchFilters(e),size:20,from:0,entitiesSelectedFields:{sys_user:["id","name","email","active"]}}),contentType:"application/json",type:"POST"}).done((function(e){var i=r.sortBy(e.hits.hits,"_score").reverse(),n=[];return r.each(i,(function(e){e&&e._source&&!r.isEmpty(e._source)&&n.push(e._source)})),t(n)}))},initializeSelectizeSearchBar:function(){var e=this.$(".search").selectize({valueField:"id",labelField:"name",searchField:["name","email"],loadThrottle:"300",preload:!1,persist:!1,create:!1,plugins:["remove_button"],placeholder:d.translateKey({groupName:"placeholders",subgroupName:"components",key:"search_caption_user"}),maxItems:1,sortField:"name",load:this.selectizeLoadFn.bind(this),render:{option:function(e,t){return'<div id="selectize-'.concat(t(e.id),'" role="option" class="option"><span>').concat(t(e.name),"</span>\n\t\t\t\t\t").concat(e.email?'<span class="highlight-sub-search-block">\n\t\t\t\t\t'.concat(t(e.email),"</span>"):"","\n\t\t\t\t\t").concat(!1===e.active?'<span class="highlight-sub-search-block">\n\t\t\t\t\t'.concat(d.translateKey("inactive_user_profile"),"</span>"):"","</div>")}}});this.selectize=e[0].selectize},onRendered:function(){s.prototype.onRendered.call(this),this.initializeSelectizeSearchBar(),this.selectize.focus(),this.selectize.on("change",this.onSelectizeValueChange.bind(this))},markSelectionChecked:function(e){if(e){var t=r.find(this.$inputs,a({},this.valueProperty,e.value));t&&o(t).attr("checked",!0)}},onSelectizeValueChange:function(e){if(e){var t=this.selectize.options[e],i=this.getOption(e);i?this.selectedOptions.includes(e)||this.selectedOptions.push(e):(i=a(a(a({},this.textProperty,t.name),this.valueProperty,t.id),"secondaryCaption",t.email),this.allOptions.push(i),this.selectedOptions.push(e),this.$(".option-items").prepend(this.getOptionHtml(i)),this.$inputs=this.$(".option-items input")),this.selectize.clear(),this.updateBtnStates(),this.markSelectionChecked(i)}},getOptionHtml:function(e){var t=e[this.textProperty],i=e[this.valueProperty],n=e.secondaryCaption,a='<li role="none">\n\t\t\t<label for="'.concat(this.valueProperty,'" class="events-disabled">\n\t\t\t\t<input class="option" type="checkbox" id="').concat(i,'" value="').concat(i,'" aria-label="').concat(i,'"/>\n\t\t\t\t<span class="caption">').concat(t,'</span>\n\t\t\t\t&nbsp;&nbsp;<em class="secondary-caption">').concat(n,"</em>\n\t\t\t</label>\n\t\t</li>");return d.sanitizeHtml(a)}})},409:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280);var r=i(274692),o=i(96190),s=i(325425),l=i(995803);e.exports=s.extend({subcategoryViews:{},keyboardNavigation:!1,onInit:function(e){if(o.isEmpty(this.subcategoryViews))throw new Error("subcategoryViews is Required.");this.options=null!=e?e:{}},events:{"click #subcategory-selector li[data-navigation]":"onNavigationClick",'keydown #subcategory-selector a[role="tab"]:focus':"onKeyboardNavigation"},onNavigationClick:function(e){var t=r(e.currentTarget).attr("data-navigation");this._loadSubcategoryView(t)},_loadSubcategoryView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.subcategoryViews[e])throw new Error("View not found: ".concat(e));var r=new(0,this.subcategoryViews[e])(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({model:this.model,readonly:this.readonly},o.merge(this.options,t)));this.currentSubView&&this.removeSubView(this.currentSubView),this.currentSubView=this.addSubView(r,{updatePageTitle:!0,parentCaption:this.parentCaption||$appData.globalConfig.systemName||"Case IQ"}),this.currentSubView.render(this.$("#content-container")),this._setTabAsActive(e,i)},_setTabAsActive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.$("#subcategory-selector li.active"),n=this.$('#subcategory-selector li[data-navigation="'.concat(e,'"]'));if(i.removeClass("active"),n.addClass("active"),this.keyboardNavigation){var a=i.children('a[role="tab"]').eq(0),r=n.children('a[role="tab"]').eq(0),o=t.shouldFocus,s=void 0!==o&&o;l.hideTab(a),l.showTab(this,r,s)}},onKeyboardNavigation:o.throttle((function(e){if(this.keyboardNavigation&&l.isNavigationKey(e.key)){var t=l.getTabsMap(this),i=l.getNextView(e.key,t);this._loadSubcategoryView(i,this.options,{shouldFocus:!0})}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})})},884260:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(16280);var o=i(96190),s=i(274692),l=i(122268),d=i(325425),c=i(608758);e.exports=d.extend({tagName:"li",className:"tab-header-container",template:i(208809),attributes:{role:"presentation"},fieldIcons:i(448420),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.tab)throw new Error("Tab is required");this.tab=e.tab},locals:function(){return{tab:this.tab}},renderFieldIcons:function(e){var t=this,i=t.locals?t.locals():{};l.eachSeries(t.fieldIcons,(function(e,n){var a=e.locals?e.locals():{},s=r(r({},i.tab),a);if(!o.isFunction(e.renderRule)||!e.renderRule(s,t.model))return n();c.render(e.template,s,(function(e,i){if(e)return n(e);t.$(".field-icon-container")&&t.$(".field-icon-container").append(i),n()}))}),(function(t){return e(t)}))},onRendered:function(){var e=s.Deferred();return this.renderFieldIcons((function(t){t&&e.reject(t),e.resolve()})),e.promise()}})},500769:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706);var r=i(274692),o=i(96190),s=i(40785),l=i(325425);e.exports=l.extend({template:i(566140),className:"toggle-view-tmpl",events:{"change input":"onChange"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.greyOnOff,i=e.showCaptionsOnButton,n=void 0===i||i,a=e.checkedCaption,r=void 0===a?s.translateKey({key:"yes"}):a,l=e.uncheckedCaption,d=void 0===l?s.translateKey({key:"no"}):l,c=e.tooltip,u=e.value,p=e.onToggleChange,f=void 0===p?o.noop:p,h=e.ariaLabel,m=void 0===h?"Toggle between ".concat(r," and ").concat(d):h;this.greyOnOff=t,this.showCaptionsOnButton=n,n&&(this.checkedCaption=r,this.uncheckedCaption=d),this.tooltip=c,this.value=u,this.onToggleChange=f,this.ariaLabel=m},onChange:function(e){this.value=r(e.currentTarget).prop("checked"),this.onToggleChange(this.value)},locals:function(){return{value:this.value,greyOnOff:this.greyOnOff,showCaptionsOnButton:this.showCaptionsOnButton,checkedCaption:this.checkedCaption,uncheckedCaption:this.uncheckedCaption,ariaLabel:this.ariaLabel}},onRendered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop;this.tooltip&&this.$(".slider").tooltip(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({container:this.$(".slider")},this.tooltip)),e()}})},922289:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(45700),i(689572),i(102892),i(83851),i(681278),i(16280),i(250113),i(426099),i(962062),i(202008),i(874423),i(21699),i(944114),i(123792),i(936033),i(879432),i(531415),i(55815),i(964979),i(779739),i(271678),i(423500),i(428706),i(533110),i(311927);var s=i(274692),l=i(96190),d=i(122268),c=i(325425),u=i(40785),p=i(321912);e.exports=c.extend({className:"transition-conditions-tmpl",template:i(757072),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.entityModel)throw new Error("entityModel is missing.");if(!e.transitionId)throw new Error("transitionId is required.");this.conditionId=e.conditionId,this.entityModel=e.entityModel,this.transitionId=e.transitionId,this.conditionTypes=[],this.conditionResults=[],this.hasFailedConditions=!1,this.mandatoryFields=e.mandatoryFields||[],this.missingFields=e.missingFields||[],this.entDef=this.entityModel.getEntityDefinition()},getConditionInfo:function(e){var t=l.find($appData.conditionTypesInfo,{conditionType:e});return l.pick(t,["translationKeyInfo","requiresContext"])},getFilteredConditionTypes:function(e){var t=this;this.fetchConditionTypes((function(i,n){if(i)return e(i);var a=l.map(t.entDef.fields(),"id"),r=l.filter(n,(function(e){if("filter"!==l.get(e,"type"))return!0;var t=l.get(e,"typeData.filterDenormalized",[]);return l.filter(t,(function(e){return l.includes(a,e.fieldId)})).length>0}));return e(null,r)}))},locals:function(e){var t=this,i=this;d.parallel({conditionTypesInfo:function(e){var t={id:"mandatory-fields",conditionType:"mandatoryFields",type:"mandatoryFields",translationKeyInfo:{groupName:"condition",subgroupName:"types",key:"mandatoryFields"}},o=[],s=l.map(i.entDef.fields(),"field");return l.intersection(i.mandatoryFields,s).length>0&&(i.conditionTypes.push(t),o.push(t)),i.conditionId?i.getFilteredConditionTypes((function(t,s){var d;return t?e(t):((d=i.conditionTypes).push.apply(d,r(s)),l.each(s,(function(e){o.push(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({id:e.id,conditionType:e.type},i.getConditionInfo(e.type)))})),e(null,o))})):e(null,[t])},hasFailedConditions:function(e){var t={id:"mandatory-fields",type:"mandatoryFields",failed:i.missingFields.length>0};if(i.mandatoryFields.length>0&&i.conditionResults.push(t),!i.conditionId)return i.hasFailedConditions=i.missingFields.length>0,void e(null,i.missingFields.length>0);i.validateCondition((function(t,n){var a;if(t)return e(t);var o=l.find(n,["failed",!0])||i.missingFields.length>0;return(a=i.conditionResults).push.apply(a,r(n)),i.hasFailedConditions=!!o,e(null,i.hasFailedConditions)}))}},(function(i,n){if(i)throw i;var a=n.conditionTypesInfo,r=n.hasFailedConditions;return e({hasActiveFilters:a.length>0,conditionTypes:t.getUpdatedEntityEvaluatorsTranslationKeys(a),hasFailedConditions:r,allCriteriaMetText:u.escapedTranslateKey("all_criteria_met")})}))},getUpdatedEntityEvaluatorsTranslationKeys:function(e){var t=this,i=structuredClone(e),n=this.entDef.entityEvaluators;return l.forEach(i,(function(e){var i=e.conditionType,a=n[i];if(a&&a.getAlternateCaption){var r,o=l.find(t.conditionTypes,{type:i}),s=null===(r=l.find(t.conditionResults,{conditionType:i}))||void 0===r?void 0:r.failed;e.translationKeyInfo.key=a.getAlternateCaption(o,s)}})),i},onRendered:function(){var e=this;s("#criteria-collapse").on("show.bs.collapse",(function(){s("#criteria-expand").remove()})),this.hasFailedConditions&&s("#confirm").prop("disabled",!0),this.conditionTypes.forEach((function(t){var i;"filter"===t.type&&e.renderConditionFilter(t),"mandatoryFields"===t.type&&e.renderMandatoryFields(),null!==(i=t.typeData)&&void 0!==i&&i.requiresContextFields&&e.renderConditionContext(t)})),this.displayConditionResults(this.conditionResults)},validateCondition:function(e){var t={entityRecordId:this.entityModel.id,entityName:this.entityModel.getEntityCanon()};s.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/entity_conditions/").concat(this.conditionId),data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json"}).done((function(t){e(null,t)}))},renderConditionContext:function(e){var t=e.type,i=e.id,n=e.typeData.mustMatchAll,a=this.entDef.entityEvaluators[e.type],r=this.$(".context-container-".concat(t));r.html("");var o="<p><ul>",s=a.getContextInfo({conditionType:e}),d=[],c=l.find(this.conditionResults,{id:i}),p=c.additionalData,f=void 0===p?{}:p,h=c.failed;l.forEach(s,(function(e){var t=e.translationInfo,i=e.inactiveEntity,a=e.entityCanon,r=u.escapedTranslateKey(t),o=f[a];n&&h===o||d.push({translation:r,inactiveEntity:i})}));var m=l.sortBy(d,"translation");l.forEach(m,(function(e){var t=e.translation,i=e.inactiveEntity;o+="<li ".concat(i?'class="inactiveEntity"':"",' aria-label="').concat(t,'">').concat(t,"</li>")})),o+="</ul></p>",r.append(o)},renderConditionFilter:function(e){var t=this,i=l.get(e,"typeData.filterDenormalized",[]),n=l.get(e,"typeData.mustMatchAll")?u.escapedTranslateKey("_and"):u.escapedTranslateKey("_or");this.$(".filter-row-container-read").html("");var a="<p><ul>";p.setFilterChildrenFormattedValues(i,this.entDef,{useDefaultTimezone:!0}),i.forEach((function(e,r){var o=r===i.length-1,s=l.find(t.entDef.fields(),{id:e.fieldId});if(s){var d=u.translateFieldCaption({fieldName:s.field,entCanon:t.entityModel.getEntityCanon()}),c=u.escapedTranslateKey({groupName:"search",subgroupName:"operators",key:e.operator}).toLowerCase(),p=e.fieldValuesFormatted.join(" and "),f="".concat(d," ").concat(c," ").concat(p);o||(f+=" ".concat(n," ")),a+='<li aria-label="'.concat(f,'">'),a+="<b>".concat(d,"</b> ").concat(c," <b>").concat(p,"</b> "),o||(a+=" ".concat(n," ")),a+="</li>"}})),a+="</ul></p>",this.$(".filter-row-container-read").append(a)},renderMandatoryFields:function(){var e=this,t=this.$(".mandatory-fields-row-container-read");t.html("");var i="<p><ul>";this.missingFields.forEach((function(t){var n=e.entDef.getFieldInfo(t),a=u.translateFieldCaption({fieldName:n.field,entCanon:e.entityModel.getEntityCanon()});i+='<li aria-label="'.concat(a,'">').concat(a,"</li>")})),i+="</ul></p>",t.append(i)},fetchConditionTypes:function(e){return s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/condition/").concat(this.conditionId,"/types"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){e(null,t)})).fail(e)},displayConditionResults:function(e){var t=this;l.each(e,(function(e){var i,n=t.$("div[data-id=".concat(e.id,"]"));e.failed?(i=u.escapedTranslateKey("criteria_not_met"),n.prepend('<span class="condition-result-fail condition-icon" aria-label="'.concat(i,'">')+'<i class="fa fa-icon fa-fw fa-lg fa-times-circle"></i></span>')):(i=u.escapedTranslateKey("criteria_met"),n.prepend('<span class="condition-result-pass condition-icon" aria-label="'.concat(i,'">')+'<i class="fa fa-icon fa-fw fa-lg fa-check-circle"></i></span>'))}))}})},765048:(e,t,i)=>{"use strict";i(16280),i(428706),i(962062),i(533110),i(250113),i(426099);var n=i(274692),a=i(96190),r=i(402193),o=i(325425),s=i(217628),l=i(40785),d=i(922289),c=i(344427),u=i(233518),p=i(680553),f=i(450048);e.exports=o.extend({template:i(85724),className:"transition-modal-tmpl",formConfigName:"transition-modal-form",features:{validation:!0},events:{"click #confirm":"onConfirmClick"},rules:{hasReasons:function(){return!a.isEmpty(this.model.get("reasons"))}},onBindEvents:function(){this.entityModel&&this.entityModel.on("validated",this.onValidated,this)},onUnbindEvents:function(){this.entityModel&&this.entityModel.off("validated",this.onValidated,this)},locals:function(e){var t=this.model.get("name"),i=this.model.get("description");e({confirmName:l.translateKey("confirm"),cancelName:l.translateKey("cancel"),title:t,description:i||l.translateKey("you_sure",{context:{todoThing:t}}),hasValidationError:!!this.validationError})},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.entityModel)throw new Error("entityModel is required.");if(!e.transition)throw new Error("transition is required.");this.entityModel=e.entityModel,this.model=new s(e.transition),this.validationError=e.validationError,this.missingFields=e.validationError&&e.validationError.parambulator.property,this.excludeFields=e.excludeFields,this.confirmBtnClicked=!1},validateEntityModel:function(){this.entityModel&&this.entityModel.validate(this.entityModel.attributes),this.loader.hide()},hasConditionTypes:function(e){var t=this.model.get("conditionId"),i=this.model.get("mandatoryFields");if(!t)return e(null,i&&i.length>0);var a="".concat($appData.globalConfig.apiRoot,"/condition/").concat(t,"/types");return n.ajax({url:a,method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){return e(null,t.length>0)})).fail(e)},renderConditionsView:function(){var e=this;this.loader.show({overlay:!0});var t=this,i=a.difference(this.model.get("mandatoryFields"),this.excludeFields),r=l.getEntDef(this.model.get("workflowId__entityName")),o=a.map(r.fields(),"field"),s=a.intersection(i,o).length>0;return this.model.get("conditionId")||s?this.hasConditionTypes((function(a,r){if(a)throw e.loader.hide(),a;if(!r&&!s)return e.validateEntityModel();var o=n.Deferred(),l=new d({conditionId:t.model.get("conditionId"),entityModel:t.entityModel,transitionId:t.model.get("id"),mandatoryFields:i,missingFields:e.missingFields}),c=t.$(".conditions-container");return t.addSubView(l).render(c).done((function(){e.loader.hide(),o.resolve()})).fail((function(){e.loader.hide(),o.reject()})),o})):this.validateEntityModel()},onRendered:function(){var e=this;this.loader=new f,this.addSubView(this.loader).render(this.$(".loader-container")).done((function(){e.renderConditionsView()}))},onConfirmClick:function(e){var t=this;if(!this.confirmBtnClicked){this.confirmBtnClicked=!0;var i=this.$("#confirm"),a=r.create(i[0]);a.start(),c.removeAllErrors(),this.clearErrors();var o={entityRecordId:this.entityModel.id,transitionId:this.model.id,reason:this.model.get("reason")};n.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/entity_transition"),data:JSON.stringify(o),contentType:"application/json; charset=utf-8",dataType:"json"}).done((function(e){t.entityModel.fetch({data:{lang:t.entityModel.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null}}).done((function(){a.stop()}))})).fail((function(e){var i=e.responseJSON,n=l.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:"general_error"});if(i&&"transition_inapplicable_workflow"===i.value){var r=p.getByRef("workflow-transitions");p.getParentView(r).showSyncWorkflowsBanner()}if(i&&"entity-invalid"===i.code){var o=t.entityModel.getEntityCanon();n=u.makeHumanReadable({error:i,entityType:o})}else i&&i.message&&(n=l.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:i.message}));i&&"entity_already_in_state"===i.value?t.entityModel.fetch({data:{lang:t.entityModel.hasTranslationsApplied()?$appData.intakeTranslationLanguage:null}}).done((function(){a.stop()})):(c.display(n,{type:"error",modal:!1,showTitle:!1,container:t.$el.find(".error-messages")}),e.weAlreadyPreviouslyHandledThis=!0,a.stop())}))}}})},87428:(e,t,i)=>{"use strict";i(16280),i(478350),i(730237),i(426099),i(423500),i(202008),i(428706),i(250113),i(874423);var n=i(96190),a=i(274692),r=i(325425),o=i(765048),s=i(40785),l=i(896727),d=i(4658),c=i(33622),u=i(394894),p=i(45701);e.exports=r.extend({template:i(509341),tagName:"ul",className:"transitions-list-tmpl",events:{"click .transition-item a":"onTransitionClick"},onBindEvents:function(){this.model.on("change:isLockedByAnotherUser",this.onLockChange,this)},onUnbindEvents:function(){this.model.off("change:isLockedByAnotherUser",this.onLockChange,this)},onLockChange:function(){this.render()},onInit:function(e){if(!e.transitions)throw new Error("Transitions required");this.transitionsByWorkflow=e.transitions,this.hideWorkflow=n.get(e,"hideWorkflow",!1)},onRendered:function(){n.flatMap(this.transitionsByWorkflow,"transitions").length<3&&this.$el.parent().css({"flex-shrink":0})},locals:function(e){return{transitionsByWorkflow:this.transitionsByWorkflow,disableTransitions:this.model.rules.isMarkedForPurge.call(this.model)||this.model.rules.lockedByAnotherUser.call(this.model),hideTransitions:this.model.rules.isPurged.call(this.model),hideWorkflow:this.hideWorkflow}},getDynamicLayouts:function(e){var t=[],i=s.getLayoutTrees(e);return n.forEach(i,(function(e){var i=c.flatten({tree:e}),a=n.filter(i,(function(e){return!!e.layoutType}));t=t.concat(a)})),n.uniqBy(t,"id")},getExcludeFields:function(e,t){return u.getExcludeFields({entDef:e,entData:t,layouts:this.getDynamicLayouts(e),layoutRuleGroups:n.filter($appData.layoutRuleGroups,{entityName:e.entityCanon}),context:{globalOptions:$appData.globalConfig,enabledFeatures:p.getEnabledFeatures()},isNew:!t.id||!t.sysActive,user:$appData.user})},onTransitionClick:function(e){var t,i=a(e.currentTarget).attr("data-id");n.some(this.transitionsByWorkflow,(function(e){return t=n.find(e.transitions,{id:i})}));var r=this.model.getEntityDefinition(),c=this.getExcludeFields(r,this.model.attributes),u=d(this.model.getEntityCanon()).getValidationSchema({entDef:r,transitionData:t,excludeFields:c}),p=this.model.validate(this.model.attributes,{validator:u}),f=["mandatory$","dependentMandatory$"],h=n.find(p,(function(e){return!f.includes(e.parambulator.code)}));if(p&&h)return l.error(s.translateKey({groupName:"errors",subgroupName:"general",key:"transition_invalid_model"},{context:{entity:this.model.getEntityDefinition().caption.toLowerCase()}}));var m=n.find(p,(function(e){return f.includes(e.parambulator.code)}));return this.transitionModalView=new o({entityModel:this.model,transition:t,validationError:p&&m,excludeFields:c}),this.transitionModalView.on("confirmed",this.onTransitionModalConfirm,this),this.addSubView(this.transitionModalView).renderAsModal()},onTransitionModalConfirm:function(){this.transitionModalView.off("confirmed",this.onTransitionModalConfirm),this.render()}})},564921:(e,t,i)=>{"use strict";i(426099),i(423500);var n=i(96190),a=i(325425),r=i(680553);e.exports=a.extend({template:i(174168),navigateUrl:null,warningTitle:null,warningBody:null,onClickFunctions:null,model:null,lockedBody:null,onInit:function(e){e&&(this.warningTitle=e.title,this.showTitle=!1!==e.showTitle,this.warningBody=e.body,this.warningHtml=e.html,this.lockedBody=e.lockedBody||e.body,this.model=e.model,this.onClickFunctions=e.onClickFunctions||!1)},onRendered:function(){var e=this;this.onClickFunctions&&n.forEach(this.onClickFunctions,(function(t){var i=t.selector,n=t.onClickFunction,a=t.context;e.$(i).click((function(e){return n.call(a,e)}))}))},locals:function(){return{title:this.warningTitle,showTitle:this.showTitle,body:this.warningBody,html:this.warningHtml,lockedBody:this.lockedBody,model:this.model}},events:{"click button[name=close]":"onCloseClick","closed.bs.alert":"onCloseClick"},onCloseClick:function(){r.remove(this),this.closeCallback&&this.closeCallback()}})},979865:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(680553);e.exports=a.extend({className:"field-data-modal",formConfigName:"field-data-form",template:i(746020),events:{"click #save":"onSaveClickThrottled","click #cancel":"onCancelClick"},onInit:function(e){this.onSaved=e.onSaved},onRendered:function(){},onSaveClickThrottled:n.throttle((function(){var e=this;this.model.save(null,{success:function(){e._closeView(),e.onSaved(e.model)}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onCancelClick:function(){this._closeView(),this.onSaved(null)},_closeView:function(){r.remove(this)}})},982509:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(879432),i(202008),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(944114),i(874423),i(21699),i(962062),i(327495),i(725440);var o=i(96190),s=i(508611),l=i(879176),d=i(546927),c=i(267062),u=i(942788),p=i(40785),f=i(344427),h=i(896727),m=i(93216),g=i(680553),y=i(571199),v=i(870182),b=i(45701);e.exports=c.extend({urlRoot:"/file",Model:i(516713),formConfigName:"file-details",features:{workflowFlags:!0},template:function(){return this.model.isNew()?i(498266):i(348536)},caption:function(){return"".concat(p.translateKey("file")," ").concat(this.model.get("number"))},locals:function(e){c.prototype.locals.call(this,(function(t){e(r(r({},t),{},{maxPacketFilePages:$appData.globalConfig.maxPacketFilePages,maxPacketFileSize:p.formatSizeUnits($appData.globalConfig.maxPacketFileSize),maxPacketNumExcelCells:$appData.globalConfig.maxPacketNumExcelCells,showDropdownMenu:b.isEnabled("recordSourceView")&&m.hasRole("view_source_data")}))}))},crumbs:function(){var e=[],t=this.model.get("caseId");return e.push({title:p.translateKey("case"),url:"/cases"}),t?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(t)}),e.push({title:p.translateKey("files"),url:"/case/".concat(t,"/files")})):e.push({title:p.translateKey("file"),url:"/files"}),this.model.isNew()?e.push({title:p.translateKey("new")}):e.push({title:this.model.get("number")}),e},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canSaveAndCopy,i=void 0===t||t;this.canSaveAndCopy=i,this.model.isNew()&&(this.model.get("parentType")||(this.model.set("parentType","case"),this.model.on("change:caseId",this.onCaseIdChange,this))),c.prototype.onInit.call(this,e)},onBindEvents:function(){this.model.on("change:isLockedByAnotherUser",this.updateSharedFileRestrictionWarnings,this),this.model.on("change:kind",this.onKindChanged,this),c.prototype.onBindEvents.call(this)},onUnbindEvents:function(){this.model.off("change:isLockedByAnotherUser",this.updateSharedFileRestrictionWarnings,this),this.model.off("change:kind",this.onKindChanged,this),this.model.off("change:caseId",this.onCaseIdChange,this),c.prototype.onUnbindEvents.call(this)},rules:{isNew:function(){return this.model.isNew()},isNotNew:function(){return!this.model.isNew()},canDeleteUrl:function(){return"url"===this.model.get("kind")&&!this.isReadOnly()},canUpload:function(){return!(this.isReadOnly()||"generated_template"===this.model.get("kind"))},isReadOnly:function(){return this.isReadOnly()||"generated_template"===this.model.get("kind")},hasAttachments:function(){return!o.isEmpty(this.model.get("files"))},isActive:function(){return!0===this.model.get("sysActive")},enabledRecordSource:function(){return b.isEnabled("recordSourceView")&&m.hasRole("view_source_data")},showShareFileBtn:function(){return y.isSharedLinkEnabled()},canModifyCustomPacketTemplates:function(){return this.rules.isInactivePacket.call(this)},isInactivePacket:function(){return(this.rules.isPacket.call(this)||this.rules.isCustomPacket.call(this))&&!this.rules.isActive.call(this)},isPacket:function(){return"packet"===this.model.get("kind")},isPacketDenormalized:function(){return null!=this.model.get("name")&&"Unknown"!==this.model.get("name")},isCustomPacket:function(){return"custom_packet"===this.model.get("kind")},canCreateAndDeleteSelectedFilesForPacket:function(){return this.rules.isInactivePacket.call(this)},editingOfSelectedFilesForPacketIsDisabled:function(){return!1},didSomeFilesExceedMaxSize:function(){return!0===this.model.get("didSomeCaseFilesExceedMaxSize")||!0===this.model.get("didSomeTemplateBasedFilesExceedMaxSize")},wereSomeFilesTruncated:function(){return!0===this.model.get("wereSomeCaseFilesTruncated")||!0===this.model.get("wereSomeTemplateBasedFilesTruncated")||!0===this.model.get("wasTableOfContentsTruncated")}},events:{"click #share_file":"onShareFileClick","mouseenter #share_file_container":"toggleFileSharingDisabledTooltip","click #record-source-view":"onRecordSourceViewClicked"},toggleFileSharingDisabledTooltip:function(e){var t=this.$(e.currentTarget);o.isEmpty(this.model.get("files"))?t.tooltip("show"):t.tooltip("destroy")},onRecordSourceViewClicked:function(){this.recordSourceModalView=new v({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()},onCaseIdChange:function(){this.model.set("parentId",this.model.get("caseId")),this.model.unset("externalRecord")},onShareFileClick:o.throttle((function(){var e=this,t=new u({fileModel:e.model,multipleFiles:!1,entityType:"attachment"});e.model.lock((function(i,n){!0===n&&e.addSubView(t).renderAsModal(),t.on("shared",(function(){e.model.fetch({success:function(){e.setupExternalAccessLogGrid.call(e),e.updateSharedFileRestrictionWarnings()}})}))}))}),500,{trailing:!1}),displayContentSearchWarnings:function(){if($appData.indexAttachmentsEnabled){var e,t=o.cloneDeep(this.model.get("files"));o.remove(t,(function(e){return!o.includes($appData.esSupportedContentTypes,e.mimeType)}));var i=o.map(t,"sizeBytes"),n=o.sum(i)>$appData.globalConfig.maxAttachmentSizeToIndex,a=t&&t.length>0&&!n&&!1===this.model.get("contentSearchable");f.removeAllWarnings(),n&&(e="".concat(p.translateKey("file_too_big_for_content_search"),"\n\t\t\t\t").concat(p.formatSizeUnits($appData.globalConfig.maxAttachmentSizeToIndex)),f.display(e,"warning")),a&&(e=(e=p.translateKey("case_file_content_search_limit_passed")).replace("{countLimit}",$appData.globalConfig.maxSearchableFilesPerCase),f.display(e,"warning"))}},updateSharedFileRestrictionWarnings:function(){var e=this;this.model.isNew()||this.model.checkLockedByAnotherUser({displayWarningMessage:!1},(function(t,i){if(t)throw t;var n=!!e.model.get("pendingPurgeDate")||!!e.model.get("datePurged");if((e.printing||n||i)&&e.sharedFileWarning)return g.remove(e.sharedFileWarning),void(e.sharedFileWarning=null);e.model.get("hasActiveShare")&&!e.sharedFileWarning&&!e.printing&&$appData.allowExternalFileSharing&&(e.sharedFileWarning=f.display(p.translateKey({groupName:"fileSharing",subgroupName:"warning",key:"shared_file_edit_warning"}),"warning"))}))},onRendered:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=c.prototype.onRendered).call.apply(e,[this].concat(i)),"url"!==this.model.get("kind")&&this.displayContentSearchWarnings(),this.updateSharedFileRestrictionWarnings(),this.setupExternalAccessLogGrid()},setupExternalAccessLogGrid:function(){var e=this;y.isSharedLinkEnabled()&&(e.externalAccessLogGridView&&e.$("#external-access-log-grid-container").empty(),e.model.get("fileShared")&&m.hasRole("view_shared_link")&&(e.externalAccessLogGridView=new l({configName:"file-shared-link",title:p.translateKey("shared"),enableDynamicColumns:!0,enableDragColumns:!0,multiSelect:!1,enableSearchFilter:!0,enableEntityFilters:!0,collection:new s(null,{ids:e.model.get("sharedLinks"),showCanceledCases:e.model.get("caseId__canceled")}),pluginsOptions:[{enableBatchExport:!0,enableDynamicColumns:!0,enableDragColumns:!0,multiSelect:!0,onRowClicked:function(t){if(t.get("datePurged"))return null;var i=new d({model:t,attachmentId:e.model.id});return e.addSubView(i).renderAsModal()}}]}),e.addSubView(e.externalAccessLogGridView).render(e.$("#external-access-log-grid-container"))))},onKindChanged:function(){"generated_template"===this.model.get("kind")?this.model.set("templateLocale",$appData.user.locale||$appData.baseLanguage):this.model.set("templateLocale",""),"packet"!==this.model.get("kind")&&this.model.set("packetId",null),this.toggleSizeLimitationInfoBox()},toggleSizeLimitationInfoBox:function(){"custom_packet"===this.model.get("kind")?this.$("#size-warning").removeClass("hidden"):this.$("#size-warning").addClass("hidden")},onSaveClickThrottled:function(e){if(this.model.isProcessing)h.error(p.translateKey("files_are_still_being_uploaded"));else{var t={};this.model.get("useTranslatedText")&&(t.lang=$appData.intakeTranslationLanguage),c.prototype.onSaveClickThrottled.call(this,e,t),this.disableDirtyFormHandling()}},onRemove:function(){f.removeAllWarnings();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];c.prototype.onRemove.apply(this,t)},onEditClick:function(){var e=this;this.model.lock((function(t,i){!0===i&&(e.setReadOnly(!1),e.updateUrl(),e.renderCrumbs()),e.updateSharedFileRestrictionWarnings()}))},render:function(){this.rules.isPacket.call(this)&&this.rules.isActive.call(this)&&(this.rules.isPacketDenormalized.call(this)||(this.model.set("name","Unknown"),this.model.set("documentGenerationMethod","Unknown"),this.model.set("caseFilesInclusionKind","Unknown"),this.model.set("tableOfContentsTemplateKind","Unknown")));for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return c.prototype.render.apply(this,t)}})},714004:(e,t,i)=>{"use strict";i(16280),i(944114);var n=i(96190),a=i(40785),r=i(325425),o=i(680553),s=i(879176),l=i(789694),d=i(939994),c=i(446322);e.exports=r.extend({caseId:null,onSelectionComplete:null,template:i(996589),caption:a.translateKey("select_files"),onInit:function(e){if(!e)throw new Error("Options Required");if(!e.caseId)throw new Error("Case Id Required");if(this.caseId=e.caseId,!e.onSelectionComplete)throw new Error("onSelectionComplete Required");this.onSelectionComplete=e.onSelectionComplete},events:{"click #done":"onDoneClick"},onDoneClick:function(){var e=this.dataContainer._selectedPlugin.getSelectedModels(),t=[];n.each(e,(function(e){var i=[];"-/sys/email"===e.get("entity$")?i=e.get("attachments"):"-/sys/attachment"===e.get("entity$")&&(i=e.get("files")),t.push({model:e,file:i})})),this.onSelectionComplete(t),o.remove(this)},onRendered:function(){var e=d.get({base:"sys",name:"attachment"}).query(),t=new l;t.setFilter({query:e.and([e.is("caseId",this.caseId),e.is_not_empty("files"),e.is_not("kind","url")]).toQuery()}),this.dataContainer=new s({configName:"file-selector",enableEntityFilters:!1,collection:t,alwaysOnFilters:[t.getFilter(),e.is_empty("pendingPurgeDate"),e.is_empty("datePurged")],pluginsOptions:[{enableDynamicColumns:!0,multiSelect:!0,rowActions:c.getRowActions.call(this)}]}),this.addSubView(this.dataContainer).render(this.$("#files-grid"))}})},446322:(e,t,i)=>{"use strict";var n=i(394240),a=i(40785),r=i(348513),o={renderFilePreview:function(e,t){this.filePreviewView=new n({model:e[0],allowNavigation:!0}),this.addSubView(this.filePreviewView).renderAsModal(),t(null,!0)},downloadFile:function(e,t){var i=r.getDownloadUrl(e[0]);i&&a.downloadFile(i),t(null,!0)},shouldDisableFilePreview:function(e){return!e.getFile()},getRowActions:function(){return[{caption:a.translateKey("preview"),onClick:o.renderFilePreview.bind(this),disableRule:o.shouldDisableFilePreview.bind(this),disabledMessageKey:"no_file_to_preview"},{caption:a.translateKey("download"),onClick:o.downloadFile.bind(this),disableRule:o.shouldDisableFilePreview.bind(this),disabledMessageKey:"no_file_to_download"}]}};e.exports=o},394240:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(944114),i(134782),i(523418),i(690906),i(16280),i(327495),i(671761),i(962010),i(123792),i(426099),i(747764),i(962953),i(548408),i(814603),i(147566),i(198721),i(369085),i(428706),i(938781),i(250113),i(18107),i(967357);var a=i(274692),r=i(781118),o=i(325425),s=i(506292),l=i(777969),d=i(207750),c=i(348513),u=i(450048);e.exports=o.extend({template:i(53973),className:"file-preview-modal-tmpl",events:{"click .previous":"showPreviousPreview","click .next":"showNextPreview"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.model)throw new Error("Please pass the required options to the FilePreviewView");this.file=this.model.getFile(e.fileName),this.collection=this.model.collection,this.allowNavigation=!!e.allowNavigation&&this.collection.length>1,this.showViewRecordLink=!1!==e.showViewRecordLink,this.pdfEmbedSupported=r.supportsPDFs,this.downloadUrl=e.downloadUrl,this.disableDownload=e.disableDownload,this.disableDownload&&this.$el.addClass("no-print"),this.allowNavigation&&(this.previewIndex=this.getPreviewIndex()),this.fileDetails=this.getFileDetails(),this.updateClassName()},onBindEvents:function(){a(document).on("keyup.filePreview",this.handleKeyboardNavigation.bind(this))},onRendered:function(){this.allowNavigation&&this.$el.addClass("navigation-enabled"),this.updateModalType(),this.showPreviewSubView()},onUnbindEvents:function(){a(document).off("keyup.filePreview")},getFileType:function(){if(!this.file)return"none";var e=this.file.mimeType;return e.match(/bmp|gif|jpeg|png/)?"image":e.match("pdf")?"pdf":"unsupported"},getFileDetails:function(){var e,t,i={type:this.getFileType()};if(this.file){var a=this.downloadUrl||c.getDownloadUrl(this.model,this.file.name),r=(e=a.split("?"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1],l=new URLSearchParams(s);l.set("contentDisposition","inline"),Object.assign(i,{name:this.file.name,downloadUrl:a,previewUrl:"".concat(o,"?").concat(l.toString())})}return i},updateClassName:function(){this.fileTypeClassName="".concat(this.fileDetails.type,"-preview"),this.$el.addClass(this.fileTypeClassName)},updateModalType:function(){var e=this.modalTypeClassName;"pdf"===this.fileDetails.type&&this.pdfEmbedSupported?this.modalTypeClassName="full-screen-modal":this.modalTypeClassName="center-modal",this.modalTypeClassName!==e&&this.$(".modal").removeClass(e).addClass(this.modalTypeClassName)},handleKeyboardNavigation:function(e){this.allowNavigation&&(37===e.which?(this.simulateHover(this.$el.find(".previous")),this.showPreviousPreview()):39===e.which&&(this.simulateHover(this.$el.find(".next")),this.showNextPreview()))},simulateHover:function(e){e.addClass("hover"),setTimeout((function(){return e.removeClass("hover")}),150)},showNextPreview:function(){this.previewIndex+=1,this.previewIndex>=this.collection.length&&(this.previewIndex=0),this.navigateToPreview(this.previewIndex)},showPreviousPreview:function(){this.previewIndex-=1,this.previewIndex<0&&(this.previewIndex=this.collection.length-1),this.navigateToPreview(this.previewIndex)},getPreviewIndex:function(){return this.collection.indexOf(this.model)},navigateToPreview:function(e){this.removePreviewSubView(),this.model=this.collection.at(e),this.file=this.model.getFile(),this.fileDetails=this.getFileDetails(),this.updateClassName(),this.updateModalType(),this.showPreviewSubView()},showPreviewSubView:function(){var e=this.fileDetails.type;"image"===e?(this.loader=new u({showOnStart:!0}),this.addSubView(this.loader).render(this.$(".loader-container")),this.$el.addClass("loading-image"),this.previewSubView=new s({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload,onImageLoaded:this.onImageLoaded.bind(this),onImageClicked:this.onImageClicked.bind(this)})):this.previewSubView="pdf"===e?new l({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload}):new d({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload,unsupportedMessageKey:"none"===e?"no_file_to_preview":null}),this.addSubView(this.previewSubView).render(".file-preview")},removePreviewSubView:function(){this.removeSubView(this.previewSubView),this.$el.removeClass(this.fileTypeClassName)},onImageLoaded:function(){this.$el.removeClass("loading-image"),this.loader.hide()},onImageClicked:function(){var e="zoomed-in",t=this.$el.hasClass(e),i=this.$el.find(".file-information");t?(this.$el.removeClass(e),i.fadeIn(200)):(this.$el.addClass(e),i.fadeOut(200))}})},189497:(e,t,i)=>{"use strict";i(16280),i(962010),i(327495),i(725440);var n=i(325425),a=i(40785),r=i(992574);e.exports=n.extend({template:i(753972),className:"file-information-tmpl",events:{"click .view-record-btn":"onViewRecordBtnClicked"},locals:function(){return{fileDetails:this.fileDetails,showViewRecordLink:this.showViewRecordLink,showFilenameTooltip:this.showFilenameTooltip,canDownload:!this.disableDownload}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.fileDetails)throw new Error("Please pass fileDetails to the FileInformationView");if(!e.model)throw new Error("Please pass the model to the FileInformationView");this.fileDetails=e.fileDetails,this.fileDetails.shortName=this.setShortFilename(),this.model=e.model,this.showViewRecordLink=e.showViewRecordLink,this.showFilenameTooltip=this.fileDetails.name!==this.fileDetails.shortName,this.disableDownload=e.disableDownload},setShortFilename:function(){return r.getShortFileName(this.fileDetails.name)},onViewRecordBtnClicked:function(){if("sys_document"===this.model.get("_type")){var e=window.location.pathname.replace("documents","document/{id}");a.navigateWithPattern(e,this.model,{openInNewTab:!0})}else a.navigateToUrlByModelType(this.model,{openInNewTab:!0})}})},506292:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(325425),r=i(189497);e.exports=a.extend({template:i(649581),className:"image-preview-tmpl",events:{"click img":"_onImageClicked",contextmenu:"_preventDownload"},locals:function(){return{fileDetails:this.fileDetails,showViewRecordLink:this.showViewRecordLink}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.fileDetails)throw new Error("Please pass fileDetails to the ImagePreviewView");if(!e.model)throw new Error("Please pass the model to the ImagePreviewView");this.fileDetails=e.fileDetails,this.model=e.model,this.showViewRecordLink=e.showViewRecordLink,this.onImageLoaded=e.onImageLoaded,this.onImageClicked=e.onImageClicked,this._imageKeyPressListener=this._imageKeyPressListener.bind(this),this.disableDownload=e.disableDownload},onRendered:function(){var e=this;this.addSubView(new r({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload})).render(this.$(".file-information-container")),this.image=new Image,this.image.onload=function(){e.$el.append(e.image),n.isFunction(e.onImageLoaded)&&e.onImageLoaded()},this.image.src=this.fileDetails.previewUrl,this.image.classList.add("image-preview-img"),this.image.style.backgroundImage="url('/img/transparent-background.png')",n.isFunction(this.onImageClicked)&&this.image.setAttribute("tabindex","0"),this.image.addEventListener("keypress",this._imageKeyPressListener)},onRemove:function(){this.image.removeEventListener("keypress",this._imageKeyPressListener)},_imageKeyPressListener:function(e){"Space"!==e.code&&"Enter"!==e.code||this._onImageClicked()},_onImageClicked:function(){n.isFunction(this.onImageClicked)&&this.onImageClicked()},_preventDownload:function(e){this.disableDownload&&e.preventDefault()}})},777969:(e,t,i)=>{"use strict";i(16280),i(428706);var n=i(781118),a=i(325425),r=i(189497),o=i(207750);e.exports=a.extend({template:i(40212),className:"pdf-preview-tmpl",locals:function(){return{pdfEmbedSupported:this.pdfEmbedSupported}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.fileDetails)throw new Error("Please pass fileDetails to the PdfPreviewView");if(!e.model)throw new Error("Please pass the model to the PdfPreviewView");this.fileDetails=e.fileDetails,this.model=e.model,this.showViewRecordLink=e.showViewRecordLink,this.pdfEmbedSupported=n.supportsPDFs,this.disableDownload=e.disableDownload},onRendered:function(){if(this.pdfEmbedSupported){this.addSubView(new r({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload})).render(this.$(".file-information-container"));var e=this.disableDownload?"#toolbar=0":"";n.embed("".concat(this.fileDetails.previewUrl).concat(e),".pdf-container")}else this.addSubView(new o({fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,unsupportedMessageKey:"unsupported_pdf_embed"})).render(".pdf-unsupported-container")}})},207750:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(40785),r=i(189497);e.exports=n.extend({template:i(742543),className:"unsupported-preview-tmpl",locals:function(){return{fileDetails:this.fileDetails,showViewRecordLink:this.showViewRecordLink,unsupportedMessage:this.unsupportedMessage}},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.fileDetails)throw new Error("Please pass fileDetails to the UnsupportedPreviewView");if(!e.model)throw new Error("Please pass the model to the UnsupportedPreviewView");this.fileDetails=e.fileDetails,this.model=e.model,this.showViewRecordLink=e.showViewRecordLink,this.disableDownload=e.disableDownload,this.unsupportedMessage=a.escapedTranslateKey(e.unsupportedMessageKey||"unsupported_preview")},onRendered:function(){var e={fileDetails:this.fileDetails,model:this.model,showViewRecordLink:this.showViewRecordLink,disableDownload:this.disableDownload};this.addSubView(new r(e)).render(this.$(".file-information-container")),this.addSubView(new r(e)).render(this.$(".file-information-container-2"))}})},348513:(e,t,i)=>{"use strict";var n=i(40785);e.exports={getDownloadUrl:function(e,t){var i=e.getFile(t);return i?n.getDownloadUrl({model:e,objectId:i.objectId}):null}}},155687:(e,t,i)=>{"use strict";i(202008),i(426099),i(16280),i(428706),i(423500),i(250113),i(311927);var n=i(96190),a=i(274692),r=i(325425),o=i(680553),s=i(40785),l=i(344427),d=i(896727),c=i(186360);e.exports=r.extend({template:i(926098),className:"base-filter-card-tmpl",events:{click:"onCardClick","click .delete-filter":"onFilterRemoveClicked"},onInit:function(e){var t=e.model,i=e.filterGroup,n=e.onFilterDeleted,a=e.onFilterSaved,r=e.filter,o=e.filterUrl,s=e.filterGroupActions,l=e.entDef,d=e.FilterDetailsModal,c=e.viewGroupId,u=e.operatorType,p=e.readOnly,f=void 0!==p&&p;if(this.model=t,this.filter=r,this.filterUrl=o,this.filterGroup=i,this.filterGroupActions=s,this.onFilterDeleted=n,this.onFilterSaved=a,this.entDef=l,this.FilterDetailsModal=d,this.viewGroupId=c,this.operatorType=u,this.readOnly=f,!o)throw new Error("filterUrl is required.");this.readOnly&&this.setReadOnly(!0)},onUnbindEvents:function(){this.filterDetailsModal&&this.filterDetailsModal.off("closed",this.onFilterClosed,this)},onRendered:function(){o.addToGroup(this.viewGroupId,this.handle),this.filter?this.renderFilter():this.renderFilterModal()},onCardClick:n.throttle((function(e){this.readOnly||(this.$el.addClass("active"),this.renderFilterModal())}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onFilterRemoveClicked:function(e){if(!this.readOnly){e.stopImmediatePropagation();var t=this;l.display(s.translateKey("delete_confirmation"),{type:"confirm",title:s.translateKey("delete_confirmation_title"),confirmText:s.translateKey("delete"),cancelText:s.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(e){if(e){var i=t.filter.id;a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/").concat(t.filterUrl,"/").concat(i),method:"DELETE"}).done((function(){t.filterGroupActions.deleteFilter(i),d.info(s.translateKey("deleted_filter")),n.isFunction(t.onFilterDeleted)&&t.onFilterDeleted()}))}}})}},getFilterDetailsModalOptions:function(){return{filter:this.filter,model:this.model,filterGroup:this.filterGroup,filterGroupActions:this.filterGroupActions,onFilterSaved:this.onFilterSaved,onFilterDeleted:this.onFilterDeleted,entDef:this.entDef,filterUrl:this.filterUrl,operatorType:this.operatorType}},renderFilterModal:function(){var e=this,t=this.getFilterDetailsModalOptions();this.filterDetailsModal=new this.FilterDetailsModal(t),this.addSubView(this.filterDetailsModal).renderAsModal().done((function(){e.filterDetailsModal.on("closed",e.onFilterClosed,e)}))},renderFilter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;if(!this.filter)return t();var i=this.filter?this.filter.filterDenormalized:[];if(!i)return t();var a=this.filter.mustMatchAll?s.escapedTranslateKey("_and"):s.escapedTranslateKey("_or"),r=this.$(".filter-content");if(r.html(""),i.length>0){c.setFilterChildrenFormattedValues(i,this.entDef,{useDefaultTimezone:!0,html:!0});var o="<div>";i.forEach((function(t,r){var l=n.find(e.entDef.fields(),{id:t.fieldId});if(l&&s.hasEnabledFeature(l))o+="<b>".concat(n.escape(l.caption),"</b> ");else{var d=s.escapedTranslateKey({key:"unknown_field",groupName:"errors",subgroupName:"general"},{context:{fieldName:t.fieldName}});o+="<b>".concat(d,"</b> "),e.$el.addClass("invalid-filter")}o+="".concat(s.escapedTranslateKey({groupName:"search",subgroupName:"operators",key:t.operator})," ");var c=t.fieldValuesFormatted.join(" and "),u="is_empty"!==t.operator&&"is_not_empty"!==t.operator;c?o+="<b>".concat(c,"</b>"):u&&(o+='<span class="red-font"><b>'.concat(s.escapedTranslateKey({groupName:"errors",subgroupName:"general",key:"unknown_value"}),"</b></span>")),r!==i.length-1&&(o+='<span class="search-mode-text">'.concat(a,"</span>"))})),o+="</div>",r.append(o)}return t()},onFilterClosed:function(){this.$el.removeClass("active")}})},446859:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(102892),i(879432),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(16280),i(962062),i(428706),i(533110),i(250113);var r=i(96190),o=i(274692),s=i(122268),l=i(402193),d=i(16871).v4,c=i(680553),u=i(325425),p=i(321912),f=i(896727),h=i(40785),m=i(344427),g=i(382254);e.exports=u.extend({template:i(558124),className:"filter-details-modal",FiltersFormView:i(835992),events:{"click #cancel":"onCancelClicked","click #save-filter":"onSaveClickThrottled","click #delete":"onDeleteClicked","click .field-selection-container .selectize-input":"onFieldPicklistClick","click .field-selection-container input":"onFieldPicklistClick","mousedown .field-selection-container .selectize-input":"onFieldPicklistClick","mousedown .field-selection-container input":"onFieldPicklistClick"},onInit:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.filter,n=t.filterGroup,a=t.entDef,r=t.onFilterDeleted,o=t.onFilterSaved,s=t.filterGroupActions,l=t.model,d=t.filterUrl,c=t.operatorType;if(this.filter=i,this.filterUrl=d,this.filterGroup=n,this.entDef=a,this.entityName=null===(e=this.entDef)||void 0===e?void 0:e.entityCanon,this.onFilterDeleted=r,this.onFilterSaved=o,this.filterGroupActions=s,this.model=l,this.operatorType=c,!d)throw new Error("filterUrl is required.")},locals:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=u.prototype.locals.apply(this,t);return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({isNew:!r.get(this,"filter.id")},o)},onBindEvents:function(){this.modalOnHidden=this.onModalHide.bind(this),this.$(".modal").on("hidden.bs.modal",this.modalOnHidden)},onUnbindEvents:function(){this.$(".modal").off("hidden.bs.modal",this.modalOnHidden)},getFilterFormViewOptions:function(){return{filter:this.filter,entDef:this.entDef,operatorType:this.operatorType}},onRendered:function(){var e=o.Deferred(),t=this.getFilterFormViewOptions();return this.FiltersFormView=new this.FiltersFormView(t),this.addSubView(this.FiltersFormView).render(".filters-form-container").done((function(){return e.resolve()})),e.promise()},isFieldPicklistBottomHidden:function(e){var t=e[0].getBoundingClientRect(),i=this.$(".modal-body")[0].getBoundingClientRect();return t.bottom>i.bottom},onFieldPicklistClick:function(e){var t=o(e.currentTarget);this.isFieldPicklistBottomHidden(t)&&t[0].scrollIntoView({block:"end"})},getSaveData:function(){var e=this.FiltersFormView.getFieldSearchViewModels().map((function(e){return e.attributes}));return p.transformFilterData({data:e,entDef:this.entDef})},saveFilter:function(e){var t=this,i=r.get(this,"filter.id")||"",n=r.isEmpty(i);return o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/").concat(this.filterUrl,"/").concat(i),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({filterData:this.getSaveData(),entityName:this.entityName,mustMatchAll:this.getMatchAll(),filterGroupId:this.filterGroup.id})}).done((function(i){var a;return n?(t.filterGroup.filters||(t.filterGroup.filters=[]),t.filterGroupActions.addFilter(i),a="created_filter"):(t.filterGroupActions.updateFilter(i),a="updated_filter"),f.info(h.translateKey(a)),t.closeView(),r.isFunction(t.onFilterSaved)&&t.onFilterSaved(),e()})).fail((function(i){var n=i.responseJSON,a=void 0===n?{}:n,r=a.code;return 400===a.httpstatus&&"entity-invalid"===r&&(t.showInvalidFilterToast(),i.weAlreadyPreviouslyHandledThis=!0),e(i)}))},onSaveClickThrottled:r.throttle((function(e){var t=this,i=l.create(e.currentTarget);i.start(),s.series([function(e){var i,n,a=t.getSaveData();return r.each(a,(function(e){r.assign(e,{parentId:d()});var a=new g(e);if(i=a.validate(a.attributes),n=e.fieldId&&!r.find(t.entDef.fields(),{id:e.fieldId}),i||n)return!1})),i||n?(t.showInvalidFilterToast(),e(i||new Error("filter contains deleted field"))):e()},this.filterGroupActions.create,this.saveFilter.bind(this)],(function(e){e&&i.stop()}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onDeleteClicked:function(){var e=this;m.display(h.translateKey("delete_confirmation"),{type:"confirm",title:h.translateKey("delete_confirmation_title"),confirmText:h.translateKey("delete"),cancelText:h.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(t){if(t){var i=e.filter.id;o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/").concat(e.filterUrl,"/").concat(i),method:"DELETE"}).done((function(){e.filterGroupActions.deleteFilter(i),f.info(h.translateKey("deleted_filter")),e.closeView(),r.isFunction(e.onFilterDeleted)&&e.onFilterDeleted()}))}}})},onCancelClicked:function(){this.closeView(),!r.get(this,"filter.id")&&this.onFilterDeleted()},getMatchAll:function(){var e=this.$('input[name="searchMode"]');return 0===e.length||e.prop("checked")},closeView:function(){c.remove(this),this.trigger("closed")},showInvalidFilterToast:function(){f.error(h.translateKey({groupName:"errors",subgroupName:"general",key:"invalid_filter"}))},onModalHide:function(){this.trigger("closed")}})},835992:(e,t,i)=>{"use strict";i(202008),i(426099),i(944114),i(250113),i(311927);var n=i(96190),a=i(274692),r=i(122268),o=i(680553),s=i(637527),l=i(325425),d=i(637777),c=i(498199),u=i(83146),p=i(344427),f=i(40785);e.exports=l.extend({template:i(599375),className:"filters-form-tmpl",events:{"click #add-filter":"onAddFilterClick","click .destroy-field-search":"onDestroyFieldSearchClick"},onInit:function(e){var t=e.filter,i=e.entDef,n=e.operatorType;this.filter=t,this.operatorType=n,this.entDef=i,this.entityName=this.entDef.entityCanon,this.fieldSearchViewModels=[]},onRendered:function(){var e=this,t=a.Deferred();return r.series([function(t){return e.renderFilter(t)},function(t){return e.addMatchAllButton(t)}],(function(){return t.resolve()})),t.promise()},onAddFilterClick:function(){var e=this;r.series([function(t){return e.addNewFieldSearchView(t)},function(t){return e.addMatchAllButton(t)}])},addMatchAllButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;if(this.fieldSearchViewModels.length<=1||this.matchAllButton)return e();var t=!this.filter||this.filter.mustMatchAll;return this.matchAllButton=new c({field:"searchMode",model:new s({searchMode:t}),fieldDef:{typeOptions:{greyOnOff:!1,showCaptionsOnButton:!0,checkedTranslation:{key:"and"},uncheckedTranslation:{key:"or"}}}}),this.addSubView(this.matchAllButton).render(this.$(".any-all-toggle"),e)},showInvalidFieldError:function(){this.invalidFieldError||(this.invalidFieldError=p.display(f.translateKey({key:"invalid_filter_fields",groupName:"errors",subgroupName:"general"}),{type:"error",modal:!1,container:this.getErrorMessageContainer(),showTitle:!1,canClose:!1}))},addFieldSearchView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop;this.fieldSearchViewModels.push(e),this.fieldSearchView=new d({model:e,entDef:this.entDef,fieldComponentAsId:!0,operatorType:this.operatorType,excludeType:["case","sequenceNumber","coordinate","party","primaryParty"],alwaysUseCaption:!0,disableValueIfMissingField:!1});var i=["filter-item","field-item"],r=e.get("transformedFilterDataRow")&&e.get("transformedFilterDataRow").field;r&&!n.find(this.entDef.fields(),{id:r})&&(this.showInvalidFieldError(),i.push("invalid-field")),a(".filter-list").append('<li class="'.concat(i.join(" "),'"><div class="item"></div></li>')),this.addSubView(this.fieldSearchView).render(this.$(".filter-item").last().find(".item")).done(t)},addNewFieldSearchView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.addFieldSearchView(new s,e)},onDestroyFieldSearchClick:function(e){var t=a(e.currentTarget).parents(".field-search-tmpl").data("handle"),i=a(e.currentTarget).parents("li")[0],r=o.getByHandle(t),s=this.$(".filter-list .filter-item");return 1===s.length?r.resetValues():(o.remove(t),a(i).remove(),n.remove(this.fieldSearchViewModels,r.model)),2===s.length&&(o.remove(this.matchAllButton.handle),this.matchAllButton=null),!1},getFieldSearchViewModels:function(){return this.fieldSearchViewModels},getMatchAll:function(){var e=this.$('input[name="searchMode"]');return 0===e.length||e.prop("checked")},renderFilter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;if(this.filter){var i=this.filter.filterDenormalized;r.eachSeries(i,(function(t,i){var n=new u({entDef:e.entDef,filterDataRow:t,rowsView:e});e.addSubView(n).render(i)}),t)}else this.addNewFieldSearchView(t)}})},564963:(e,t,i)=>{"use strict";i(327495),i(725440),i(944114),i(250113),i(426099),i(16280);var n=i(96190),a=i(274692),r=i(122268),o=i(325425),s=i(637527),l=i(498199),d=i(680553),c=i(40785);e.exports=o.extend({template:i(306898),className:"base-filters-tmpl",events:{"click .add-filter":"onAddFilterClick","click .no-filters a":"onAddFilterClick","hidden.bs.collapse .collapse":"onCollapseHidden","shown.bs.collapse .collapse":"onCollapseShown"},FilterCardView:i(155687),FilterDetailsModal:i(446859),filterUrl:null,viewGroupId:"filters",operatorType:"es",getFilters:function(){return n.get(this.filterGroup,"filters")||[]},locals:function(){return{noFiltersMessage:c.escapedTranslateKey("filter_empty_text").replace("{here}",'<a data-route="#">'.concat(c.escapedTranslateKey("_here"),"</a>")),hasFilters:!n.isEmpty(this.getFilters()),filterCount:this.getFilters().length}},onUnbindEvents:function(){this.filterGroupModel&&this.filterGroupModel.off("change:mustMatchAll",this.onMustMatchAllChange,this)},onInit:function(e){var t=e.filterGroup,i=void 0===t?{}:t,n=e.entDef,a=e.model,r=e.readOnly;this.filterGroup=i,this.model=a,this.entDef=n,this.readOnly=r,!0===this.readOnly&&this.setReadOnly(!0)},onRendered:function(){var e=this,t=a.Deferred();return r.series([function(t){return e.addMatchAllButton(t)},function(t){return e.renderFilters(t)}],(function(){return t.resolve()})),t.promise()},addGroupFilter:function(e){this.filterGroup.filters||(this.filterGroup.filters=[]),this.filterGroup.filters.push(e)},updateGroupFilter:function(e){var t=n.find(this.filterGroup.filters,{id:e.id});n.assign(t,e)},deleteGroupFilter:function(e){n.remove(this.filterGroup.filters,(function(t){return t.id===e})),0===this.filterGroup.filters.length&&this.deleteFilterGroup()},createFilterGroup:function(){throw arguments.length>0&&void 0!==arguments[0]||n.noop,new Error("createFilterGroup has not been implemented")},saveFilterGroup:function(){throw arguments.length>0&&void 0!==arguments[0]||n.noop,new Error("saveFilterGroup has not been implemented")},deleteFilterGroup:function(){throw arguments.length>0&&void 0!==arguments[0]||n.noop,new Error("deleteFilterGroup has not been implemented")},getFilterGroupActions:function(){var e=this;return{create:this.createFilterGroup.bind(e),save:this.saveFilterGroup.bind(e),addFilter:this.addGroupFilter.bind(e),updateFilter:this.updateGroupFilter.bind(e),deleteFilter:this.deleteGroupFilter.bind(e)}},updateCollapseTooltip:function(e){var t=c.escapedTranslateKey(e?"minimize":"expand"),i=this.$(".collapse-filter-control:first i");n.isEmpty(i)||(i.attr("title",t).attr("aria-label",t).tooltip("fixTitle"),i.is(":hover")&&i.tooltip("hide"))},reRenderFilters:function(){var e=this;this.matchAllButton=null,d.removeAllInGroup(this.viewGroupId),this.render().then((function(){e.$(".filter-group-container.collapse").collapse("show"),e.updateCollapseTooltip(!0)}))},getFilterCardOptions:function(e){return{filter:e,filterUrl:this.filterUrl,model:this.model,filterGroup:this.filterGroup,onFilterDeleted:this.reRenderFilters.bind(this),onFilterSaved:this.reRenderFilters.bind(this),filterGroupActions:this.getFilterGroupActions(),entDef:this.entDef,FilterDetailsModal:this.FilterDetailsModal,viewGroupId:this.viewGroupId,operatorType:this.operatorType,readOnly:this.readOnly}},renderFilterCard:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.noop,a=this.$(".filters-container");if(t){var r='<div class="search-mode-connector">';r+='<div class="connector connector-top"></div>',r+='<div class="search-mode"><p>'.concat(this.getSearchModeText(),"</p></div>"),r+='<div class="connector connector-bottom"></div>',r+="</div>",a.append(r)}var o=this.getFilterCardOptions(e),s=new this.FilterCardView(o);this.addSubView(s).render(a).done(i)},getFilterDetailsModalOptions:function(){return{model:this.model,filterGroup:this.filterGroup,onFilterDeleted:this.reRenderFilters.bind(this),onFilterSaved:this.reRenderFilters.bind(this),filterGroupActions:this.getFilterGroupActions(),entDef:this.entDef,filterUrl:this.filterUrl,operatorType:this.operatorType}},onAddFilterClick:function(){var e=this.getFilterDetailsModalOptions(),t=new this.FilterDetailsModal(e);this.addSubView(t).renderAsModal()},renderFilters:function(e){var t=this,i=this.getFilters();if(!i||0===i.length)return e();var a=n.sortBy(i,"createdDate","asc");return r.eachOfSeries(a,(function(e,i,n){var a=0!==i;t.renderFilterCard(e,a,n)}),e)},addMatchAllButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;if(this.readOnly)return e();if(this.getFilters().length<=1||this.matchAllButton)return e();var t=!this.filterGroup||this.filterGroup.mustMatchAll;return this.filterGroupModel=new s({mustMatchAll:t}),this.filterGroupModel.on("change:mustMatchAll",this.onMustMatchAllChange,this),this.matchAllButton=new l({field:"mustMatchAll",model:this.filterGroupModel,fieldDef:{typeOptions:{greyOnOff:!1,showCaptionsOnButton:!0,checkedTranslation:{key:"and"},uncheckedTranslation:{key:"or"}}}}),this.addSubView(this.matchAllButton).render(this.$(".any-all-toggle"),e)},getMatchAll:function(){var e=n.get(this.filterGroup,"mustMatchAll");return n.isNil(e)&&(e=!0),this.filterGroupModel?this.filterGroupModel.get("mustMatchAll"):e},getSearchModeText:function(){return this.getMatchAll()?c.escapedTranslateKey({key:"and"}):c.escapedTranslateKey({key:"or"})},setSearchModeText:function(){this.$(".search-mode > p").text(this.getSearchModeText())},onMustMatchAllChange:function(){this.setSearchModeText(),this.saveFilterGroup()},onCollapseShown:function(){this.$(".filters-container")[0].scrollIntoView(),this.updateCollapseTooltip(!0)},onCollapseHidden:function(){this.updateCollapseTooltip(!1)}})},263092:(e,t,i)=>{"use strict";i(944114),i(428706),i(557034);var n=i(96190),a=i(267062),r=i(99503),o=i(40785);e.exports=a.extend({Model:r,canSaveAndCopy:!0,onInit:function(e){this.dynamicEntityModel=this.model.dynamicEntityModel,this.formConfigId=this.dynamicEntityModel.get("layoutId"),this.urlRoot="form/".concat(this.dynamicEntityModel.get("name")),a.prototype.onInit.call(this,e)},caption:function(){return o.translateKey({groupName:this.dynamicEntityModel.get("canon"),subgroupName:"general",key:"name"})},newCaption:function(){return o.translateKey({groupName:this.dynamicEntityModel.get("canon"),subgroupName:"general",key:"new"})},crumbs:function(){var e=[];return e.push({title:o.translateKey("case"),url:"/cases"}),this.model.get("caseId")?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(this.model.get("caseId"))}),this.model.isNew()||e.push({title:o.translateKey("activity"),url:"/case/".concat(this.model.get("caseId"),"/activity")}),e.push({title:o.translateKey({groupName:this.dynamicEntityModel.get("canon"),subgroupName:"general",key:"name"}),url:"/case/".concat(this.model.get("caseId"),"/activity/form/").concat(this.model.get("entityName"))})):e.push({title:o.translateKey("forms"),url:"/forms"}),this.model.isNew()?e.push({title:o.translateKey("new")}):e.push({title:this.model.get("number")}),e},canEdit:function(){var e=n.get(this.model,"entityDefinition");return this.model.rules.canEditCase.call(this.model)&&o.checkDynamicCustomFormPermission({entDef:e,action:"edit"})||!1===this.model.get("sysActive")&&this.model.get("createdBy")===$appData.user.id},canDelete:function(){var e=n.get(this.model,"entityDefinition");return this.model.rules.canEditCase.call(this.model)&&o.checkDynamicCustomFormPermission({entDef:e,action:"remove"})||!1===this.model.get("sysActive")&&this.model.get("createdBy")===$appData.user.id},locals:function(e){var t=this;a.prototype.locals.call(this,(function(i){var a=n.extend({},i);a.modelEntityCanon=t.dynamicEntityModel.get("canon"),a.canEdit=i.canEdit&&t.canEdit(),a.canDelete=i.canDelete&&t.canDelete(),e(a)}))}})},498821:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(402193),r=i(325425);e.exports=r.extend({template:i(448932),onInit:function(){this.listenTo(this.model,"change:totalMatchesChecked",this.setTotalMatchesChecked)},events:{"click #link-case:not(disabled)":"onLinkApproveClick","click #navigate-back":"onNavigateBackClick"},onRendered:function(){this.$el.addClass("has-navigation"),this.setTotalMatchesChecked()},onRemove:function(){this.$el.removeClass("has-navigation")},onLinkApproveClick:function(){var e=this,t=this.model.linkModel.get("reason"),i=this.model.linkModel.get("matches").where({selected:!0}),r=n.map(i,"id"),o=this.model.linkModel.get("otherEntityId__caseNumber");a.create(e.$("#link-case")[0]).start(),this.$("#navigate-back").attr("disabled","disabled"),this.model.linkModel.approve(t,r,(function(t){if(t)return t;e.model.trigger("link-updated",this),e.model.linkCollection?e.model.linkCollection.fetch({success:function(){e.model.finish(o)},reset:!0}):e.model.finish()}))},onNavigateBackClick:function(){this.model.linkCollection?this.model.suggest():this.model.edit()},setTotalMatchesChecked:function(){this.model.get("totalMatchesChecked")<1?this.$("#link-case").prop("disabled",!0):this.$("#link-case").prop("disabled",!1)}})},253441:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(810089),o=i(809375).textarea.ui.component(),s=i(40785);e.exports=a.extend({FooterView:i(498821),className:"split approval",template:i(967948),locals:function(){var e=a.prototype.locals.call(this);return n.extend(e,{model:this.model.linkModel.attributes})},onRendered:function(){this.listenTo(this.model.linkModel,"validated",this.onValidated),this.renderComponents();var e=new r({model:this.model,editMode:!0});this.addSubView(e).render(this.$(".panel-right"))},renderComponents:function(){var e=this.model.linkModel.getEntityDefinition(),t=e.fields().reason;t.typeOptions=n.assign({},t.typeOptions,{placeholder:s.translateKey("reason_approve_link")}),new o({model:this.model.linkModel,fieldDef:t,fields:e.fields(),field:t.field}).render(this.$("#components-placeholder"),(function(e){if(e)throw e;var t=this.$("textarea");t.data("bs.tooltip").options.container=".modal",t.select()}))}})},157332:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425);e.exports=a.extend({template:i(388297),events:{"click #confirm":"onConfirmClick","click #back":"onBackClick"},onRendered:function(){this.$el.addClass("has-navigation")},onRemove:function(){this.$el.removeClass("has-navigation")},onConfirmClick:function(){this.model.set("isConfirmed",!0),n(".link-suggestion-modal").modal("hide")},onBackClick:function(){this.model.set("isConfirmed",!1),this.model.suggest(!0)}})},421526:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({FooterView:i(157332),template:i(384907),className:"centered",locals:function(){return{totalLinks:this.model.linkCollection.total,translationKey:1===this.model.linkCollection.total?"link_confirm_close_msg_single":"link_confirm_close_msg_plural"}}})},377840:(e,t,i)=>{"use strict";var n=i(402193),a=i(325425);e.exports=a.extend({template:i(80413),events:{"click #dismiss-case":"onLinkDismissClick","click #navigate-back":"onNavigateBackClick"},onRendered:function(){this.$el.addClass("has-navigation")},onRemove:function(){this.$el.removeClass("has-navigation")},onLinkDismissClick:function(){var e=this,t=this.model.linkModel,i=t.get("reason");n.create(e.$("#dismiss-case")[0]).start(),this.$("#navigate-back").attr("disabled","disabled"),t.dismiss(i,(function(t){t||(e.model.trigger("link-updated",this),e.model.linkCollection?e.model.linkCollection.fetch({success:function(){e.model.finish()},reset:!0}):e.model.finish())}))},onNavigateBackClick:function(){this.model.linkCollection?this.model.suggest():this.model.edit()}})},514570:(e,t,i)=>{"use strict";var n=i(96190),a=i(809375),r=i(325425),o=a.textarea.ui.component(),s=i(40785);e.exports=r.extend({className:"padded-content",FooterView:i(377840),template:i(37079),onRendered:function(){this.listenTo(this.model.linkModel,"validated",this.onValidated),this.renderComponents()},renderComponents:function(){var e=this.model.linkModel.getEntityDefinition(),t=e.fields().reason;t.typeOptions=n.assign({},t.typeOptions,{placeholder:s.translateKey("reason_dismiss_link")}),new o({model:this.model.linkModel,fieldDef:t,fields:e.fields(),field:t.field}).render(this.$("#components-placeholder"),(function(e){if(e)throw e;var t=this.$("textarea");t.data("bs.tooltip").options.container=".modal",t.select()}))}})},968930:(e,t,i)=>{"use strict";i(250113),i(426099);var n=i(402193),a=i(325425);e.exports=a.extend({template:i(813419),events:{"click #link-approve":"onLinkApproveClick","click #link-dismiss":"onLinkDismissClick","click #link-save":"onLinkSaveClick"},onInit:function(e){this.linkResponseModel=this.model,this.model=this.model.linkModel},locals:function(){return{model:this.model.attributes}},onLinkApproveClick:function(){this.linkResponseModel.approve()},onLinkDismissClick:function(){this.linkResponseModel.dismiss()},onLinkSaveClick:function(){var e=this,t=this.model.get("reason"),i=this.$el.find(".ladda-button");i.ladda({model:this.model,action:"save"}),n.create(i[0]).start(),e.model.save({reason:t},{wait:!0,success:function(){e.linkResponseModel.trigger("link-updated",this),e.linkResponseModel.finish()},parse:!1})}})},698673:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(325425),o=i(680553),s=i(809375).textarea.ui.formComponent(),l=i(186360),d=i(40785);i(520131),e.exports=r.extend({className:"link-edit-manual-tmpl",template:i(112308),features:{validation:!0},events:{"click button[name=close]":"onCloseClick","closed.bs.alert":"onCloseClick","click button[name=save-manual-link]":"onSaveClick","change #reason":"onReasonChange"},locals:function(){var e=r.prototype.locals.call(this);return a.extend(e,{model:this.model.attributes,formattedData:this.model.getFormattedData({escape:!0}),title:d.translateKey({key:"link_type"},{context:{type:this.model.get("type")}}),entityTitle:"sys/case"===this.model.getFormattedData().otherEntityType?d.translateKey("case_number"):d.translateKey("name")})},onReasonChange:function(e){this.model.set("reason",n(e.currentTarget).val())},onSaveClick:function(){var e=this,t=this.model.validate(this.model.attributes,{});a.isUndefined(t)&&this.model.save(null,{success:function(){e.model.trigger("link-updated",this),e.onCloseClick()},parse:!1})},onCloseClick:function(){o.remove(this)},onRendered:function(){this.renderComponents()},renderComponents:function(){var e=this.model.getEntityDefinition(),t=a.extend({},e.fields().reason,{readOnlyWidth:"col-xs-12",width:"col-xs-12",hideCaption:!0,hideCaptionOffset:"col-xs-0"}),i=new s({model:this.model,fieldDef:t,fields:e.fields(),field:t.field}),n=this.$("#components-placeholder"),r="Manual"===this.model.get("type")&&l.evaluate("canEdit",this,this.model),o=this;this.setReadOnly(!r),i.render((function(e){if(e)throw e;n.html(i.$el),o.$("textarea").data("bs.tooltip").options.container=".modal"}))}})},125288:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(42668),o=i(810089),s=i(686232),l=i(809375),d=i(186360),c=l.textarea.ui.formComponent();e.exports=a.extend({FooterView:i(968930),className:"split",template:i(715305),locals:function(){var e=a.prototype.locals.call(this);return n.extend(e,{model:this.model.originalLinkModel.attributes,formattedData:this.model.originalLinkModel.getFormattedData()})},onRendered:function(){var e=this;this.listenTo(this.model.linkModel,"validated",this.onValidated),this.renderComponents();var t=new r({model:e.model,linkModel:e.model.originalLinkModel}),i=new o({model:e.model,linkModel:e.model.originalLinkModel,editMode:!0,disabled:!0}),n=new s({model:e.model.linkModel,title:"relevance_score_link_info"});this.addSubView(n).render(this.$(".score-placeholder")),this.addSubView(t).render(this.$("#link-title-placeholder")),this.addSubView(i).render(this.$(".panel-right"))},renderComponents:function(){var e=this.model.linkModel.getEntityDefinition(),t=n.extend({},e.fields().reason,{readOnlyWidth:"col-xs-12",width:"col-xs-12",hideCaption:!0,hideCaptionOffset:"col-sm-offset-0"}),i=new c({model:this.model.linkModel,fieldDef:t,fields:e.fields(),field:t.field}),a=this.$("#components-placeholder"),r=d.evaluate("canEdit",this,this.model.linkModel),o=this;this.setReadOnly(!r),i.render((function(e){if(e)throw e;a.html(i.$el),o.$("textarea").data("bs.tooltip").options.container=".modal"}))}})},251910:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425),r=i(450048);e.exports=a.extend({className:"link-loading-tmpl centered",template:i(110979),onRendered:function(){var e=n.Deferred();return this.addSubView(new r({showOnStart:!0})).render(this.$(".loader-container")).done((function(){return e.resolve()})),e.promise()}})},63421:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(686232),o=i(610421),s=i(621299);e.exports=a.extend({template:i(820880),className:"match",tagName:"li",features:{tooltips:!1},onInit:function(e){this.editMode=e.editMode,this.disabled=e.disabled,this.listenTo(this.model,"change:selected",this.markChecked)},locals:function(){var e=n.pick(this.model.attributes,["currentEntityHighlight","otherEntityHighlight"]),t=n.mapValues(e,(function(e){return s.escapeHighlightedFields(e)}));return{model:n.extend({},this.model.attributes,t),editMode:this.editMode,disabled:this.disabled}},onRendered:function(){o.tooltip(this.$el,{container:".relationship-container"}),this.model.get("stale")&&this.$el.addClass("match-stale");var e=new r({model:this.model,title:"relevance_score_match_info"});this.addSubView(e).render(this.$(".score-placeholder"))},markChecked:function(){this.$("input[type=checkbox]").prop("checked",this.model.get("selected"))}})},810089:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425),r=i(63421),o=i(40785),s=i(344427);e.exports=a.extend({template:i(473016),tagName:"ul",className:"matches",events:{"click #select-all":"onSelectAllClick",'change label input[type="checkbox"]:not("#select-all")':"onCheckboxToggle"},onInit:function(e){this.linkModel=e.linkModel||this.model.linkModel,this.editMode=e.editMode,this.disabled=e.disabled,this.totalMatches=this.linkModel.get("matches").length,this.totalMatchesChecked=this.totalMatches},locals:function(){return{model:this.linkModel.attributes,editMode:this.editMode,disabled:this.disabled,totalMatches:this.totalMatches}},onRendered:function(){var e=this,t=this.linkModel.get("matches"),i=t?t.length:0;this.linkModel.get("numberOfMatches")>i&&s.display(o.translateKey("not_all_matches_available_to_you"),{type:"warning",container:"#matches-warning"}),t.each((function(t){var i=new r({model:t,editMode:e.editMode,disabled:e.disabled});this.addSubView(i).render(this.$el)}),this),e.$selectAllCheckbox=e.$("#select-all"),e.updateSelectAllCheckbox(),e.updateCountsText()},onSelectAllClick:function(e){var t=this.$selectAllCheckbox.is(":checked");this.updateAllCheckboxes(t),this.updateCountsText()},onCheckboxToggle:function(e){var t=n(e.currentTarget),i=t.is(":checked"),a=t.attr("data-id");this.selectLinkMatch(a,i),this.updateSelectAllCheckbox(),this.updateCountsText()},selectLinkMatch:function(e,t){this.linkModel.get("matches").get(e).set("selected",t)},updateSelectAllCheckbox:function(){var e=this.linkModel.get("matches").where({selected:!0}).length;0===e?(this.$selectAllCheckbox.prop("indeterminate",!1),this.$selectAllCheckbox.prop("checked",!1)):e===this.totalMatches?(this.$selectAllCheckbox.prop("indeterminate",!1),this.$selectAllCheckbox.prop("checked",!0)):this.$selectAllCheckbox.prop("indeterminate",!0)},updateAllCheckboxes:function(e){this.linkModel.get("matches").each((function(t){t.set("selected",e)}))},updateCountsText:function(){var e=this.linkModel.get("matches").where({selected:!0}).length,t=1===e?o.translateKey("record"):o.translateKey("records"),i=this.disabled?"approved_records_info":"selected_records_info",n=o.translateKey(i,null,{totalSeletced:e,totalRecords:this.totalMatches}),a=o.translateKey("link_case_with",{context:{recordsNumber:e,records:t}});this.model.set("totalMatchesChecked",e),this.model.set("totalSelectedText",n),this.model.set("totalApprovedText",a)}})},131485:(e,t,i)=>{"use strict";var n=i(325425),a=i(680553);i(31217),i(520131),e.exports=n.extend({group:"link-sub-views",template:i(70168),events:{"click button[name=close]":"onCloseClick","hide.bs.modal":"onHide"},rules:{showModalCloseBtn:function(){return"confirm"!==this.model.get("view")}},onInit:function(){this.listenTo(this.model,"change:view",this.renderSubView)},onUnbindEvents:function(){this.model.linkCollection&&this.model.linkCollection.off("reset",this.model.onLinkCollectionReset,this.model)},onRendered:function(){this.$(".modal-footer").hide(),this.renderSubView()},onHide:function(e){!this.model.get("isConfirmed")&&this.model.linkCollection&&0!==this.model.linkCollection.total&&(e.preventDefault(),e.stopImmediatePropagation(),this.model.confirm())},renderSubView:function(){if("finished"===this.model.get("view"))this.$(".link-suggestion-modal").modal("hide");else{var e=this;a.removeAllInGroup(this.group),this.view=this.model.getCurrentView(),this.view&&this.addSubView(this.view,{group:this.group}).render(this.$(".modal-body")).done((function(){e.view.FooterView&&(this.footerView=new e.view.FooterView({model:e.model}),a.getByRef("link-modal-footer")&&a.removeByReference("link-modal-footer"),e.view.addSubView(this.footerView,{group:e.group,reference:"link-modal-footer"}).render(e.$(".modal-footer")),e.$(".modal-footer").show())}))}}})},686232:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(30325),className:"link-score",onInit:function(e){this.title=e.title,this.relevancePercentage=this.model.getFormattedData().relevance.split("%")[0]},locals:function(){return{formattedData:this.model.getFormattedData(),relevancePercentage:this.relevancePercentage,title:this.title}}})},195935:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(5614),locals:function(){return{caseNumber:this.model.get("lastLinkedToCaseNumber")}}})},546735:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({className:"centered",template:i(382432)})},68325:(e,t,i)=>{"use strict";var n=i(325425),a=i(680553),r=i(975892),o=i(195935);e.exports=n.extend({template:i(285540),events:{"click #link-approve":"onLinkApproveClick","click #link-dismiss":"onLinkDismissClick"},onInit:function(){var e=this;e.model.linkCollection&&(this.gridPager=new r({collection:e.model.linkCollection,defaultRowCountOption:1,rowCountOptions:1,grid:e,single:!0}))},onRendered:function(){var e=a._getViewInfo(this).parentHandle;this.parentView=a.getByHandle(e);var t=this.model.get("lastLinkedToCaseNumber");if(this.gridPager&&this.addSubView(this.gridPager).render(this.$("#pager")),t){var i=new o({model:this.model});this.addSubView(i).render(".success-container"),this.model.set("lastLinkedToCaseNumber",null),setTimeout((function(){i.wasRemoved||a.remove(i)}),3e3)}},fetchCollection:function(){var e=this;e.parentView.loader&&e.parentView.loader.show(),e.$("button").attr("disabled",!0),e.model.linkCollection.fetch({success:function(){e.parentView.loader&&e.parentView.loader.hide(),e.model.isEmpty()||e.$("button").attr("disabled",null),e.gridPager.render(),e.parentView.render()},reset:!0})},onLinkApproveClick:function(){this.model.approve()},onLinkDismissClick:function(){this.model.dismiss()}})},483553:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(42668),o=i(810089),s=i(546735),l=i(686232),d=i(450048);e.exports=a.extend({FooterView:i(68325),className:"",template:i(941708),onInit:function(){this.model.showSummary=!1},locals:function(){return{model:n.get(this,"model.linkModel.attributes")||{}}},onRendered:function(){if(this.loader=new d({overlay:!0}),this.addSubView(this.loader).render(this.$(".loader-container")),!this.model.linkModel){var e=new s;return this.addSubView(e).render(this.$(".link-suggestion-error"))}var t=new r({model:this.model,linkModel:this.model.linkModel}),i=new o({model:this.model,editMode:!1}),n=new l({model:this.model.linkModel,title:"relevance_score_link_info"});this.addSubView(t).render(this.$("#link-title-placeholder")),this.addSubView(n).render(this.$(".score-placeholder")),this.addSubView(i).render(this.$(".panel-right"))}})},372142:(e,t,i)=>{"use strict";var n=i(40785),a=i(325425);e.exports=a.extend({className:"centered",template:i(174967),locals:function(){return{model:{totalLinks:this.model.linkCollection.total,links:function(){return 1===this.totalLinks?n.translateKey("_link"):n.translateKey("_links")}}}},onRendered:function(){var e=this;e.model.linkCollection.total>0&&setTimeout((function(){e.model.suggest()}),2e3)}})},911887:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425);e.exports=a.extend({template:i(459282),events:{"click #ok":"onOkClick"},onOkClick:function(){this.model.set("isConfirmed",!0),n(".link-suggestion-modal").modal("hide")}})},702463:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({footerView:i(911887),template:i(583622),className:"centered"})},42668:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({className:"link-title-tmpl",template:i(31217),onInit:function(e){this.linkModel=e.linkModel},locals:function(){return{model:this.linkModel.attributes,confirm:this.confirm}},events:{"click #refresh-links ":"onRefreshLinksClick","click #refresh-yes ":"onRefresYesClick","click #refresh-no ":"onRefresNoClick"},onRefreshLinksClick:function(){this.confirm=!0,this.render()},onRefresYesClick:function(){this.model.progress(),this.model.showSummary=!0,this.model.fetch({timeout:$appData.globalConfig.linkSuggestTimeout})},onRefresNoClick:function(){this.confirm=!1,this.render()}})},87876:(e,t,i)=>{"use strict";i(16280),i(944114);var n=i(274692),a=i(96190),r=i(939994),o=i(40785),s=i(680553),l=i(325425),d=i(262686),c=i(975877),u=i(185999);e.exports=l.extend({className:"search-link-tmpl",template:null,callback:null,features:{validation:!0},linkedIds:null,entityLinkToConfig:null,collection:null,gridName:null,customPlaceholderKey:null,rules:{isSearching:function(){return!0===this.model.get("searching")}},events:{"click #back":"onBackClick","click #add-link":"onAddLinkClick","click #close":"onCloseClick","change #reason":"onReasonChange"},onInit:function(e){if(!e)throw Error("Options Required");if(!e.callback)throw Error("Callback Required");if(!e.template)throw Error("Template Required");if(!e.collection)throw Error("Collection Required");if(!e.entityLinkingTo)throw Error("Entity Linking To Required");this.model.set({searching:!0,type:"Manual",status:"Approved"});var t=e.entityLinkingTo;this.entityLinkToConfig=r.get(t),this.template=e.template,this.collection=e.collection,this.gridName=e.gridName,this.customPlaceholderKey=e.customPlaceholderKey,this.alwaysIncludeSelectedFields=e.alwaysIncludeSelectedFields,this.callback=e.callback},onReasonChange:function(e){this.model.set("reason",n(e.currentTarget).val())},onBackClick:function(){this.clearErrors(),this.model.set("searching",!0),this.$el.addClass("searching")},onAddLinkClick:function(){var e=this,t=this.model.validate(this.model.attributes,{});a.isUndefined(t)&&this.model.save(null,{success:function(){s.remove(e),e.callback()},parse:!1})},onCloseClick:function(){!0===this.model.get("searching")?s.remove(this):this.onBackClick()},onRendered:function(){var e=this;this._getLinkedIds(this.model.get("entity1Id"),(function(t){e.linkedIds=t,e.entitySearchWithResultsView=new d({entity:e.entityLinkToConfig.entity,dataContainerOptions:{collection:e.collection,configName:e.gridName,alwaysIncludeSelectedFields:e.alwaysIncludeSelectedFields,pluginOptions:{onRowClicked:function(t){var i={searching:!1,entity2Id:t.id};"sys/person"===e.entityLinkToConfig.entityCanon?i.entity2Id__personName=t.get("personName"):i.entity2Id__caseNumber=t.get("caseNumber"),e.model.set(i),e.$el.removeClass("searching")},disableRowCriteria:function(t){return-1!==e.linkedIds.indexOf(t.id)},disableRowReason:function(){return o.translateKey({groupName:"sys/link",subgroupName:"messages",key:"already_linked"},{context:{entity:e.entityLinkToConfig.caption}})}}},filter:u.must([e.getFilter(),{operator:"is_empty",field:"pendingPurgeDate",type:"datetime",values:[]},{operator:"is_empty",field:"datePurged",type:"datetime",values:[]}])}),e.addSubView(e.entitySearchWithResultsView).render(e.$("#search-screen"))})),this.$el.addClass("searching"),this.$(".modal-footer").addClass("has-navigation")},onRemove:function(){this.$(".modal-footer").removeClass("has-navigation")},getFilter:function(){return this.entityLinkToConfig.query().is_not("id",this.model.get("entity1Id")).toQuery()},_getLinkedIds:function(e,t){var i=new c(null,{entityId:e}),n=i.getAcknowledgedLinksFilter(this.entityLinkToConfig.entityCanon);i.setFilter(n),i.fetch({data:{injectMatches$:!1,getStaticFlags$:!1},success:function(){var e=[];i.length>0&&a.each(i.models,(function(t){e.push(t.get("entity1Id")),e.push(t.get("entity2Id"))})),t(e)}})}})},181601:(e,t,i)=>{"use strict";i(428706),i(944114),i(250113),i(426099),i(95335),i(557034);var n=i(274692),a=i(96190),r=i(267062),o=i(879176),s=i(161199),l=i(789694),d=i(383645),c=i(93216),u=i(40785),p=i(904143),f=i(446322),h=i(185999),m=i(870182),g=i(45701);e.exports=r.extend({template:function(){return this.model.isNew()?i(513578):i(577572)},caption:function(){return"".concat(u.translateKey("note")," ").concat(this.model.get("number"))},urlRoot:"/note",Model:p,formConfigName:"note-details",features:{workflowFlags:!0},crumbs:function(){var e=[];return e.push({title:u.translateKey("case"),url:"/cases"}),this.model.get("caseId")?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(this.model.get("caseId"))}),e.push({title:u.translateKey("activity"),url:"/case/".concat(this.model.get("caseId"),"/activity")}),e.push({title:u.translateKey("note"),url:"/case/".concat(this.model.get("caseId"),"/activity/notes")})):e.push({title:u.translateKey("note"),url:"/notes"}),this.model.isNew()?e.push({title:u.translateKey("new")}):e.push({title:this.model.get("number")}),e},rules:{isNew:function(){return this.model.isNew()},isNotNew:function(){return!this.model.isNew()},isSubmitted:function(){return!0===this.model.get("sysSubmitted")},displayFiles:function(){return!0},enabledRecordSource:function(){return g.isEnabled("recordSourceView")&&c.hasRole("view_source_data")},canRemoveComment:function(){return c.hasRole("remove_comment")&&(this.model.rules.canEditNoteGroup.call(this.model)||!this.rules.isSubmitted.call(this))&&!this.model.rules.disableForClosedCase.call(this.model)},canCreateComment:function(){return c.hasRole("create_comment")&&(this.model.rules.canEditNoteGroup.call(this.model)||!this.rules.isSubmitted.call(this))&&!this.model.rules.disableForClosedCase.call(this.model)},canAddNewNote:function(){return this.model.rules.canEditCase.call(this.model)&&c.hasRole("create_note")||c.hasRole("create_note_external")&&u.isPortalUser()}},events:{"change #noteTemplates":"onNoteTemplateSelectorChange","click #add-file":"onAddFileClickThrottled","click #record-source-view":"onRecordSourceViewClicked"},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canSaveAndCopy,i=void 0===t||t;this.canSaveAndCopy=i,r.prototype.onInit.call(this,e)},onNoteTemplateSelectorChange:function(e){var t=n("option:selected",e.currentTarget).data();t.picklistData?this.model.set("details",t.picklistData.body):this.model.set("details",null)},onAddFileClickThrottled:a.throttle((function(){var e={},t=this;function i(){t.updateUrl(),t.disableDirtyFormHandling(),u.navigateTo("/note/".concat(t.model.id,"/file/new"))}!0!==this.model.get("sysSubmitted")&&(e.sysSubmitted=!1),this.isReadOnly()?i():t.model.save(e,{success:function(){i()}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRendered:function(){r.prototype.onRendered.call(this);var e=[];e.push(this.renderFileGrid());var t=this.model.rules.isMarkedForPurge.call(this.model),i=this.model.rules.isPurged.call(this.model);if(!0!==this.model.isNew()&&c.hasRole("view_comment")&&!i&&(this.commentsGrid=new o({title:u.translateKey({groupName:"sys/comment",subgroupName:"general",key:"namePlural"}),configName:"note-comments",enableEntityFilters:!1,condensedLayout:!0,collection:new s(null,{parentType:"note",parentId:this.model.id,showInactiveRecords:!0}),pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableBatchExport:!0,enableBatchDelete:this.rules.canRemoveComment.call(this),multiSelect:!0}]}),this.addSubView(this.commentsGrid).render(this.$("#comments-container"))),!0!==this.model.isNew()&&this.rules.canCreateComment.call(this)&&!t&&!i){var l=a.extend({parentType:"note",parentId:this.model.id,caseId:this.model.get("caseId"),parentNumber:this.model.get("childNumber")},this.model.pickJoinData({attribute:"caseId"}));e.push(this.addSubView(new d({data:l,commentsGrid:this.commentsGrid})).render(this.$("#new-comment-container")))}return this.model.on("readOnlyChange",this.onReadOnlyChange,this),this.onReadOnlyChange(),n.when.apply(n,e).promise()},onReadOnlyChange:function(){var e=this.$('.form-group[data-field-name="details"]');if(!e.hasClass("has-error")){var t=e.find(".form-control-static[name=read-only-value]");if(this.model.readOnly)t.tooltip&&t.tooltip("destroy");else{var i=u.translateKey({groupName:"forms",subgroupName:"tooltips",key:"note_details_read_only"});t.attr("title",i).tooltip({placement:"top",trigger:"hover",fixTitle:!0})}}},renderFileGrid:function(){var e=n.Deferred(),t=!!this.model.id;if(c.hasRole("view_attachment")){var i=new o({model:this.model,configName:"note-files",title:u.translateKey({groupName:"sys/attachment",subgroupName:"general",key:"namePlural"}),collection:new l(null,{parentId:this.model.id,showInactiveRecords:!0}),condensedLayout:!0,enableEntityFilters:!1,enableDataFilters:!1,fetchOnRender:!0!==this.model.isNew(),alwaysOnFilters:t?null:[h.impossibleTerm()],buttons:[{caption:u.translateKey({groupName:"sys/attachment",subgroupName:"actions",key:"add"}),onClicked:this.onAddFileClickThrottled.bind(this),displayRule:"canUploadFile",dataDisableRule:"!canEditCase || disableForClosedCase"}],pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableExternalRowActions:this.model.showExternalGridActions(),enableBatchExternal:this.model.showExternalGridActions(),rowActions:f.getRowActions.call(this),onRowClicked:function(e){u.navigateToUrlByModelType(e)}}]});this.addSubView(i).render(this.$("#files-grid")).then((function(){return e.resolve()}))}else e.resolve();return e.promise()},onBindEvents:function(){this.model.isNew()&&this.model.on("change:caseId",this.onCaseIdChange,this),r.prototype.onBindEvents.call(this)},onUnBindEvents:function(){this.model.off("change:caseId",this.onCaseIdChange,this),r.prototype.onUnBindEvents.call(this)},onCaseIdChange:function(){this.model.unset("externalRecord")},onRecordSourceViewClicked:function(){this.recordSourceModalView=new m({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()}})},337439:(e,t,i)=>{"use strict";i(428706),i(944114),i(426099),i(423500),i(962010),i(327495),i(725440),i(95335),i(557034);var n=i(96190),a=i(122268),r=i(274692),o=i(267062),s=i(40785),l=i(681127),d=i(278717),c=i(922078),u=i(93216),p=i(344427),f=i(874043),h=i(870182),m=i(896727),g=i(45701);e.exports=o.extend({urlRoot:"/party",Model:l,formConfigName:"party-details",hasMatchWithPerson:!1,features:{readOnlyFields:!0,workflowFlags:!0},template:function(){return this.model.isNew()?i(883610):i(528454)},caption:function(){return"".concat(s.translateKey("")," ").concat(this.model.get("number"))},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.prototype.onInit.call(this,e);var t=e.canSaveAndCopy,i=void 0===t||t,n=e.enablePeopleSearch,a=void 0===n||n;this.canSaveAndCopy=i,this.enablePeopleSearch=a,this.enablePeopleSearch&&(this.personModel=new c,this.manuallyInput=!0,this.model.isNew()?this.features.similarSearch=!0:this.features.similarSearch=!1)},locals:function(e){var t=this;o.prototype.locals.call(this,(function(i){var a=n.extend({},i,{enablePeopleSearch:t.enablePeopleSearch});e(a)}))},rules:{isNew:function(){return this.model.isNew()},isNotNew:function(){return!this.model.isNew()},hasAttachedProfile:function(){return!n.isEmpty(this.model.get("personId"))},enabledRecordSource:function(){return g.isEnabled("recordSourceView")&&u.hasRole("view_source_data")},canEditPrimaryParty:function(){return u.hasRole("edit_party")}},crumbs:function(){var e=[];return e.push({title:s.translateKey("case"),url:"/cases"}),this.model.get("caseId")?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(this.model.get("caseId"))}),e.push({title:s.translateKey("party"),url:"/case/".concat(this.model.get("caseId"),"/parties")})):e.push({title:s.translateKey("party"),url:"/parties"}),this.model.isNew()?e.push({title:s.translateKey("new")}):e.push({title:this.model.get("number")}),e},onRendered:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.onRendered.call(this,t),this.fetchProfileMatches()},checkNewOldPrimary:function(e){var t=this,i=!1,a=!1;t.model.get("primaryEntity")?(a=!0,r.ajax({url:"".concat($appData.globalConfig.apiRoot,"/case/").concat(t.model.get("caseId"),"/primary_party"),type:"GET"}).done((function(r){r.hasPrimary&&(i=!0,n.forEach(r.primaries,(function(e){e.id===t.model.id&&t.model.get("sysSubmitted")&&(a=!1)}))),e(null,a,i)})).fail(e)):e(null,a,i)},confirmToReplaceOldPrimary:function(e,t,i){var n=this;e&&t?p.display(s.translateKey("primary_party_exist"),{type:"confirm",title:s.translateKey("primary_party_exist_title"),confirmCaption:"yes",cancelCaption:"no",callback:function(e){e?(n.model.set("primaryEntity",!0),n.model.set("resetPrimaries",!0)):n.model.set("primaryEntity",!1),i(null,"done")}}):i(null,"done")},confirmCreatePersonLink:function(e,t){var i=this,a=!1===i.model.get("caseId__sysActive"),r=$appData.globalConfig.promptUserToCreateProfile&&!a,o=i.model.isNew()||!this.model.get("sysSubmitted"),l=function(){m.info(s.translateKey("created_profile_through_party"))};o&&i.manuallyInput&&i.linkPersonPermissions&&r?p.display(s.translateKey("whether_create_person_content"),{type:"confirm",title:s.translateKey("create_new_profile"),confirmCaption:"yes",cancelCaption:"no",callback:function(e){e&&(i.model.set("linkWithPersonMethod","Created Link Through Party"),i.model.once("sync",l,this)),t(null,"done")}}):(i.manuallyInput||(i.model.set("person",n.omit(i.personModel.attributes,"entity$")),i.model.set("linkWithPersonMethod","Searched for Person")),t(null,"done"))},onSaveClickThrottled:n.throttle((function(e){var t=this;if(this.isSafeToLeaveDirtyInlines()){var i=n.cloneDeep(this.model.attributes);this.model.validate(i,{validate:!0})||a.waterfall([this.checkNewOldPrimary.bind(this),this.confirmToReplaceOldPrimary.bind(this),this.confirmCreatePersonLink.bind(this)],(function(){o.prototype.onSaveClickThrottled.call(t,e)}))}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),events:{"click #search-people":"onSearchPeopleClick","click #party-profile-search":"onSearchPeopleClick","click .create-profile-through-party":"onCreateProfileClick","click #record-source-view":"onRecordSourceViewClicked"},onCreateProfileClick:function(e){var t=this;p.display(s.translateKey("whether_create_person_through_party"),{type:"confirm",title:s.translateKey("create_new_profile"),confirmCaption:"yes",cancelCaption:"no",callback:function(e){e&&t.model.save({linkWithPersonMethod:"Created Link Through Party"},{success:function(e){m.info(s.translateKey("created_profile_through_party")),s.navigateTo("/party/".concat(t.model.id))}})}})},onSearchPeopleClick:function(){var e=this,t=this,i=this.model;this._renderSearchView((function(a){var r=n.get($appData,"globalConfig.personPartyMapping.fields",[]);n.each(r,(function(e){i.set(e,a.get(e)),i.addDirtyField(e)})),e._populateMatchingDynamicFields(a),t.manuallyInput=!1,t.personModel=a}))},_populateMatchingDynamicFields:function(e){var t=this,i={},a=$appData.entityFields;n.forEach(a,(function(e){var t=e.entity.name;if("party"===t||"person"===t){var a=e.fields;i[t]=n.keyBy(a,(function(e){return e.caption.toLowerCase()}))}if("party"in i&&"person"in i)return!1}));var r=i.person,o=i.party;n.forEach(r,(function(i,n){var a=i.field,r=i.type;if("dynamic"===i.kind){var s=o[n];s&&s.type===r&&(s.restrictEdit&&!t.model.canEditRestrictedFields()||("submit-only"!==s.dynamicKind||t.model.isNew())&&(t.model.set(s.field,e.get(a)),t.model.addDirtyField(s.field)))}}))},_renderSearchView:function(e){n.isFunction(e)&&(this.searchView=new d({onSearchResultClick:e,disableSelectedFields:!0}),this.addSubView(this.searchView).renderAsModal())},onRecordSourceViewClicked:function(){this.recordSourceModalView=new h({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()},showPersonInfoBox:function(e){var t=n.capitalize(s.escapedTranslateKey("_here")),i=s.escapedTranslateKey("redirect_to_profile");i=i.replace("{here}",'<a href="/person/'.concat(n.escape(e),'" class="alert-link"><u>').concat(t,"</u></a>")),this.$(".create-profile").addClass("hidden"),this.$(".to-profile").html(i).removeClass("hidden")},showCreatePersonInfoBox:function(){var e=s.escapedTranslateKey("_here"),t=s.escapedTranslateKey("create_profile");t=t.replace("{here}",'<a class="create-profile-through-party alert-link" href="#"><u>'.concat(e,"</u></a>")),this.$(".to-profile").addClass("hidden"),this.$(".create-profile").html(t).removeClass("hidden")},onBindEvents:function(){this.model.isNew()&&this.model.on("change:caseId",this.onCaseIdChange,this),this.model.on("saved",this.fetchProfileMatches,this),o.prototype.onBindEvents.call(this)},onUnBindEvents:function(){this.model.off("change:caseId",this.onCaseIdChange,this),this.model.off("saved",this.fetchProfileMatches,this),o.prototype.onUnBindEvents.call(this)},onCaseIdChange:function(){this.model.unset("externalRecord")},fetchProfileMatches:function(){var e=this;if(e.enablePeopleSearch){var t=e.model.isNew();e.linkPersonPermissions=u.hasRole("create_person")&&u.hasRole("create_manual_link"),t||e.model.checkLockedByAnotherUser((function(t,i){if(t)throw t;e.personMatchesCollection||(e.personMatchesCollection=new f(null,{matchId:e.model.id,otherEntityType:"sys/person",recordLimit:1})),e.personMatchesCollection.fetch({success:function(){var t=$appData.globalConfig.createProfileAfterPartyCreated&&e.linkPersonPermissions&&e.model.rules.canEditCase.call(e.model)&&!i,n=!1===e.model.get("caseId__sysActive")||!0===e.model.get("caseId__canceled");e.personMatchesCollection.each((function(t){e.hasMatchWithPerson||"sys/person"!==t.get("relatedEntityType")||(e.hasMatchWithPerson=!0,e.$("#search-people").remove(),e.$("#party-profile-search").remove(),e.showPersonInfoBox(t.get("relatedEntityId")))}));var a=e.model.rules.isMarkedOrPurged.call(e.model),r=!e.model.rules.disableForClosedCase.call(e.model);e.hasMatchWithPerson||n||a||!t||!r||e.showCreatePersonInfoBox()}})}))}}})},22687:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(325425),r=i(335987),o=i(262686),s=i(680553),l=i(40785),d=i(185999);e.exports=a.extend({className:"party-lookup-tmpl",emailModel:null,template:i(276706),onInit:function(e){if(!n.isObject(e))throw new Error("opts must be object");if(!n.isFunction(e.onSearchResultClick))throw new Error("opts.onSearchResultClick must be a function");if(!e.emailModel)throw new Error("Email Model required");this.emailModel=e.emailModel,this.onSearchResultClick=e.onSearchResultClick},onRendered:function(){var e=this.emailModel.get("caseId");this.searchView=new o({entity:{base:"sys",name:"party"},dataContainerOptions:{collection:new r(null,{caseId:e}),configName:"case-capture-parties",fetchOnRender:!n.isEmpty(e),alwaysIncludeSelectedFields:["emailAddress"],pluginOptions:{multiSelect:!0,batchButtons:[{caption:l.translateKey("add_selected"),onClicked:this.processSelectedRows.bind(this)}],onRowClicked:this.processSelectedRows.bind(this),disableRowCriteria:function(e){return n.isEmpty(e.get("emailAddress"))},disableRowReason:function(){return l.translateKey({groupName:"sys/email",subgroupName:"extras",key:"party_without_email"})}}},filter:d.must([{operator:"is",field:"caseId",type:"case",values:[e]},d.mustNot([{operator:"is_empty",field:"pendingPurgeDate",type:"dateTime",values:[]},{operator:"is_empty",field:"datePurged",type:"dateTime",values:[]},{operator:"is_empty",field:"caseId__pendingPurgeDate",type:"dateTime",values:[]},{operator:"is_empty",field:"caseId__datePurged",type:"dateTime",values:[]}])])}),this.addSubView(this.searchView).render(this.$("#search-container"))},processSelectedRows:function(e){this.onSearchResultClick(n.isArray(e)?e:[e]),s.remove(this)},onRemove:function(){this.trigger("removed")}})},2799:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(202008),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(250113),i(426099),i(944114),i(962062);var r=i(274692),o=i(96190),s=i(267062),l=i(93216),d=i(40785),c=i(344427),u=i(922078),p=i(125380),f=i(367304),h=i(195466),m=i(142761),g=i(975877),y=i(870182),v=i(899184),b=i(962359),w=i(896727),A=i(45701);e.exports=s.extend({formConfigName:"person-details",template:i(389734),caption:function(){return"".concat(d.translateKey("people")," ").concat(this.model.get("personName"))},features:o.extend(s.prototype.features,{workflowFlags:!0}),className:"person-details-tmpl",Model:u,urlRoot:"/person",subcategoryViews:{overview:p,relatedCases:f,relatedPeople:h,history:m},tombstoneConfig:i(939136),linkCollection:null,hasLinkWithCase:!1,onRendered:function(){for(var e,t=this,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];(e=s.prototype.onRendered).apply.apply(e,[this].concat(n));var o=r.Deferred();this.linkCollection=new g(null,{entityId:this.model.id}),this.linkCollection.setFilter(this.linkCollection.getAcknowledgedLinksFilter()),this.linkCollection.fetch({success:function(){t.hasLinkWithCase=t.linkCollection.find((function(e){return"sys/case"===e.get("entity1Type")||"sys/case"===e.get("entity2Type")}))}});var l=new v({model:this.model,tabs:b,tabUnderline:!0});return this.tabsSubView=this.addSubView(l),this.tabsSubView.render(this.$(".tabs-container")).done((function(){o.resolve()})),o.promise()},events:{"click #allow-purge":"onAllowPurgeClick","click #do-not-purge":"onDoNotPurgeClick","click #record-source-view":"onRecordSourceViewClicked"},rules:{displayTombstone:function(){return!0},displayPicture:function(){return!0},personLockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},enabledRecordSource:function(){return A.isEnabled("recordSourceView")&&l.hasRole("view_source_data")},canMarkPersonAsDoNotPurge:function(){return!(this.model.get("pendingPurgeDate")||this.model.get("datePurged"))&&l.hasRole("edit_person_exclude_from_purge")},canEdit:function(){var e=!!this.model.get("pendingPurgeDate")||!!this.model.get("datePurged");return l.hasRole("edit_person")&&!e}},crumbs:function(){var e=[{title:d.translateKey("people"),url:"/people"}];return e.push({title:this.model.get("personName")||""}),e},locals:function(e){var t={model:this.model.attributes,formattedData:this.model.getFormattedData(),tombstoneConfig:this.insertCaptionsIntoTombstone(this.tombstoneConfig),canDelete:!1};l.canDelete(this.model,(function(i,n){i||(t.canDelete=n),e(t)}))},insertCaptionsIntoTombstone:function(e){var t=this;return o.map(e,(function(e){var i=e.caption?e.caption:{groupName:t.model.getEntityCanon(),subgroupName:"fields",key:e.field};return o.extend({},e,{caption:d.translateKey(i)})}))},onDeleteClick:function(e){var t=this,i=this.hasLinkWithCase?"delete_profile_with_link_confirmation":"delete_confirmation";c.display(d.translateKey(i),{type:"confirm",title:d.translateKey("delete_profile_title"),confirmText:d.translateKey("delete"),cancelText:d.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(e){e&&t.model.destroy({success:function(){w.info(w.getCrudMessage(t.model,"deleted")),t.model.unlock(),t.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}}),e.stopImmediatePropagation()},onAllowPurgeClick:function(){var e=this;this.model.save({excludeFromPurge:!1},{wait:!0,success:function(){w.info(w.getCrudMessage(e.model,"marked_allow_purge"))}})},onDoNotPurgeClick:function(){var e=this;this.model.save({excludeFromPurge:!0},{wait:!0,success:function(){w.info(w.getCrudMessage(e.model,"marked_do_not_purge"))}})},onSaveClickThrottled:o.throttle((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{modelOpts:{}},i=this,r=i.model.isNew(),o="save-and-copy"===e.currentTarget.id;this.isSafeToLeaveDirtyInlines()&&this.model.save({sysSubmitted:!0},function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({success:function(e){var t=r?"created":"updated";w.info(w.getCrudMessage(i.model,t)),i.model.unlock(),o?i.onSaveAndCopy(e):i.navigateByHistoryPattern({disableAllDirtyForms:!0})}},t.modelOpts))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRecordSourceViewClicked:function(){this.recordSourceModalView=new y({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()}})},142761:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(274692),r=i(325425),o=i(783118),s=i(879176),l=i(637527),d=i(40785);e.exports=r.extend({template:i(907900),gridView:null,auditCollection:null,displayViewActivity:!1,onInit:function(e){this.auditCollection=new o(null,{objectType:"sys/person",objectId:this.model.id,includeChildAudits:!0}),e&&n.isBoolean(e.displayViewActivity)&&(this.displayViewActivity=e.displayViewActivity)},gridColumns:[{caption:d.translateKey("user"),field:"userId__name",width:"150px"},{caption:d.translateKey("action"),field:"action"},{caption:d.translateKey("changes"),field:"differences"},{caption:d.translateKey("reference"),field:"reference"},{field:"timestamp",width:"145px"}],onRendered:function(){var e={collection:this.auditCollection,condensedLayout:!0,enableEntityFilters:!1,disableColumnSort:!0,pluginsOptions:[{enableDynamicColumns:!1,multiSelect:!1,columns:this.gridColumns,disableRowCriteria:function(e){return!1===e.get("isCreated")||!0===e.get("isDeleted")},disableRowReason:function(e){return!0===e.get("isDeleted")?d.translateKey("deleted_disable_reason"):!1===e.get("isCreated")&&d.translateKey("not_created_disable_reason")},onRowClicked:function(e){if(e.get("url")){var t=new l(e.get("entity"));d.navigateToUrlByModelType(t)}}}]},t=[];return this.gridView=new s(e),this._hideList||t.push(this.addSubView(this.gridView).render(this.$("#history-container"))),a.when.apply(a,t).promise()}})},125380:(e,t,i)=>{"use strict";var n=i(325425),a=i(40785);e.exports=n.extend({formConfigName:"person-details",template:i(556193),caption:a.translateKey("overview"),features:{readOnlyFields:!0}})},367304:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(879176),r=i(87876),o=i(975877),s=i(205260),l=i(556395),d=i(40785),c=i(93216),u=i(698673),p=i(163143);e.exports=n.extend({template:i(909197),caption:d.translateKey("related_cases"),relatedCasesGrid:null,personModel:null,acknowledgedLinkCollection:null,features:{validation:!0},className:"person-related-cases-tmpl",onInit:function(e){var t=this;if(!e&&!e.model)throw Error("Person Model Required");this.personModel=e.model,this.model=new l({entityId:this.personModel.id}),this.acknowledgedLinkCollection=new o(null,{entityId:this.personModel.id}),this.acknowledgedLinkCollection.setFilter(this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/case")),this.relatedCasesGridOptions={model:this.personModel,configName:"links-between-person-and-case",enableEntityFilters:!1,condensedLayout:!0,collection:this.acknowledgedLinkCollection,alwaysOnFilters:this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/case"),buttons:[{caption:d.translateKey("related_cases_link_case"),onClicked:this.onAddLinkClick.bind(this),aclRole:"create_manual_link",displayRule:"canAddCaseLinkToPerson"}],pluginsOptions:[{enableDynamicColumns:!0,multiSelect:!0,enableBatchDelete:c.hasRole("remove_manual_link"),onRowClicked:function(e){new p({linkModel:e}).on("link-updated",t.refreshLinksGrid,t),e.on("link-updated",t.refreshLinksGrid,t);var i=new u({model:e});t.addSubView(i).renderAsModal()}}]},this.relatedCasesGrid=this.getRelatedCasesGrid()},getRelatedCasesGrid:function(){return new a(this.relatedCasesGridOptions)},onAddLinkClick:function(){var e=this,t=new r({entityLinkingTo:{base:"sys",name:"case"},gridName:"list-cases",collection:new s,customPlaceholderKey:"select_case_to_continue",template:i(59715),model:new l({entity1Id:this.model.get("entityId"),entity1Type:"sys/person",entity2Type:"sys/case"}),callback:function(){e.refreshLinksGrid()}});this.addSubView(t).renderAsModal()},refreshLinksGrid:function(){this.relatedCasesGrid.fetchCollection()},onRendered:function(){return this.addSubView(this.relatedCasesGrid).render(this.$("#person-related-cases-grid"))}})},195466:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(879176),r=i(87876),o=i(975877),s=i(680240),l=i(556395),d=i(40785),c=i(939994),u=i(93216),p=i(698673),f=i(163143);e.exports=n.extend({template:i(31207),caption:d.translateKey("related_people"),relatedPeopleGrid:null,personModel:null,acknowledgedLinkCollection:null,features:{validation:!0},className:"person-related-people-tmpl",onInit:function(e){var t=this;if(!e&&!e.model)throw Error("Person Model Required");this.personModel=e.model,this.model=new l({entityId:this.personModel.id}),this.acknowledgedLinkCollection=new o(null,{entityId:this.personModel.id}),this.acknowledgedLinkCollection.setFilter(this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/person")),this.relatedPeopleGridOptions={model:this.personModel,configName:"links-between-person-and-person",enableEntityFilters:!1,condensedLayout:!0,collection:this.acknowledgedLinkCollection,alwaysOnFilters:this.acknowledgedLinkCollection.getAcknowledgedLinksFilter("sys/person"),buttons:[{caption:d.translateKey("link_person"),onClicked:this.onAddLinkClick.bind(this),aclRole:"create_manual_link",displayRule:"canAddPersonLinkToPerson"}],pluginsOptions:[{enableDynamicColumns:!0,multiSelect:!0,enableBatchDelete:!0,batchButtons:{delete:u.hasRole("remove_manual_link")},onRowClicked:function(e){new f({linkModel:e}).on("link-updated",t.refreshLinksGrid,t),e.on("link-updated",t.refreshLinksGrid,t);var i=new p({model:e});t.addSubView(i).renderAsModal()}}]},this.relatedPeopleGrid=this.getRelatedPeopleGrid()},getRelatedPeopleGrid:function(){return new a(this.relatedPeopleGridOptions)},onAddLinkClick:function(){var e=this,t=new r({entityLinkingTo:{base:"sys",name:"person"},collection:new s,gridName:"search-result-person",customPlaceholderKey:"select_person_to_continue",template:i(392141),model:new l({entity1Id:this.model.get("entityId"),entity1Type:"sys/person",entity2Type:"sys/person"}),alwaysOnFilter:this._getExcludeLinkFilter(this.personModel.id),alwaysIncludeSelectedFields:["personName"],callback:function(){e.refreshLinksGrid()}});this.addSubView(t).renderAsModal()},refreshLinksGrid:function(){this.relatedPeopleGrid.fetchCollection()},onRendered:function(){return this.addSubView(this.relatedPeopleGrid).render(this.$("#person-related-people-grid"))},_getExcludeLinkFilter:function(e){return c.get({base:"sys",name:"person"}).query().is_not("id",e).toQuery()}})},278717:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(325425),r=i(680240),o=i(262686),s=i(680553);e.exports=a.extend({className:"person-search-tmpl",template:i(164084),events:{"click #search":"onSearchClick"},onInit:function(e){if(!n.isObject(e))throw new Error("opts must be object");if(!n.isFunction(e.onSearchResultClick))throw new Error("opts.onSearchResultClick must be a function");var t=e.alwaysIncludeSelectedFields,i=void 0===t?[]:t,a=e.disableSelectedFields,r=void 0!==a&&a,o=e.onSearchResultClick;this.onSearchResultClick=o,this.disableSelectedFields=r,this.alwaysIncludeSelectedFields=i},onRendered:function(){var e=this,t=this.onSearchResultClick;this.searchView=new o({entity:{base:"sys",name:"person"},dataContainerOptions:{collection:new r,configName:"search-result-person",disableSelectedFields:this.disableSelectedFields,alwaysIncludeSelectedFields:this.alwaysIncludeSelectedFields,pluginOptions:{onRowClicked:function(i){t(i),s.remove(e)}}}}),this.addSubView(this.searchView).render(this.$("#search-container"))}})},870182:(e,t,i)=>{"use strict";var n=i(325425),a=i(637527),r=i(93216),o=i(447137).baseUrl,s=i(40785);e.exports=n.extend({Model:a,formConfigName:"record-source",template:i(863091),onInit:function(e){var t=e.model;this.recordEntity=t,this.sourceJob=this.recordEntity.get("sourceJob"),this.setIntegrationName(),this.setReadOnly(!0)},features:{externalFieldIcon:!1},rules:{hasSourceJob:function(){return!!this.recordEntity.get("sourceJob")},hasSourceData:function(){return!!this.recordEntity.get("sourceData")},hasIntakeMethod:function(){var e;return!(null===(e=this.recordEntity.getEntityDefinition().fields())||void 0===e||!e.intakeMethod)},hasExternalRecord:function(){var e;return!(null===(e=this.recordEntity.getEntityDefinition().fields())||void 0===e||!e.externalRecord)},hasViewSourceDataRole:function(){return r.hasRole("view_source_data")}},locals:function(){return{baseURL:o}},setIntegrationName:function(){if(this.sourceJob){var e=this.recordEntity.get("sourceJob__name")||s.translateKey({groupName:"record-source-view",subgroupName:"modal",key:"integration_records"});this.recordEntity.set("integrationName",e)}}})},584512:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425);e.exports=a.extend({className:"default-collapsed-tmpl",template:i(549921),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.iconName=e.iconName||"fa-th-large"},locals:function(){var e=a.prototype.locals.apply(this);return n.extend({},e,{iconName:this.iconName})}})},945359:(e,t,i)=>{"use strict";i(962062),i(428706),i(839202),i(343359);var n=i(96190),a=i(637777),r=i(40785),o=i(36742).create("all-field-search-view.js");e.exports=a.extend({template:i(568430),className:"all-field-search-tmpl",maxLength:100,onInit:function(e){if(!e.entity)throw"Entity Definition is missing.";this.entity=n.isArray(e.entity)?e.entity:[e.entity],this.entDefs=n.map(this.entity,(function(e){return r.getEntDef(e)})),this.enableIcon=e.enableIcon,this.enableClearButton=e.enableClearButton,this.applyDefaultFilters=e.applyDefaultFilters,this.onSearchQueryChangeFn=e.onSearchQueryChange,this.initialSearchText=e.initialSearchText,e.fieldsDefinition=n.chain(this.entDefs).map((function(e){return e.fields()})).compact().concat().value(),a.prototype.onInit.apply(this,e);var t=this;this.model.on("change:searchQuery",(function(e,i,a){t.enableIcon&&t.updateIcons(!!i.length),t.enableClearButton&&t.updateClearButton(!!i.length),n.isFunction(this.onSearchQueryChangeFn)&&this.onSearchQueryChangeFn(t.getSearchText())}),this)},locals:function(){return{enableIcon:this.enableIcon,enableClearButton:this.enableClearButton,maxLength:this.maxLength}},events:{"keyup .search-value":"doSetSearchQuery","click .remove-search-icon, .clear-btn":"resetSearchValue"},onRendered:function(){var e=this.$(".search-value");this.initialSearchText&&(e.val(this.initialSearchText),this.model.set("searchQuery",this.initialSearchText)),e.bind("paste",n.bind((function(t){var i=o.fn("handlePaste"),a=t.originalEvent.clipboardData||window.clipboardData;if(a){t.preventDefault();var r=n.trimEnd(function(e,t){return e.length<=t?e:e.substring(0,e.lastIndexOf(" ",t))}(n.trimStart(a.getData("text")),this.maxLength));e.val(r),this.model.set({searchQuery:r})}else i.error("Unable to read from clipboard")}),this))},getSearchText:function(){var e=this.model.get("searchQuery");return(null==e?void 0:e.length)>0?e:null},resetSearchValue:function(){this.$(".search-value").val(""),this.model.set({searchQuery:""})},updateIcons:function(e){var t=this.$(".search-icon"),i=this.$(".remove-search-icon");t.toggleClass("hidden",e),i.toggleClass("hidden",!e)},updateClearButton:function(e){var t=this.$(".clear-btn");e?t.show():t.hide()},doSetSearchQuery:n.debounce((function(e){if(27===e.which)return this.resetSearchValue();this.model.set({searchQuery:e.target.value})}),100)})},262686:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(96190),a=i(325425),r=i(879176),o=i(945359);e.exports=a.extend({template:i(340691),onInit:function(e){var t=e.entity,i=e.dataContainerOptions,n=void 0===i?{}:i,a=e.filter,r=e.initialSearchText,o=e.partialSearch,s=void 0!==o&&o;this.entity=t,this.dataContainerOptions=n,this.filter=a,this.initialSearchText=r,this.partialSearch=s},getSearchResultsGrid:function(){var e=n.defaults(this.dataContainerOptions.pluginOptions||{},{enableDynamicColumns:!0,multiSelect:!1,enableDragColumns:!0,enableBatchExport:!0}),t=n.defaults(this.dataContainerOptions,{configName:null,collection:null,enableEntityFilters:!1,enableDataFilters:!0,condensedLayout:!0,fetchOnRender:!0,enableSearchFilter:!1,enableAddColumns:!0,enableDragColumns:!0});t.pluginsOptions=[e];var i=new r(t);return this.partialSearch&&i.setCollectionSearchTextOperator("contains_partial"),this.filter&&i.setOuterFilters(this.filter),this.initialSearchText&&i.setCollectionSearchText(this.initialSearchText),i},executeSearch:function(e){this.searchResultsGrid.setCollectionSearchText(e),this.searchResultsGrid.fetchCollection()},onRendered:function(){this.allFieldSearchView=new o({entity:this.entity,initialSearchText:this.initialSearchText,enableClearButton:!0,onSearchQueryChange:this.executeSearch.bind(this)}),this.addSubView(this.allFieldSearchView).render(this.$("#all-search-criteria-container")),this.searchResultsGrid=this.getSearchResultsGrid(),this.addSubView(this.searchResultsGrid).render(this.$("#search-results-grid"))}})},637777:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(250113),i(944114),i(962010),i(874423),i(21699),i(428706);var r,o,s=i(274692),l=i(96190),d=i(122268),c=i(40785),u=i(809375),p=i(680553),f=i(325425),h=i(637527),m=i(521453),g=i(835498),y=i(849868),v=i(610421),b=i(45701);e.exports=f.extend({Model:h,valueComponentHandles:null,valueComponentModels:null,renderEntityFilter:!0,renderAsFormFields:!1,fieldPicklistComponentView:null,operatorsView:null,className:"field-search-tmpl",template:i(593332),features:{picklists:!0},onInit:function(e){var t;e=e||{},this.valueComponentHandles=[],this.valueComponentModels={},this.fieldComponentAsId=e.fieldComponentAsId,(e.entDef||e.entity)&&(e.entDef?(this.entDef=e.entDef,t=this.entDef.entityCanon):e.entity&&(t=e.entity),this.model.set("entity",t),this.model.entity=t,this.renderEntityFilter=!1),e.searchableEntityFilter&&(this.searchableEntityFilter=e.searchableEntityFilter),this.operatorType=e.operatorType,this.operatorType&&this.model.set("operatorType",this.operatorType),this.operatorFilter=e.operatorFilter,this.operatorFilter&&this.model.set("operatorFilter",this.operatorFilter),this.showCanceledRecords=l.get(e,"showCanceledRecords",!1),l.isBoolean(e.renderAsFieldValueForm)&&(this.renderAsFieldValueForm=e.renderAsFieldValueForm,this.model.set("operator","is")),e.excludeType&&(this.excludeType=e.excludeType),e.excludeKind&&(this.excludeKind=e.excludeKind),e.filterKind&&(this.filterKind=e.filterKind),e.filterFlag&&(this.filterFlag=e.filterFlag),e.excludedFields&&(this.excludedFields=e.excludedFields),e.alwaysInclude&&(this.alwaysInclude=e.alwaysInclude),e.excludedFieldsByEntityName&&(this.excludedFieldsByEntityName=e.excludedFieldsByEntityName),this.disableValueIfMissingField=!1!==e.disableValueIfMissingField,this.filter=l.get(e,"filter","filterFieldsWithValidOperators"),this.searchableFields=!1!==e.searchableFields,this.alwaysUseCaption=l.get(e,"alwaysUseCaption",!1),this.hideSubText=!1!==e.hideSubText,this.hideHelpText=!1!==e.hideHelpText,r=!0===e.fieldComponentAsId?y:g,o=this.getFieldSearchComponent(r),this.renderValueComponentsCargo=d.cargo(this._renderValueComponentsCargo.bind(this)),this.useEsQueries=e.useEsQueries,this.queryBuilder=e.useEsQueries?"es":"filter"},getFieldSearchComponent:function(e){var t;if(t=this.renderAsFieldValueForm?l.get(e,"ui.formComponent"):l.get(e,"ui.component"))return t()},locals:function(){return{renderAsFieldValueForm:this.renderAsFieldValueForm,renderEntityFilter:this.renderEntityFilter,searchableEntities:this.getSearchableEntities()}},isValid:function(){var e=this.currentNumberOfComponentsRendered,t=this.model.get("value"),i=this.model.get("value1"),n=this.model.get("value2"),a=0===e||1===e&&c.hasValue(t)||2===e&&c.hasValue(i)&&c.hasValue(n);return!l.isEmpty(this.model.get("entity"))&&!l.isEmpty(this.model.get("field"))&&!l.isEmpty(this.model.get("operator"))&&a},getEntDef:function(){if(this.entDef)return this.entDef;var e=this.model.get("entity");return c.getEntDef(e)},getFieldDef:function(e,t){if(e){var i=e.fields();return t=t||this.model.get("field"),this.fieldComponentAsId?l.find(i,{id:t}):l.find(i,{field:t})}},getTypeDef:function(e,t){if(e&&t)return u[t.type]},getFieldComponent:function(e,t){var i=this.getTypeDef(e,t);this.renderAsFieldValueForm&&"emailLookup[]"===l.get(i,"name")&&(i=u["email[]"]);var n=this.renderAsFieldValueForm?l.get(i,"ui.formComponent"):l.get(i,"ui.searchComponent"),a=this.model.get("operator"),r=this.model.get("entity");if(n)return n(a,{entity:r})},getSearchableEntities:function(){var e=[],t=c.getAllEntDefs();return this.searchableEntityFilter&&(t=l.filter(t,this.searchableEntityFilter)),l.each(t,(function(t){t.allowAdvancedSearch&&e.push({text:c.translateKey({groupName:t.entity.base+"/"+t.entity.name,subgroupName:"general",key:"name"}),value:t.entity.base+"/"+t.entity.name})})),l.sortBy(e,"text")},resetValues:function(){this.renderEntityFilter?this.$(".entity").val("").change():this.model.set("field",null)},getFieldQuery:function(){var e=this.getEntDef(),t=this.model.get("field"),i=this.model.get("operator"),n=this.model.get("value");(this.model.get("value1")||this.model.get("value2"))&&(n=[this.model.get("value1"),this.model.get("value2")]);var a={};return this.useEsQueries&&e.enableTranslation&&b.isEnabled("intakeTranslation")&&(a.lang=$appData.intakeTranslationLanguage),e.query(this.useEsQueries&&"es")[i](t,n,a).toQuery()},getValueJoinData:function(e){var t=this.model.attributes,i={};return l.each(t,(function(t,n){l.includes(n,"".concat(e,"__"))&&(i[n]=t)})),i},setValueComponentModel:function(e){var t=this;this.valueComponentModels[e]&&this.valueComponentModels[e].destroy();var i=this.getEntDef(),n=i.model(),r=this.getValueJoinData(e),o=this.model.get("field"),s=a(a({},o,this.model.get(e)),"entityName",i.entity.name);l.each(r,(function(e,t){var i="".concat(o,"__").concat(t.split("__")[1]);s[i]=e})),this.valueComponentModels[e]=new n(s,{entDef:i}),this.valueComponentModels[e].correspondingField=e,this.valueComponentModels[e].readOnly=this.model.readOnly,this.valueComponentModels[e].on("change:".concat(this.model.get("field")),this.onValueChange,this),this.model.on("readOnlyChange",(function(i){t.valueComponentModels[e].trigger("readOnlyChange",i),t.valueComponentModels[e].readOnly=i})),this.onValueChange(this.valueComponentModels[e],this.model.get(e))},getValueComponentModel:function(e){return this.valueComponentModels[e]},renderValueComponent:function(e,t,i){var n=this.getEntDef(),a=l.cloneDeep(this.getFieldDef(n));a.ariaLabel=c.translateKey("value");var r=a.type;"picklist"!==r&&"picklist[]"!==r||(a.ignoreParents=!0);var o=this.getTypeDef(n,a);this.setValueComponentModel(t);var s={Component:e,typeDef:o,field:t,fieldDef:a};this.renderComponent(s,i)},currentNumberOfComponentsRendered:0,getNumberOfComponentsToRender:function(){switch(this.model.get("operator")){case"between":return 2;case"is":case"is_not":case"contains":case"contains_exact_words":case"less_than_or_equals":case"less_than":case"greater_than_or_equals":case"greater_than":case"does_not_contain":case"does_not_contain_exact_words":return 1;default:return 0}},onModelRenderValueComponentsChange:function(){this.renderValueComponentsCargo.push({force:!1})},_renderValueComponentsCargo:function(e,t){var i=this,n=this.getEntDef(),a=this.getFieldDef(n);if(a&&!c.hasEnabledFeature(a))return i.model.set({value:null,value1:null,value2:null,formattedValue:null,formattedValue1:null,formattedValue2:null}),t();var r=this.getNumberOfComponentsToRender();if(this.currentNumberOfComponentsRendered=r,this.valueComponentHandles.length>0&&(i.model.set({value:null,value1:null,value2:null,formattedValue:null,formattedValue1:null,formattedValue2:null}),l.each(this.valueComponentHandles,(function(e){p.remove(e)}))),this.valueComponentHandles=[],0===r)return t();var o=this.getFieldComponent(n,a);o?2===r?d.parallel([function(e){i.renderValueComponent(o,"value1",e)},function(e){i.renderValueComponent(o,"value2",e)}],t):this.renderValueComponent(o,"value",t):null==a&&this.model.get("value")&&this.disableValueIfMissingField?(i.model.set({value1:null,value2:null,formattedValue1:null,formattedValue2:null}),this.renderDisabledValueComponent(t)):null==a?(i.model.set({value:null,value1:null,value2:null,formattedValue:null,formattedValue1:null,formattedValue2:null}),t()):t()},renderDisabledValueComponent:function(e){this.typeDef=l.get(u,"textbox");var t=l.get(this.typeDef,"ui.formComponent");if(!t)return e();var i=t();this.fieldDef={size:"medium",type:"textbox",field:this.model.get("field"),readOnly:!0};var n={Component:i,fieldDef:this.fieldDef,typeDef:this.typeDef,field:"value"};this.setValueComponentModel("value"),this.renderComponent(n,e)},renderComponent:function(e,t){var i=e.Component,n=e.field,a=e.fieldDef,r=e.typeDef,o=this,s=new i({field:this.model.get("field"),model:this.getValueComponentModel(n),fieldDef:a,caption:c.escapedTranslateKey({key:n,groupName:"field-search",subgroupName:"fields"},{missingTranslationValue:""}),format:r.format,escape:r.escape,allowInactiveUsers:!0,showCanceledRecords:this.showCanceledRecords,fields:[{value:a}],hideSubText:this.hideSubText,hideHelpText:this.hideHelpText});this.$(".value-search").append(s.$el),this.addSubView(s).render(null,(function(e){if(e)return t(e);if(o.valueComponentHandles.push(this.handle),o.renderAsFieldValueForm){var i=o.$('.control-label[data-field="'.concat(this.field,'"]'));v.makeFieldMandatory(i),o.registerValidationTooltips(this.field),o.valueFieldName=this.field}t()}))},events:{"change .entity":"onEntityChange"},onBindEvents:function(){this.model.on("change:field",this.onFieldChange,this),this.model.on("change:operator",this.onModelRenderValueComponentsChange,this)},onUnbindEvents:function(){this.model.off("change:field",this.onFieldChange,this),this.model.off("change:operator",this.onModelRenderValueComponentsChange,this)},onValueChange:function(e,t){var i=this.getEntDef(),n=this.fieldDef||l.cloneDeep(this.getFieldDef(i)),a=this.typeDef||this.getTypeDef(i,n),r=e.getContextForFormatting({fieldDef:n}),o=a.format?a.format(t,r):t;this.model.set(e.correspondingField,t),this.model.set("formatted".concat(l.startCase(e.correspondingField)),o)},onEntityChange:function(e){var t=s(e.currentTarget).val();this.model.set({entity:t,field:null,value:null,value1:null,value2:null,formattedValue:null,formattedValue1:null,formattedValue2:null,operatorFilter:this.operatorFilter}),this.renderFieldPicklistView()},onFieldChange:function(){this.renderOperatorView(),this.valueComponentCount=0,this.renderValueComponentsCargo.push({force:!0})},onRendered:function(){var e=s.Deferred();return this.renderFieldPicklistView((function(){e.resolve()})),e.promise()},renderFieldPicklistView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.noop,i=c.translateKey({groupName:"placeholders",key:"search_fields"});this.fieldPicklistComponentView=new o({field:"field",caption:c.escapedTranslateKey({key:"field",groupName:"field-search",subgroupName:"fields"}),model:this.model,entDef:this.getEntDef(),fieldDef:{field:"field",ariaLabel:i,typeOptions:{placeholder:i,entityNameField:"entity",searchableFields:this.searchableFields,excludeType:this.excludeType,excludeKind:this.excludeKind,filterKind:this.filterKind,filterFlag:this.filterFlag,excludedFields:this.excludedFields,alwaysInclude:this.alwaysInclude,excludedFieldsByEntityName:this.excludedFieldsByEntityName,filter:this.filter},type:r.name},alwaysUseCaption:this.alwaysUseCaption}),this.addSubView(this.fieldPicklistComponentView).render(this.$(".field-selection-container"),(function(i){if(i)throw i;if(e.renderAsFieldValueForm){var n=e.$('.control-label[data-field="field"]');v.makeFieldMandatory(n),e.registerValidationTooltips("field")}t()}))},renderOperatorView:function(){if(!this.renderAsFieldValueForm){var e=this.model.get("entity"),t=this.getEntDef(),i=this.getFieldDef(t,this.model.get("field")),n=l.get(i,"field"),a=!i||c.hasEnabledFeature(i);if(e&&n&&a){var r=new m({model:this.model,entDef:t,fieldName:n,operatorType:this.operatorType,operatorFilter:this.operatorFilter});this.operatorView&&p.remove(this.operatorView),this.addSubView(r).render(this.$(".operators-container")),this.operatorView=r}else this.operatorView&&p.remove(this.operatorView),this.operatorView=null}},registerValidationTooltips:function(e){if(this.renderAsFieldValueForm){var t=this.$('.control-label[data-field="'.concat(e,'"]')).parent().children(".component-container");c.setupValidationTooltip(this,t,{title:c.translateKey({groupName:"validation",subgroupName:"tooltip",key:"required$"}),template:c.getTooltipTemplate({customClasses:"validation-tooltip"})})}},validateFieldValue:function(){var e=this;if(this.renderAsFieldValueForm){var t={field:"field",value:this.valueFieldName},i=this.model.get("field"),n=this.getEntDef().fields().hasOwnProperty(i);l.each(t,(function(t,i){var a=e.$('.control-label[data-field="'.concat(t,'"]')).parent().children(".component-container"),r=e.model.get(i);l.isNil(r)||!n?(a.tooltip("show"),a.parent(".form-group").addClass("has-error")):(a.tooltip("hide"),a.parent(".form-group").removeClass("has-error"))}))}}})},521453:(e,t,i)=>{"use strict";i(962062);var n=i(96190),a=i(40785),r=i(325425),o=i(809375),s=i(522609)();e.exports=r.extend({template:i(497424),operators:null,entityName:null,fieldName:null,locals:function(){return{operators:this.getFieldOperators()}},events:{"change .operators":"onOperatorChange"},onInit:function(e){if(!(e=e||{}).model||!e.entDef||!e.fieldName)throw"Minimum options required";this.entDef=e.entDef,this.fieldName=e.fieldName,this.operatorType=e.operatorType,this.operatorFilter=e.operatorFilter||{}},onRendered:function(){this.model.set("operator",this.$(".operators").val())},onOperatorChange:function(e){this.model.set("operator",e.currentTarget.value)},getFieldOperators:function(){var e=this,t=(this.entDef.fields()||{})[this.fieldName]||this.fieldName,i=s.getFieldValidOperators({fieldDef:t,fieldTypes:o,operatorType:this.operatorType,operatorFilter:this.operatorFilter}),r=n.map(i,(function(t){return{translatedValue:a.translateKey({key:t,groupName:"search",subgroupName:"operators"}),operator:t,selected:t===e.model.get("operator")}}));return n.sortBy(r,["translatedValue"])}})},320770:(e,t,i)=>{"use strict";i(250113),i(426099),i(944114),i(962062),i(202008),i(428706),i(962010),i(154554),i(842762),i(839202),i(343359),i(18107),i(967357);var n=i(96190),a=i(274692),r=i(325425),o=i(797120),s=i(369155),l=i(40785),d=i(647623),c=i(250809),u=i(939994),p=i(608758),f=i(36742).create("quick-search-view.js");i(721602),e.exports=r.extend({className:"quick-search-tmpl",template:i(71203),defaultRowTemplate:i(676688),selectize:null,fullQuery:null,query:"",savedSearchesCollection:null,recentSearchesCollection:null,events:{"click .quick-search-placeholder":"onPlaceholderClick","keyup .quick-search-placeholder":"onPlaceholderKeyUp","keyup .quick-search-overlay":"onOverlayKeyUp","keyup .search-container .selectize-input input":"onSearchKeyUp","keypress .search-container .selectize-input input":"onSearchKeyPress","focus .search-container .selectize-control":"onSelectizeControlFocus","blur .search-container .selectize-input":"onSelectizeInputBlur","click .search-container .search-btn":"onSearchClick","click .search-container .clear-btn":"onClearClick","click .search-container .close-btn":"onCloseClick","click .additional-searches-container .title":"onAdditionalSearchesTitleClick","click .saved-searches-container li[data-idx] a":"onSavedSearchClick","click .recent-searches-container li[data-idx] a":"onRecentSearchClick","keypress .saved-searches-container li[data-idx] a":"onSavedSearchKeypress","keypress .recent-searches-container li[data-idx] a":"onRecentSearchKeypress"},onInit:function(){this.savedSearchesCollection=new s(null,{saved:!0,limit:$appData.globalConfig.quickSearchSavedSearchesLimit,sort:[{createdDate:"desc"}]}),this.recentSearchesCollection=new s(null,{saved:!1,limit:$appData.globalConfig.quickSearchRecentSearchesLimit,sort:[{lastUpdatedDate:"desc"}]}),this.overlayFadeDuration=100},onRendered:function(){var e=this;n.isEmpty(this.$('.search-container form[role="search"]'))||this.registerSearchTypeAhead(),this.$placeholder=this.$(".quick-search-placeholder"),this.$placeholderText=this.$placeholder.find(".search-bar .text"),this.$overlay=this.$(".quick-search-overlay"),this.$searchInput=this.$(".search-container .selectize-input input"),this.$clearBtn=this.$overlay.find(".clear-btn"),this.defaultPlaceholderText=this.$placeholderText.text(),this.$searchInput.on("change paste keyup",(function(){var t=e.$searchInput.val()||e.defaultPlaceholderText;e.$placeholderText.text(t)})),this.$searchInput.off("blur"),this.populateRecentSearches(),this.populateSavedSearches()},onRemove:function(){this.$searchInput.off("change paste keyup")},resetTypeaheadValues:function(){this.selectize.clearOptions(),this.selectize.refreshOptions()},buildSearchQuery:function(e){var t={query:c.getAllEntitiesAnyTermsMatchQuery(e)};return this.fullQuery=t,t},getOptGroups:function(){return n.chain(u.getAll()).filter((function(e){return e.allowAdvancedSearch})).map((function(e){return{value:"".concat(e.entity.base,"_").concat(e.entity.name),label:l.translateKey("".concat(e.entity.base,"_").concat(e.entity.name))}})).push({value:"search",label:l.translateKey("search")}).value()},getOptGroupOrder:function(){var e=n.chain(this.getOptGroups()).sortBy(["label"]).map((function(e){return e.value})).remove((function(e){return"sys_case"!==e&&"search"!==e})).value();return e.splice(0,0,"sys_case"),e.push("search"),e},renderEntitySelectizeRow:function(e){var t,i=e.getEntityDefinition(),a=n.constant(this.defaultRowTemplate),r=n.result(i,"rowTemplates.small",a),o={model:e.attributes,entity$:e.getEntityCanon(),formattedData:e.getFormattedData({escape:!0}),highlightedFields:e.getHighlightedData({escape:!0})};return p.render(r,o,(function(e,i){e&&f.error(e.message),t=i})),t},registerSearchTypeAhead:function(){var e=this,t={valueField:"id",labelField:"text",dontFilter:!0,highlight:!1,placeholder:l.translateKey("search_"),loadThrottle:$appData.globalConfig.selectizeQuickSearchLoadThrottleMs,render:{option:function(t){return"search"===t._type?'<div role="option"><span style="font-style: italic">'.concat(n.escape(t.id),"</span> - ").concat($appData.globalConfig.systemName," Search</div>"):e.renderEntitySelectizeRow.call(e,t)}},onInitialize:function(){this.quickSearchView=e,this.$dropdown.off("click"),this.originalOnOptionSelect=this.onOptionSelect,this.onOptionSelect=e.onOptionSelect,this.originalRefreshOptions=this.refreshOptions,this.refreshOptions=e.refreshOptions},onItemAdd:function(t){var i=e.selectize.options[t];e.selectize.removeItem(t),e.selectize.close(),e.selectize.blur(),"search"===i._type?e.onSearchClick():(e.addQueryToSearches(),l.navigateToUrlByModelType(i)),e.clearSearchInput(),e.resetTypeaheadValues()},load:function(t,i){if(t.trim().length>0){var a=new o(null,{highlightOperator:"contains"});a.setSearchText(t),a.setMatchAllTerms(!1),a.getSort()||a.setSort({_score:{order:"desc"}}),a.fetch({success:function(){var r=[];return n.isEmpty(e.query)||(a.each((function(e){"sys_attachment"!==e.get("_type")&&"sys_email"!==e.get("_type")||e.set("content",t);var i=e;i._type=i.get("_type"),r.push(i)})),r.push({id:t,_type:"search"}),e.selectize.clearOptions()),i(r)}})}else e.resetTypeaheadValues(),i([])},onDropdownOpen:function(){e.hideAdditionalSearches()}},i=this.$(".search-container .form-group input").selectize(t);this.selectize=i[0].selectize,this.selectize.blurOnOutsideClick=!1;var a=this.selectize.$control_input;a.attr("maxlength",100),a.on("paste",n.bind((function(e){var t,i=f.fn("handlePaste"),r=e.originalEvent.clipboardData||window.clipboardData;r?(e.preventDefault(),a.val(n.trimEnd((t=n.trimStart(r.getData("text"))).length<=100?t:t.substring(0,t.lastIndexOf(" ",100)))),this.query=a.val(),this.selectize.onKeyUp()):i.error("Unable to read from clipboard")}),this))},onOptionSelect:function(e){var t=a(e.target);if(t.closest(".read-more").length>0||t.hasClass("read-more")){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation();var i=a(e.currentTarget).closest("[data-selectable]");i.siblings(".expanded").removeClass("expanded"),i.toggleClass("expanded")}else this.originalOnOptionSelect(e),this.quickSearchView.hideOverlay()},refreshOptions:function(e){this.originalRefreshOptions(e),this.$dropdown_content.children().each((function(){var e=a(this);e.find(".full-highlight").first().innerHeight()<=50&&e.find(".read-more").hide()}))},addQueryToSearches:function(){n.isEmpty(this.query)||new d({filterQuery:this.buildSearchQuery(this.query),searchName:this.query,saved:!1}).save()},onSelectizeControlFocus:function(e){a(e.currentTarget).addClass("focus")},onSearchKeyPress:function(e){13===e.which&&this.onSearchClick()},onSelectizeInputBlur:function(e){a(e.currentTarget).removeClass("focus")},isMouseOverPlaceholder:function(e){var t=this.$placeholder[0].getBoundingClientRect();return e.pageX>=t.left&&e.pageX<=t.right&&e.pageY>=t.top&&e.pageY<=t.bottom},showAdditionalSearches:function(){this.$overlay.removeClass("hide-additional-searches")},hideAdditionalSearches:function(){this.$overlay.addClass("hide-additional-searches")},clearSearchInput:function(){this.query&&(this.query="",this.selectize.blur(),this.$searchInput.val("").trigger("change"),this.$clearBtn.hide())},onSearchClick:function(){this.query.trim().length>0&&(this.hideOverlay(),this.addQueryToSearches(),l.navigateTo("/search/".concat(encodeURIComponent(this.query))),this.clearSearchInput())},onClearClick:function(){this.clearSearchInput(),this.resetTypeaheadValues(),this.showAdditionalSearches(),this.$searchInput.focus()},onCloseClick:function(){this.hideOverlay(),this.clearSearchInput()},onSearchKeyUp:function(e){this.query=a(e.currentTarget).val(),n.isEmpty(this.query)?(this.resetTypeaheadValues(),this.showAdditionalSearches(),this.$clearBtn.hide()):this.$clearBtn.show()},onOverlayKeyUp:function(e){27===e.which&&this.hideOverlay()},populateSearchList:function(e,t,i){e.length>0?e.each((function(i){var n=a('<li data-idx="'.concat(e.indexOf(i),'" tabindex="0">')),r=a('<a data-route="#"></a>');n.attr("data-id",i.id),r.text(i.get("searchName")),n.append(r),t.append(n)})):t.append('<li class="no-results">'.concat(l.escapedTranslateKey(i),"</li>"))},populateRecentSearches:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.recentSearchesCollection.fetch({success:function(i){var n=a(".recent-searches-container ul");n.empty(),e.populateSearchList(i,n,"no_recent_searches"),t()}})},populateSavedSearches:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop;this.savedSearchesCollection.fetch({success:function(i){var n=a(".saved-searches-container ul");n.empty(),e.populateSearchList(i,n,"no_saved_searches"),t()}})},addOutsideClickListener:function(){var e=this;a(document).on("mousedown.quickSearch",(function(t){a(t.target).closest(e.$overlay).length>0||e.hideOverlay()}))},addMousemoveListener:function(){var e=this;a(document).on("mousemove.quickSearch",(function(t){var i=e.isMouseOverPlaceholder(t);i&&!e.mouseOverPlaceholder&&(e.mouseOverPlaceholder=!0),!i&&e.mouseOverPlaceholder&&(e.mouseOverPlaceholder=!1)}))},removeOutsideClickListener:function(){a(document).off("mousedown.quickSearch")},removeMousemoveListener:function(){a(document).off("mousemove.quickSearch")},showOverlay:function(){this.overlayShowing||(this.overlayShowing=!0,this.query||(this.resetTypeaheadValues(),this.showAdditionalSearches()),this.populateRecentSearches(),this.populateSavedSearches(),this.addOutsideClickListener(),this.addMousemoveListener(),this.$overlay.fadeIn(this.overlayFadeDuration),this.$searchInput.focus())},hideOverlay:function(){this.overlayShowing&&(this.overlayShowing=!1,this.$overlay.fadeOut(this.overlayFadeDuration),this.removeOutsideClickListener(),this.removeMousemoveListener())},onPlaceholderClick:function(){this.showOverlay()},onPlaceholderKeyUp:function(e){13===e.which&&this.showOverlay()},onAdditionalSearchesTitleClick:function(){this.hideOverlay()},onSavedSearchClick:function(e){var t=a(e.currentTarget).parent().attr("data-idx");t=parseInt(t,10);var i=this.savedSearchesCollection.at(t);l.navigateTo("/search/saved/".concat(i.id)),this.hideOverlay()},onRecentSearchClick:function(e){var t=a(e.currentTarget).parent().attr("data-idx");t=parseInt(t,10);var i=this.recentSearchesCollection.at(t);l.navigateTo("/search/".concat(encodeURIComponent(i.get("searchName")))),this.hideOverlay()},onSavedSearchKeypress:function(e){13===e.which&&this.onSavedSearchClick(e)},onRecentSearchKeypress:function(e){13===e.which&&this.onRecentSearchClick(e)}})},421226:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){a=function(){return t};var e,t={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function p(e,t,i,n){var a=t&&t.prototype instanceof b?t:b,r=Object.create(a.prototype),s=new B(n||[]);return o(r,"_invoke",{value:S(e,i,s)}),r}function f(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function A(){}var C={};u(C,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(T([])));x&&x!==i&&r.call(x,l)&&(C=x);var _=A.prototype=b.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(a,o,s,l){var d=f(e[a],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==n(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(d.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(r,r):r()}})}function S(t,i,n){var a=h;return function(r,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===r)throw o;return{value:e,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var l=D(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var d=f(t,i,n);if("normal"===d.type){if(a=n.done?y:m,d.arg===v)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=y,n.method="throw",n.arg=d.arg)}}}function D(t,i){var n=i.method,a=t.iterator[n];if(a===e)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=e,D(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var r=f(a,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,v;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,v):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(t){if(t||""===t){var i=t[l];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function i(){for(;++a<t.length;)if(r.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=A,o(_,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(I.prototype),u(I.prototype,d,(function(){return this})),t.AsyncIterator=I,t.async=function(e,i,n,a,r){void 0===r&&(r=Promise);var o=new I(p(e,i,n,a),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),u(_,c,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(n,a){return s.type="throw",s.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(l&&d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function r(e,t,i,n,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}i(426099),i(703362),i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(366412),i(978125),i(704731),i(960479),i(240875),i(16280),i(423500),i(962010),i(134782),i(944114),i(874423),i(21699),i(428706);var o=i(274692),s=i(96190),l=i(184743),d=i(267062),c=i(40785),u=i(291428),p=i(399282),f=i(344427),h=i(896727),m=i(680553),g=i(493793);i(196135),i(195104);var y=c.getPicklistsConfig();e.exports=d.extend({Model:u,urlRoot:"/settings/access/user",formConfigName:"user-details",saveSpinner:null,caption:c.translateKey("details"),template:function(){return this.model.isNew()?i(465537):i(286167)},onInit:function(e){var t=this;this.model&&this.model.id&&new p({id:this.model.id}).fetch({success:function(e,i){var n;i.tries&&i.tries>=$appData.globalConfig.maxLoginTries&&(t.model.set("isLockedOut",!0),null===(n=t.applyRules)||void 0===n||n.call(t))}}),d.prototype.onInit.call(this,e)},crumbs:function(){var e=[{title:c.translateKey("settings"),url:"/settings"},{title:c.translateKey("access"),url:"/settings/access"},{title:c.translateKey({groupName:"settings",subgroupName:"access",key:"users"}),url:"/settings/access/users"}];return this.model.isNew()?e.push({title:c.translateKey("new")}):e.push({title:this.model.get("nick")||""}),e},rules:{newUser:function(){return!this.model.get("id")},isLocalUser:function(){return"local"===this.model.get("type")},isLockedOut:function(){return!0===this.model.get("isLockedOut")},isSSOEnabled:function(){return!0===$appData.isSSOEnabled},isHotlineUser:function(){return"hotline"===this.model.get("type")}},events:{"click #remove-lockout":"onRemoveLockoutClick",'loaded select[name="themeId"]':"onThemePicklistLoaded"},onEditClick:function(){var e=this;this.model.lock((function(t,i){!0===i&&(e.setReadOnly(!1),e.updateUrl(),e.renderCrumbs(),e.saveSpinner||(e.saveSpinner=e.$("#save").ladda({model:e.model,action:"save"})))}))},isChangingOwnUserType:function(){if(!this.rules.isSSOEnabled())return!1;if(this.model.get("id")===$appData.user.id){var e=this.model.changedFields();return s.includes(e,"ssoUser")}return!1},save:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.noop,a="save-and-copy"===e.currentTarget.id,r=this.model.isNew(),l=this.model.get("isLockedOut");this.model.save(null,{success:function(e){return r?a?(i.onSaveAndCopy(),c.navigateTo("/settings/access/user/".concat(e.id,"/new"),{disableAllDirtyForms:!0}),n()):(h.info(h.getCrudMessage(i.model,"created")),c.navigateTo("/settings/access/user/".concat(e.id),{disableAllDirtyForms:!0}),n()):(f.removeAllWarnings(),h.info(h.getCrudMessage(i.model,"updated")),i.model.unlock(),a?(i.onSaveAndCopy(),c.navigateTo("/settings/access/user/".concat(e.get("id"),"/new"),{disableAllDirtyForms:!0})):(i.model.set("isLockedOut",l),i.setReadOnly(!0),i.updateUrl()),n())},error:function(e,t){if(t.responseJSON&&"user_role_doesnt_exist"===t.responseJSON.message){var a=o('select[name="userRoleId"]').parent("[data-handle]").data("handle");if(!a)return n(t);var r=m.getByHandle(a);if(!r)return n(t);i.model.set("userRoleId",null),g.clearPicklistCache("user_roles"),r.refreshPicklistValues()}return n(t)}})},onSaveClickThrottled:s.throttle((function(e,t){var i=this;this.isChangingOwnUserType()?f.display(c.translateKey("user_type_change_confirmation"),{type:"confirm",title:c.translateKey("confirm"),callback:function(n){n&&(i.model.unlock(),i.save(e,t,(function(e){e||(window.location.href="/")})))}}):this.save(e,t)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onSaveAndCopy:function(){h.info(c.translateKey("record_saved_from_new"))},onCancelClick:function(){this.model.isNew()?c.navigateTo("/settings/access/users"):this.canRemove()&&this.cancel()},cancel:function(){this.updateUrl();var e=this.model.get("isLockedOut");this.model.reset(),this.model.set("isLockedOut",e),this.model.unlock(),this.setReadOnly(!0),this.updateThemeIfMissing(),this.clearErrors()},onRemoveLockoutClick:function(){var e=this;new p({id:this.model.id}).destroy({success:function(){h.info(c.translateKey("lockout_was_removed")),e.model.set("isLockedOut",!1),e.model.fetch()}})},onRendered:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.prototype.onRendered.apply(this,t),o(".send-username-password").click(this.onSendUnPwClickThrottled.bind(this)),o(".activate").click(this.onActivateClick.bind(this)),o(".deactivate").click(this.onDeactivateClick.bind(this))},onSendUnPwClickThrottled:s.throttle(function(){var e,t=(e=a().mark((function e(){var t,i,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sendUsernamePasswordSpinners("start"),o("#email-username-and-password").hide(),e.prev=2,e.next=5,o.ajax({method:"post",data:{},url:"".concat($appData.globalConfig.apiRoot,"/user/").concat(this.model.id,"/reset-password")});case 5:$appData.globalConfig.passwordExpiring.disabled?h.info(c.translateKey("un_pw_gen_success")):(t=$appData.globalConfig.passwordExpiring,i=t.generatedUnits,n=t.generatedMaxAge,r=l.tz(l.tz.guess()).add(n,i).format("".concat($appData.dateTimeFormat," z")),h.info("".concat(c.translateKey("temp_password_expiry")," ").concat(r))),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),o("#email-username-and-password").show(),e.abrupt("return",h.error("".concat(c.translateKey("un_pw_gen_fail")," (status: ").concat(e.t0.status,")")));case 12:return e.prev=12,this.sendUsernamePasswordSpinners("end"),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,8,12,15]])})),function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),sendUsernamePasswordSpinners:function(e){var t=this.$("[data-ladda-send-password]"),i=this.$("[data-ladda-disable-on-send-password]"),n=t.ladda({model:this.model,action:"save"}).data("ladda");if("start"===e)return n.start(),void(i&&i.attr("disabled","disabled"));n.stop(),i&&i.attr("disabled",null)},onActivateClick:function(){var e=this,t={type:"confirm",title:c.translateKey("activate_user_body_title"),confirmCaption:c.translateKey("yes"),cancelCaption:c.translateKey("no"),callback:function(t){t&&e.model.save({active:!0},{success:function(){h.info(h.getCrudMessage(e.model,"activated")),o("#user-inactive-warning").hide()}})}};f.display(c.translateKey("activate_user_body"),t)},onDeactivateClick:s.throttle((function(){var e=this,t={type:"confirm",title:c.translateKey("deactivate_user_body_title"),confirmCaption:c.translateKey("yes"),cancelCaption:c.translateKey("no"),callback:function(t){t&&o.ajax({method:"post",data:{},url:"".concat($appData.globalConfig.apiRoot,"/user/").concat(e.model.id,"/deactivate")}).done((function(){h.info(h.getCrudMessage(e.model,"deactivated")),e.model.fetch()}))}};f.display(c.translateKey("deactivate_user_body"),t)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRemove:function(){var e;f.removeAllWarnings();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=d.prototype.onRemove).call.apply(e,[this].concat(i))},onThemePicklistLoaded:function(){this.updateThemeIfMissing()},updateThemeIfMissing:function(e){var t=y.themes.id,i=$appData.picklists.data[t];c.updateThemeIfMissing(this.model,i,o('select[name="themeId"]')[0].selectize,f)}})},964030:(e,t,i)=>{"use strict";i(16280),i(998474),i(750195);var n=i(325425),a=i(40785);e.exports=n.extend({className:"element-limit-flag-tmpl",template:i(294331),onInit:function(e){var t;if(!e.model)throw new Error("model is missing");this.model=e.model,this.currentCount=e.currentCount||0,this.tooltipTitle=e.tooltipTitle,this.limitType=null!==(t=e.limitType)&&void 0!==t?t:"fields",this.customEntity=e.customEntity,this.setFlagProperties()},locals:function(){return{indicator:this.indicator,elementLimitContent:this.getElementLimitContent()}},setFlagProperties:function(){var e,t=this.model.getEntityDefinition(),i=null!==(e=this.customEntity)&&void 0!==e?e:t.entityType,n=$appData.globalConfig.recordLimits[i],r=n.warning,o=n.limit;this.elementCountType=a.translateKey({groupName:"settings",subgroupName:"element-limit",key:this.limitType}),this.warning=r,this.limit=o,this.setDynamicFlagProperties()},setDynamicFlagProperties:function(){this.indicator=this.getElementLimitIndicator()},getElementLimitContent:function(){return a.sanitizeHtml(a.translateKey({groupName:"settings",subgroupName:"element-limit",key:"element_limit_content"},{context:{currentCount:this.currentCount,elementLimit:this.limit,elementCountType:this.elementCountType}}))},getElementLimitIndicator:function(){return this.currentCount>=this.limit?"danger":this.currentCount>=this.warning?"warning":"default"},updateRecordCount:function(e){this.currentCount=e,this.setDynamicFlagProperties(),this.render()},onRendered:function(){this.tooltipTitle&&this.$el.attr("title",this.tooltipTitle).tooltip({fixTitle:!0,placement:"bottom"}),this.currentCount>=this.warning&&this.$(".label").addClass("has-icon")}})},884964:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(267062),r=i(99503),o=i(40785),s=i(344427),l=i(93216);e.exports=a.extend({template:i(929473),className:"data-form-entry-details-tmpl",Model:r,canSaveAndCopy:!0,canSaveAndAddNew:!0,caption:function(){return this.getTranslation("name")},newCaption:function(){return this.getTranslation("new")},features:{validation:!0},locals:function(e){var t=this;a.prototype.locals.call(this,(function(i){var a=n.extend({},i,{modelEntityCanon:t.dynamicEntityModel.get("canon"),canEdit:i.canEdit&&t.canEdit(),canDelete:i.canDelete&&t.canDelete(),canSaveAndAddNew:t.canSaveAndAddNew,displayHeader:t.displayHeader});a.showSaveDropdownToggle=a.canSaveAndCopy||a.canSaveAndAddNew,e(a)}))},crumbs:function(){var e=[{title:o.translateKey("settings"),url:"/settings"},{title:o.translateKey("data"),url:"/settings/data"},{title:o.translateKey({groupName:"settings",subgroupName:"data",key:"data_form_entries"}),url:"/settings/data/data-form-entries"}];return this.model.isNew()?e.push({title:o.translateKey("new")}):e.push({title:this.getTranslation("name")}),e},onInit:function(e){a.prototype.onInit.call(this,e);var t=e.displayHeader,i=void 0===t||t,n=e.displayImportBanner,r=void 0===n||n,o=e.$parentErrorMessageContainer;this.displayHeader=i,this.displayImportBanner=r,this.dynamicEntityModel=this.model.dynamicEntityModel,this.formConfigId=this.dynamicEntityModel.get("layoutId"),this.urlRoot="/settings/data/data-form-entry/".concat(this.dynamicEntityModel.get("name")),this.rerenderOpts={displayHeader:this.displayHeader,displayImportBanner:this.displayImportBanner},this.$parentErrorMessageContainer=o},onRendered:function(){a.prototype.onRendered.call(this),this.displayImportBanner&&this.showImportBanner()},onSaveClickThrottled:n.throttle((function(e){this.model.validate(this.model.attributes)||a.prototype.onSaveClickThrottled.call(this,e,{toastOpts:{useActionTextAsLink:!0}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),canEdit:function(){return l.hasRole("edit_data_form_entry")},canDelete:function(){return l.hasRole("remove_data_form_entry")},getTranslation:function(e){return o.translateKey({groupName:this.dynamicEntityModel.get("canon"),subgroupName:"general",key:e})},showImportBanner:function(){this.model.isNew()&&s.display(o.translateKey("data_form_import_message"),{type:"notification",showTitle:!1,modal:!1,sticky:!0,html:!0,parent:this})},getErrorMessageContainer:function(){return this.$parentErrorMessageContainer?this.$parentErrorMessageContainer:a.prototype.getErrorMessageContainer.call(this)}})},795342:(e,t,i)=>{"use strict";i(428706),i(369085),i(944114);var n=i(267062),a=i(359578),r=i(40785);e.exports=n.extend({formConfigName:"document-settings-form",caption:function(){return"".concat(r.translateKey("document")," | ").concat(this.model.get("fileName"))},Model:a,urlRoot:"/settings/data/document",locals:function(e){var t=this;n.prototype.locals.call(this,(function(i){var n=Object.assign({},i);"settings"!==t.source&&(n.canDelete=!1,n.canEdit=!1),e(n)}))},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.prototype.onInit.call(this,e),this.source=e.source},crumbs:function(){var e=[];return e="library"===this.source?e.concat([{title:r.translateKey("library"),url:"/documents"}]):e.concat([{title:r.translateKey("settings"),url:"/settings"},{title:r.translateKey("data"),url:"/settings/data"},{title:r.translateKey("library"),url:"/settings/data/documents"}]),this.model.isNew()?e.push({title:r.translateKey("new")}):e.push({title:this.model.get("fileName")||""}),e},rules:{lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canEdit:function(){return"settings"===this.source&&r.hasRole($appData.user,"edit_document")},canDelete:function(){return"settings"===this.source&&r.hasRole($appData.user,"remove_document")},canSave:function(){var e=this.model.isNew()?r.hasRole($appData.user,"create_document"):r.hasRole($appData.user,"edit_document");return"settings"===this.source&&e}}})},94714:(e,t,i)=>{"use strict";i(428706),i(944114);var n=i(947432),a=i(274692),r=i(267062),o=i(65506),s=i(40785);function l(){var e=this.model.get("dateFrom");e=n(e).toDate();var t=this.model.get("dateTo"),i=a('input[name="dateTo"]',this.$el),r=t?new Date(t):null;(!r||r<=e)&&(i.datepicker("setDates",null),i.datepicker("setStartDate",e))}e.exports=r.extend({urlRoot:"/settings/data/holiday-calendar",features:{validation:!0,mandatoryFields:!0,dirtyFormHandling:!0},Model:o,formConfigName:"holiday-entry-form",template:i(941931),caption:function(){return"".concat(s.translateKey("holiday")," | ").concat(this.model.get("name"))},locals:function(){return{model:this.model.attributes,formattedData:this.model.getFormattedData()}},onRendered:function(){r.prototype.onRendered.call(this),this.model.on("change:dateFrom",l,this)},rules:{lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canEditHoliday:function(){return s.hasRole($appData.user,"edit_holiday_entry")},canRemoveHoliday:function(){return s.hasRole($appData.user,"remove_holiday_entry")},canSaveHoliday:function(){return s.hasRole($appData.user,"create_holiday_entry")||s.hasRole($appData.user,"edit_holiday_entry")}},crumbs:function(){var e=[{title:s.translateKey("settings"),url:"/settings"},{title:s.translateKey("data"),url:"/settings/data"},{title:s.translateKey("holiday_calendar"),url:"/settings/data/holiday-calendar"}];return this.model.isNew()?e.push({title:s.translateKey("new")}):e.push({title:this.model.get("name")||""}),e}})},315470:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(333745),l=i(93216),d=i(94714);e.exports=s.extend({template:i(967591),formConfigName:"holiday-entry-event-form",readOnly:!l.hasRole("edit_holiday_entry"),rules:r(r({},s.prototype.rules),d.prototype.rules),events:{"click #save":"onSaveClick"},locals:function(){return r(r({},s.prototype.locals.apply(this)),{},{eventLinkRoles:"create_holiday_entry,edit_holiday_entry,remove_holiday_entry",eventLinkRolesOperator:"OR"})},onSaveClick:o.throttle((function(e){this.$(e.currentTarget).ladda({model:this.model,action:"save"}),this.save()}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})})},93569:(e,t,i)=>{"use strict";var n=i(325425),a=i(687974),r=i(879176),o=i(40785);e.exports=n.extend({template:i(10968),caption:o.translateKey("holiday_calendar"),navigateUrl:"/settings/data/holiday-calendar",gridRowTemplate:null,onRendered:function(){var e=new r({configName:"main-holidays",condensedLayout:!0,enableEntityFilters:!1,collection:new a,buttons:[{caption:o.translateKey({groupName:"sys/holiday_entry",subgroupName:"actions",key:"add"}),route:"/settings/data/holiday-calendar/new",aclRole:"create_holiday_entry"}],pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableAddColumns:!0,enableSearch:!0,enableBatchExport:!0,multiSelect:!0,onRowClicked:function(e){return o.navigateTo("/settings/data/holiday-calendar/"+e.id)}}]});this.addSubView(e).render(this.$("#holiday-calendar-grid"))}})},713013:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(267062),s=i(40785),l=i(17667),d=i(896727);e.exports=o.extend({locals:function(e){o.prototype.locals.call(this,(function(t){e(r(r({},t),{},{maxPacketFilePages:$appData.globalConfig.maxPacketFilePages,maxPacketFileSize:s.formatSizeUnits($appData.globalConfig.maxPacketFileSize),maxPacketNumExcelCells:$appData.globalConfig.maxPacketNumExcelCells}))}))},urlRoot:"/settings/data/packets",Model:l,formConfigName:"packet-details",template:function(){return i(594084)},caption:function(){return"".concat(s.translateKey("packet")," | ").concat(this.model.get("name"))},filesGrid:null,canSaveAndCopy:!1,onBindEvents:function(){this.model.on("saved",this.onSave,this),o.prototype.onBindEvents.call(this)},onUnbindEvents:function(){this.model.off("saved",this.onSave,this),o.prototype.onUnbindEvents.call(this)},crumbs:function(){return[{title:s.translateKey("settings"),url:"/settings"},{title:s.translateKey("data"),url:"/settings/data"},{title:s.translateKey("packets"),url:"/settings/data/packets"},{title:this.model.get("name")}]},rules:{canEdit:function(){return s.hasRole($appData.user,"edit_packet")},canRemove:function(){return s.hasRole($appData.user,"remove_packet")},canCreate:function(){return s.hasRole($appData.user,"create_packet")},canModifyPacketTemplates:function(){return this.model.isNew()||!this.model.get("sysSubmitted")?this.rules.canCreate.call(this):this.rules.canEdit.call(this)}},gridRowTemplate:null,gridColumns:null,onSave:function(){this.filesGrid&&this.filesGrid.fetchCollection()},onRendered:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=o.prototype.onRendered).apply.apply(e,[this].concat(i))},onSaveClickThrottled:function(){if(this.model.isProcessing)d.error(s.translateKey("files_are_still_being_uploaded"));else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.onSaveClickThrottled.apply(this,t)}}})},161648:(e,t,i)=>{"use strict";i(428706),i(944114);var n=i(96190),a=i(267062),r=i(40785),o=i(344427),s=i(896727),l=i(493793),d=i(50144);e.exports=a.extend({formConfigName:"standard-response-details",template:i(548081),caption:function(){return"".concat(r.translateKey("standard_response")," | ").concat(this.model.get("name"))},className:"readonly",urlRoot:"/settings/data/standard-responses",features:{validation:!0,dirtyFormHandling:!0},onInit:function(e){this.model||(this.model=new d),e&&!1===e.readonly&&this.setReadOnly(!1)},events:{"click #delete":"onDeleteClick","click #save":"onSaveClickThrottled"},rules:{lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canEdit:function(){return r.hasRole($appData.user,"edit_standard_response")},canRemove:function(){return r.hasRole($appData.user,"remove_standard_response")},canSave:function(){return r.hasRole($appData.user,"create_standard_response")||r.hasRole($appData.user,"edit_standard_response")}},crumbs:function(){var e=[{title:r.translateKey("settings"),url:"/settings"},{title:r.translateKey("data"),url:"/settings/data"},{title:r.translateKey("standard_responses"),url:"/settings/data/standard-responses"}];return this.model.isNew()?e.push({title:r.translateKey("new")}):e.push({title:this.model.get("name")||""}),e},onDeleteClick:function(){var e=this;o.display(r.translateKey("delete_confirmation"),{type:"confirm",title:r.translateKey("delete_confirmation_title"),confirmText:r.translateKey("delete"),cancelText:r.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(t){t&&e.model.destroy({success:function(){s.info(s.getCrudMessage(e.model,"deleted")),l.clearPicklistCache("email_templates"),e.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}})},onCancelClick:function(){this.navigateByHistoryPattern()},onSaveClickThrottled:n.throttle((function(){var e=this,t=this.model.isNew();this.model.save(null,{success:function(){var i=t?"created":"updated";s.info(s.getCrudMessage(e.model,i)),l.clearPicklistCache("email_templates"),t?e.navigateByHistoryPattern({disableAllDirtyForms:!0}):(e.setReadOnly(!0),e.updateUrl())}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})})},186801:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(267062),r=i(879176),o=i(40785),s=i(487805),l=i(824497),d=i(896727);e.exports=a.extend({formConfigName:"template-details",Model:s,urlRoot:"/settings/data/templates",filesGrid:null,caption:function(){return"".concat(o.translateKey("template")," | ").concat(this.model.get("name"))},canSaveAndCopy:!0,onBindEvents:function(){this.model.on("saved",this.onSave,this),a.prototype.onBindEvents.call(this)},onUnbindEvents:function(){this.model.off("saved",this.onSave,this),a.prototype.onUnbindEvents.call(this)},crumbs:function(){return[{title:o.translateKey("settings"),url:"/settings"},{title:o.translateKey("data"),url:"/settings/data"},{title:o.translateKey("templates"),url:"/settings/data/templates"},{title:this.model.get("name")}]},rules:{canEdit:function(){return o.hasRole($appData.user,"edit_template")},canRemove:function(){return o.hasRole($appData.user,"remove_template")},canSave:function(){return o.hasRole($appData.user,"create_template")||o.hasRole($appData.user,"edit_template")}},gridRowTemplate:null,gridColumns:["createdDate",{caption:o.translateKey("template_name"),field:"name"},{caption:o.translateKey("version"),field:"version"},{caption:o.translateKey("template_description"),field:"description"}],onSave:function(){this.filesGrid&&this.filesGrid.fetchCollection()},onRendered:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=a.prototype.onRendered).apply.apply(e,[this].concat(i)),this.model.id&&this.model.get("filesVersionHistory")&&this.setupFilesGrid()},setupFilesGrid:function(){var e=this,t=n.orderBy(e.model.get("filesVersionHistory"),"version","desc");e.filesGrid=new r({configName:"template-files-grid",condensedLayout:!0,enableEntityFilters:!1,disableColumnSort:!0,enableDataFilters:!1,enableSearchFilter:!1,collection:new l(t,{fileId:e.model.get("id")}),pluginsOptions:[{enableDynamicColumns:!1,enableBatchExport:!1,multiSelect:!1,enablePager:!1,columns:e.gridColumns,rowTemplateType:e.gridRowTemplate,onRowClicked:function(t){o.downloadFile("".concat($appData.globalConfig.apiRoot,"/template/").concat(e.model.id,"/attachment?fieldName=filesVersionHistory&fsObjectId=").concat(t.id))}}]}),e.addSubView(e.filesGrid).render(e.$el)},onSaveClickThrottled:function(){if(this.model.isProcessing)d.error(o.translateKey("files_are_still_being_uploaded"));else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.onSaveClickThrottled.apply(this,t)}}})},388396:(e,t,i)=>{"use strict";i(533110),i(428706);var n=i(96190),a=i(274692),r=i(564963);e.exports=r.extend({className:"aggregate-filters-tmpl",filterUrl:"aggregate_filter",viewGroupId:"aggregate-filters",operatorType:"db",onInit:function(e){r.prototype.onInit.call(this,e);var t=e.aggregateFilterGroup,i=void 0===t?{}:t,a=e.canSaveModel;this.filterGroup=i,this.canSaveModel=n.isFunction(a)?a:function(){return!0}},createFilterGroup:function(e){var t=this;return this.model.get("aggregateFilterGroupId")?e():a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/aggregate_filter_group/"),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({mustMatchAll:this.getMatchAll(),entityId:this.entDef.entityCanon})}).done((function(i){if(n.assign(t.filterGroup,i),t.canSaveModel())return t.model.save({aggregateFilterGroupId:i.id},{success:function(){return e()}});t.model.set("aggregateFilterGroupId",i.id),e()})).fail(e)},saveFilterGroup:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop,i=this.model.get("aggregateFilterGroupId");return i?a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/aggregate_filter_group/").concat(i),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({mustMatchAll:this.getMatchAll(),entityId:this.entDef.entityCanon})}).done((function(i){return e.filterGroup=n.assign(e.filterGroup,i),t()})).fail(t):t()},deleteFilterGroup:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop,i=this.model.get("aggregateFilterGroupId");return i?a.ajax({url:"".concat($appData.globalConfig.apiRoot,"/aggregate_filter_group/").concat(i),method:"DELETE"}).done((function(){e.filterGroup={},e.canSaveModel()&&e.model.save({aggregateFilterGroupId:null},{success:function(){return t()}}),e.model.set("aggregateFilterGroupId",null),t()})).fail(t):t()}})},989321:(e,t,i)=>{"use strict";i(16280),i(202008),i(426099);var n=i(96190),a=i(45701),r=i(267062),o=i(522609)(),s=i(40785),l=i(608758),d=i(290422);e.exports=r.extend({features:{staleFormHandling:!1},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.layoutTreeCollection)throw new Error("layoutTreeCollection required");this.layoutTreeCollection=e.layoutTreeCollection,this.entDef=this.layoutTreeCollection.getEntityDefinition(),this.readOnly=e.readOnly,this.readOnly&&this.setReadOnly(!0)},rules:{isNew:function(){return n.isNil(this.model.get("id"))},isCustomForm:function(){return"custom"===n.get(this.entDef,"type")},isDataForm:function(){return this.layoutTreeCollection.getRootLayoutModel().isDataForm()},hideOnIntakeDisabled:function(){return this.disableHideOnIntake},showOnPortalDisabled:function(){return this.disableShowOnPortal},showOnHotlineDisabled:function(){return this.disableShowOnHotline},enableTranslation:function(){var e;return!(null===(e=this.entDef)||void 0===e||!e.enableTranslation)},hasReachedTranslatableFieldsLimit:function(){var e=$appData.globalConfig.translatableFieldLimit,t=this.layoutTreeCollection.getEntityTranslatableFields();return n.filter(t,(function(e){return!e.dynamicKind})).length+n.filter(t,(function(e){return e.dynamicKind&&!e.sysActive})).length>=e},portalEnabledForEntity:function(){var e=n.get(this,"fieldType.availableOnPortal",!0),t=this.layoutTreeCollection.getRootLayoutModel(),i="data"===t.get("entityType"),a="custom"===t.get("entityType"),r={guestEnabled:$appData.guestEnabled,allowExternalPortal:$appData.allowExternalPortal,allowExternalEntityApi:$appData.allowExternalEntityApi};return e&&o.isDynamicPortalEnabledForEntity(this.entDef,{isDataForm:i,isCustomForm:a,layoutData:t.attributes,authOptions:r})},hotlineEnabledForEntity:function(){var e=n.get(this,"fieldType.availableOnPortal",!0),t=this.layoutTreeCollection.getRootLayoutModel(),i="custom"===t.get("entityType"),r=a.isEnabled("displayFormsOnHotline");return e&&o.isHotlineIntakeEnabledForEntity(this.entDef,{hotlineAgentIntakeEnabled:$appData.hotlineAgentIntakeEnabled,isCustomForm:i,displayFormsOnHotlineEnabled:r,layoutData:t.attributes})},intakeTranslationEnabled:function(){return a.isEnabled("intakeTranslation")}},parentHasFlagDisabled:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.layoutTreeCollection.getLayoutParents(t,i,!0),r=n.filter(a,(function(e){return!e.get("locked")}));return n.some(r,(function(t){return!1===t.get(e)}))},hasHiddenOnIntakeParent:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.layoutTreeCollection.getLayoutParents(e,t);return n.some(i,(function(e){if("form"!==e.attributes.layoutType)return e.get("hideOnIntake")}))},layoutContainsCaseIdField:function(){var e=!1;if("tab"===this.model.get("layoutType")){var t=this.layoutTreeCollection.getLayoutChildren(this.model.get("id"));e=n.some(t,(function(e){var t=e.get("fieldData")||{};return"field"===e.get("layoutType")&&"caseId"===t.field}))}return e},setDisabledProperties:function(e){var t=e.layoutId,i=e.parentLayoutId,n=e.isCaseIdTab,a=void 0!==n&&n,r=!!i,o=t||i,s=this.layoutContainsCaseIdField()||a,l=!s&&this.hasHiddenOnIntakeParent(o,r);this.disableHideOnIntake=s||l,s?this.model.set({hideOnIntake:!1}):l&&this.model.set({hideOnIntake:!0}),this.disableShowOnPortal=this.parentHasFlagDisabled("showOnPortal",o,r),this.disableShowOnPortal&&this.model.set({showOnPortal:!1}),this.disableShowOnHotline=this.parentHasFlagDisabled("showOnHotline",o,r),this.disableShowOnHotline&&this.model.set({showOnHotline:!1})},getEnableTranslationTooltipTitleKey:function(){var e=this.rules.hasReachedTranslatableFieldsLimit.call(this)&&!0!==this.model.get("enableTranslation"),t="submit-only"!==this.model.get("dynamicKind");return e&&t?"enable_translation_field_limit_and_incorrect_dynamic_kind_tooltip":e?"enable_translation_field_limit_tooltip":!!t&&"enable_translation_incorrect_dynamic_kind_tooltip"},setupEnableTranslationDisabledTooltip:function(){if(this.entDef.enableTranslation){var e=this;this.$enableTranslationToggle=this.$('.form-group[data-field-name="enableTranslation"] .toggle-button'),this.$enableTranslationToggle.tooltip({title:function(){var t=e.getEnableTranslationTooltipTitleKey();return t?s.translateKey(t):""},trigger:"hover",placement:"top"})}},renderTranslatableFieldWarnings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.noop,t=a.isEnabled("intakeTranslation"),i=this.fieldType.enableTranslation,r=this.entDef.enableTranslation;if(!t||!i||!r)return e();var o=this.$('.form-group[data-field-name="enableTranslation"'),c=$appData.globalConfig.translatableFieldLimit,u=n.chain(this.layoutTreeCollection.getEntityTranslatableFields()).filter((function(e){return!e.dynamicKind||!e.sysActive})).size().value();if(u<.75*c)return e();var p=u>=c?"translatable_field_limit_reached":"translatable_field_limit_warning",f={translatableFieldLimit:c,remainingFieldCount:c-u},h={limitReached:u>=c,warningMessage:s.translateKey(p,{context:f})};l.render(d,h,(function(t,i){if(t)return e(t);o.append(i),e()}))}})},254266:(e,t,i)=>{"use strict";i(16280),i(250113),i(426099),i(962010),i(874423),i(428706);var n=i(274692),a=i(96190),r=i(989321),o=i(79579),s=i(388396),l=i(809375),d=i(40785),c=i(896727);e.exports=r.extend({template:i(182455),className:"field-properties-form-tmpl",Model:o,onInit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.prototype.onInit.call(this,t),!t.model)throw new Error("model is required");if(this.type=this.model.get("type"),!this.type)throw new Error("type of field is required");if(this.fieldType=a.find(l,(function(t){return t.name===e.type})),!this.fieldType)throw new Error("field type not found");if(!1!==this.fieldType.ui.defaultValueOnPropertiesForm&&(this.displayDefaultValueComponent=!0),this.model.on("change:dynamicKind",this.onDynamicKindChanged,this),this.model.on("change:postalCodeCountry",this.countryCodeChange,this),this.model.on("change:timeFormat",this.timeFormatChange,this),this.formConfigName=this.fieldType.ui.propertiesForm,!this.formConfigName)throw new Error("formConfigName is required");if(!this.layoutTreeCollection)throw new Error("layoutTreeCollection is required");this.layoutModelId=t.layoutModelId,this.setDisabledProperties({layoutId:this.layoutModelId})},onRendered:function(){var e=this,t=n.Deferred(),i=n('input[name="dependent"]').is(":checked"),a="isel-computed"===this.model.get("dynamicKind"),o="aggregate"===this.model.get("dynamicKind");return this.renderTranslatableFieldWarnings((function(){!e.displayDefaultValueComponent||a||o||i?o?(e.$(".aggregate-filters-container").show(),e.renderAggregateFilters((function(){r.prototype.onRendered.call(e),t.resolve()}))):(r.prototype.onRendered.call(e),t.resolve()):e.renderDefaultValueComponent((function(){r.prototype.onRendered.call(e),t.resolve()}))})),this.setupEnableTranslationDisabledTooltip(),t.promise()},onRemove:function(){this.model.unlock(),this.model.off("change",this._refreshTips),this.model.off("change:dynamicKind",this.onDynamicKindChanged,this),this.model.off("change:postalCodeCountry",this.countryCodeChange,this)},renderDefaultValueComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;if(this.layoutTreeCollection.getRootLayoutModel().isDataForm())return e();var t=this.fieldType.ui.formComponent;if(a.isFunction(t)&&t()){var i=t(),n="default",r=d.translateKey("default_value"),o={field:n,type:this.fieldType.name,typeOptions:this.model.get("typeOptions"),caption:r,ariaLabel:r,disableFieldIcons:!0};return this.defaultValueView=new i({field:n,model:this.model,fieldDef:o,format:this.fieldType.format,escape:this.fieldType.escape,fetchOnRender:!0,allowInactiveUsers:!0,fields:[{value:o}],labelOnTop:!0,width:"col-sm-12",staticData:this.defaultData}),this.addSubView(this.defaultValueView).render(this.$(".default-value-placeholder"),e)}},onDynamicKindChanged:function(){var e=this.model.get("dynamicKind");this.$enableTranslationToggle&&"submit-only"!==e&&this.model.set("enableTranslation",!1),["isel-computed","aggregate"].includes(e)?(this.model.set("mandatory",null),this.defaultValueView&&(this.removeSubView(this.defaultValueView),this.defaultValueView=null,this.model.set("default",null))):this.displayDefaultValueComponent&&!this.defaultValueView&&this.renderDefaultValueComponent(),"aggregate"===e?this.renderAggregateFilters():this.aggregateFiltersView&&(this.removeSubView(this.aggregateFiltersView),this.aggregateFiltersView=null,this.model.set("aggregateFilterGroupId",null),this.model.off("change:childRecordType",this.onChildRecordTypeChanged,this))},countryCodeChange:function(){var e=this.model.get("postalCodeCountry"),t=a.extend(this.model.get("typeOptions"),{postalCodeCountry:e});this.defaultValueView&&this.removeSubView(this.defaultValueView),this.model.set("typeOptions",t),this.model.set("default",null),this.renderDefaultValueComponent()},timeFormatChange:function(){var e=this.model.get("timeFormat"),t=a.extend(this.model.get("typeOptions"),{timeFormat:e});this.defaultValueView&&this.removeSubView(this.defaultValueView),this.model.set("typeOptions",t),this.renderDefaultValueComponent()},locals:function(){return{displayDefaultValueComponent:this.displayDefaultValueComponent}},canSaveModel:function(){var e=this.model.getDirtyFields(),t=this.model.validate(this.model.attributes,{silentValidation:!0});return a.isEmpty(e)&&a.isEmpty(t)},onChildRecordTypeChanged:function(){var e=this;this.model.off("change:childRecordType",this.onChildRecordTypeChanged,this);var t=this.layoutTreeCollection.getFieldModel(this.layoutModelId),i=t.get("aggregateFilterGroupId");if(i)return n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/aggregate_filter_group/").concat(i),method:"DELETE"}).done((function(){if(t.set("aggregateFilterGroupId",null),e.canSaveModel())return t.save(null,{success:function(t){return e.renderAggregateFilters()}});e.renderAggregateFilters()}));this.renderAggregateFilters()},getAggregateFilterGroup:function(e){var t=this.layoutTreeCollection.getFieldModel(this.layoutModelId).get("aggregateFilterGroupId");if(!t)return e();n.ajax({url:"".concat($appData.globalConfig.apiRoot,"/aggregate_filter_group/").concat(t,"?listFilters=true"),method:"GET",dataType:"json",contentType:"application/json"}).done((function(t){return e(null,t)})).fail(e)},renderAggregateFilters:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;this.aggregateFiltersView&&this.removeSubView(this.aggregateFiltersView),this.model.on("change:childRecordType",this.onChildRecordTypeChanged,this);var i=d.getEntDef(this.model.get("childRecordType"));if(!i)return t();this.getAggregateFilterGroup((function(n,r){if(n)return c.error(new Error(n)),t(n);var o=e.layoutTreeCollection.getFieldModel(e.layoutModelId),l=r;a.isObject(l)||(l={},o.set("aggregateFilterGroupId",null)),e.aggregateFiltersView=new s({entDef:i,aggregateFilterGroup:l,model:o,canSaveModel:e.canSaveModel.bind(e),readOnly:e.readOnly}),e.addSubView(e.aggregateFiltersView).render(e.$(".aggregate-filters-container")).done(t)}))}})},594013:(e,t,i)=>{"use strict";i(16280);var n=i(274692),a=i(325425),r=i(170769),o=i(254266);e.exports=a.extend({template:i(727096),className:"field-properties-tmpl",Model:r,onInit:function(e){var t=e.fieldModel,i=e.readOnly;if(!t)throw new Error("fieldModel is required");this.fieldModel=t,this.layoutTreeCollection=e.layoutTreeCollection,this.readOnly=i},onRendered:function(){var e=n.Deferred();return this.fieldPropertiesFormView=new o({model:this.fieldModel,layoutModelId:this.model.get("id"),layoutTreeCollection:this.layoutTreeCollection,readOnly:this.readOnly}),this.addSubView(this.fieldPropertiesFormView).render(".field-properties-form-container").done((function(){return e.resolve()})),e.promise()}})},550095:(e,t,i)=>{"use strict";i(16280),i(250113),i(426099),i(962010);var n=i(96190),a=i(989321),r=i(748191).getAll();e.exports=a.extend({template:i(133626),className:"layout-properties-tmpl",onInit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.prototype.onInit.call(this,t),!t.model)throw new Error("model is required");if(this.layoutType=t.model.get("layoutType"),!this.layoutType)throw new Error("layoutType of layout is required");if(this.layoutTypeDef=n.find(r,(function(t){return t.name===e.layoutType})),!this.layoutTypeDef)throw new Error("layout type not found");if(this.formConfigName=this.layoutTypeDef.ui.propertiesForm,!this.formConfigName)throw new Error("formConfigName is required");if(!this.layoutTreeCollection)throw new Error("layoutTreeCollection is required");this.setDisabledProperties({layoutId:this.model.get("id")})},onRemove:function(){this.model.unlock(),this.model.off("change",this._refreshTips)}})},504451:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(428706);var o=i(96190),s=i(274692),l=i(155687),d=i(40785),c=i(344427),u=i(896727);e.exports=l.extend({className:"layout-rule-card-tmpl",rules:{},onInit:function(e){l.prototype.onInit.call(this,e);var t=e.layoutTreeCollection,i=e.entDef;this.layoutTreeCollection=t,this.entDef=i||this.layoutTreeCollection.getEntityModel().getEntityDefinition()},onFilterRemoveClicked:function(e){e.stopImmediatePropagation();var t=this;c.display(d.translateKey("delete_confirmation"),{type:"confirm",title:d.translateKey("delete_confirmation_title"),confirmText:d.translateKey("delete"),cancelText:d.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(e){if(e){var i=t.filter.id;s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_rule/").concat(i),method:"DELETE"}).done((function(){t.filterGroupActions.deleteFilter(i),u.info(d.translateKey("deleted_display_rule")),o.isFunction(t.onFilterDeleted)&&t.onFilterDeleted()}))}}})},getFilterDetailsModalOptions:function(){return r(r({},l.prototype.getFilterDetailsModalOptions.call(this)),{},{layoutTreeCollection:this.layoutTreeCollection})}})},488381:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(533110),i(202008),i(426099),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var o=i(96190),s=i(274692),l=i(446859),d=i(896727),c=i(40785),u=i(344427);e.exports=l.extend({template:i(610710),className:"layout-rule-details-modal",FiltersFormView:i(221948),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.prototype.onInit.call(this,e);var t=e.layoutTreeCollection,i=e.entDef;this.layoutTreeCollection=t,this.entityId=this.layoutTreeCollection.getEntityModel().get("id"),this.entDef=i||this.layoutTreeCollection.getEntityModel().getEntityDefinition(),this.entityName=this.entDef.entityCanon},locals:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=l.prototype.locals.call(this,t);return o.extend(n,{isNew:!o.get(this,"filter.id"),layoutResourceContext:{layoutType:this.model.get("layoutType")}})},getFilterFormViewOptions:function(){return r(r({},l.prototype.getFilterFormViewOptions.call(this)),{},{model:this.model,layoutTreeCollection:this.layoutTreeCollection})},saveFilter:function(e){var t=this,i=o.get(this,"filter.id")||"",n=o.isEmpty(i);return s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_rule/").concat(i),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({ruleData:this.getSaveData(),entityName:this.entityName,mustMatchAll:this.getMatchAll(),filterGroupId:this.filterGroup.id})}).done((function(i){var a;return n?(t.filterGroup.filters||(t.filterGroup.filters=[]),t.filterGroupActions.addFilter(i),a="created_display_rule"):(t.filterGroupActions.updateFilter(i),a="updated_display_rule"),d.info(c.translateKey(a)),t.closeView(),o.isFunction(t.onFilterSaved)&&t.onFilterSaved(),e()})).fail((function(i){var n=i.responseJSON,a=void 0===n?{}:n,r=a.code;return 400===a.httpstatus&&"entity-invalid"===r&&(t.showInvalidLayoutRuleToast(),i.weAlreadyPreviouslyHandledThis=!0),e(i)}))},onDeleteClicked:function(){var e=this;u.display(c.translateKey("delete_confirmation"),{type:"confirm",title:c.translateKey("delete_confirmation_title"),confirmText:c.translateKey("delete"),cancelText:c.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(t){if(t){var i=e.filter.id;s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_rule/").concat(i),method:"DELETE"}).done((function(){e.filterGroupActions.deleteFilter(i),d.info(c.translateKey("deleted_display_rule")),e.closeView(),o.isFunction(e.onLayoutRuleDeleted)&&e.onLayoutRuleDeleted()}))}}})},showInvalidFilterToast:function(){d.error(c.translateKey({groupName:"errors",subgroupName:"general",key:"invalid_display_rule"}))}})},221948:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(426099),i(423500),i(879432),i(944114),i(874423),i(21699),i(428706),i(202008),i(962062),i(250113),i(311927);var s=i(96190),l=i(274692),d=i(835992),c=i(637777),u=i(344427),p=i(40785);e.exports=d.extend({template:i(819253),className:"layout-rules-form-tmpl",onInit:function(e){d.prototype.onInit.call(this,e);var t=e.layoutTreeCollection,i=e.entDef;this.layoutTreeCollection=t,this.entDef=i||this.layoutTreeCollection.getEntityModel().getEntityDefinition(),this.entityName=this.entDef.entityCanon,this.fieldSearchViewModels=[]},locals:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o(o({},d.prototype.locals.apply(this,t)),{},{layoutResourceContext:{layoutType:this.model.get("layoutType")}})},getExcludedFields:function(){if("field"===this.model.get("layoutType")){var e=this.model.get("fieldId");return[this.layoutTreeCollection.getEntityField(e).field].concat(function(e){if(Array.isArray(e))return a(e)}(t=function(e){var t=e.getFieldModels(),i=[];Object.keys(t).forEach((function(e){i.push(t[e].attributes.field)}));for(var n,a=[],r=e.getEntityFields(),o=0;o<r.length;o++){var l=s.includes(i,r[o].field);"dynamic"!==(n=r[o]).kind||"editable"!==n.dynamicKind||!0!==n.sysActive||n.copiedFromId||l||a.push(r[o].field)}return a}(this.layoutTreeCollection))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var t;if("section"===this.model.get("layoutType")||"tab"===this.model.get("layoutType")||"data-form-section"===this.model.get("layoutType")){var i=this.model.get("id"),n=this.layoutTreeCollection.getAllLayoutChildren(i),r=s.filter(n,(function(e){return"field"===e.get("layoutType")})),o=this.layoutTreeCollection.getFieldModels();return s.map(r,(function(e){return o[e.get("id")].get("field")}))}return null},showInvalidFieldError:function(){this.invalidFieldError||(this.invalidFieldError=u.display(p.translateKey({key:"invalid_display_rule_fields",groupName:"errors",subgroupName:"general"}),{type:"error",modal:!1,container:this.getErrorMessageContainer(),showTitle:!1,canClose:!1}))},isFeatureFieldDisabled:function(e,t){var i;return e?i=this.entDef.fields()[e]:t&&(i=s.find(this.entDef.fields(),{id:t})),!!i&&!1===p.hasEnabledFeature(i)},addFieldSearchView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.noop,i=this.getExcludedFields();this.fieldSearchViewModels.push(e),this.fieldSearchView=new c({model:e,entDef:this.entDef,fieldComponentAsId:!0,operatorFilter:{conditionOperator:!0},filterKind:this.entDef.isDynamicEntity()?["dynamic"]:null,alwaysInclude:this.entDef.isDynamicEntity()?["externalRecord"]:null,excludedFields:i,excludeType:["case","sequenceNumber","coordinate","party","primaryParty"],alwaysUseCaption:!0,disableValueIfMissingField:!1});var n=["filter-item","field-item"],a=e.get("transformedFilterDataRow")&&e.get("transformedFilterDataRow").fieldName,r=e.get("transformedFilterDataRow")&&e.get("transformedFilterDataRow").field,o=a&&s.includes(i,a),d=r&&!s.find(this.entDef.fields(),{id:r}),u=this.isFeatureFieldDisabled(a,r);(o||d||u)&&(this.showInvalidFieldError(),n.push("invalid-field")),l(".filter-list").append('<li class="'.concat(n.join(" "),'"><div class="item"></div></li>')),this.addSubView(this.fieldSearchView).render(this.$(".filter-item").last().find(".item")).done(t)}})},509897:(e,t,i)=>{"use strict";var n=i(884260);e.exports=n.extend({rules:{isDataForm:function(){return this.tab.additionalData.layoutTreeCollection.getRootLayoutModel().isDataForm()}}})},83119:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(533110),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var o=i(96190),s=i(274692),l=i(40785),d=i(896727),c=i(564963);e.exports=c.extend({template:i(558070),className:"layout-rules-tmpl",FilterCardView:i(504451),FilterDetailsModal:i(488381),filterUrl:"dynamic_rule",viewGroupId:"layout-rules",locals:function(){return{hasFilters:!o.isEmpty(this.getFilters()),layoutResourceContext:{layoutType:this.model.get("layoutType")}}},onInit:function(e){var t=e.layoutTreeCollection,i=e.dynamicRuleGroup,n=e.entDef,a=e.readOnly,r=void 0!==a&&a;this.layoutTreeCollection=t,this.filterGroup=i,this.maxDisplayRules=$appData.globalConfig.displayRuleLimit,this.model=this.layoutTreeCollection.getLayoutModel(this.model.get("id")),this.entDef=n||this.layoutTreeCollection.getEntityModel().getEntityDefinition(),this.entityId=this.layoutTreeCollection.getEntityModel().get("id"),this.readOnly=r},getFilterCardOptions:function(e){return r(r({},c.prototype.getFilterCardOptions.call(this,e)),{},{layoutTreeCollection:this.layoutTreeCollection})},getFilterDetailsModalOptions:function(){return r(r({},c.prototype.getFilterDetailsModalOptions.call(this)),{},{layoutTreeCollection:this.layoutTreeCollection})},onAddFilterClick:function(){var e=this.filterGroup;if(e.filters&&e.filters.length>=this.maxDisplayRules)return this.displayTooManyRulesToast();c.prototype.onAddFilterClick.call(this)},createFilterGroup:function(e){var t=this,i=this.model.get("displayRuleGroupId"),n=this.model.get("id");return i?e():s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_layout/").concat(n),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({layout:{id:n},layoutRuleGroup:{mustMatchAll:!0,entityId:this.entityId,layoutId:n}})}).done((function(i){var n=i.layout,a=i.layoutRuleGroup;return t.model.set(n),o.assign(t.filterGroup,a),e()})).fail(e)},saveFilterGroup:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,i=this.model.get("displayRuleGroupId");return i?s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_rule_group/").concat(i),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({mustMatchAll:this.getMatchAll(),entityId:this.entityId,layoutId:this.model.get("id")})}).done((function(i){return e.filterGroup=o.assign(e.filterGroup,i),t()})).fail(t):t()},deleteFilterGroup:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,i=this.model.get("id");return s.ajax({url:"".concat($appData.globalConfig.apiRoot,"/dynamic_layout/").concat(i),method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({layout:{id:i,displayRuleGroupId:null}})}).done((function(i){var n=i.layout;return e.model.set(n),e.filterGroup={},t()})).fail(t)},displayTooManyRulesToast:function(){d.error(l.translateKey({groupName:"settings",subgroupName:"form-builder",key:"too_many_display_rules"},{context:{maxRules:this.maxDisplayRules}}))},rules:{canAdd:function(){return!this.readOnly}}})},635452:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(690906),i(874423),i(21699),i(16280),i(962010),i(428706),i(327495),i(725440),i(944114),i(250113),i(426099),i(962062),i(423500);var r=i(96190),o=i(274692),s=i(122268),l=i(858612),d=i(267062),c=i(993816),u=i(40785),p=i(93216),f=i(344427),h=i(896727),m=i(493793),g=i(610421),y=i(580921),v=i(809375),b=i(710572),w=i(649625),A=i(964030),C=i(810457);e.exports=d.extend({Model:c,template:w,_picklistData:null,features:{validation:!0,dirtyFormHandling:!1,staleFormHandling:!1},fieldOptions:{},initialize:function(){var e;this.picklistConfig=u.getPicklistsConfig(),this.defaultLayoutName="picklist-default";for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=i[0];this.picklistName=a.model?a.model.get("name"):a.picklistName;var o=this.picklistConfig[this.picklistName];this.picklistTypeId=null==o?void 0:o.id,this.formConfigName=null!==(e=null==o?void 0:o.formConfigName)&&void 0!==e?e:this.defaultLayoutName,d.prototype.initialize.apply(this,i),null!=o&&o.formConfigName&&!r.includes(this._getLayoutFields(this.formConfigName),"value")&&this._appendDefaultFieldsToLayout(),this._updateRelatedDataEditability(this.model.isNew())},onInit:function(){for(var e,t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=n[0];if(!o)throw new Error("Options Required");o.model||(this.model=new this.Model(o.picklistData)),this._displayHeader=r.get(o,"displayHeader",!0),this.$flagContainer=o.$flagContainer,this.$addBtnGroup=o.$addBtnGroup,this.translatedPicklistName=this.model.getFormattedData().name,this.caption=this.translatedPicklistName,this._picklistData=o.picklistData,this.parents=this.getPicklistParents();var s=l({mandatory$:this.parents?this.parents.concat(["value"]):["value"],dependentMandatory$:[{condition:"isLanguageListItem",fields:["reportingLanguage"]}],dependentPattern$:[{fields:["value"],pattern:"^^[a-zA-Z0-9-_ ]*$",code:"languagePattern$",allowNull:!0,condition:"isLanguageListItem"}]},$appData.validation.prefs);this.model.validator=s,this.isPicklistDynamic=null===(e=this.picklistConfig[this.picklistName])||void 0===e?void 0:e.dynamic;var c=$appData.globalConfig.recordLimits[this.model.getEntityDefinition().entityType].limit;this.maxPicklistLimit=c;var u=null===(t=this.picklistConfig[this.picklistName])||void 0===t?void 0:t.parentEntityCanon;this.form=u,d.prototype.onInit.apply(this,n)},getPicklistParents:function(){return this.picklistConfig[this.picklistName].parents},updatePicklistItemsCount:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop;if(this.parentEntityCanon=this.picklistConfig[this.picklistName]?this.picklistConfig[this.picklistName].parentEntityCanon:null,!this.parentEntityCanon)return t();var i=r.replace(this.parentEntityCanon,"/","_");return o.ajax({url:"".concat($appData.globalConfig.apiRoot,"/picklist_type/count/").concat(i),method:"GET",async:!1,dataType:"json",contentType:"application/json",data:{includeInactive:!1},success:function(i){e.recordCount=i,e.checkPicklistItemLimit(),t(null,i)}})},checkPicklistItemLimit:function(){var e=this.$addBtnGroup||this.$(".btn-add-group");if(this.recordCount>=this.maxPicklistLimit){var t=u.translateKey({groupName:"settings",subgroupName:"element-limit",key:"value_limit_reached_text"});e.tooltip({title:t,trigger:"hover",placement:"top"})}else e.tooltip("destroy")},navigateUrl:function(){return this.model.attributes.id?"/settings/forms/picklists/".concat(this.model.attributes.name,"/").concat(this.model.attributes.id,"/edit"):"/settings/forms/picklists/".concat(this.model.attributes.name,"/new")},locals:function(){return{displayHeader:this._displayHeader,entity:this.model.getEntityCanon(),model:this.model.attributes,picklistName:this.translatedPicklistName,picklistData:this.model.attributes,parents:this.parents,handle:this.handle,locked:this.picklistConfig[this.picklistName].locked}},navigateBackToPicklist:function(){u.navigateTo("/settings/forms/picklists/".concat(this.model.attributes.name))},crumbs:function(){var e=[{title:u.translateKey("settings"),url:"/settings"},{title:u.translateKey("forms"),url:"/settings/forms"},{title:u.translateKey({groupName:"settings",subgroupName:"forms",key:"picklists"}),url:"/settings/forms/picklists"},{title:u.translateKey(u.picklistTypeTranslationKey({name:this.picklistName})),url:"/settings/forms/picklists/".concat(this.picklistName)}];return this.model.isNew()?e.push({title:u.translateKey("new")}):e.push({title:u.translateKey("edit")}),e},rules:{valueLimitReached:function(){return!!this.model.isNew()&&this.recordCount>=this.maxPicklistLimit},isExternalConfig:function(){var e;return(null===(e=this.picklistConfig[this.picklistName])||void 0===e?void 0:e.external)||!1},isNew:function(){return!0===this.model.isNew()},isEdit:function(){return!1===this.model.isNew()},lockedPicklist:function(){var e=this.picklistConfig[this.picklistName];return!!e&&!0===e.locked},lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canSave:function(){return this.model.isNew()?p.hasRole("create_picklist_item"):p.hasRole("edit_picklist_item")}},events:{"click #save":"onSaveClickThrottled","click #delete":"onDeleteClick","loaded .parent-selector":"onParentSelectorLoaded",'keydown div[data-field-name="rank"] input':"onRankKeyDown",'keyup div[data-field-name="value"] input':"onValueKeyUp",'change div[data-field-name="value"] input':"onValueChange",'change div[data-field-name="rank"] input':"onRankChange",'change div[data-field-name="external"] input':"onExternalChange"},onRankChange:function(e){var t=parseInt(o(e.currentTarget).val(),10);r.isNil(t)||this.model.get("rank")===t||this.model.addDirtyField("rank"),this.model.set("rank",t)},onExternalChange:function(e){var t=r.get(e,"currentTarget.checked");t&&this.model.get("external")!==t&&this.model.addDirtyField("external"),this.model.set("external",t,!1)},onValueChange:function(e){var t=o(e.currentTarget).val().substring(0,255);t&&this.model.get("value")!==t&&this.model.addDirtyField("value"),this.model.set("value",t)},onSaveClickThrottled:function(e){var t=this,i="save-and-copy"===e.currentTarget.id,n=this.model.get("name"),a="/settings/forms/picklists/".concat(n),r=this.model.isNew(),o=this.getRelatedData();this.model.set("parents",this._getParentValues()),this.model.set("picklistTypeId",this.picklistTypeId),this.model.validate(this.model.attributes)||(o=this._unsetRelatedData(o),this.model.set("relatedData",o),this.model.save(null,{success:function(e){r?(t._updateTranslation(e.attributes),h.info(h.getCrudMessage(t.model,"created"))):h.info(h.getCrudMessage(t.model,"updated")),i?u.navigateTo("".concat(a,"/").concat(e.id,"/new")):r?t.navigateByHistoryPattern({disableAllDirtyForms:!0}):(t.setReadOnly(!0),t.updateUrl(),t.setFormReadOnlyValues(),t._setParentValues())},validate:!1}))},onCancelClick:function(){d.prototype.onCancelClick.apply(this),this._setParentValues()},getRelatedData:function(){if(!this.formConfigName)return{};var e=this.getRelatedDataFields();return r.pick(this.model.attributes,e)},getDefaultLayoutElements:function(){var e=r.find(b,{name:this.defaultLayoutName});return r.get(e,"elements",{})},getRelatedDataFields:function(){return r.difference(this._getLayoutFields(this.formConfigName),this._getLayoutFields(this.defaultLayoutName))},_getLayoutFields:function(e){var t=r.find(b,{name:e});return r.chain(this._accumulateFields(t)).flattenDeep().compact().uniq().value()},_accumulateFields:function(e){return e&&e.field?[e.field]:e&&e.elements?r.map(e.elements,this._accumulateFields.bind(this)):[]},onDeleteClick:function(){var e=this,t=this.model.get("name");f.display(u.translateKey("delete_confirmation"),{type:"confirm",title:u.translateKey("delete_confirmation_title"),confirmText:u.translateKey("delete"),cancelText:u.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(i){i&&e.model.destroy({success:function(){m.clearPicklistCache(t),u.navigateTo("/settings/forms/picklists/".concat(t),{disableAllDirtyForms:!0}),h.info(h.getCrudMessage(e.model,"deleted"))}})}})},onParentSelectorLoaded:function(e){if(this.model.get("parents")){var t=r.indexOf(this.parents,o(e.currentTarget).data("picklist")),i=o(e.currentTarget).data("selectize");i?i.setValue(this.model.get("parents")[t]):o(e.currentTarget).val(this.model.get("parents")[t]).change()}},onRankKeyDown:function(e){return g.preventDefaultIfNotNumber(e)},onValueKeyUp:function(){this.updateTooltip(this.$('div[data-field-name="value"] input').val().substring(0,255))},setFormReadOnlyValues:function(){this.$('div[data-field-name="rank"] p').text(this.model.get("rank")),this.$('div[data-field-name="value"] p').text(this.model.get("value")),this.$('div[data-field-name="external"] p').text(this.model.get("external")?u.translateKey("yes"):u.translateKey("no"))},onRendered:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];d.prototype.onRendered.apply(this,i);var a=o.Deferred();return this.$('div[data-field-name="rank"] input').val(this.model.get("rank")),this.$('div[data-field-name="value"] input').val(this.model.get("value")),this.$('div[data-field-name="external"] input').prop("checked",this.model.get("external")),this.setFormReadOnlyValues(),this._attachTooltip(),s.parallel([function(t){return e._renderParentComponents((function(i){if(i)return t(i);d.prototype.enableFeatures.call(e,e.$el).then(r.ary(t,0))}))},function(t){return e.renderFormFlag(t)},function(t){return e.isPicklistDynamic?e.updatePicklistItemsCount((function(i){if(i)return t(i);e.renderElementLimitFlag(t),e.model.trigger("change")})):t()}],(function(e){if(e)throw e;return a.resolve()})),a.promise()},renderElementLimitFlag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop,t=this.$flagContainer||this.$("#flags");if(1!==t.length)return e();this.elementLimitFlagView&&this.elementLimitFlagView.remove(),this.elementLimitFlagView=new A({model:this.model,limitType:"values",tooltipTitle:u.translateKey({groupName:"settings",subgroupName:"element-limit",key:"picklist_value_limit_tooltip"}),currentCount:this.recordCount||0}),this.addSubView(this.elementLimitFlagView).render(t).done((function(){e()}))},renderFormFlag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop,t=this.$flagContainer||this.$("#flags");if(1!==t.length)return e();this.formFlagView&&this.formFlagView.remove(),this.formFlagView=new C({model:this.model,form:this.form}),this.addSubView(this.formFlagView).render(t).done((function(){e()}))},onRemove:function(){r.forEach(this.formLayout.elements,(function(e){delete e.readOnly}))},enableFeatures:r.noop,getParentFieldDef:function(e){var t=this.picklistConfig[e].parents;return{caption:u.translateKey(e),field:e,type:"picklist",editRule:"!isEdit",picklistName:e,picklistDependencies:t}},updateTooltip:function(e){e.length>254?this.$('div[data-field-name="value"] input').tooltip("show"):this.$('div[data-field-name="value"] input').tooltip("hide")},_updateTranslation:function(e){var t=u.picklistTranslationKey(e);t.value=e.value,u.updateLocalTranslation(t),m.clearPicklistCache(e.name)},_unsetRelatedData:function(e){var t=this;return r.chain(e).each((function(e,i){return t.model.unset(i)})).reduce((function(e,t,i){return null!=t&&""!==t&&(e[i]=t),e}),{}).value()},_setParentValues:function(){var e=this.model.get("parents");if(r.isArray(e)){var t={};r.each(this.parents,(function(i,n){t[i]=e[n]})),this.model.set(t)}},_getParentValues:function(){var e=this;return r.map(this.parents,(function(t){return e.model.get(t)}))},_renderParentComponents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.noop,t=this;if(r.isEmpty(t.parents))return e();this._setParentValues();var i=r.map(t.parents,t.getParentFieldDef.bind(t)),n=t.$(".form-horizontal"),a=!0,o=null;return s.eachSeries(i,(function(e,s){var l=r.get(e,"type"),d=new y(r.extend({model:t.model,fieldDef:e,fields:i,field:e.field,escape:r.get(v,[l,"escape"]),caption:t.getParentCaption(e)},t.fieldOptions));t.addSubView(d).render((function(e){return e?s(e):(a?(n.prepend(d.$el),o=d.$el,a=!1):(d.$el.insertAfter(o),o=d.$el),s())}))}),e)},_attachTooltip:function(){var e=this.$('div[data-field-name="value"] input');u.setupValidationTooltip(this,e,{title:u.translateKey({groupName:"validation",subgroupName:"tooltip",key:"maximum_characters"},{context:{characterLimit:254}}),placement:"right"})},_appendDefaultFieldsToLayout:function(){this.formLayout.elements=[].concat(n(this.getDefaultLayoutElements()),n(this.formLayout.elements))},_updateRelatedDataEditability:function(e){if(!e){var t=this._getLayoutFields(this.defaultLayoutName);r.forEach(this.formLayout.elements,(function(e){r.includes(t,e.field)||r.set(e,"readOnly",!0)}))}},getParentCaption:function(e){return u.translateKey({key:e.field,groupName:"picklist_type",subgroupName:"caption"})}})},810457:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(40785);e.exports=n.extend({className:"form-flag-tmpl",template:i(78752),onInit:function(e){if(!e.model)throw new Error("model is missing");this.model=e.model,this.form=e.form||this.model.get("form")},locals:function(){var e=null;return this.form&&(e=a.translateKey({groupName:this.form,subgroupName:"general",key:"name"})),{name:e}},onRendered:function(){this.$el.attr("title",a.translateKey({groupName:"settings",subgroupName:"forms",key:"form"})).tooltip({fixTitle:!0,placement:"bottom",trigger:"hover"})}})},336811:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(267062),r=i(40785),o=i(344427),s=i(896727),l=i(161820);e.exports=a.extend({formConfigName:"dialing-instruction-details",template:i(400722),caption:"".concat(r.translateKey("dialing_instructions")),className:"readonly",urlRoot:"/settings/system/dialing-instructions",features:{validation:!0},onInit:function(e){this.model||(this.model=new l),e&&!1===e.readonly&&this.setReadOnly(!1)},events:{"click #delete":"onDeleteClick","click #save":"onSaveClickThrottled"},rules:{lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canEdit:function(){return r.hasRole($appData.user,"edit_dialing_instructions")},canRemove:function(){return r.hasRole($appData.user,"remove_dialing_instructions")},canSave:function(){return r.hasRole($appData.user,"create_dialing_instructions")||r.hasRole($appData.user,"edit_dialing_instructions")}},crumbs:function(){var e=[{title:r.translateKey("settings"),url:"/settings"},{title:r.translateKey("system"),url:"/settings/system"},{title:r.translateKey("dialing_instructions"),url:"/settings/system/dialing-instructions"}];return this.model.isNew()?e.push({title:r.translateKey("new")}):e.push({title:this.model.get("name")||""}),e},onDeleteClick:function(){var e=this;o.display(r.translateKey("delete_confirmation"),{type:"confirm",title:r.translateKey("delete_confirmation_title"),confirmText:r.translateKey("delete"),cancelText:r.translateKey("cancel"),confirmClass:"primary danger ladda-button",confirmIcon:"fa-trash",callback:function(t){t&&e.model.destroy({success:function(){s.info(s.getCrudMessage(e.model,"deleted")),e.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}})},onCancelClick:function(){this.navigateByHistoryPattern()},onSaveClickThrottled:function(){var e=this;return n.throttle((function(){var t=e,i=e.model.isNew();e.model.save(null,{success:function(){var e=i?"created":"updated";s.info(s.getCrudMessage(t.model,e)),i?t.navigateByHistoryPattern({disableAllDirtyForms:!0}):(t.setReadOnly(!0),t.updateUrl())}})}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})()}})},272451:(e,t,i)=>{"use strict";i(944114),i(327495),i(690906);var n=i(274692),a=i(96190),r=i(858612),o=i(267062),s=i(105522),l=i(40785),d=i(344427);i(672890),e.exports=o.extend({Model:s,urlRoot:"/settings/system/email-rule",template:i(103362),formConfigName:"email-rule",onInit:function(){var e=this._validationRules(),t=r(e,$appData.validation.prefs);this.model.validator=t,o.prototype.onInit.apply(this,arguments)},rules:{isOutgoingEmailFilter:function(){return"Outgoing Email Filter"===this.model.get("ruleType")},isNotIncomingEmailFilter:function(e){return!a.isEmpty(e.ruleType)&&"Incoming Email Filter"!==e.ruleType},isNotOutgoingEmailFilter:function(e){return!a.isEmpty(e.ruleType)&&"Outgoing Email Filter"!==e.ruleType},isIncomingEmailFilter:function(e){return"Incoming Email Filter"===e.ruleType},isTypeEmailToCase:function(){return"email_to_case"===this.model.get("ruleType")},isAcceptAllSendersChecked:function(){return!0===this.model.get("acceptAllSenders")||"true"===this.model.get("acceptAllSenders")},isAcceptAllSendersEnabled:function(){return!0===$appData.globalConfig.acceptAllSendersEnabled&&"Incoming Email Filter"!==this.model.get("ruleType")},lockedByAnotherUser:function(){return!0===this.model.get("isLockedByAnotherUser")},canEdit:function(){return l.hasRole($appData.user,"edit_email_rule")},canRemove:function(){return l.hasRole($appData.user,"remove_email_rule")},canSave:function(){return l.hasRole($appData.user,"create_email_rule")||l.hasRole($appData.user,"edit_email_rule")}},crumbs:function(){var e=[{title:l.translateKey("settings"),url:"/settings"},{title:l.translateKey("workflow"),url:"/settings/workflow"},{title:l.translateKey("email_rules"),url:"/settings/system/email-rules"}];return this.model.isNew()?e.push({title:l.translateKey("new")}):this.isReadOnly()?e.push({title:l.translateKey("view")}):e.push({title:l.translateKey("edit")}),e},events:{"blur #emailTo":"onEmailToBlur"},onSaveClickThrottled:a.throttle((function(){var e=this,t=arguments;if(!0===this.model.get("acceptAllSenders")){var i=!0===this.model.get("acceptAllSenders"),n=this.model.validate(this.model.attributes,{}),a=l.translateKey("allow_all_senders_warning");!n&&i&&d.display(a,{type:"confirm",title:l.translateKey("allow_all_senders_warning_title"),callback:function(i){i&&o.prototype.onSaveClickThrottled.apply(e,t)}})}else o.prototype.onSaveClickThrottled.apply(this,arguments)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onEmailToBlur:function(e){var t=n(e.currentTarget).val();/\S+@\S+/.test(t)||n(e.currentTarget).val(null)},onRendered:function(){this.$("#emailFrom").selectize({create:!0,maxItems:null,persist:!1,labelField:"item",valueField:"item",plugins:["remove_button"],onOptionAdd:function(e){var t=this;/\S+@\S/.test(e)||(t.removeItem(e),setTimeout((function(){t.removeItem(e)}),0))},onDropdownOpen:function(e){l.scrollTo(e)}}),this.$("#warning-msg").html(l.escapedTranslateKey("allow_all_senders_warning")),o.prototype.onRendered.apply(this,arguments)},_validationRules:function(){return{mandatory$:["ruleType"],dependentMandatory$:[{condition:"notAcceptingAllSenders && isNotOutgoingEmailFilter && isNotIncomingEmailFilter",fields:["emailFrom","emailTo"]},{condition:"isIncomingEmailFilter",fields:["emailFrom"]},{condition:"isOutgoingEmailFilter",fields:["validRecipients"]}]}}})},198095:(e,t,i)=>{"use strict";var n=i(40785),a=i(325425),r=i(770345),o=i(539254),s=i(502675),l=i(879176);e.exports=a.extend({template:i(613910),caption:n.translateKey("integration_log"),navigateUrl:"/settings/system/integration-log",jobId:null,crumbs:function(){return[{title:n.translateKey("settings"),url:"/settings"},{title:n.translateKey("system"),url:"/settings/system"},{title:n.translateKey("integration_log"),url:"/settings/system/integration-log"},{title:n.translateKey("integration_log_details")}]},onInit:function(e){if(!e)throw"Options required";if(!e.jobId||"undefined"===e.jobId)throw"Job id must be provided";if(!e.parentId)throw"Parent id must be provided";this.jobId=e.jobId,this.parentId=e.parentId},onRendered:function(){var e=new l({configName:"event-details",condensedLayout:!0,enableEntityFilters:!1,collection:new o({jobId:this.jobId}),pluginsOptions:[{enableDynamicColumns:!0}]});this.addSubView(e).render(this.$("#integration-log-details-grid")),this.renderSummaryView(this.parentId)},renderSummaryView:function(e){var t=this,i=new s({id:e});i.fetch({success:function(){var e=new r({model:i});t.addSubView(e).render(t.$("#integration-log-summary-container"))}})}})},770345:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(325425),r=i(40785),o=i(45701);e.exports=a.extend({template:i(91664),className:"integration-log-summary-tmpl tombstone-container",locals:function(){return{status:this.getStatus(),isRecordSourceViewEnabled:o.isEnabled("recordSourceView")}},getStatus:function(){var e=this.model.get("status"),t=this.model.get("errorCount")||0,i=1===t?"error":"errors",a=r.translateKey(i);return"".concat(n.startCase(e)," (").concat(t," ").concat(a,")")}})},145816:(e,t,i)=>{"use strict";i(428706),i(944114);var n=i(96190),a=i(267062),r=i(40785),o=i(442877),s=i(344427),l=i(896727);e.exports=a.extend({formConfigName:"language-details",Model:o,urlRoot:"/settings/system/languages",template:i(317257),caption:function(){return"".concat(r.translateKey({groupName:"settings",subgroupName:"system",key:"languages"})," | ").concat(this.model.get("name"))},crumbs:function(){var e=[{title:r.translateKey("settings"),url:"/settings"},{title:r.translateKey("system"),url:"/settings/system"},{title:r.translateKey({groupName:"settings",subgroupName:"system",key:"languages"}),url:"/settings/system/languages"}];return this.model.isNew()?e.push({title:r.translateKey("new")}):e.push({title:this.getLanguageTranslation()||""}),e},onRendered:function(){a.prototype.onRendered.call(this),this.model.isNew()&&this.showNewLanguageBanner()},onRemove:function(){a.prototype.onRemove.call(this),s.removeAllNotifications()},getTranslation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.translateKey({groupName:"sys/language",subgroupName:"general",key:e},t)},getLanguageTranslation:function(){return r.translateKey({groupName:"picklist",subgroupName:"supported_languages",key:this.model.get("value")})},showCrudConfirmation:function(e,t,i){if(this.model.validate(this.model.attributes))return i(!1);var n=void 0,a=void 0;"delete"===e&&(n="primary danger ladda-button",a="fa-trash"),s.display(this.getTranslation("".concat(e,"_language_confirmation_message"),t),{type:"confirm",title:this.getTranslation("".concat(e,"_language_confirmation_title")),html:!0,confirmCaption:{groupName:"sys/language",subgroupName:"general",key:"".concat(e,"_language_confirmation_confirm_text")},cancelCaption:{groupName:"sys/language",subgroupName:"general",key:"".concat(e,"_language_confirmation_cancel_text")},confirmClass:n,confirmIcon:a,callback:i})},onSaveClickThrottled:n.throttle((function(){var e=this;this.showCrudConfirmation("save",null,(function(t){t&&e.model.save({sysSubmitted:!0},{wait:!0,validate:!1,success:function(t){var i=e.getTranslation("new_language_added_toast",{context:{language:e.getLanguageTranslation()}});l.info(i,null,1e4),e.model.unlock(),e.navigateByHistoryPattern({disableAllDirtyForms:!0})}})}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onDeleteClick:function(e){var t=this;this.showCrudConfirmation("delete",{context:{language:this.getLanguageTranslation()}},(function(e){e&&t.model.destroy({success:function(){l.info(l.getCrudMessage(t.model,"deleted")),t.model.unlock(),t.navigateByHistoryPattern({disableAllDirtyForms:!0})}})})),e.stopImmediatePropagation()},showNewLanguageBanner:function(){s.display(this.getTranslation("new_banner"),{type:"notification",canClose:!1,sticky:!0})}})},216710:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}i(45700),i(689572),i(752675),i(489463),i(426099),i(102892),i(879432),i(202008),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(428706),i(944114),i(16280);var r=i(96190),o=i(274692),s=i(267062),l=i(40785),d=i(384366),c=i(233612),u=i(93216),p=i(896727);e.exports=s.extend({formConfigName:"theme-details",Model:d,urlRoot:"/settings/system/themes",template:i(453195),caption:function(){return"".concat(l.translateKey({groupName:"settings",subgroupName:"system",key:"themes"})," | ").concat(this.model.get("name"))},crumbs:function(){var e=[{title:l.translateKey("settings"),url:"/settings"},{title:l.translateKey("system"),url:"/settings/system"},{title:l.translateKey({groupName:"settings",subgroupName:"system",key:"themes"}),url:"/settings/system/themes"}];return this.model.isNew()?e.push({title:l.translateKey("new")}):e.push({title:this.model.get("name")||""}),e},rules:{canEdit:function(){return(!this.isReadOnlyTheme()||!this.isDefaultTheme())&&u.hasRole("edit_theme")},canDelete:function(){return!this.isReadOnlyTheme()&&!this.isDefaultTheme()&&u.hasRole("remove_theme")},canToggleDefaultField:function(){var e=this.model.isNew(),t=!1===r.get(this.model,"_originalData.default");return e||t},canEditField:function(){return!this.isReadOnlyTheme()}},updateLogoBackground:function(){var e=this.model.get("primary");o(".image-preview, .original-image").css("background-color",e),o(".croppr-image").length?o(".croppr-image").css("background-color",e):o("html > head").append(o("<style>.croppr-image { background-color: ".concat(r.escape(e),"; }</style>")))},onRendered:function(){this.updateLogoBackground();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.onRendered.apply(this,t)},onSaveClickThrottled:r.throttle((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{modelOpts:{}},i=this,r=i.model.isNew();this.isSafeToLeaveDirtyInlines()&&(this.model.set("resetPrimaries",!0),this.model.save({sysSubmitted:!0},function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var a,r,o;a=e,r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({success:function(t){var n=r?"created":"updated";p.info(p.getCrudMessage(i.model,n)),i.model.unlock(),i.navigateByHistoryPattern({disableAllDirtyForms:!0,isThemeUpdate:"save"===e.currentTarget.id&&!r&&!0})}},t.modelOpts)))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),navigateByHistoryPattern:function(e){var t=r.defaults(e,{disableAllDirtyForms:!1}),i=this.model.id===$appData.user.themeId,n=!$appData.user.themeId&&this.model.get("default"),a=c.getPatternUrl(this.model);if(t.isThemeUpdate&&(a+="/".concat(this.model.id)),i||n)t.disableAllDirtyFormHandling&&this.disableAllDirtyFormHandling(),window.location=this.urlRoot;else{if(!a)throw new Error("No navigation path found");l.navigateTo(a,t)}},isReadOnlyTheme:function(){return!0===this.model.get("readOnly")},isDefaultTheme:function(){return!0===this.model.get("default")},events:{"change input[name=primary]":"updateLogoBackground"}})},83146:(e,t,i)=>{"use strict";var n=i(325425),a=i(637527),r=i(587776);e.exports=n.extend({className:"conditions-row-tmpl",template:i(133187),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.filterDataRow=e.filterDataRow,this.rowsView=e.rowsView,this.entDef=e.entDef,this.transformedFilterDataRow=r.transformData(this.filterDataRow,this.entDef),this.model=new a({transformedFilterDataRow:this.transformedFilterDataRow})},render:function(e){var t=this;this.rowsView.addFieldSearchView(this.model,(function(){t.model.set(t.transformedFilterDataRow),n.prototype.render.call(t).then(e)}))}})},587776:(e,t,i)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(944114),i(134782),i(938781),i(962010),i(523418),i(690906),i(16280),i(250113),i(426099),i(962062),i(423500),i(327495),i(725440);var r=i(96190),o=i(809375),s=i(186360);e.exports={convertFilterFieldValuesFromDb:function(e,t){var i=r.find(t.fields(),{id:e.fieldId}),n=o[e.fieldType],a=r.get(n,"db.afterRead");return a?r.map(e.fieldValues,(function(e){return a(null,e,{fieldDef:i})})):e.fieldValues},setFilterChildrenFormattedValues:s.setFilterChildrenFormattedValues,getNumberOfValues:function(e){switch(e){case"between":return 2;case"is":case"is_not":case"contains":case"contains_exact_words":case"less_than_or_equals":case"less_than":case"greater_than_or_equals":case"greater_than":case"does_not_contain":case"does_not_contain_exact_words":return 1;default:return 0}},transformData:function(e,t){var i={},a=this.getNumberOfValues(e.operator),o=this.convertFilterFieldValuesFromDb(e,t);if(2===a){var s=n(o,1);i.value1=s[0];var l=n(o,2);i.value2=l[1],r.forEach(e.joinData,(function(t,n){r.forOwn(t,(function(t,a){var o={};o[r.replace(a,e.fieldName,"value".concat(n+1))]=t,r.assign(i,o)}))}))}else{var d=n(o,1)[0];i.value=void 0===d?null:d;var c=r.get(e,"joinData[0]",{});r.forOwn(c,(function(t,n){var a={};a[r.replace(n,e.fieldName,"value")]=t,r.assign(i,a)}))}return i.field=e.fieldId,i.fieldName=e.fieldName,i.operator=e.operator,i.filterChildId=e.filterChildId,i}}},300490:(e,t,i)=>{"use strict";i(842762),i(428706);var n=i(274692),a=i(96190),r=i(383894),o=i(680553),s=i(344427);e.exports=r.extend({fieldSearchViewGroupName:"data-import",fieldValueModel:null,excludeType:null,filterFlag:null,excludedFields:null,originalData:null,features:{dirtyFormHandling:!0},rules:{},locals:function(){var e=r.prototype.locals.call(this);return a.assign({dataImportActionsHelpUrl:$appData.globalConfig.dataImportActionsHelpUrl},e)},onInit:function(e){this.inlineView=e.inlineView,r.prototype.onInit.call(this,e)},getTextOrPlaceholder:function(e){return(e||"").trim()},uniqueFileReactField:function(e,t){var i;if(t){var n=this.getTextOrPlaceholder(t);i="".concat(n,"_").concat("{arbitraryId}",".").concat("csv")}else i="{configurableFilenamePrefix}_{arbitraryId}.csv";this.model.set({uniqueFileName:i})},onBindEvents:function(){this.model.on("change:uniqueIdentifierFileName",this.uniqueFileReactField,this),this.inlineView.on("cancel",this.onCancel,this),this.model.on("change:dataImport",this.validateParentDataImport,this)},onUnbindEvents:function(){this.model.off("change:uniqueIdentifierFileName",this.uniqueFileReactField,this),this.inlineView.off("cancel",this.onCancel,this),this.model.off("change:dataImport",this.validateParentDataImport,this)},onRendered:function(){for(var e=n.Deferred(),t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];r.prototype.onRendered.apply(this,i),this.renderValueFormComponent((function(){e.resolve()}));var o=this.model.get("uniqueIdentifierFileName");return this.model.set(o?{uniqueFileName:"".concat(o,"_{arbitraryId}.csv")}:{uniqueFileName:"{configurableFilenamePrefix}_{arbitraryId}.csv"}),this.disableUniqueFileNameInput(),this.validateParentDataImport(),e.promise()},disableUniqueFileNameInput:function(){document.querySelector('input[name="uniqueFileName"]').disabled=!0},renderValueFormComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.noop;return this.formComponent&&(o.remove(this.formComponent),delete this.formComponent),e()},validateParentDataImport:function(){s.removeAllErrors(),this.model.isNew()||this.model.get("dataImport__name")?this.$('div[data-field-name="dataImport"] p').removeClass("text-danger"):(this.$('div[data-field-name="dataImport"] p').addClass("text-danger"),s.display("This action has selected a Data Import that does not exist. Please select another Data Import record to resolve this or delete this Action.",{type:"error",modal:!1,showTitle:!1,container:n("#dataimport-msg")}))}})},743004:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(16280),i(102892),i(879432),i(83851),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(134782),i(523418),i(327495),i(690906),i(962062),i(533110),i(426099),i(938781),i(962010),i(874423),i(21699),i(944114),i(428706),i(202008),i(250113);var d=i(274692),c=i(96190),u=i(325425),p=i(383894),f=i(809375),h=i(587776),m=i(680553),g=i(447578),y=i(40785),v=i(610421),b=i(291599),w=i(186360);e.exports=p.extend({fieldSearchViewGroupName:"set-field-value",fieldValueModel:null,excludeType:null,filterFlag:null,excludedFields:null,originalData:null,features:{dirtyFormHandling:!0},rules:{isExpressionDisabled:function(){return b.isDisabled}},isDirtied:function(){var e=this.getFieldValueData();e.fieldValues=c.map(e.fieldValues,(function(e){return c.isBoolean(e)?JSON.stringify(e):c.isNumber(e)?e.toString():c.isObject(e)?JSON.stringify(e):e}));var t=this.getFieldDef();return this.model&&t&&this.model.hasOriginalDataChanged(["fieldValues"],e)||p.prototype.isDirtied.call(this)},onInit:function(e){this.inlineView=e.inlineView,p.prototype.onInit.call(this,e)},onBindEvents:function(){var e=this;this.model.on("change:fieldName",this.onFieldNameChange,this),this.model.on("change:isExpression",this.onIsExpressionChange,this),this.inlineView.on("cancel",this.onCancel,this),this.model.on("readOnlyChange",(function(t){e.fieldValueModel&&(e.fieldValueModel.trigger("readOnlyChange",t),e.fieldValueModel.readOnly=t)}))},onUnbindEvents:function(){this.model.off("change:fieldName",this.onFieldNameChange,this),this.model.off("change:isExpression",this.onIsExpressionChange,this),this.model.off("readOnlyChange"),this.inlineView.off("cancel",this.onCancel,this)},onCancel:function(){this.renderValueFormComponent()},onRendered:function(){for(var e=d.Deferred(),t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return p.prototype.onRendered.apply(this,i),this.renderValueFormComponent((function(){e.resolve()})),e.promise()},setFieldValueModel:function(e){var t=this.getEntDef(),i=t.model(),n=this.model.get("fieldName");this.fieldValueModel&&(this.fieldValueModel.off("change:".concat(n),this.onValueChange,this),this.fieldValueModel.destroy(),delete this.fieldValueModel);var a=s(s({},this.transformFieldValueDataFromDb()),{},{entityName:t.entity.name});this.fieldValueModel=new i(a,{entDef:t}),this.fieldValueModel.set("fieldValuesFormatted",e||this.getFormattedFieldValue(this.model.get(n))),this.fieldValueModel.on("change:".concat(n),this.onFieldValueModelFieldValueChange,this)},renderValueFormComponent:function(){var e,t,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.noop;this.formComponent&&(m.remove(this.formComponent),delete this.formComponent);var a,r=this.getFieldDef(),o=this.model.get("fieldName"),l=this.model.get("fieldValues");if(r||!o||c.isEmpty(l)){if(!r)return n()}else r={size:"medium",type:"textbox",field:o},a=this.model.get("fieldValuesFormatted");var d=f[null===(e=r)||void 0===e?void 0:e.type],u=null==d||null===(t=d.ui)||void 0===t?void 0:t.formComponent;if(!c.isFunction(u))return n();var p=u();this.setFieldValueModel(a),"picklist"!==r.type&&"picklist[]"!==r.type||(r=s(s({},r),{},{ignoreParents:!0})),"emailLookup[]"===r.type&&(r=s(s({},r),{},{disableLookup:!0})),this.formComponent=new p({model:this.fieldValueModel,fieldDef:r,caption:y.escapedTranslateKey({key:"fieldvalues",groupName:"sys/field_value_action",subgroupName:"fields"},{missingTranslationValue:""}),format:d.format,escape:d.escape,allowInactiveUsers:!0,fields:[{value:r}],hideSubText:this.hideSubText,hideHelpText:this.hideHelpText,renderAsFieldValueForm:!0,fieldComponentAsId:!1,excludeType:this.excludeType,filterFlag:this.filterFlag,excludedFields:this.excludedFields,excludedFieldsByEntityName:this.excludedFieldsByEntityName,searchableFields:!1,filter:null});var h=this.$(".set-field-value-container");this.addSubView(this.formComponent).render(h,(function(){var e=i.$('.control-label[data-field="'.concat(r.field,'"]'));v.makeFieldMandatory(e),i.registerValidationTooltips(r.field);var t=i.$(".field-icon-container, .readonly-field-icon-container");return w.apply(t,i,i.model),n()}))},_displayTooltips:function(e,t){var i=this;c.each(e,(function(e){var t;c.includes(null===(t=e.parambulator)||void 0===t?void 0:t.property,"fieldValues")&&e.parambulator.property.push(i.model.get("fieldName"))})),u.prototype._displayTooltips.call(this,e,t)},registerValidationTooltips:function(e){var t=this.$('.control-label[data-field="'.concat(e,'"]')).parent().children(".component-container");y.setupValidationTooltip(this,t,{title:y.translateKey({groupName:"validation",subgroupName:"tooltip",key:"required$"}),template:y.getTooltipTemplate({customClasses:"validation-tooltip"})})},transformFieldValueDataFromDb:function(){var e=this.getEntDef(),t=this.model.get("fieldName"),i=h.convertFilterFieldValuesFromDb(this.model.attributes,e),n=this.model.get("joinData");c.includes(this.model.get("fieldType"),"[]")||(i&&(i=a(i,1)[0]),n&&(n=a(n,1)[0]));var r=l(l({},t,i),"formattedValues",this.model.get("formattedValues"));return c.isArray(n)?c.each(n,(function(e){c.each(e,(function(e,i){var n="".concat(t,"__").concat(i);c.isArray(r[n])||(r[n]=[]),r[n].push(e)}))})):c.each(n,(function(e,i){r["".concat(t,"__").concat(i)]=e})),r},getFieldValueData:function(){var e=this.getFieldDef();return this.fieldValueModel&&e?this.transformData():{}},transformData:function(){var e,t=null===(e=this.getFieldDef())||void 0===e?void 0:e.type,i=this.model.get("fieldName"),n=this.fieldValueModel.get(i),a=this.fieldValueModel.get("fieldValuesFormatted");a=c.isArray(a)?a:[a];var r=this.transformFieldData(n);return c.isArray(r)||(r=[r]),{fieldValues:c.filter(r,(function(e){return!c.isNil(e)})),fieldValuesFormatted:c.filter(a,(function(e){return!c.isNil(e)})),fieldType:t}},transformFieldData:function(e){var t=e,i=this.getFieldDef(),n=c.get(i,"type"),a=f[n],r=c.get(a,"db.beforeSave");if(r){var o=r(null,e,{fieldDef:i});t=g.parseJSON(null,o)}return t},onSave:function(){this.model.set(this.getFieldValueData())},getEntDef:function(){var e=this.model.get("targetEntity"),t=y.getEntDef(e);if(t||this.model.isNew())return t;this.inlineView.parentModel.trigger("ent_def_not_found")},getFieldDef:function(){var e=this.model.get("fieldName"),t=this.getEntDef();if(e&&t){var i=t.fields();return c.find(i,{field:e})}},getFormattedFieldValue:function(e){var t=this.getFieldDef(),i=f[t.type],n=this.fieldValueModel.getContextForFormatting({fieldDef:t});return i.format?i.format(e,n):e},onIsExpressionChange:function(e,t){if(t&&this.fieldValueModel){var i=this.model.get("fieldName");this.fieldValueModel.unset(i)}},onFieldValueModelFieldValueChange:function(e,t){var i=this.getFormattedFieldValue(t);this.fieldValueModel.set("fieldValuesFormatted",i)},onFieldNameChange:function(e){e.isResetting||(this.model.set("fieldValues",[]),this.renderValueFormComponent())}})},546927:(e,t,i)=>{"use strict";i(16280);var n=i(348360),a=i(879176),r=i(325425);e.exports=r.extend({Model:i(658875),template:i(172330),onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.model)throw new Error("Model Required");this.attachmentId=e.attachmentId,this.gridConfig={enableDynamicColumns:!1,enableExport:!1,enableResetDefault:!1,enableDefaultConfiguration:!1,enableSearch:!0,multiSelect:!1,pagerEnabled:!0,disableTitle:!0}},onRendered:function(){this.gridView=new a({model:this.model,configName:"main-shared-link-receipt",collection:new n(null,{sharedLinkId:this.model.id,attachmentId:this.attachmentId}),enableEntityFilters:!1,enableDataFilters:!1,multiSelect:!1,condensedLayout:!0,pluginsOptions:[this.gridConfig]}),this.addSubView(this.gridView).render(this.$("#read-receipt-grid-container"))}})},942788:(e,t,i)=>{"use strict";i(16280),i(478350),i(730237),i(426099),i(533110);var n=i(274692),a=i(96190),r=i(402193),o=i(947432),s=i(325425),l=i(680553),d=i(896727),c=i(40785);e.exports=s.extend({formConfigName:"share-file",Model:i(658875),template:i(49857),features:{validation:!0},events:{"click #send":"onSendClickThrottled","change [name=standardResponse].loaded":"onStandardResponseChange","click .lookup-control > button":"partyLookupRendered"},onInit:function(e){if(!e)throw new Error("Options Required");if(e.fileModel&&(this.files=e.fileModel.get("files"),this.attachmentIds=[e.fileModel.id],this.model.set("caseId",e.fileModel.get("caseId"))),e.fileModels&&(this.files=a.flatMap(e.fileModels,(function(e){return e.get("files")})),this.attachmentIds=a.flatMap(e.fileModels,(function(e){return e.get("id")})),this.model.set("caseId",e.fileModels[0].get("caseId"))),!e.fileModel&&!e.fileModels)throw new Error("fileModel or fileModels Required");this.model.set("provideDownloadLink",!0),a.defaults(this,e)},locals:function(){return{multipleFiles:this.multipleFiles}},onRendered:function(){var e=this.$('input[name="expiryDate"]').data("datepicker"),t=new Date(o().add(1,"year"));e.setEndDate(t),this.model.on("party-lookup-removed",this.partyLookupRemoved.bind(this))},onSendClickThrottled:a.throttle((function(){var e=this,t=function(){return r.create(e.$("#send")[0]).stop()};if(!e.model.validate(e.model.attributes)){var i={caseId:e.model.get("caseId"),recipients:JSON.stringify(e.model.get("sharedWith")),subject:e.model.get("subject"),message:e.model.get("message"),attachmentIds:JSON.stringify(this.attachmentIds),expiryDate:e.model.get("expiryDate")};r.create(e.$("#send")[0]).start(),e.model.save({caseId:e.model.get("caseId"),status:"Active",filesShared:this.files},{success:function(a){i.sharedLinkId=a.id,n.ajax({type:"POST",url:"".concat($appData.globalConfig.apiRoot,"/share_file"),data:i,success:function(){d.info(c.translateKey({groupName:"fileSharing",subgroupName:"notification",key:"file_share_success"})),e.isCompleted=!0,l.remove(e)},error:t})},error:t})}}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRemove:function(){var e=this.isCompleted?"shared":"remove";this.fileModel&&this.fileModel.unlock(),this.trigger(e)},onStandardResponseChange:function(){var e=this.$('[name="standardResponse"] option:selected').data("picklistData"),t=e&&e.body||"";this.model.set("message",t)},setModalVisibility:function(e){e?this.$("#share-file-modal").show():this.$("#share-file-modal").hide()},partyLookupRendered:function(){this.setModalVisibility(!1)},partyLookupRemoved:function(){this.setModalVisibility(!0)}})},527909:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(947432),r=i(402193),o=i(348360),s=i(879176),l=i(325425),d=i(680553),c=i(896727),u=i(40785),p=i(344427);e.exports=l.extend({formConfigName:"shared-file-status",Model:i(658875),template:i(996916),features:{validation:!0},events:{"click #save":"onSaveClickThrottled","click #stop-sharing":"onStopSharingClick"},locals:function(){var e=l.prototype.locals.apply(this);return n.extend({},e,{model:this.model?this.model.attributes:{},formattedData:this.model.getFormattedData(),statusCancelled:"Cancelled"===this.fileStatus})},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.model)throw new Error("Model Required");this.fileStatus=e.model.attributes.status,this.gridConfig={enableDynamicColumns:!1,enableExport:!1,enableResetDefault:!1,enableDefaultConfiguration:!1,enableSearch:!0,multiSelect:!1,pagerEnabled:!0,disableTitle:!0}},onRendered:function(){var e=this.$('input[name="expiryDate"]').data("datepicker"),t=new Date(a(this.model.get("createdDate")).add(1,"year"));e.setEndDate(t),this.gridView=new s({configName:"main-shared-link-receipt",model:this.model,collection:new o(null,{sharedLinkId:this.model.id}),condensedLayout:!0,enableEntityFilters:!1,enableDataFilters:!1,multiSelect:!1,pluginsOptions:[this.gridConfig]}),this.addSubView(this.gridView).render(this.$("#shared-link-access-container"))},_closeView:function(){d.remove(this)},onSaveClickThrottled:n.throttle((function(){var e=this;e.model.validate(e.model.attributes)||(r.create(e.$("#save")[0]).start(),e.model.save({},{success:function(){c.info(u.translateKey({groupName:"fileSharing",subgroupName:"action",key:"shared_link_updated"})),e._closeView()},error:function(){r.create(e.$("#save")[0]).stop()}}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onStopSharingClick:function(){var e=this;e.model.validate(e.model.attributes)||p.display(u.translateKey({groupName:"fileSharing",subgroupName:"general",key:"confirm_stop_sharing"}),{type:"confirm",title:u.translateKey({groupName:"fileSharing",subgroupName:"general",key:"confirm_stop_sharing_title"}),callback:function(t){t&&e.model.save({status:"Cancelled"},{success:function(){c.info(u.translateKey({groupName:"fileSharing",subgroupName:"action",key:"shared_link_terminated"})),e._closeView()}})}})},onRemove:function(){this.trigger("updated")}})},322946:(e,t,i)=>{"use strict";i(16280);var n=i(325425),a=i(738105);i(201835),e.exports=n.extend({template:i(515331),currentStep:0,onInit:function(e){this.sharedLinkAccessId=e.id,this.fileCount=e.res.fileCount},onRendered:function(){this.renderCurrentStep({sharedLinkAccessId:this.sharedLinkAccessId,fileCount:this.fileCount})},renderCurrentStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a[this.currentStep])throw new Error("No next step found");var t=new(0,a[this.currentStep].View)({model:this.model,params:e,renderNextStep:this.renderNextStep.bind(this)});this.$("#content-container").empty(),this.addSubView(t).render(this.$("#content-container"))},renderNextStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currentStep++,this.renderCurrentStep(e)}})},896380:(e,t,i)=>{"use strict";var n=i(325425),a=i(40785);e.exports=n.extend({formConfigName:"shared-link-details",Model:i(865742),template:i(392545),features:{mandatoryFields:!1,dependantMandatoryFields:!1},onInit:function(e){this.setReadOnly(!0),this.model.set(e.params)},locals:function(){var e=(this.model.get("sharedLinkId__filesShared")||[]).length>1?"shared_link_details_header_plural":"shared_link_details_header";return{shared_link_details_header:a.translateKey({groupName:"fileSharing",subgroupName:"general",key:e},!1,{systemName:$appData.globalConfig.systemName})}}})},264477:(e,t,i)=>{"use strict";var n=i(96190),a=i(325425),r=i(40785);e.exports=a.extend({template:i(327848),onInit:function(e){n.defaults(this,e)},locals:function(){var e=a.prototype.locals.call(this);return n.assign({disclaimer_title:r.translateKey({groupName:"fileSharing",subgroupName:"general",key:"shared_link_disclaimer_title"},!1,{systemName:$appData.globalConfig.systemName}),disclaimer:r.translateKey({groupName:"fileSharing",subgroupName:"general",key:"shared_link_disclaimer"},!1,{systemName:$appData.globalConfig.systemName})},e)},events:{"click #next":"onNextClickThrottled","change #disclaimer-checkbox":"checkboxClicked"},checkboxClicked:function(e){var t=n.get(e,"currentTarget.checked",!1);this.$("#next").attr("disabled",!t)},onNextClickThrottled:n.throttle((function(){this.$("#disclaimer-checkbox").is(":checked")&&this.renderNextStep(this.params)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRendered:function(){this.checkboxClicked()}})},824788:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(919941),onInit:function(e){this.errorMessage=e&&e.errorMessage},locals:function(){return{errorMessage:this.errorMessage}}})},387236:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(325425),o=i(40785),s=i(896727);e.exports=r.extend({template:i(478609),events:{"click #login":"onLoginClickThrottled","keydown #verification-code":"onKeyboardNavigation"},onInit:function(e){a.defaults(this,e)},locals:function(){var e=this.params.fileCount>1?"view_shared_link_verification_code_prompt_plural":"view_shared_link_verification_code_prompt";return{view_shared_link_verification_code_prompt:o.translateKey({groupName:"fileSharing",subgroupName:"general",key:e},!1,{systemName:$appData.globalConfig.systemName})}},onLoginClickThrottled:a.throttle((function(){var e=this,t=this.$("#verification-code").val();return t?n.ajax({method:"POST",url:"".concat($appData.globalConfig.apiRoot,"/share_file_authentication"),data:{id:this.params.sharedLinkAccessId,verificationCode:t},success:function(t){return e.renderNextStep(t)},error:function(){e.$("#verification-code").val("")}}):s.error(o.translateKey({groupName:"fileSharing",subgroupName:"error",key:"missing_verification_code"}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onKeyboardNavigation:function(e){"Enter"===e.key&&this.onLoginClickThrottled()}})},571199:e=>{"use strict";e.exports={isSharedLinkEnabled:function(){return $appData.guestEnabled&&$appData.allowExternalFileSharing||!1}}},314357:(e,t,i)=>{"use strict";var n=i(96190),a=i(680553),r=i(325425);e.exports=r.extend({template:i(640978),className:"similar-search-preview-modal-tmpl readonly",features:{externalFieldIcon:!1},onInit:function(e){var t=this.model.getEntityDefinition();this.model.readOnly=!0,this.formConfigName=t.similarSearchConfig.formConfigName},events:{"click #autofill":"onAutofillClick","click #cancel":"onCancelClick"},locals:function(){for(var e=this.model.getEntityDefinition().similarSearchConfig.titleField,t=this.model.get(e),i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=r.prototype.locals.apply(this,a);return n.extend(s,{titleFieldValue:t})},onRemove:function(){this.triggerEvent=this.triggerEvent||"cancel",this.trigger(this.triggerEvent)},closeView:function(){a.remove(this)},onAutofillClick:function(){this.triggerEvent="autofillFields",this.closeView()},onCancelClick:function(){this.triggerEvent="cancel",this.closeView()}})},403297:(e,t,i)=>{"use strict";var n=i(274692),a=i(96190),r=i(521239),o=i(325425),s=i(40785),l=i(314357);i(273095),i(82465),e.exports=o.extend({className:"similar-search-results-expanded",template:i(963338),onInit:function(e){this.model=e.model,this.collection=e.collection,this.onRowClickFn=e.onRowClick,this.successFn=e.successFn||a.noop;var t=e.Collection;this.currentResults=new t,this.validationTooltipOpts={container:this.$el}},onBindEvents:function(){this.collection.on("reset",this.onCollectionReset,this)},onUnbindEvents:function(){this.collection.off("reset",this.onCollectionReset,this)},onRendered:function(){this.renderGrid()},locals:function(){for(var e=this.model.getEntityDefinition(),t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=o.prototype.locals.call(this,i);return a.extend(r,{title:s.translateKey({groupName:e.entityCanon,subgroupName:"general",key:"similar"})})},autofillFields:function(e){var t=e.getAutofillExcludeFields(),i=a.omit(e.attributes,t);this.model.set(i),this.rightSidebarView&&this.rightSidebarView.collapse()},openRecordInNewTab:function(e){var t=s._getEntityNavigationRoute(e);window.open(t,"_blank")},onRowClick:function(e){var t=this,i=new l({model:e});i.on("autofillFields",(function(){t.autofillFields(e)})),this.addSubView(i).renderAsModal()},renderGrid:function(){var e=this,t=this.model.getEntityDefinition();this.gridView=new r({striped:!0,hover:!0,bordered:!1,applyUserRowCount:!0,multiSelect:!1,tableCaption:s.translateKey({groupName:t.entityCanon,subgroupName:"general",key:"similar"}),rowTemplateType:"similarSearch",onRowClicked:this.onRowClick.bind(this),rowActions:this.getRowActions(),rowActionTarget:".row-actions",enablePager:!0,collection:this.collection,enableDynamicColumns:!1,fetchCollectionFn:function(){e.collection.fetch({reset:!0,success:e.successFn})},onQueryChange:a.noop,formModel:this.model,headerEnabled:!1});var i=this.$(".body");return!!this.gridView&&this.addSubView(this.gridView).render(i)},getRowActions:function(){var e=this;return[{caption:s.translateKey({groupName:"search",subgroupName:"similar",key:"autofill"}),icon:"fa-files-o",onClick:function(t,i){e.autofillFields(t[0]),i()}},{caption:s.translateKey("preview"),icon:"fa-eye",onClick:function(t,i){var n=a.once(i),r=new l({model:t[0]});r.on("autofillFields",(function(){e.autofillFields(t[0]),n()})),r.on("cancel",a.partial(n,null,!0)),this.addSubView(r).renderAsModal()}},{caption:s.translateKey("external_link"),icon:"fa-external-link",onClick:function(t,i){e.openRecordInNewTab(t[0]),i()}}]},onCollectionReset:function(){var e=this;this.rendering||(this.rendering=!0,this.gridView.onCollectionUpdate((function(){var t=s.translateKey("matches_found_sub_title",{context:{numberRecords:e.collection.total}});n(".records-found").html(t),e.rendering=!1})))}})},479850:(e,t,i)=>{"use strict";i(962062),i(426099),i(938781);var n=i(274692),a=i(96190),r=i(584512),o=i(680553),s=i(40785);e.exports=r.extend({className:"similar-search-results-minimized",template:i(372141),onInit:function(e){r.prototype.onInit.call(this),this.model=e.model,this.collection=e.collection,this.successFn=e.successFn||a.noop;var t=e.Collection;this.currentResults=new t},onBindEvents:function(){this.parentView=o.getParentView(this),this.collection.on("reset",this.onCollectionReset,this),this.$("#similar-search-badge").on("animationend.bulgeFinished",this.onAnimationEnd),this.rightSidebarView&&this.rightSidebarView.on("expand",this.onAnimationEnd)},onUnbindEvents:function(){this.collection.off("reset",this.onCollectionReset,this),this.$("#similar-search-badge").off("animationend.bulgeFinished",this.onAnimationEnd),this.rightSidebarView&&this.rightSidebarView.off("expand",this.onAnimationEnd)},onRendered:function(){setTimeout((function(){n(".minimized-sidebar-icon").tooltip({container:n("#right-sidebar .collapsed-content"),placement:"auto left",title:s.translateKey({groupName:"search",subgroupName:"similar",key:"new_results"}),trigger:"manual"})}),1e3)},onCollectionReset:function(){if(!this.rendering){this.rendering=!0;var e=this.collection.map("id"),t=this.currentResults.map("id");if(!a.isEmpty(a.difference(e,t))||!a.isEmpty(a.difference(t,e))){this.currentResults.reset(this.collection.models);var i=this.collection.total>99?"99+":this.collection.total.toString();n("#similar-search-badge").html(i),this.onNewResults()}this.rendering=!1}},onNewResults:function(){var e;null!==(e=this.rightSidebarView)&&void 0!==e&&e.isCollapsed()&&(n("#similar-search-badge").addClass("bulge"),this.currentResults.isEmpty()||n(".minimized-sidebar-icon").tooltip("show"))},onAnimationEnd:function(){n("#similar-search-badge").removeClass("bulge"),n(".minimized-sidebar-icon").tooltip("hide")}})},536781:(e,t,i)=>{"use strict";i(428706),i(944114),i(250113),i(426099);var n=i(96190),a=i(274692),r=i(610421),o=i(267062),s=i(879176),l=i(503363),d=i(161199),c=i(383645),u=i(789694),p=i(915883),f=i(870182),h=i(40785),m=i(93216),g=i(896727),y=i(446322),v=i(185999),b=i(45701),w=h.getPicklistsConfig();e.exports=o.extend({urlRoot:"/to-do",Model:l,formConfigName:"todo-details",features:{workflowFlags:!0},template:function(){return this.model.isNew()?i(875634):i(72e3)},caption:function(){return"".concat(h.translateKey("todo")," ").concat(this.model.get("number"))},crumbs:function(){var e=[];return e.push({title:h.translateKey("case"),url:"/cases"}),this.model.get("caseId")?(e.push({title:this.model.get("caseId__caseNumber"),url:"/case/".concat(this.model.get("caseId"))}),e.push({title:h.translateKey("activity"),url:"/case/".concat(this.model.get("caseId"),"/activity")}),e.push({title:h.translateKey("todo"),url:"/case/".concat(this.model.get("caseId"),"/activity/to-dos")})):e.push({title:h.translateKey("todo"),url:"/to-dos"}),this.model.isNew()||!this.model.isActive()?e.push({title:h.translateKey("new")}):e.push({title:this.model.get("number")}),e},events:{"click #mark-as-complete":"onMarkAsCompleteClick","click #reassign":"onReassignClick","click #record-source-view":"onRecordSourceViewClicked"},rules:{canRemoveComment:function(){return m.hasRole("remove_comment")&&this.model.rules.canEditThisTodo.call(this.model)&&!this.model.rules.disableForClosedCase.call(this.model)},canCreateComment:function(){return m.hasRole("create_comment")&&this.model.rules.canEditThisTodo.call(this.model)&&!this.model.rules.disableForClosedCase.call(this.model)},enabledRecordSource:function(){return b.isEnabled("recordSourceView")&&m.hasRole("view_source_data")}},updateStatus:function(e){var t=this;this.model.save({status:e},{wait:!0,success:function(){"closed"===e&&g.info(g.getCrudMessage(t.model,"completed")),t.setReadOnly(!0),"accepted"===e?t.updateUrl():t.navigateByHistoryPattern({disableAllDirtyForms:!0})}})},onMarkAsCompleteClick:function(){this.updateStatus("closed")},onReassignClick:function(){this.addSubView(new p({todoModel:this.model})).renderAsModal()},onSaveClickThrottled:n.throttle((function(e){var t=this,i="save-and-copy"===e.currentTarget.id,n=this.model.isNew(),a=this.model.isActive();this.model.isNew()?this.isSafeToLeaveDirtyInlines()&&this.model.save({sysSubmitted:!0},{success:function(e){i?t.onSaveAndCopy(e):n||!a?t.navigateByHistoryPattern({disableAllDirtyForms:!0}):(t.setReadOnly(!0),t.updateUrl()),g.info(g.getCrudMessage(t.model,"created"))}}):o.prototype.onSaveClickThrottled.call(this,e)}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onRecordSourceViewClicked:function(){this.recordSourceModalView=new f({model:this.model}),this.addSubView(this.recordSourceModalView).renderAsModal()},onAddFileClick:function(){var e=this,t={},i=function(t){e.updateUrl(),e.disableDirtyFormHandling(),h.navigateTo("/to-do/".concat(t.id,"/file/new"))};!0!==this.model.get("sysSubmitted")&&(t.sysSubmitted=!1),this.isReadOnly()?i(this.model):e.model.save(t,{success:function(e){i(e)}})},_addCommentsSection:function(){var e=[],t=this.model.rules.isMarkedOrPurged.call(this.model);if(m.hasRole("view_comment")&&(this.commentsGrid=new s({title:h.translateKey({groupName:"sys/comment",subgroupName:"general",key:"namePlural"}),configName:"todo-comments",enableEntityFilters:!1,condensedLayout:!0,collection:new d(null,{parentType:"todo",parentId:this.model.id,showInactiveRecords:!0}),pluginsOptions:[{enableBatchExport:!0,enableBatchDelete:this.rules.canRemoveComment.call(this),linearBatch:!0,enableDynamicColumns:!0,enableDragColumns:!0}]}),e.push(this.addSubView(this.commentsGrid).render(this.$("#comments-container")))),this.rules.canCreateComment.call(this)&&!t){var i=n.extend({parentType:"todo",parentId:this.model.id,caseId:this.model.get("caseId"),parentNumber:this.model.get("childNumber")},this.model.pickJoinData({attribute:"caseId"}));e.push(this.addSubView(new c({data:i,commentsGrid:this.commentsGrid})).render(this.$("#new-comment-container")))}return a.when.apply(a,e).promise()},_addFilesSection:function(){var e=a.Deferred(),t=!!this.model.id,i=new s({model:this.model,title:h.translateKey({groupName:"sys/attachment",subgroupName:"general",key:"namePlural"}),configName:"todo-files",collection:new u(null,{parentId:this.model.id,showInactiveRecords:!0}),fetchOnRender:!this.model.isNew(),enableEntityFilters:!1,enableDataFilters:!1,condensedLayout:!0,alwaysOnFilters:t?null:[v.impossibleTerm()],buttons:[{caption:h.translateKey({groupName:"sys/attachment",subgroupName:"actions",key:"add"}),onClicked:this.onAddFileClick.bind(this),displayRule:"canUploadFile",dataDisableRule:"disableForClosedCase"}],pluginsOptions:[{enableDynamicColumns:!0,enableDragColumns:!0,enableExternalRowActions:this.model.showExternalGridActions(),enableBatchExternal:this.model.showExternalGridActions(),onRowClicked:function(e){h.navigateToUrlByModelType(e)},rowActions:y.getRowActions.call(this)}]});return this.addSubView(i).render(this.$("#files-container")).then((function(){return e.resolve()})),e.promise()},onRendered:function(){o.prototype.onRendered.call(this);var e=[];r.readOnlyFields(this.$("#form-placeholder"),this.model);var t=this.model.rules.isPurged.call(this.model);this.model.isNew()||!this.model.isActive()||t||e.push(this._addCommentsSection()),m.hasRole("view_attachment")&&e.push(this._addFilesSection());var i=w.todo_types.id,s=$appData.picklists.data[i];if(s&&!this._isCopyOfSaved){var l="Task",d=n.find(s,{value:l},!1);this.model.isNew()&&d&&this.model.set("todoType",l)}return a.when.apply(a,e).promise()}})},536123:(e,t,i)=>{"use strict";i(428706);var n=i(96190),a=i(333745),r=i(93216),o=i(896727),s=i(879176),l=i(161199),d=i(740421),c=i(536781),u=i(40785);e.exports=a.extend({template:i(915190),formConfigName:"todo-event",readOnly:!r.hasRole("edit_todo"),events:{"click #save":"onSaveClickThrottled","click #mark-as-complete":"onMarkAsCompleteClick"},rules:n.assign({},a.prototype.rules,c.prototype.rules,{isReadOnly:function(){return this.readOnly},canDeleteThisTodo:function(){return this.model.rules.canEditThisTodo.call(this.model)},canEditThisTodo:function(){return this.model.rules.canEditThisTodo.call(this.model)&&!this.model.rules.disableForClosedCase.call(this.model)}}),onInit:function(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=a.prototype.onInit).call.apply(e,[this].concat(i)),this.readOnly=this.readOnly||!this.model.rules.canEditThisTodo.call(this.model)||"closed"===this.model.get("status")},onRendered:function(){for(var e,t=this,i=this.model.rules.isPurged.call(this.model),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=a.prototype.onRendered).call.apply(e,[this].concat(r)).then((function(){t.model.isNew()||!t.model.isActive()||i||t._addCommentsSection()}))},onSaveClickThrottled:function(e){this.$(e.currentTarget).ladda({model:this.model,action:"save"}),n.throttle(this.save.bind(this),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1})()},onMarkAsCompleteClick:function(e){this.$(e.currentTarget).ladda({model:this.model,action:"save"});var t=this;this.model.save({status:"closed"},{success:function(){o.info(o.getCrudMessage(t.model,"completed")),t.closeView(),t.onSave()}})},_addCommentsSection:function(){var e=this.model.rules.isMarkedOrPurged.call(this.model);if(r.hasRole("view_comment")&&(this.commentsGrid=new s({configName:"todo-comments",title:u.translateKey({groupName:"sys/comment",subgroupName:"general",key:"namePlural"}),fetchOnRender:!0,enableEntityFilters:!1,condensedLayout:!0,collection:new l(null,{parentType:"todo",parentId:this.model.id,showInactiveRecords:!0}),pluginsOptions:[{enableDynamicColumns:!0,enableBatchExport:!0,enableBatchDelete:this.rules.canRemoveComment.call(this),linearBatch:!0}]}),this.addSubView(this.commentsGrid).render(this.$("#comments-container"))),this.rules.canCreateComment.call(this)&&!e){var t=n.extend({parentType:"todo",parentId:this.model.id,caseId:this.model.get("caseId"),parentNumber:this.model.get("childNumber")},this.model.pickJoinData({attribute:"caseId"}));this.addSubView(new d({data:t,commentsGrid:this.commentsGrid})).render(this.$("#new-comment-container"))}}})},915883:(e,t,i)=>{"use strict";i(250113),i(426099);var n=i(96190),a=i(858612),r=i(40785),o=i(896727),s=i(325425),l=i(610421),d=i(680553),c=i(503363);e.exports=s.extend({className:"todo-reassign-tmpl",formConfigName:"todo-reassign",template:i(906302),features:{validation:!0},onInit:function(e){this.todoModel=e.todoModel;var t=this._getValidationRules(),i=a(t,$appData.validation.prefs),n=c.extend({validator:i});this.model=new n(this.todoModel.attributes)},events:{"click #save":"onSaveClickThrottled","click #cancel":"onCancelClick"},onRendered:function(){l.ladda(this.$el,this.todoModel)},onSaveClickThrottled:n.throttle((function(){var e=this,t=this.$el.find(".ladda-button");this.model.validate(this.model.attributes)||(t.ladda({model:this.todoModel,action:"save"}),this.todoModel.save(this.model.attributes,{success:function(){o.info(o.getCrudMessage(e.todoModel,"reassigned")),e._closeView()}}))}),$appData.globalConfig.buttonClickEventsThrottle,{trailing:!1}),onCancelClick:function(){this._closeView()},_closeView:function(){this.callbackUrl?r.navigateTo(this.callbackUrl):d.remove(this)},_getValidationRules:function(){return{mandatory$:["responsible"]}}})},497792:(e,t,i)=>{"use strict";var n=i(274692),a=i(325425),r=i(87428);e.exports=a.extend({template:i(460741),className:"workflow-timeline-actions-tmpl",leftClass:"left",locals:function(){return{hasTransitions:this.transitions.length>0,connectToPrevious:this.connectToPrevious}},onInit:function(e){var t=e.transitions,i=e.connectToPrevious,n=void 0!==i&&i;this.transitions=t,this.connectToPrevious=n},onRendered:function(){var e=n.Deferred();return this.$dropdownContainer=this.$(".dropdown-container"),this.renderTransitionsListView((function(){return e.resolve()})),e.promise()},onBindEvents:function(){this.actionsDropdownOnShown=this.onDropdownShown.bind(this),this.actionsDropdownOnHidden=this.onDropdownHidden.bind(this),this.$el.on("shown.bs.dropdown",this.actionsDropdownOnShown),this.$el.on("hidden.bs.dropdown",this.actionsDropdownOnHidden)},onUnbindEvents:function(){this.$el.off("shown.bs.dropdown",this.actionsDropdownOnShown),this.$el.off("hidden.bs.dropdown",this.actionsDropdownOnHidden)},onDropdownShown:function(){this.$dropdownContainer[0].getBoundingClientRect().right-n(window).width()>0&&this.$dropdownContainer.addClass(this.leftClass)},onDropdownHidden:function(){this.$dropdownContainer.hasClass(this.leftClass)&&this.$dropdownContainer.removeClass(this.leftClass)},renderTransitionsListView:function(e){var t=new r({model:this.model,transitions:this.transitions,hideWorkflow:!0});this.addSubView(t).render(this.$(".workflow-timeline-transitions")).done(e)}})},998081:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(426099),i(802259),i(123792),i(747764),i(962953),i(523418),i(938781),i(962010),i(327495),i(690906),i(16280),i(134782),i(428706);var a,r=i(274692),o=i(96190),s=i(122268),l=i(325425),d=i(261901),c=i(421042),u=i(497792),p=i(233612),f=i(40785);e.exports=l.extend({template:i(137396),className:"workflow-timeline-row-tmpl",events:{"click .overflow-btn":"onOverflowButtonClick"},onInit:function(e){var t=e.transitions,i=e.timelineRowData,a=i.workflowName,r=i.workflowId,o=i.total,s=i.timeline,l=void 0===s?[]:s,d=e.workflowHistoryUrl;if(!d)throw new Error("workflowHistoryUrl required");this.transitions=t,this.workflowName=a,this.workflowId=r,this.transitionHistoryCount=o,this.timeline=l,this.workflowHistoryUrl=d,this.currentStateData=this.timeline[this.timeline.length-1];var c,u=function(e){if(Array.isArray(e))return e}(c=this.timeline)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();this.defaultStateData=u[0],this.transitionedStateData=u.slice(1)},locals:function(){var e=l.prototype.locals.call(this);return e.overflowContent=f.translateKey("workflow_history_overflow"),e},onRendered:function(){var e=this,t=r.Deferred();return s.series([function(t){return e.renderSummary(t)},function(t){return e.renderDefaultState(t)},function(t){return e.renderActions(t)},function(t){return e.renderTransitionedStates(t)}],(function(){return t.resolve()})),t.promise()},onBindEvents:function(){a=o.debounce(this.onWindowResize,300).bind(this),r(window).on("resize",a)},onUnbindEvents:function(){r(window).off("resize",a),a=null},renderSummary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,t=new d({model:this.model,currentStateData:this.currentStateData,workflowName:this.workflowName});this.addSubView(t).render(this.$(".summary-container")).done(e)},renderDefaultState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,t=new c({model:this.model,stateData:this.defaultStateData,isDefault:!0,highlightPrimaryState:1===this.timeline.length});this.addSubView(t).render(this.$(".default-state-container")).done(e)},renderTransitionedStates:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop;if(this.transitionedStatesToRender=this.getTransitionedStatesToRender(),o.isEmpty(this.transitionedStatesToRender))return t();s.eachOfSeries(this.transitionedStatesToRender,(function(t,i,n){var a=0===i,r=i===e.transitionedStatesToRender.length-1,o=new c({model:e.model,stateData:t,isDefault:!1,connectToPrevious:!a||!e.isCondensed(),highlightPrimaryState:r});e.addSubView(o).render(e.$(".transitioned-states-container")).done(n)}),(function(){return e.updateCondensedClass(),t()}))},renderActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.noop,t=new u({model:this.model,transitions:this.transitions,connectToPrevious:!0});this.addSubView(t).render(this.$(".actions-container")).done(e)},onWindowResize:function(){var e=this.hasRenderedSubset();(this.isClipped()||e)&&(this.$(".transitioned-states-container").empty(),this.renderTransitionedStates())},onOverflowButtonClick:function(){var e=p.injectModelIntoUrl(this.workflowHistoryUrl,this.model);f.navigateTo("".concat(e,"/").concat(this.workflowId))},getTransitionedStatesToRender:function(){var e=this.$(".default-state-container")[0].getBoundingClientRect().width,t=this.$(".actions-container")[0].getBoundingClientRect().width,i=this.$el.parent(".timeline")[0];if(!i)return[];var n=i.getBoundingClientRect().right-this.$(".transitioned-states-container")[0].getBoundingClientRect().left-t,a=Math.floor(n/e);return this.transitionedStateData.length>a?this.transitionedStateData.slice(this.transitionedStateData.length-a):this.transitionedStateData},isClipped:function(){var e=this.$el[0];return e.scrollWidth>e.clientWidth},hasRenderedSubset:function(){return this.transitionedStatesToRender.length<this.transitionedStateData.length},isCondensed:function(){var e=this.transitionHistoryCount>this.timeline.length,t=this.hasRenderedSubset();return e||t},updateCondensedClass:function(){var e="condensed";this.isCondensed()?this.$el.addClass(e):this.$el.removeClass(e)}})},421042:(e,t,i)=>{"use strict";var n=i(96190),a=i(947432),r=i(315600),o=i(325425),s=i(40785);i(918425),e.exports=o.extend({template:i(594007),className:"workflow-timeline-state-tmpl",events:{"click .timeline-state-container":"togglePopover","keyup .timeline-state-container":"togglePopover"},locals:function(){return{stateData:this.stateData,icon:this.getIconClass(),connectToPrevious:this.connectToPrevious,highlightPrimaryState:this.highlightPrimaryState,popoverTitle:n.escape(this.stateData.stateToName),popoverContentData:this.getPopoverContentData()}},onInit:function(e){var t=e.stateData,i=e.isDefault,n=void 0!==i&&i,a=e.connectToPrevious,r=void 0!==a&&a,o=e.highlightPrimaryState,s=void 0!==o&&o;this.stateData=t,this.isDefault=n,this.connectToPrevious=r,this.highlightPrimaryState=s,this.reopened="Closed"===this.stateData.stateFromPrimaryState&&"Open"===this.stateData.stateToPrimaryState},onRendered:function(){r(this.$(".state-name")[0],{clamp:2})},onBindEvents:function(){this.statePopoverOnInserted=this.onPopoverInserted.bind(this),this.$el.on("inserted.bs.popover",this.statePopoverOnInserted)},onUnbindEvents:function(){this.$el.off("inserted.bs.popover",this.statePopoverOnInserted)},getIconClass:function(){return this.isDefault?"fa-circle":this.reopened?"fa-rotate-left":"fa-check"},getPopoverContentData:function(){var e,t,i,r,o=this.stateData,l=o.stateToDescription,d=o.dateOfTransition;if(this.isDefault){var c=this.model.getFormattedData({escape:!0});t=s.translateKey("created"),i=n.get(c,"createdBy"),r=n.get(c,"createdDate")}else e=this.stateData.transitionReason,t=s.translateKey("updated"),i=this.stateData.userName,r=a(d).format($appData.dateTimeFormat);return{reason:e,action:t,transitionedBy:i,transitionDate:r,description:l}},togglePopover:function(e){s.togglePopover.call(this,e)},onPopoverInserted:function(){var e=this.$(".popover .state-description")[0];e&&r(e,{clamp:2});var t=this.$(".popover .transition-reason")[0];t&&r(t,{clamp:1})}})},261901:(e,t,i)=>{"use strict";var n=i(325425);e.exports=n.extend({template:i(760236),className:"workflow-timeline-summary-tmpl",locals:function(){return{workflowName:this.workflowName,currentStateData:this.currentStateData}},onInit:function(e){var t=e.currentStateData,i=e.workflowName;this.currentStateData=t,this.workflowName=i}})},581258:(e,t,i)=>{"use strict";i(250113),i(426099),i(202008);var n=i(96190),a=i(274692),r=i(122268),o=i(325425),s=i(998081),l=i(450048),d=i(40785);e.exports=o.extend({template:i(399555),className:"workflow-timeline-tmpl",events:{"click .collapse-control":"toggleCollapse"},locals:function(){return{showBottomDivider:this.showBottomDivider}},onInit:function(e){var t=e.transitions,i=e.timelineData,n=e.collapsible,a=void 0===n||n,r=e.expandedByDefault,o=void 0===r||r,s=e.showBottomDivider,l=void 0===s||s;this.transitions=t,this.timelineData=i,this.collapsible=a,this.expandedByDefault=o,this.showBottomDivider=this.collapsible||l},onRendered:function(){var e=this,t=a.Deferred();return this.timelineData?(this.collapsedClass="collapsed",this.hiddenClass="hidden",this.$timeline=this.$(".timeline"),this.$collapseControl=this.$(".collapse-control"),this.collapsible&&(this.expandedByDefault?this.expand():this.collapse(),this.$collapseControl.css("display","flex")),this.showBottomDivider||this.$el.find(".divider").hide(),0===this.timelineData.length?this.$el.addClass(this.hiddenClass):this.$el.removeClass(this.hiddenClass),r.eachSeries(this.timelineData,(function(t,i){return t.isNew?i():e.renderTimelineRow(t,i)}),(function(){return t.resolve()}))):this.setLoading(!0,(function(){return t.resolve()})),t.promise()},renderTimelineRow:function(e,t){var i=e.workflowId,a=new s({model:this.model,transitions:n.filter(this.transitions,{workflowId:i}),timelineRowData:e,workflowHistoryUrl:this.model.getEntityDefinition().workflowHistoryUrl});this.addSubView(a).render(this.$timeline).done(t)},toggleCollapse:function(){this.$el.hasClass(this.collapsedClass)?this.expand():this.collapse()},expand:function(){this.$el.removeClass(this.collapsedClass),this.$collapseControl.attr("aria-label",d.translateKey("minimize"))},collapse:function(){this.$el.addClass(this.collapsedClass),this.$collapseControl.attr("aria-label",d.translateKey("expand"))},setLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop,i="loading";e?(this.$el.addClass(i),this.loader=new l({showOnStart:!0,position:"left",delay:0}),this.addSubView(this.loader).render(this.$(".loader-container")).done(t)):(this.$el.removeClass(i),t())},setData:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.noop;n.assign(this,e),this.render().done((function(){t.setLoading(!1),i()}))}})},289693:e=>{"use strict";e.exports={recordDateFormat:"YYYY-MM-DD",recordDateRegex:/\d{4}-\d{2}-\d{2}/,esDateFormat:"YYYY-MM-DD"}},766821:(e,t,i)=>{"use strict";i(327495),i(790744),i(426099),i(423500),i(874423),i(16280),i(725440),i(21699);var n=i(96190),a={convertToDatePickerFormat:function(e){var t=a.getDateFormat(e),i=n.split(t,/-|\//),r=["YYYY","MMM","MM","DD"];return n.forEach(i,(function(e){if(!r.includes(e))throw new Error("Unsupported token ".concat(e))})),n.chain(t).toLower().replace("mmm","M").value()},getDateFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.split(t)[0]},getTimeFormat:function(e){var t=e.replace(/[^HhmSskZz:]/g,"");return a.ensureTwoHourDigits(t)},is12HourFormat:function(e){var t=e.toLowerCase();return t.includes("h")&&t.includes("m")&&t.includes("a")},ensureTwoHourDigits:function(e){return e.replace(/(^|[^h])(h)([^h]|$)/i,"$1$2$2$3")}};e.exports=a},582944:(e,t,i)=>{"use strict";i(962010),i(16280),i(874423),i(21699),i(962062),i(202008),i(426099),i(699449);var n=i(96190),a=i(122268),r=i(154538),o=i(939994),s=i(348174);function l(e){var t=(e=e||{}).entityType;this._entDef=o.get(t)||s.get({entityName:t}),this._userEntDef=o.get("sys/user"),this._entity=e.entityData,this._user=e.user,this._entityDef={base:this._entDef.entity.base,name:this._entDef.entity.name},this._proceduresMapping=e.proceduresMapping,this._isFrontEnd=!0===e.isFrontend,this._featureFlags=e.featureFlags,this._decisionsCache={},this._fetchFields=!1===this._isFrontEnd}l.prototype._getEnabledFeatures=function(e){return this._isFrontEnd?e(null,this._featureFlags.getEnabledFeatures()):this._user?void i(535300).callbackify(this._featureFlags.getEnabledFeatures).bind(this._featureFlags)({user:this._user},e):e(new Error("user required"))},l.prototype._calculateDecisionOrReadCache=function(e,t){var i,o=this,s=this;if(this._decisionsCache[e])t(void 0,this._decisionsCache[e]);else{var l=r.getProcedureForEntity(s._proceduresMapping,s._entityDef,n.includes(["save_new","save_existing"],e)?"save":e);if(!l)return t(void 0,{authorize:!0});var d=(i=s._user)&&i.perm&&i.perm.roles?i.perm.roles:[];"save"===e&&(e="save_new"),a.waterfall([function(e){if(!o._fetchFields)return e();a.parallel([function(e){o._entDef.withSyncFields(e)},function(e){o._userEntDef.withSyncFields(e)}],n.ary(e,1))},function(e){o._getEnabledFeatures((function(t,i){if(t)return e(t);e(null,i)}))},function(t,i){var n={user:s._user,entDef:o._entDef,userEntDefFields:o._userEntDef.fields(),enabledFeatures:t};l.authorize(s._entity,e,d,n,(function(t,n){return t?i(t,void 0):(o._decisionsCache[e]=n,i(void 0,n))}))}],t)}},l.prototype.getFilters=function(e,t){this._calculateDecisionOrReadCache(e,(function(e,i){if(e)return t(e,void 0);var n={};if(i&&i.filters)for(var a=0;a<i.filters.length;a+=1){var r=i.filters[a];n[r.attribute]=r}t(void 0,n)}))},l.prototype.applyFilters=function(e,t){var i=this;this.getFilters(e,(function(e,a){if(e)return t(e);var r=n.chain(a).filter((function(e){return"denied"===e.access&&!n.endsWith(e.attribute,"$")})).map("attribute").uniq().value();return n.each(r,(function(e){delete i._entity[e]})),t(null,i._entity)}))},l.prototype.canDelete=function(e){this._calculateDecisionOrReadCache("remove",(function(t,i){if(t)return e(t,void 0);e(void 0,i.authorize)}))},l.prototype.canView=function(e){this._calculateDecisionOrReadCache("load",(function(t,i){if(t)return e(t,void 0);e(void 0,i.authorize)}))},l.prototype.canEdit=function(e,t){n.isFunction(e)&&(t=e,e="save_new"),this._calculateDecisionOrReadCache(e,(function(e,i){if(e)return t(e,void 0);t(void 0,i.authorize)}))},e.exports=l},800030:(e,t,i)=>{"use strict";i(962010),i(428706),i(426099),i(938781),i(874423),i(21699),i(327495),i(725440);var n=i(96190),a={toString:function(e){var t;return e&&e.name&&(t=e.name,t=e.base?"".concat(e.base,"/").concat(t):t,t=e.zone?"".concat(e.zone,"/").concat(t):t),t},getEntityNameAndBaseAsCanon:function(e,t){return e&&t?"".concat(e,"/").concat(t):null},getEntityName:function(e){if(!e)return null;var t=a.getEntityCanon(e);return t?t.substr(t.lastIndexOf("/")+1):null},getEntityCanon:function(e){if(!e)return null;var t=null;return n.isPlainObject(e)?t=a.toString(e):n.isString(e)&&e.includes("/")?t=0===e.indexOf("-/")?e.substring(2):e:n.isString(e)&&e.includes("_")&&(t=e.replace("_","/")),t},getEntityTable:function(e){if(!e)return null;var t;if(n.isPlainObject(e)){var i=n.snakeCase(e.base),r=n.snakeCase(e.name);t=a.toString({base:i,name:r}).replace("/","_")}else n.isString(e)&&e.includes("/")?t=e.replace(/^.+?\/(.+?)\/(.+?)/,"$1/$2").replace("/","_"):n.isString(e)&&e.includes("_")&&(t=e);return t?n.snakeCase(t):null},getEntityFromCanon:function(e){var t=/(([^/]*)\/)?([^/]*)\/(.*)/g.exec(e),i={zone:t[2],base:t[3],name:t[4]};return"-"!==i.zone&&i.zone||delete i.zone,i}};e.exports=a},823936:(e,t,i)=>{"use strict";var n=i(474958),a=i(302768),r=i(69267),o=i(565280),s=i(757087),l=i(155842),d=i(282048),c=i(871312),u=i(818077),p=i(705426),f=i(647252),h=i(415018),m=i(956610),g=i(614656),y=i(393445),v=i(740227),b=i(96684);e.exports=function(e,t,i){var w={entities:e,dynamicEntities:t};return{rules:{mandatory$:function(e,t){r(w,e,t)},dependentMandatory$:function(e,t){o(w,e,t)},uiRequiredIfSelectable$:function(e,t){t()},maxLength$:function(e,t){l(e,"maximum",t)},minLength$:function(e,t){l(e,"minimum",t)},dependentMaxLength$:function(e,t){s(w,e,"maximum",t)},dependentMinLength$:function(e,t){s(w,e,"minimum",t)},dependentPattern$:function(e,t){a(w,e,t)},pattern$:function(e,t){n(w,e,t)},timeFormat$:function(e,t){d(w,e,t)},email$:function(e,t){c(w,e,t)},dateRange$:function(e,t){u(w,e,t)},invalidTemplate$:function(e,t){p(w,e,t)},phoneNumber$:function(e,t){f(w,e,t)},dependentPhoneNumber$:function(e,t){h(w,e,t)},numberRange$:function(e,t){m(w,e,t)},postalCode$:function(e,t){g(e,i,t)},dependentNumberRange$:function(e,t){y(w,e,t)},fileName$:function(e,t){v(w,e,t)},expression$:function(e,t){b(w,e,t)}}}}},818077:(e,t,i)=>{"use strict";i(944114),i(16280);var n=i(947432),a=i(96190);e.exports=function(e,t,i){var r,o,s=t.point,l=t.rule?t.rule.spec:void 0,d=!0,c=[],u={};function p(e){return s[e.date]}function f(e,t){return!0===t.time?n(e):n(e).startOf("day")}for(var h=0;h<l.length;h++){var m=l[h];if(m&&s[m.date]){if(m.constraint){o=f(s[m.date],m);var g=!0===m.time?n():n().startOf("day");switch(m.constraint){case"past":d=o.isBefore(g);break;case"past_present":d=o.isBefore(g)||o.isSame(g);break;case"future_present":d=o.isSame(g)||o.isAfter(g);break;case"future":d=o.isAfter(g)}}m.minimumDate&&(r=p(m.minimumDate))&&(r=f(r,m),o=f(s[m.date],m),d=m.minimumDate.hard?r.isBefore(o):r.isBefore(o)||r.isSame(o)),m.maximumDate&&(r=p(m.maximumDate))&&(r=f(r,m),o=f(s[m.date],m),d=m.maximumDate.hard?r.isAfter(o):r.isAfter(o)||r.isSame(o)),d||(m.customTranslationKey&&(u[m.date]=m.customTranslationKey),c.push(m.date))}}if(0===c.length)return i();var y=new Error;return y.parambulator={property:a.uniq(c),code:"dateRange$"},a.isEmpty(u)||(y.parambulator.customFieldTranslations=u),i(y)}},302768:(e,t,i)=>{"use strict";i(16280),i(426099),i(533110),i(944114);var n=i(96190),a=i(122268),r=i(362584),o=i(572485);e.exports=function(e,t,i){if(!n.hasIn(t,"point")||!n.hasIn(t,"rule.spec"))return i("dependentPattern$ rule: invalid parameters was passed for dependentPattern$");var s=n.get(t,"rule.spec",[]),l=n.get(t,"point",{});return o.getEntDef(e,l.entity$,(function(e,t){if(e)return i(e);var d=new Error;return d.parambulator={property:[],codeMap:[],code:"dependentPattern$"},a.reduce(s,d,(function(e,i,a){return!i||n.isEmpty(i)?a(new Error("dependentPattern$ rule: invalid spec")):n.isEmpty(t)||n.isEmpty(i.condition)?a(new Error("dependentPattern$ rule: condition missing for ".concat(JSON.stringify(i)))):(r.evaluate(i.condition,t.rules,l)&&n.each(i.fields,(function(t){if(!o.checkPattern(l,t,i.pattern,i.allowNull)){var a={},r={parambulator:{property:[t],code:i.code||"dependentPattern$"}};i.customTranslationKeys&&(i.customTranslationKeys[t]&&(a[t]=i.customTranslationKeys[t]),n.isEmpty(a)||(r.parambulator.customFieldTranslations=a)),e.parambulator.codeMap.push(r),e.parambulator.property.push(t)}})),a(null,e))}),(function(e,t){return e?i(e):t.parambulator.property.length>0?i(t):i()}))}))}},757087:(e,t,i)=>{"use strict";i(202008),i(426099);var n=i(572485),a=i(155842),r=i(362584);e.exports=function(e,t,i,o){var s=t.point,l=t.rule.spec;n.getEntDef(e,s.entity$,(function(e,n){if(e)return o(e);var d=l.filter((function(e){return r.evaluate(e.condition,n.rules,s)}));if(0===d.length)return o();t.rule.spec=d,a(t,i,o)}))}},565280:(e,t,i)=>{"use strict";i(944114),i(16280);var n=i(96190),a=i(362584),r=i(572485);e.exports=function(e,t,i){var o=[],s={},l=t.point||{},d=n.get(t,"rule.spec");r.getEntDef(e,l.entity$,(function(e,t){if(e)return i(e);if(n.each(d,(function(e){a.evaluate(e.condition,t.rules,l)&&n.each(e.fields,(function(i){var n=l[i],r=t.getFieldInfo(i)?t.getFieldInfo(i).type:null;a.hasValue(n,r)||(e.customTranslationKeys&&e.customTranslationKeys[i]&&(s[i]=e.customTranslationKeys[i]),o.push(i))}))})),o.length>0){var r=new Error;return r.parambulator={property:o,code:"dependentMandatory$"},n.isEmpty(s)||(r.parambulator.customFieldTranslations=s),i(r)}return i()}))}},393445:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a=i(362584),r=i(956610),o=i(572485);e.exports=function(e,t,i){var s=t.point||{},l=n.get(t,"rule.spec");o.getEntDef(e,s.entity$,(function(o,d){if(o)return i(o);var c=[];return n.each(l,(function(e){a.evaluate(e.condition,d.rules,s)&&c.push(e)})),n.isEmpty(c)?i():(n.set(t,"rule.spec",c),r(e,t,i))}))}},415018:(e,t,i)=>{"use strict";i(16280),i(426099),i(533110),i(944114);var n=i(96190),a=i(122268),r=i(362584),o=i(572485);e.exports=function(e,t,i){var s=t.point,l=t.rule?t.rule.spec:void 0;return o.getEntDef(e,s.entity$,(function(e,t){if(e)return i(e);var d=new Error;return d.parambulator={property:[],codeMap:[],code:"dependentPhoneNumber$"},a.reduce(l,d,(function(e,i,a){if(!i||n.isEmpty(i))return a(new Error("dependentPhoneNumber$ rule: invalid spec"));if(n.isEmpty(t)||n.isEmpty(i.condition))return a(new Error("dependentPhoneNumber$ rule: condition missing for ".concat(JSON.stringify(i))));if(!r.evaluate(i.condition,t.rules,s))return a(null,e);var l=o.validatePhoneNumbers(i.fields,s);if(l.length>0){var d={},c={parambulator:{property:i.fields,code:i.code||"dependentPhoneNumber$"}};i.customTranslationKeys&&(d=o.createTranslationMapping(l,i.customTranslationKeys),n.isEmpty(d)||(c.parambulator.customFieldTranslations=d)),e.parambulator.codeMap.push(c),e.parambulator.property.push(i.fields)}return a(null,e)}),(function(e,t){return e?i(e):t.parambulator.property.length>0?i(t):i()}))}))}},871312:(e,t,i)=>{"use strict";i(426099),i(423500),i(327495),i(690906),i(944114),i(16280),i(311927);var n=i(96190);e.exports=function(e,t,i){var a,r=t.point,o=t.rule?t.rule.spec:void 0,s=[];if(a=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/,n.forEach(o,(function(e){n.isEmpty(r[e])||(n.isArray(r[e])?n.every(r[e],(function(e){return a.test(e)})):a.test(r[e]))||s.push(e)})),s.length>0){var l=new Error("".concat(s.join(", ")," contains an invalid email"));return l.parambulator={property:s,code:"email$"},i(l)}return i()}},96684:(e,t,i)=>{"use strict";i(944114),i(16280);var n=i(96190),a=i(122268),r=i(572485),o=i(596099);e.exports=function(e,t,i){var s,l=[],d=t.point,c=null==t||null===(s=t.rule)||void 0===s?void 0:s.spec,u=n.isArray(c)?c:c.fields;a.each(u,(function(t,i){!function(e,t,i,a){var s=function(e,t){var i,a,r=null!==(i=e.targetEntity)&&void 0!==i?i:e.entityName;return n.isObject(t)?(r=null!==(a=t.entityCanon)&&void 0!==a?a:r,t.ignoreIdentifiers&&(r=void 0),{fieldName:t.field,fieldValue:e[t.field],thisContextProperty:t.thisContextProperty,entityCanon:r}):{fieldName:t,fieldValue:e[t],entityCanon:r}}(t,i),l=s.fieldName,d=s.fieldValue,c=s.entityCanon,u=s.thisContextProperty;d?c?r.getEntDef(e,c,(function(e,t){return e?a(e):o.validate({entDefs:[t],expr:d,thisContextProperty:i.thisContextProperty})?a(null,l):void a()})):o.validate({expr:d,thisContextProperty:u})?a(null,l):a():a()}(e,d,t,(function(e,t){if(e)return i(e);t&&l.push(t),i()}))}),(function(e){if(e)return i(e);var t={};if(c.customTranslationKeys&&(t=r.createTranslationMapping(l,c.customTranslationKeys)),l.length>0){var a=new Error;return a.parambulator={property:l,code:"expression$"},n.isEmpty(t)||(a.parambulator.customFieldTranslations=t),i(a)}i()}))}},740227:(e,t,i)=>{"use strict";i(16280);var n=i(572485);e.exports=function(e,t,i){var a=t.point,r=t.rule?t.rule.spec:void 0,o=n.validateFileNames(r,a);if(o.length>0){var s=new Error;return s.parambulator={property:o,code:"fileName$"},i(s)}return i()}},705426:(e,t,i)=>{"use strict";i(327495),i(725440),i(884864),i(757465),i(87745),i(938781),i(944114),i(16280);var n=i(96190),a=i(920192);e.exports=function(e,t,i){var r=t.point,o=t.rule?t.rule.spec:void 0;if(n.isNil(o)||n.isEmpty(o))return i();var s=[];if(n.each(o,(function(e){var t=r[e];if(!n.isNil(t))try{a.renderSource(t.replace(new RegExp(/(\r\n|\r|\n)/,"gm"),""),{})}catch(t){s.push(e)}})),s.length<=0)return i();var l=new Error;return l.parambulator={property:s,code:"invalid_template$"},i(l)}},155842:(e,t,i)=>{"use strict";i(962010),i(944114),i(16280);var n=i(96190);e.exports=function(e,t,i){for(var a,r,o,s=e.point,l=e.rule?e.rule.spec:void 0,d=[],c={},u=0;u<l.length;u++){var p=l[u];if(p){var f=s[p.name];if(!n.isNil(f)){var h=(o=p.value,n.isString(o)?s[o]:n.isFunction(o)?o(s):o);n.isNumber(h)&&(a=f.length,r=h,n.isEqual(t,"maximum")?a>r:a<r)&&(p.customTranslationKey&&(c[p.name]=p.customTranslationKey),d.push(p.name))}}}if(d.length>0){var m=new Error;return m.parambulator={property:d,code:n.isEqual(t,"maximum")?"maxLength$":"minLength$"},n.isEmpty(c)||(m.parambulator.customFieldTranslations=c),i(m)}return i()}},69267:(e,t,i)=>{"use strict";i(426099),i(423500),i(944114),i(16280);var n=i(96190),a=i(362584),r=i(572485);e.exports=function(e,t,i){var o=t.point||{},s=t.rule?t.rule.spec:void 0;r.getEntDef(e,o.entity$,(function(e,t){if(e)return i(e);var r=[],l={},d=n.isArray(s)?s:s.fields;if(n.forEach(d,(function(e){var i=o[e],n=t.getFieldInfo(e)?t.getFieldInfo(e).type:null;a.hasValue(i,n)||(s.customTranslationKeys&&s.customTranslationKeys[e]&&(l[e]=s.customTranslationKeys[e]),r.push(e))})),r.length>0){var c=new Error;return c.parambulator={property:r,code:"mandatory$"},n.isEmpty(l)||(c.parambulator.customFieldTranslations=l),i(c)}return i()}))}},956610:(e,t,i)=>{"use strict";i(962062),i(202008),i(426099),i(874423),i(21699),i(944114),i(16280);var n=i(96190);e.exports=function(e,t,i){var a,r=t.point,o=t.rule?t.rule.spec:void 0,s=[],l={},d=!0;function c(e){return n.isString(e)?r[e]:n.isObject(e)?e[r.type]:e}function u(e,t,i,a){return n.isEqual(i,"minimum")?function(e,t,i){return i?e>t:e>=t}(e,t,a):function(e,t,i){return i?e<t:e<=t}(e,t,a)}function p(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n.isArray(t))t.map((function(e){return c(e)})).filter((function(e){return!n.isNil(e)})).map((function(t){return u(e,t,i,r)})).includes(!1)&&(d=!1);else if(!n.isNil(t)){var o=c(t);if(n.isNil(o))return void(d=!0);u(a,c(t),i,r)||(d=!1)}}for(var f=0;f<o.length;f++){d=!0;var h=o[f];if(h&&(r[h.number]||n.isEqual(r[h.number],0))){if(a=r[h.number],h.minimumNumber){var m=!!h.minimumNumber.hard,g=h.minimumNumber.number;p(a,g,"minimum",m)}if(h.maximumNumber){var y=!!h.maximumNumber.hard,v=h.maximumNumber.number;p(a,v,"maximum",y)}d||(h.customTranslationKey&&(l[h.number]=h.customTranslationKey),s.push(h.number))}}if(s.length>0){var b=new Error;return b.parambulator={property:s,code:"numberRange$"},n.isEmpty(l)||(b.parambulator.customFieldTranslations=l),i(b)}return i()}},474958:(e,t,i)=>{"use strict";i(16280),i(426099),i(944114);var n=i(96190),a=i(122268),r=i(572485);e.exports=function(e,t,i){if(!(t&&t.point&&t.rule&&t.rule.spec))return i("pattern$ rule was passed invalid parameters");var o=t.rule.spec,s=t.point,l=new Error;return l.parambulator={property:[],codeMap:[],code:"pattern$"},a.reduce(o,l,(function(e,t,i){return!t||n.isEmpty(t)?i(new Error("pattern$ rule was passed invalid parameters")):(n.each(t.fields,(function(i){if(!r.checkPattern(s,i,t.pattern,t.allowNull)){var a={},o={parambulator:{property:[i],code:t.code||"pattern$"}};t.customTranslationKeys&&(t.customTranslationKeys[i]&&(a[i]=t.customTranslationKeys[i]),n.isEmpty(a)||(o.parambulator.customFieldTranslations=a)),e.parambulator.codeMap.push(o),e.parambulator.property.push(i)}})),i(null,e))}),(function(e,t){return e?i(e):t.parambulator.property.length>0?i(t):i()}))}},647252:(e,t,i)=>{"use strict";i(16280);var n=i(96190),a=i(572485);e.exports=function(e,t,i){var r=t.point,o=t.rule?t.rule.spec:void 0,s=n.isArray(o)?o:o.fields,l=a.validatePhoneNumbers(s,r),d={};if(o.customTranslationKeys&&(d=a.createTranslationMapping(l,o.customTranslationKeys)),l.length>0){var c=new Error;return c.parambulator={property:l,code:"phoneNumber$"},n.isEmpty(d)||(c.parambulator.customFieldTranslations=d),i(c)}return i()}},614656:(e,t,i)=>{"use strict";i(884864),i(757465),i(327495),i(87745),i(938781),i(690906),i(944114),i(16280);var n=i(96190),a=i(358253);e.exports=function(e,t,i){for(var r=e.point,o=e.rule?e.rule.spec:void 0,s=[],l={},d=0;d<o.length;d++){var c=o[d];if(c&&r[c.postalCode]){var u=r[c.postalCode],p=c.profile||t.defaultPostalCodeProfile,f=a[p].regex;new RegExp(f).test(u)||(c.customTranslationKey&&(l[c.postalCode]=c.customTranslationKey),s.push(c.postalCode))}}if(s.length>0){var h=new Error;return h.parambulator={property:s,code:"postalCode$"},n.isEmpty(l)||(h.parambulator.customFieldTranslations=l),i(h)}return i()}},282048:(e,t,i)=>{"use strict";i(327495),i(671761),i(16280),e.exports=function(e,t,i){for(var n=t.point,a=t.rule?t.rule.spec:void 0,r=0;r<a.length;r++){var o=a[r];if(o&&n[o]&&!n[o].match("(0[0-9]|1[0-9]|2[0-3])([0-5][0-9])([0-5][0-9])")){var s=new Error(o+" has an invalid Time Format");return s.parambulator={property:o,code:"timeFormat$"},i(s)}}return i()}},572485:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(884864),i(757465),i(327495),i(87745),i(938781),i(690906),i(944114),i(874423),i(21699),i(311927),i(426099),i(423500),i(45700),i(689572),i(752675),i(489463),i(16280),i(102892);var r=i(96190),o=i(522609)(),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"getEntDef",value:function(e,t,i){var n=e.entities,a=e.dynamicEntities,r=n.get(t);return r?i(null,r):a.get({entityName:t},(function(e,t){return e?i(e):t?i(null,t):i()}))}},{key:"checkPattern",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||t&&!r.hasIn(e,t))return!0;if(!t||!i)return!1;var a=new RegExp(i),o=e[t];return n?a.test(o)||r.isUndefined(o)||r.isNull(o)||r.isEmpty(o):a.test(o)}},{key:"validatePhoneNumbers",value:function(e,t){for(var i=[],n=0;n<e.length;n++){var a=e[n];a&&t[a]&&(this.validatePhoneNumber(t[a])||i.push(a))}return i}},{key:"validatePhoneNumber",value:function(e){var t=!0,i=e;if(e.includes("|")){var n=e.split("|");"+"!==n[0]&&n[1]?(i=n.join(""),t=o.isValidPhoneNumber(i)):t=!1}else t=o.isValidPhoneNumber(i);return t}},{key:"createTranslationMapping",value:function(e,t){var i={};return e.forEach((function(e){t[e]&&(i[e]=t[e])})),i}},{key:"validateFileNames",value:function(e,t){for(var i=[],n=0;n<e.length;n++){var a=e[n];if(a&&t[a]){var r=t[a];o.validateFileName(r)||i.push(a)}}return i}}],i&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=new s},909139:(e,t,i)=>{"use strict";i(944114);var n=i(96190),a={getInnerHitHighlightFields:function(e){var t=[];return n.each(e.inner_hits,(function(e,i){var r=n.get(e,"hits.hits",[]);r.length>0&&n.each(r,(function(e){n.each(e.highlight,(function(e,i){var n={fieldName:a.getFieldName(i),highlight:e,highlightRank:0};t.push(n)}))}))})),t},getFieldName:function(e){var t=n.first(e.split(".")),i=n.first(t.split("__formatted"));return n.first(i.split("__lang-"))},getFieldValue:function(e,t){return t},getAttachmentContentHighlight:function(e){return{encoder:"html",pre_tags:['<span class="highlight-result">'],post_tags:["</span>"],fields:{"file.content.content":{fragment_size:(e=e||{}).fragment_size||70,number_of_fragments:e.number_of_fragments||8}}}}};e.exports=a},18063:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var a=i(96190),r={must:function(e){return e=a.isArray(e)?e:[e],e=a.compact(e),a.isEmpty(e)?null:{bool:{must:e}}},mustNot:function(e){return e=a.isArray(e)?e:[e],e=a.compact(e),a.isEmpty(e)?null:{bool:{must_not:e}}},should:function(e){return e=a.isArray(e)?e:[e],e=a.compact(e),a.isEmpty(e)?null:{bool:{should:e}}},term:function(e,t){if(e&&t)return{term:(i={},a=e,r=t,(a=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i)};var i,a,r},matchNone:function(){return{match_none:{}}},matchAll:function(){return{match_all:{}}}};r.or=r.should,r.not=r.mustNot,r.and=r.must,e.exports=r},33622:(e,t,i)=>{"use strict";i(944114),i(428706),i(250113),i(426099),i(962062);var n=i(96190);e.exports={flatten:function(e){var t,i=this,a=e.tree,r=[];return n.isEmpty(a)||("tabs"===a.type?t=a.tabs:(t=a.elements,r.push(a)),n.each(t,(function(e){var t=i.flatten({tree:e});r=r.concat(t)}))),r},map:function(e){var t,i=this,a=e.tree,r=e.attribute,o=e.compact,s=void 0===o||o,l=e.fields,d=e.excludeRoot,c=void 0!==d&&d,u=!1!==e.isRoot,p=[],f=a[r];if((u&&!c||!u)&&(s&&!f||"tabs"===a.type||p.push(f),a.fieldId&&l)){var h=n.find(l,{id:a.fieldId}),m=null==h?void 0:h[r];s&&!m||p.push(m)}return t="tabs"===a.type?a.tabs:a.elements,n.each(t,(function(t){var a=n.defaults({tree:t,isRoot:!1},e),r=i.map(a);p=p.concat(r)})),p},sortNeighbours:function(e){for(var t=n.keyBy(e,"id"),i=[],a=n.find(e,{previousId:null});a;)i.push(a),a=t[a.nextId];return i}}},712090:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}i(879432),i(202008),i(83851),i(944114),i(423500),i(681278),i(802259),i(123792),i(747764),i(962953),i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892);var s=i(96190),l=i(809375),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.context,n=void 0===i?{}:i,a=t.entDef,r=t.entData;this.context=n,this.entDef=a,this.entData=r,this.entityFields=a.fields()}var t,i;return t=e,i=[{key:"getQueryFieldValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.isArray(e)&&0===e.length?null:s.isArray(e)&&1===e.length?e[0]:e}},{key:"evaluateOperation",value:function(e,t){var i=this.entityFields[t.field];if(!i)return!1;var n=l[i.type].getOperators("obj")[e];return s.assign(t,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=o(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({value:this.getQueryFieldValues(t.value)},this.context)),!!n&&n.getFunc(t)(this.entData)}},{key:"evaluateOperations",value:function(e){var t=this;return s["and"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"or")?"every":"some"](e,(function(e){var i=e.operator,n=e.field,a=e.value;return t.evaluateOperation(i,{field:n,value:a})}))}}],i&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=d},278518:(e,t,i)=>{"use strict";i(428706),i(752675),i(489463),i(16280),i(842762),i(874423),i(21699),i(311927),i(102892);var n=i(96190),a=i(647451).parsePhoneNumberFromString,r=i(939994).get("sys/option").defaultValueFunctions,o={getOptionUniqueKey:function(e){var t=e.groupName||"",i=e.subgroupName||"",n=e.key||"";return"".concat(t,"-").concat(i,"-").concat(n)},hasFeatures:function(e){return!n.isEmpty(e.features)},createOptionObject:function(e,t,i){var a=e.defaultValue;e.defaultValueFn&&n.isFunction(r[e.defaultValueFn])&&(a=r[e.defaultValueFn]());var s=null;o.hasFeatures(e)?s=e.features:o.hasFeatures(t)?s=t.features:o.hasFeatures(i)&&(s=i.features);var l={key:e.key,value:a,groupName:i.groupName||null,subgroupName:t.subgroupName||null,description:e.description,staticFlag:e.staticFlag,frontendFlag:e.frontendFlag,fieldDef:e.fieldDef,cellTemplate:e.cellTemplate||null,importTransformerFn:e.importTransformerFn||null,exportTransformerFn:e.exportTransformerFn||null,excludeFromImport:e.excludeFromImport||!1,features:s};return this.prepareForDb(l)},validateOptionsObject:function(e){var t,i;if("secret"===(null===(t=e.fieldDef)||void 0===t?void 0:t.type)&&!0===(null===(i=e.fieldDef)||void 0===i||null===(i=i.typeOptions)||void 0===i?void 0:i.writeOnly)&&e.frontendFlag)throw new Error("frontendFlag can't be set on writeOnly secret options")},isOptionEncryptedSecret:function(e){return"secret"===n.get(e,"fieldDef.type")&&!n.get(e,"fieldDef.typeOptions.disableEncrypt")},isOptionWriteOnlySecret:function(e){return"secret"===n.get(e,"fieldDef.type")&&n.get(e,"fieldDef.typeOptions.writeOnly")},prepareForDb:function(e){var t=e;if("secret"===n.get(e,"fieldDef.type")&&n.isString(e.value)){var i=n.trim(e.value);t.value=""!==i?i:null}if(this.isOptionWriteOnlySecret(e)&&"value"in e?(t.secretValueWriteOnly=e.value,t.value=null):this.isOptionEncryptedSecret(e)&&"value"in e&&(t.secretValue=e.value,t.value=null),"yesno"===n.get(e,"fieldDef.type"))switch(e.value){case!0:t.value="yes";break;case!1:t.value="no"}if("phone-number"===n.get(e,"fieldDef.type")&&e.value){var r=e.value;e.value.includes("|")&&(r=e.value.split("|").join("")),t.value=a(r).format("E.164")}return t},prepareForFrontend:function(e){var t=e,i=n.get(e,"fieldDef.type");if(this.isOptionWriteOnlySecret(e)&&"secretValueWriteOnly"in e?(e.frontendFlag?t.value=null:t.value=e.secretValueWriteOnly,t.secretValueWriteOnly=null):this.isOptionEncryptedSecret(e)&&"secretValue"in e&&(t.value=e.secretValue,t.secretValue=null),"yesno"===i)switch(e.value){case"yes":t.value=!0;break;case"no":t.value=!1;break;default:t.value=""}return"toggle"===i&&(t.value="true"===e.value),"number"===i&&(t.value=Number(e.value)),t}};e.exports=o},483750:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){var n,a,r;n=e,a=t,r=i[t],(a=s(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}i(879432),i(83851),i(681278),i(802259),i(123792),i(747764),i(962953),i(202008),i(426099),i(874423),i(21699),i(423500),i(944114),i(16280),i(428706),i(962010),i(45700),i(689572),i(752675),i(489463),i(102892);var l=i(96190),d=i(337318),c=i(281970),u=i(876396),p=i(225409),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disabled=t.disabled,this.lang=e.buildLang(),this.fieldTypes=t.fieldTypes,this.userEntDef=t.userEntDef,this._constants=l.cloneDeep(u),this._thisConstants=p,t.systemContext&&(this._constants.system=r(r({},u.system),t.systemContext)),this.blacklistedUserAttributes=t.blacklistedUserAttributes}var t,i,n;return t=e,n=[{key:"buildLang",value:function(e){return c(e)}},{key:"partialCompilerErrors",get:function(){return["Invalid expression token:","Unexpected end of expression:","unexpected in expression:"]}},{key:"expectedCompilerErrors",get:function(){return["non-object"]}}],(i=[{key:"grammar",get:function(){return this.lang._grammar}},{key:"constants",get:function(){return this._constants}},{key:"thisConstants",get:function(){return this._thisConstants}},{key:"isDisabled",get:function(){return!0===this.disabled}},{key:"compile",value:function(e){return this.lang.compile(e)}},{key:"getEntityFields",value:function(e){var t=this,i=e.fields();return"sys/user"!==e.entityCanon?i:l.filter(i,(function(e){return!t.blacklistedUserAttributes.includes(e.field)}))}},{key:"buildUserContext",value:function(e){var t=r({},this.constants.user),i="sys/user"===e.entityCanon?e:this.userEntDef;return l.each(i.fields(),(function(e){"dynamic"===e.kind&&(t[e.field]=!0)})),t}},{key:"buildContext",value:function(e){var t=this,i=e.entDefs,n=e.thisContextProperty,a=void 0===n?"field":n;l.isArray(i)||(i=[i]);var o=r(r({},this.constants),{},{this:{}});return this.thisConstants[a]&&(o[a]=this.thisConstants[a],o.this=this.thisConstants[a]),l.forEach(i,(function(e){var i=e.iselContextName,n=t.getEntityFields(e);o[i]={},o.record={},o.user=t.buildUserContext(e),l.each(n,(function(e){o[i][e.field]=!0,o.record[e.field]=!0}))})),o}},{key:"validate",value:function(e){var t=e.expr,i=e.entDefs,n=e.thisContextProperty;if(""===t)return null;var a=[],r=this._validateExpression({expr:t,errors:a});if(!r)return a;if(!r._ast)return null;var o=this._parseAst(r._ast);return this._validateFunctionsCalls({functionCalls:o.functionCalls,errors:a}),i&&this._validateIdentifiers({entDefs:i,identifiers:o.identifiers,thisContextProperty:n,errors:a}),0!==a.length?a:null}},{key:"_validateExpression",value:function(t){var i,n=t.expr,a=t.errors;try{i=this.compile(n)}catch(t){var r=l.some(e.partialCompilerErrors,(function(e){return t.message.includes(e)})),o=l.some(e.expectedCompilerErrors,(function(e){return t.message.includes(e)}));if(o&&(t.message="Invalid expression"),!r&&!o)throw t;a.push(t)}return i}},{key:"_validateIdentifiers",value:function(t){var i=t.identifiers,n=t.entDefs,a=t.errors,r=t.thisContextProperty,o=e.prototype.buildContext.call(this,{entDefs:n,thisContextProperty:r});l.each(i.rootIdentifiers,(function(e){var t=e.root;if(!l.has(o,t))return a.push(new Error("".concat(t," is not a valid variable"))),!1})),1!==t.errors.length&&l.each(i.subIdentifiers,(function(e){var t=e.root,i=e.path,n=e.subPath;if(!l.has(o,i))return a.push(new Error("".concat(n," is not a valid property of ").concat(t))),!1}))}},{key:"_validateFunctionsCalls",value:function(e){var t=e.functionCalls,i=e.errors,n=this.grammar,a=n.functions,r=n.transforms;l.each(t,(function(e){var t=e.name,n=e.type;if(r[t]&&("transforms"===n||"functions"===n))return!0;if(a[t]&&"functions"===n)return!0;var o="functions"===n?"function":"transform";return i.push(new Error("".concat(t," is not a valid ").concat(o))),!1}))}},{key:"_parseAst",value:function(e){return new d(e).parseTree()}}])&&o(t.prototype,i),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=f},927474:(e,t,i)=>{"use strict";e.exports=i(483750)},181314:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key),"symbol"===n(r)?r:String(r)),a)}var r}i(802259),i(123792),i(747764),i(962953),i(16280),i(944114),i(962062),i(879432),i(45700),i(689572),i(752675),i(489463),i(426099),i(102892);var r=i(718073),o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("ast is required");this.ast=t,this.identifiers={rootIdentifiers:[],subIdentifiers:[]},this.functionCalls=[]}var t,i;return t=e,(i=[{key:"_parseNode",value:function(e){var t=r[e.type].call(this,e);return"Identifier"===e.type&&(t.path?this.identifiers.subIdentifiers.push(t):this.identifiers.rootIdentifiers.push(t)),"FunctionCall"===e.type&&this.functionCalls.push(t),t}},{key:"parseTree",value:function(){return this._parseNode(this.ast),{identifiers:this.identifiers,functionCalls:this.functionCalls}}},{key:"_parseArray",value:function(e){var t=this;return e.map((function(e){return t._parseNode(e)}))}},{key:"_parseObj",value:function(e){var t=this;return Object.keys(e).map((function(i){return t._parseNode(e[i])}))}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=o},718073:(e,t,i)=>{"use strict";i(327495),i(690906),i(944114),i(428706),i(962010),e.exports={ArrayLiteral:function(e){return this._parseArray(e.value)},BinaryExpression:function(e){var t=e.left,i=e.right;return this._parseArray([t,i])},ConditionalExpression:function(e){var t=e.test,i=e.consequent,n=e.alternate,a=[];return t&&a.push(t),i&&a.push(i),n&&a.push(n),this._parseArray(a)},FilterExpression:function(e){return this._parseNode(e.subject)},Identifier:function(e){var t=e.from,i=e.value;if(e.from){var n=this._parseNode(t);if(!n)return{root:"".concat(t.value),path:"".concat(t.value,".").concat(i),subPath:"".concat(i)};var a="".concat(n.root,".").concat(i),r=i;return n.path&&(a="".concat(n.path,".").concat(i),r="".concat(n.subPath,".").concat(i)),{root:n.root,path:a,subPath:r}}return{root:i}},Literal:function(){},ObjectLiteral:function(e){return this._parseObj(e.value)},FunctionCall:function(e){return{type:e.pool,name:e.name,args:this._parseArray(e.args||[])}},UnaryExpression:function(e){return this._parseNode(e.right)}}},337318:(e,t,i)=>{"use strict";e.exports=i(181314)},281970:(e,t,i)=>{"use strict";i(426099),i(423500),i(879432);var n=i(950935),a=i(335380);e.exports=function(e){var t=e||new n.Jexl,i=a.functions,r=a.transforms,o=a.unaryOperators,s=a.binaryOperators;return Object.keys(i).forEach((function(e){return t.addFunction(e,i[e].fn)})),Object.keys(r).forEach((function(e){t.addTransform(e,r[e].fn),t.addFunction(e,r[e].fn)})),Object.keys(o).forEach((function(e){return t.addUnaryOp(e,o[e].fn)})),Object.keys(s).forEach((function(e){var i=s[e];t.addBinaryOp(e,i.precedence,i.fn,i.manualEval)})),t}},876396:(e,t,i)=>{"use strict";var n=i(64065);e.exports={null:null,math:{PI:n.pi,E:n.e,LN2:n.LN2,LN10:n.LN10,LOG2E:n.LOG2E,LOG10E:n.LOG10E,SQRT1_2:n.SQRT1_2,SQRT2:n.SQRT2},system:{name:null,defaultLanguage:null,defaultTimezone:null,defaultDateFormat:null,defaultDateLongFormat:null,defaultDateTimeFormat:null,defaultDateTimeLongFormat:null,version:null,supportEmail:null,dateFormat:null,dateTimeFormat:null,timeFormat:null},user:{id:null,firstName:null,lastName:null,userRoleId:null,userRoleId__name:null,email:null,language:null,signature:null},now:null}},694786:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(426099);var a=i(871154),r=i(996669),o=i(878778);e.exports={"+":{precedence:30,fn:function(e,t){var i=e,n=t;return null==e&&(i=r.convertToNum(e)),null==t&&(n=r.convertToNum(t)),i+n}},"-":{precedence:30,fn:function(e,t){return r.convertToNum(e)-r.convertToNum(t)}},"*":{precedence:40,fn:function(e,t){return r.convertToNum(e)*r.convertToNum(t)}},"^":{precedence:50,fn:function(e,t){return Math.pow(r.convertToNum(e),r.convertToNum(t))}},plus:{precedence:30,fn:function(e,t){return r.convertToNum(e)+r.convertToNum(t)}},minus:{precedence:30,fn:function(e,t){return r.convertToNum(e)-r.convertToNum(t)}},times:{precedence:40,fn:function(e,t){return r.convertToNum(e)*r.convertToNum(t)}},is:{precedence:20,fn:function(e,t){return e==t}},equals:{precedence:20,fn:function(e,t){return function e(t,i){return Array.isArray(t)&&Array.isArray(i)?t.length===i.length&&t.every((function(t,n){return e(t,i[n])})):t===i}(e,t)}},and:{precedence:10,fn:function(e,t){return e.eval().then((function(e){return e?t.eval():e}))},manualEval:!0},or:{precedence:10,fn:function(e,t){return e.eval().then((function(e){return e||t.eval()}))},manualEval:!0},as:{precedence:10,fn:function(e,t){if("string"!=typeof t)return e;if(n(e)===t)return e;switch(t){case"string":return o.anyToString(e);case"date":return o.anyToDate(e);case"array":return o.anyToArray(e);case"number":return o.anyToNumber(e);case"boolean":return o.anyToBoolean(e);default:return e}}},"..":{precedence:10,fn:function(e,t){return a(o.anyToNumber(e),o.anyToNumber(t))}},then:{precedence:9,fn:function(e,t){if(e)return t}},else:{precedence:8,fn:function(e,t){return void 0===e?t:e}}}},878778:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(840150),i(102892),i(426099),i(938781),i(879432),i(874423),i(240875),i(816034),i(311927),i(202008),i(962062);var a=i(13288)("fieldtypes:coerce"),r=i(64065),o=i(184743);function s(e){return null==e}function l(e){return"string"==typeof e}function d(e){return"number"==typeof e}function c(e){return"boolean"==typeof e}function u(e){return Array.isArray(e)}function p(e){return"[object Date]"===Object.prototype.toString.call(e)}function f(e){return"object"===n(e)}function h(e){return u(e)?0===e.length:0===Object.keys(e).length}function m(e){var t;try{t=r.evaluate(e)}catch(t){a("could not evaluate ".concat(e)),a(t)}return t}e.exports={isValidDate:function(e){return t=e.getTime(),!Number.isNaN(t);var t},stringToBoolean:function(e){return(!e.toLowerCase||!["","false","no"].includes(e.toLowerCase()))&&(!(!e.toLowerCase||!["true","yes"].includes(e.toLowerCase()))||(null!=m(e)?this.numberToBoolean(e):!!e))},numberToBoolean:function(e){var t=Number(e);return!(Number.isNaN(t)||t<=0)},objectToBoolean:function(e){return!h(e)},dateToBoolean:function(e){return this.isValidDate(e)},arrayToBoolean:function(e){var t=this;return!h(e)&&e.every((function(e){return t.anyToBoolean(e)}))},anyToBoolean:function(e){return!s(e)&&(l(e)?this.stringToBoolean(e):d(e)?this.numberToBoolean(e):u(e)?this.arrayToBoolean(e):p(e)?this.dateToBoolean(e):f(e)?this.objectToBoolean(e):e)},booleanToString:function(e){return!0===e?"Yes":"No"},numberToString:function(e){return"".concat(e)},dateToString:function(e,t){var i=t.defaultTimezone,n=t.defaultDateTimeFormat;return this.isValidDate(e)?o(e).tz(i).format(n):""},objectToString:function(e){return e.toString&&Object.getPrototypeOf(e).toString!==Object.prototype.toString?e.toString():this.arrayToString(Object.values(e))},arrayToString:function(e,t){var i=this;return h(e)?"":e.map((function(e){return i.anyToString(e,t)})).filter((function(e){return e})).join(" ")},anyToString:function(e,t){return s(e)?null:c(e)?this.booleanToString(e):d(e)?this.numberToString(e):p(e)?this.dateToString(e,t):u(e)?this.arrayToString(e,t):f(e)?this.objectToString(e,t):e},booleanToNumber:function(e){return!0===e?1:0},stringToNumber:function(e){var t=0,i=m(e);if(i){if(i.signatures&&i.signatures.number&&!d(i=i.signatures.number()))return 0;i.toNumber&&(i=i.toNumber()),t=i}return t},dateToNumber:function(e){return this.isValidDate(e)?e.getTime():0},objectToNumber:function(e){return this.arrayToNumber(Object.values(e))},arrayToNumber:function(e){var t=this;return h(e)?0:e.map((function(e){return t.anyToNumber(e)})).reduce((function(e,t){return e+t}))},anyToNumber:function(e){return s(e)?0:c(e)?this.booleanToNumber(e):l(e)?this.stringToNumber(e):p(e)?this.dateToNumber(e):u(e)?this.arrayToNumber(e):f(e)?this.objectToNumber(e):e},anyToInteger:function(e){var t=this.anyToNumber(e);return Math.round(t)},booleanToDate:function(e){return!0===e?new Date:null},numberToDate:function(e){var t=new Date(e);return this.isValidDate(t)?t:null},stringToDate:function(e){var t=new Date(e);return this.isValidDate(t)?t:null},objectToDate:function(e){var t=new Date(e);return this.isValidDate(t)?t:null},arrayToDate:function(e){var t=this;return h(e)?null:e.map((function(e){return t.anyToDate(e)})).filter((function(e){return e}))[0]},anyToDate:function(e){return s(e)?null:c(e)?this.booleanToDate(e):l(e)?this.stringToDate(e):d(e)?this.numberToDate(e):u(e)?this.arrayToDate(e):f(e)?this.objectToDate(e):e},booleanToArray:function(e){return!0===e?[!0]:[!1]},stringToArray:function(e){return[e]},numbertoArray:function(e){return[e]},dateToArray:function(e){return[e]},objectToArray:function(e){return Object.values(e)},anyToArray:function(e,t,i){var n=e;return s(e)?n=[]:c(e)?n=this.booleanToArray(e):l(e)?n=this.stringToArray(e):d(e)||p(e)?n=this.numbertoArray(e):f(e)&&!u(e)&&(n=this.objectToArray(e)),function(e){return"function"==typeof e}(t)&&(n=n.map((function(e){return t(e,i)}))),n.filter((function(e){return!s(e)}))}}},737149:e=>{"use strict";e.exports={if:{fn:function(e){return!!e}}}},335380:(e,t,i)=>{"use strict";e.exports={functions:i(737149),transforms:i(713323),unaryOperators:i(596214),binaryOperators:i(694786)}},713323:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(962010),i(690906),i(16280),i(426099),i(938781),i(879432),i(962062),i(428706),i(202008),i(102892),i(840150),i(944114),i(134782),i(146449),i(693514),i(311927),i(327495),i(790744),i(168156),i(423500);var o=i(622171),s=i(898638),l=i(628802),d=i(255762),c=i(64065),u=i(947432),p=i(819581),f=i(996669);function h(e){if(null==e)return!0;if("number"==typeof e||"boolean"==typeof e)return!1;if(Array.isArray(e)||"string"==typeof e)return!e.length;if("[object Date]"===Object.prototype.toString.call(e))return!1;for(var t=0,i=Object.keys(e);t<i.length;t++){var n=i[t];if(Object.prototype.hasOwnProperty.call(e,n))return!1}return!0}function m(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return Array.isArray(t)?t.map((function(t,i){return e.apply(void 0,[t].concat(n,[i]))})):e.apply(void 0,[t].concat(n))}function g(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!=e){if("[object Date]"===Object.prototype.toString.call(e))return e;try{var n=u(e,t,i);return n.isValid()?n.toDate():null}catch(e){}}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),i=arguments.length>2?arguments[2]:void 0;return m((function(t){return u(t).add(i,e).toDate()}),t)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),i=arguments.length>2?arguments[2]:void 0;return m((function(t){return u(t).subtract(i,e).toDate()}),t)}function b(e,t,i,n){var a=m((function(a,r){var o=i;Array.isArray(t)&&Array.isArray(i)&&(o=i[r]);var s=g(a),l=g(o);return null==s||null==l?null:u(s).diff(l,e,n)}),t);return Array.isArray(a)&&(a=a.filter(Number)),a}function w(e,t,i){return e?new Date(e).toString(t,i):""}function A(e,t){return Array.isArray(t)?t.every((function(t){return e(t)})):e(t)}function C(e,t){if(null!=e)return Array.isArray(e)?e.every((function(e){return t(e)})):!!t.call(null,e)}function k(e){return Array.isArray(e)?e.every(k):!c.isNaN(Date.parse(e))}function x(e){return Array.isArray(e)?e.every(x):"string"==typeof e}function _(e,t){var i=f.convertToNum(t);if(h(i))return null;if("number"==typeof i)return i;if(Array.isArray(i)&&1===i.length)return i[0];if(i.length>2){for(var n=i[0],r=1;r<i.length;r++)n=e(n,i[r]);return n}var o=e.apply(void 0,a(i));return Number.isNaN(o)?null:o}function E(e){var t=e.args,i=e.mathFn,n=e.dateFn,r=e.stringFn,o=t[0];return n&&k(o)?n.apply(void 0,a(t)):i&&f.isValidNumber(o)?(f.convertToNum(t),i.apply(void 0,a(t))):!(!r||!x(o))&&r.apply(void 0,a(t))}var I={addYears:{fn:y.bind(null,"y")},addQuarters:{fn:y.bind(null,"Q")},addMonths:{fn:y.bind(null,"M")},addWeeks:{fn:y.bind(null,"w")},addDays:{fn:y.bind(null,"d")},addHours:{fn:y.bind(null,"h")},addMinutes:{fn:y.bind(null,"m")},addSeconds:{fn:y.bind(null,"s")},addMilliseconds:{fn:y.bind(null,"ms")},subtractYears:{fn:v.bind(null,"y")},subtractQuarters:{fn:v.bind(null,"Q")},subtractMonths:{fn:v.bind(null,"M")},subtractWeeks:{fn:v.bind(null,"w")},subtractDays:{fn:v.bind(null,"d")},subtractHours:{fn:v.bind(null,"h")},subtractMinutes:{fn:v.bind(null,"m")},subtractSeconds:{fn:v.bind(null,"s")},subtractMilliseconds:{fn:v.bind(null,"ms")},addBusinessDays:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),t=arguments.length>1?arguments[1]:void 0;return m((function(e){return p(e).businessAdd(t,"d").toDate()}),e)}},yearsBetween:{fn:b.bind(null,"y")},quartersBetween:{fn:b.bind(null,"Q")},monthsBetween:{fn:b.bind(null,"M")},weeksBetween:{fn:b.bind(null,"w")},daysBetween:{fn:b.bind(null,"d")},hoursBetween:{fn:b.bind(null,"h")},minutesBetween:{fn:b.bind(null,"m")},secondsBetween:{fn:b.bind(null,"s")},millisecondsBetween:{fn:b.bind(null,"ms")},isBeforeDate:{fn:function(e,t){return A((function(e){return u(e).isBefore(u(t))}),e)}},isSameDate:{fn:function(e,t){return A((function(e){return u(e).isSame(u(t))}),e)}},isAfterDate:{fn:function(e,t){return A((function(e){return u(e).isAfter(u(t))}),e)}},isSameDateOrBefore:{fn:function(e,t){return A((function(e){return u(e).isSameOrBefore(u(t))}),e)}},isSameDateOrAfter:{fn:function(e,t){return A((function(e){return u(e).isSameOrAfter(u(t))}),e)}},isBetweenDates:{fn:function(e,t,i){return A((function(e){return u(e).isBetween(u(t),u(i))}),e)}},isLeapYear:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t)return!1;for(var n=function(e){return u(e).isLeapYear()},a=0;a<t.length;a++)if(!A(n,t[0]))return!1;return!0}},isDate:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t)return!1;for(var n=0;n<t.length;n++)if(!C(t[n],g))return!1;return!0}},toDate:{fn:function(e,t,i){return m(g,e,t,i)}},onSameDay:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t||!t[0])return!1;for(var n=function(e){return u(e).startOf("date").isSame(u(t[0]).startOf("date"))},a=0;a<t.length;a++)if(!A(n,t[a]))return!1;return!0}},onSameWeek:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t||!t[0])return!1;for(var n=function(e){return u(e).startOf("week").isSame(u(t[0]).startOf("week"))},a=0;a<t.length;a++)if(!A(n,t[a]))return!1;return!0}},onSameMonth:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t||!t[0])return!1;for(var n=function(e){return u(e).startOf("month").isSame(u(t[0]).startOf("month"))},a=0;a<t.length;a++)if(!A(n,t[a]))return!1;return!0}},onSameYear:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t||!t[0])return!1;for(var n=function(e){return u(e).startOf("year").isSame(u(t[0]).startOf("year"))},a=0;a<t.length;a++)if(!A(n,t[a]))return!1;return!0}},sum:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return h(n)?null:"number"==typeof n?n:Array.isArray(n)&&1===n.length?n[0]:c.add.apply(c,a(n))}},avg:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return h(n)?null:"number"==typeof n?n:Array.isArray(n)&&1===n.length?n[0]:c.mean.apply(c,a(n))}},subtract:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return _(c.subtract,t)}},multiply:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return h(n)?null:"number"==typeof n?n:Array.isArray(n)&&1===n.length?n[0]:c.multiply.apply(c,a(n))}},divide:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return _(c.divide,t)}},min:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return c.min(n)}},max:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return c.max(n)}},log:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return c.log(n,10)}},abs:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return c.abs(n)}},sqrt:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=f.convertToNum(t);return c.sqrt(n)}},mod:{fn:function(e,t){var i=f.convertToNum(e),n=f.convertToNum(t);return m((function(e){return e%n}),i)}},pow:{fn:function(e,t){var i=f.convertToNum(e),n=f.convertToNum(t);return c.pow(i,n)}},sin:{fn:function(e,t){var i=f.convertToNum(e);return c.sin(t?c.unit(i,"deg"):i)}},cos:{fn:function(e,t){var i=f.convertToNum(e);return c.cos(t?c.unit(i,"deg"):i)}},tan:{fn:function(e,t){var i=f.convertToNum(e);return c.tan(t?c.unit(i,"deg"):i)}},isLessThan:{fn:function(e,t){var i={args:[e,t],dateFn:I.isBeforeDate.fn,mathFn:c.smaller,stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t){return e.length<t.length}].concat(t))}};return E(i)}},isLessThanOrEqual:{fn:function(e,t){var i={args:[e,t],dateFn:I.isSameDateOrBefore.fn,mathFn:c.smallerEq,stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t){return e.length<=t.length}].concat(t))}};return E(i)}},isGreaterThan:{fn:function(e,t){var i={args:[e,t],dateFn:I.isAfterDate.fn,mathFn:c.larger,stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t){return e.length>t.length}].concat(t))}};return E(i)}},isGreaterThanOrEqual:{fn:function(e,t){var i={args:[e,t],dateFn:I.isSameDateOrAfter.fn,mathFn:c.largerEq,stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t){return e.length>=t.length}].concat(t))}};return E(i)}},isEqual:{fn:function(e,t){var i={args:[e,t],dateFn:I.isSameDate.fn,mathFn:c.equal,stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t){return e.length===t.length}].concat(t))}};return E(i)}},isBetween:{fn:function(e,t,i){var n={args:[e,t,i],dateFn:I.isBetweenDates.fn,mathFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t,i){return c.larger(e,t)&&c.smaller(e,i)}].concat(t))},stringFn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m.apply(void 0,[function(e,t,i){return t.length<e.length&&e.length<i.length}].concat(t))}};return E(n)}},concat:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t){if(1===t.length)return t[0];for(var n,a,r=t[0],o=1;o<=t.length;o++)n=r,a=t[o],r=null==n?a:null==a?n:Array.isArray(n)&&Array.isArray(a)?n.concat(a):Array.isArray(n)?(n.push(a),n):Array.isArray(a)?[n].concat(a):"number"==typeof n&&"number"==typeof a?10*n+a:n+a;return r}}},right:{fn:function(e,t){function i(e,t){return e.slice(e.length-t)}if(e)return Array.isArray(e)||"string"==typeof e?i(e,t):"number"==typeof e?Number(i(e.toString(),t)):i(e.toString(),t)}},left:{fn:function(e,t){function i(e,t){return e.slice(0,t)}if(e)return Array.isArray(e)||"string"==typeof e?i(e,t):"number"==typeof e?Number(i(e.toString(),t)):i(e.toString(),t)}},flatten:{fn:function(e){return e&&"function"==typeof e.flat?e.flat():e}},reverse:{fn:function(e){return Array.isArray(e)?e.reverse():"string"==typeof e?e.split("").reverse().join(""):"number"==typeof e?c.unaryMinus(e):!e}},count:{fn:function(){for(var e=0,t=0;t<arguments.length;t++){var i=t<0||arguments.length<=t?void 0:arguments[t];"number"==typeof i?e+=i:Array.isArray(i)||"string"==typeof i?e+=i.length:"[object Date]"===Object.prototype.toString.call(i)?e+=Math.round((u(i)-u())/864e5):e+=i?1:0}return e}},split:{fn:function(e,t,i){return m((function(e){if(null!=e)return("string"==typeof e?e:e.toString()).split(t,i)}),e)}},join:{fn:function(e,t){if(null!=e)return Array.isArray(e)?e.join(t):e.toString().split(/[\s,;|]+/).join(t)}},lowerCase:{fn:function(e){return m((function(e){if(null!=e)return("string"==typeof e?e:e.toString()).toLowerCase()}),e)}},upperCase:{fn:function(e){return m((function(e){if(null!=e)return("string"==typeof e?e:e.toString()).toUpperCase()}),e)}},properCase:{fn:function(e){return m((function(e){if(null!=e){var t="string"==typeof e?e:e.toString();return o(t.toLowerCase())}}),e)}},isEmpty:{fn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t||t.every((function(e){return h(e)}))}},map:{fn:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var r=function(e){return Array.isArray(i[0])&&Array.isArray(i[1])?i[1][i[0].indexOf(e)]:"object"!==n(i[0])||Array.isArray(i[0])?void 0:i[0][e]};return Array.isArray(e)?e.map(r).filter((function(e){return null!=e})):r(e)}},slice:{fn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(null!=e)return Array.isArray(e)||(e=e.toString()),e.slice(t,i)}},format:{fn:function(e,t,i){return m(w,e,t,i)}},from:{fn:function(e,t){return Array.isArray(t)?t.filter((function(t){return t===e})):"object"===n(t)?1===e.length?t[e[0]]:s(t,e):void 0}},has:{fn:function(e,t){if("object"===n(e)&&"string"==typeof t)return Object.prototype.hasOwnProperty.call(e,t)}},contains:{fn:function(e,t){return l(e,t)}},padStart:{fn:function(e,t,i){if("string"==typeof e)return e.padStart(t,i)}},ifeach:{fn:function(e,t,i){if(!e)return i;if(Array.isArray(e)){if(e.length>0){for(var n=0;n<e.length;n++)if(!e[n])return i;return t}return i}return t}},reduce:{fn:function(e,t){if(Array.isArray(e)||(e=[e]),Array.isArray(t)){var i={};return t.forEach((function(t){i[t]=e.map((function(e){return e[t]}))})),i}return e.map((function(e){return e[t]}))}},sortBy:{fn:function(e,t,i){return Array.isArray(e)?d(e,t,[i]):null}}};e.exports=I},596214:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(962062),i(426099),i(938781);var a=i(996669);e.exports={"++":{fn:function(e){var t=a.convertToNum(e);return Array.isArray(t)?t.map((function(e){return++e})):t+1}},"--":{fn:function(e){var t=a.convertToNum(e);return Array.isArray(t)?t.map((function(e){return--e})):t+-1}},not:{fn:function(e){return!e}},increment:{fn:function(e){return a.convertToNum(e)+1}},decrement:{fn:function(e){return a.convertToNum(e)-1}},typeof:{fn:function(e){var t=n(e);if(null===e)return"null";if("object"===t){if("[object Date]"===Object.prototype.toString.call(e))return"date";if(Array.isArray(e))return"array"}return t}}}},996669:(e,t,i)=>{"use strict";i(426099),i(962062),i(146449),i(693514);var n=i(64065),a={isValidNumber:function(e){if(Array.isArray(e))return e.every(a.isValidNumber);try{return n.hasNumericValue(e)&&!n.isNaN(e)}catch(e){}},convertNonNumbers:function(e){return Array.isArray(e)?e.map(a.convertNonNumbers):a.isValidNumber(e)?e:0},convertToNum:function(e){var t=a.convertNonNumbers(e),i=n.number(t);if(Array.isArray(i)){var r=i.length>1?i.flat():i[0];return void 0===r?null:r}return i}};e.exports=a},225409:e=>{"use strict";e.exports={field:{name:null,caption:null,type:null,value:null},caseNumber:{sequence:null,sequenceMinSize:null,monthFormat:null,yearFormat:null,separator:null,prefix:null}}},362584:(e,t,i)=>{"use strict";i(327495),i(725440),i(879432),i(962062),i(874423),i(21699),i(944114),i(426099),i(842762);var n=i(96190),a=i(712090),r={getRuleResults:function(e,t){var i={};return n.each(e,(function(e,a){if(i[a]=e.call(null,t),!n.isBoolean(i[a]))throw"Invalid rule result: "+a})),i},parseRulesToArray:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/ /g,"")).replace(/\(/g,"[")).replace(/\)/g,"]")).replace(/\&\&/g,',"&&",')).replace(/\|\|/g,',"||",')).replace(/[^\[]\!/g,',"!",')).replace(/^\!/,'"!",')).replace(/\[\!/g,'["!",')).replace(/([\w-_:]+)/g,'"$1"'),JSON.parse("["+e+"]")},doAllRulesExist:function(e,t){for(var i=!0,a=0;a<e.length;a++)n.isArray(e[a])?i=r.doAllRulesExist(e[a],t)&&i:"&&"!==e[a]&&"||"!==e[a]&&"!"!==e[a]&&(i=n.has(t,e[a])&&i);return i},resolveArray:function(e,t){var i=!0,a="&&",o=!1;function s(e){var t;if(t=e,e=o?(o=!1,!t):t,"&&"===a)i=e&&i;else{if("||"!==a)throw"Invalid operator: "+a;i=e||i}}for(var l=0;l<e.length;l++)n.isArray(e[l])?(e[l]=r.resolveArray(e[l],t),s(e[l])):"&&"===e[l]||"||"===e[l]?a=e[l]:"!"===e[l]?o=!0:s(t[e[l]]);return i},evaluate:function(e,t,i){var n=r.getRuleResults(t,i),a=r.parseRulesToArray(e);if(r.doAllRulesExist(a,n))return r.resolveArray(a,n)},evaluateDynamicRule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,i=e.entDef,r=e.entData,o=e.rule,s=o.mustMatchAll;if(o.entityName!==i.entityCanon)return!0;var l=s?"and":"or",d=[];return n.each(o.filterDenormalized,(function(e){var a={operator:e.operator,field:e.fieldName,value:e.fieldValues};if(i&&t.enabledFeatures){var r=t.enabledFeatures,o=i.filterDisabledFeaturesFields(i.fields(),r);(o=n.map(o,"field")).includes(a.field)&&delete a.value}d.push(a)})),new a({context:t,entDef:i,entData:r}).evaluateOperations(d,l)},evaluateDynamicRules:function(e){var t=this,i=e.context,a=e.entDef,r=e.entData,o=e.rules,s={};return n.each(o,(function(e){s[e.id]=t.evaluateDynamicRule({context:i,entDef:a,entData:r,rule:e})})),s},evaluateDynamicRuleGroup:function(e){var t=e.ruleGroup,i=e.context,a=e.entDef,r=e.entData,o=this.evaluateDynamicRules({context:i,entDef:a,entData:r,rules:t.filters});return(t.mustMatchAll?n.every:n.some)(o,(function(e){return e}))},evaluateDynamicRuleGroups:function(e){var t=this,i=e.context,a=e.entDef,r=e.entData,o=e.ruleGroups,s={};return n.each(o,(function(e){s[e.id]=t.evaluateDynamicRuleGroup({context:i,entDef:a,entData:r,ruleGroup:e})})),s},hasValue:function(e,t){var i=!0;return(null==e||n.isString(e)&&""===e.trim()||n.isArray(e)&&0===e.length||n.includes(["checkbox","toggle"],t)&&!0!==e)&&(i=!1),i}};e.exports=r},644438:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,"string");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(45700),i(689572),i(752675),i(489463),i(426099),i(16280),i(102892),i(802259),i(123792),i(747764),i(962953),i(842762),i(327495),i(725440),i(962062);var r=i(96190),o=i(18063),s={getFiltersForEntities:function(e){var t=i(939994);return!e||r.isEmpty(e)?null:r.isArray(e)?t.queryMap(e,"es",(function(e,t){return t.esDefaultFilters()})).toQuery():e.esDefaultFilters()||null},sanitizeSearchQuery:function(e){var t=e;return e&&(t=(e=r.trim(e)).replace(/(\\)?([\+\-\&\|\!\(\)\{\}\[\]\^\"\~\*\?\:\\\/])/g,(function(e,t){return t?e:"\\"+e}))),t},getAttachmentContentMust:function(e,t){return{has_child:{type:"sys_attachment_content",ignore_unmapped:!0,query:e(t=t||"file.content.content"),inner_hits:{_source:!1,ignore_unmapped:!0,highlight:{encoder:"html",pre_tags:['<span class="highlight-result">'],post_tags:["</span>"],fields:a({},t,{fragment_size:70,number_of_fragments:8})}}}}},getFileNameWithContentMatchQuery:function(e){if(e&&e.fileTitleSubfield&&e.buildQueryFn&&e.buildMatchQueryFn){var t=e.fileTitleFieldName,i=e.buildQueryFn,n=e.buildMatchQueryFn;return i([n(t),s.getAttachmentContentMust(n)])}},getFileNameWithContentContainsQuery:function(e,t,i){var n=!0!==i?s.should:s.mustNot;return s.getFileNameWithContentMatchQuery({fileTitleFieldName:e,buildQueryFn:n,buildMatchQueryFn:function(e){return{match:a({},e,{query:t})}}})},getFileNameWithContentContainsExactWordsQuery:function(e,t,i){var n=!0!==i?s.should:s.mustNot;return s.getFileNameWithContentMatchQuery({fileTitleFieldName:e,buildQueryFn:n,buildMatchQueryFn:function(e){return{match_phrase:a({},e,{query:t,slop:0})}}})},getAnyTermsEntitesQuery:function(e){if(e&&e.entDefs&&e.operator&&e.searchText&&e.enabledFeatures){var t=e.entDefs,i=e.operator,n=e.searchText,a=!1!==e.applyDefaultFilters,s=e.context,l=e.fields,d=e.enabledFeatures,c=e.lang,u=r.map(t,(function(e){return e.getAnyTermsMatchQuery({operator:i,searchText:n,applyDefaultFilters:a,context:s,fields:l,enabledFeatures:d,lang:c})}));return o.should(u)}},getAllTermsEntitesQuery:function(e){if(e&&e.entDefs&&e.operator&&e.searchText&&e.enabledFeatures){var t=e.entDefs,i=e.operator,n=e.searchText,a=!1!==e.applyDefaultFilters,s=e.context,l=e.fields,d=e.enabledFeatures,c=e.lang,u=r.map(t,(function(e){return e.getAllTermsMatchQuery({operator:i,searchText:n,applyDefaultFilters:a,context:s,fields:l,enabledFeatures:d,lang:c})}));return o.should(u)}},getExactWordsEntitiesQuery:function(e){if(e&&e.entDefs&&e.searchText&&e.enabledFeatures){var t=e.entDefs,i=e.searchText,n=!1!==e.applyDefaultFilters,a=e.context,s=e.fields,l=e.enabledFeatures,d=e.lang,c=r.map(t,(function(e){return e.getExactWordsQuery({searchText:i,applyDefaultFilters:n,context:a,fields:s,enabledFeatures:l,lang:d})}));return o.should(c)}}};e.exports=s},185999:(e,t,i)=>{"use strict";var n=i(96190),a={must:function(e){return e=n.isArray(e)?e:[e],e=n.compact(e),n.isEmpty(e)?null:{operator:"and",values:e}},mustNot:function(e){return e=n.isArray(e)?e:[e],e=n.compact(e),n.isEmpty(e)?null:{operator:"not",values:e}},should:function(e){return e=n.isArray(e)?e:[e],e=n.compact(e),n.isEmpty(e)?null:{operator:"or",values:e}},impossibleTerm:function(){return{operator:"and",values:[{operator:"is_empty",field:"id",type:"primary",values:[]}]}}};a.or=a.should,a.not=a.mustNot,a.and=a.must,e.exports=a},596099:(e,t,i)=>{"use strict";var n=i(939994),a=i(927474);e.exports=new a({userEntDef:n.get("sys/user")})},342141:(e,t,i)=>{"use strict";var n=i(279383);i(16280),i(962062);var a=i(96190),r=i(122268),o=i(947432);e.exports=function(e){return{countEntity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){i(e).count("* as count").where(t.where||{}).asCallback((function(e,t){return e?r(e):r(null,parseInt(a.head(t).count,10))}))}},countActiveEntity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){i(e).count("* as count").where(t.where||{}).andWhere({sys_active:!0}).asCallback((function(e,t){return e?r(e):r(null,parseInt(a.head(t).count,10))}))}},countDistinctField:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,a){if(!n.field)throw Error("Missing field parameter");i(e).distinct(n.field).where(t.where||{}).asCallback((function(e,t){return e?a(e):a(null,parseInt(t.length,10))}))}},countActiveDistinctField:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,a){if(!n.field)throw Error("Missing field parameter");i(e).distinct(n.field).where(t.where||{}).andWhere({sys_active:!0}).asCallback((function(e,t){return e?a(e):a(null,parseInt(t.length,10))}))}},countEntityByGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,r,o){if(!r.groupingField)throw Error("Missing groupingField parameter");var s=r.groupingField,l=r.field,d=void 0===l?"*":l,c=r.customFormsLimit||parseInt(n.env.CUSTOM_FORMS_LIMIT,10)||20;i(e).select(s).count("".concat(d," as count")).where(t.where||{}).groupBy(s).orderBy(s).limit(c).asCallback((function(e,t){if(e)return o(e);var i={};return a.each(t,(function(e){var t=e[s]||"notDefined";i[t]=parseInt(e.count,10)})),o(null,i)}))}},countActiveEntityTodayByGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){if(!n.groupingField)throw Error("Missing groupingField parameter");var s=(new Date).toISOString().substring(0,10),l=o(s).startOf("day"),d=o(s).endOf("day"),c=n.groupingField;i(e).select(c).count("* as count").where(t.where||{}).whereBetween(n.dateField||"created_date",[l,d]).where("sys_active",!0).groupBy(c).orderBy(c).asCallback((function(e,t){if(e)return r(e);var i={};return a.each(t,(function(e){var t=e[c]||"notDefined";i[t]=parseInt(e.count,10)})),r(null,i)}))}},averageActiveEntityByGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){if(!n.averageField)throw Error("Missing averageField parameter");if(!n.groupingField)throw Error("Missing groupingField parameter");var o=n.groupingField,s=n.averageField;i(e).select(o).avg(s,"as avg").where("sys_active",!0).where(t.where||{}).groupBy(o).orderBy(o).asCallback((function(e,t){if(e)return r(e);var i={};return a.each(t,(function(e){var t=e[o]||"notDefined";i[t]=parseInt(e.avg,10)})),r(null,i)}))}},countActiveEntityByGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){if(!n.groupingField)throw Error("Missing groupingField parameter");var o=n.groupingField,s=n.field,l=void 0===s?"*":s;i(e).select(o).count("".concat(l," as count")).where(t.where||{}).andWhere({sys_active:!0}).groupBy(o).orderBy(o).asCallback((function(e,t){if(e)return r(e);var i={};return a.each(t,(function(e){var t=e[o]||"notDefined";i[t]=parseInt(e.count,10)})),r(null,i)}))}},countTotalAverageAndHighestByCase:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(i,n,r){i(e).select().count("* as count").where(t.where||{}).andWhere({sys_active:!0}).groupBy("case_id").asCallback((function(e,t){if(e)return r(e);if(a.isEmpty(t))return r(null,parseInt(0,10));var i={},n=a.maxBy(t,(function(e){return parseInt(e.count,10)})),o=a.sumBy(t,(function(e){return parseInt(e.count,10)})),s=a.meanBy(t,(function(e){return parseInt(e.count,10)}));return i.totalActiveCount=o,i.highestCountOnSingleCase=n.count,i.averageActiveCountPerCase=s,r(null,i)}))}},countActiveEntityByPicklistGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return function(i,n,o){if(!n.picklistName)throw Error("Missing picklistName parameter");var s=n.picklistName;r.series({picklistValues:function(t){i("sys_listitem").where("sys_listitem.name",s).andWhere("sys_listitem.sys_active",!0).andWhere(e.listItemWhere||{}).asCallback((function(e,i){return e?t(e):t(null,a.map(i,"value"))}))},countsByGroup:function(a){t.countActiveEntityByGroup(e)(i,n,a)}},(function(e,t){if(e)return o(e);var i=t.picklistValues,n=t.countsByGroup,r={};return a.each(i,(function(e){r[e]=n&&n[e]?n[e]:0})),o(null,r)}))}},averageActiveEntityByPicklistGroup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return function(i,n,o){if(!n.picklistName)throw Error("Missing picklistName parameter");var s=n.picklistName;r.series({picklistValues:function(t){i("sys_listitem").where("sys_listitem.name",s).andWhere("sys_listitem.sys_active",!0).andWhere(e.listItemWhere||{}).asCallback((function(e,i){return e?t(e):t(null,a.map(i,"value"))}))},countsByGroup:function(a){t.averageActiveEntityByGroup(e)(i,n,a)}},(function(e,t){if(e)return o(e);var i=t.picklistValues,n=t.countsByGroup,r={};return a.each(i,(function(e){r[e]=n&&n[e]?n[e]:0})),o(null,r)}))}},countActiveEntityByPicklistGroupToday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return function(i,n,o){if(!n.picklistName)throw Error("Missing picklistName parameter");var s=n.picklistName;r.series({picklistValues:function(t){i("sys_listitem").where("sys_listitem.name",s).andWhere("sys_listitem.sys_active",!0).andWhere(e.listItemWhere||{}).asCallback((function(e,i){return e?t(e):t(null,a.map(i,"value"))}))},countsByGroup:function(a){t.countActiveEntityTodayByGroup(e)(i,n,a)}},(function(e,t){if(e)return o(e);var i=t.picklistValues,n=t.countsByGroup,r={};return a.each(i,(function(e){r[e]=n&&n[e]?n[e]:0})),o(null,r)}))}},getTranslationFilter:function(e){return{groupName:"usageStatistics",subgroupName:"datasetName",key:e}},getPicklistTransFilter:function(e,t){return{groupName:"picklist",subgroupName:t,key:e}},getPicklistDatasetTrans:function(e,t,i){var n=this.getTranslationFilter(e.key),a=i(this.getPicklistTransFilter(t,e.options.picklist),!0,{dataset:t},t);return i(n,!0,{dataset:a},a)}}}},522609:(e,t,i)=>{"use strict";function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(747764),i(523418),i(134782),i(202008),i(426099),i(250113),i(327495),i(725440),i(842762),i(962010),i(874423),i(21699),i(884864),i(757465),i(87745),i(938781),i(311927),i(671761),i(123792),i(962953),i(411392),i(699449),i(428706),i(962062),i(944114),i(690906),i(423500),i(879978),i(409868),i(16280);var r=i(96190),o=i(122268),s=i(184743),l=i(647451).parsePhoneNumberFromString,d=i(578306).converterBase2,c=i(248456),u=i(800030);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={hasValue:function(e){return null!=e&&("string"!=typeof e||""!==e.trim())},picklistTranslationKeyFromValue:function(e){return"string"!=typeof e||""===e?null:e.toLowerCase().replace(/\s/g,"_")},picklistTranslationKey:function(e){return{groupName:"picklist",subgroupName:e.name,key:t.picklistTranslationKeyFromValue(e.value)}},picklistTypeTranslationKey:function(e){return{groupName:"picklist_type",subgroupName:"caption",key:e.name}},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()},hasRole:function(e,t){var i;return null==e||null===(i=e.perm)||void 0===i||null===(i=i.roles)||void 0===i?void 0:i.includes(t)},checkIfDateAndFormat:function(e,t){return this.checkIfDate(e)?this.formatDate(e,t):e},checkIfDate:function(e){if(e&&r.isString(e)){var t=new RegExp(["(\\d{4})(?:-?W(\\d+)(?:-?(\\d+)D?)?|(?:-(\\d+))?-(\\d+))","(?:[T ](\\d+):(\\d+)(?::(\\d+)(?:\\.(\\d+))?)?)?","(?:Z(-?\\d*))?$"].join("")),i=e.match(t),n=new RegExp("(^2[0-9]{3}-.*[0-9]{4}.*$)"),a=e.match(n);return!(!i||a)}return e instanceof Date},formatDate:function(e,t){return e&&t?s(new Date(e)).format(t):null},formatDateUTC:function(e,t){return e&&t?s.utc(new Date(e)).format(t):null},formatTime:function(e,t){return e&&t?s(e,"HH:mm:ss").format(t):null},convertToEsFormattedDate:function(e,t,i){var n=s(e,t,!0);return n.isValid()?s(n).format(i.globalOptions.defaultDateFormat):e},convertToEsFormattedDateTime:function(e,t,i){var n=e.match(/(Z|([+-])(\d{2}):(\d{2})|([+-])(\d{1})(\d{1})|([+-])(\d{2})(\d{2}))$/),a="";n&&(a=" "+n[0]);var r=s(e,t);return r.isValid()?s(r).format(i.globalOptions.defaultDateTimeFormat)+a:e},convertToEsFormattedTime:function(e,t,i){var n=s(e,t);return n.isValid()?s(n).format(i.globalOptions.defaultTimeFormat):e},shiftDateTimezone:function(e,t,i){var n=new Date(e).toISOString(),a=s(n,"YYYY/MM/DD HH:mm:ss A");if(!a.isValid())return a;if(e.match(/(Z|([+-])(\d{2}):(\d{2})|([+-])(\d{1})(\d{1})|([+-])(\d{2})(\d{2}))$/))return a.tz("UTC",!0),a.tz(i),a;var r=s.tz.guess(!0),o=s.tz(r).utcOffset();return a.add(o,"m"),a.tz(t,!0),a.tz(i),a},removeSeconds:function(e){return e.setSeconds(0,0),e},matchCondition:function(e,t,i){var n=!0;return r.each(r.keys(t),(function(a){var o=e[a],s=t[a],l=r.startsWith(s,"{")&&r.endsWith(s,"}");return r.isString(s)&&l&&(s=r.get(i,s.substring(1,s.length-1))),n=r.isArray(o)&&r.isArray(s)?n&&r.intersection(o,s).length>0:r.isArray(o)?n&&r.includes(o,s):r.isArray(s)?n&&r.includes(s,o):n&&o===s})),n},getAclDefinitions:function(){var e={accessControls:[],allowedProperties:[]},t=i(939994).getAll();return r.each(t,(function(t){var i=t.acl;r.each(i.accessControls,(function(e){e.entities=[{zone:t.entity.zone,base:t.entity.base,name:t.entity.name}]})),r.each(i.allowedProperties,(function(e){e.entity={zone:t.entity.zone,base:t.entity.base,name:t.entity.name}})),i.accessControls&&i.accessControls.length>0&&(e.accessControls=e.accessControls.concat(i.accessControls)),i.allowedProperties&&i.allowedProperties.length>0&&(e.allowedProperties=e.allowedProperties.concat(i.allowedProperties))})),e},rateLimit:function(e,t){var i=[],n=!1,a=!0,o=function e(){var o=t;!0===a?(a=!1,o=0):o=t,i.length>0?(n=!0,r.delay((function(){var t=i.shift();t[1].apply(t[0],t[2]),e()}),o)):(n=!1,a=!0)};return function(){var t=r.map(arguments,(function(e){return e}));i.push([this,e,t]),n||o()}},rateLimitQueue:function(e,t,i){var n=[],a=!1,o=!0,s=function e(){var t=i;!0===o?(o=!1,t=0):t=i,n.length>0?(a=!0,r.delay((function(){var t=n.shift();t[1].apply(t[0],t[2]),e()}),t)):(a=!1,o=!0)};return function(){var t=r.map(arguments,(function(e){return e}));n.push([this,e,t]),a||s()}},convertToDefaultTimezone:function(t){var i,n=e.globalOptions.defaultTimezone;if(/\d{4}-\d{2}-\d{2}T00:00:00\+00:00/.test(s(t).format())){var a=s();(i=s(t).tz(n)).add(a.utcOffset()-i.utcOffset(),"minutes")}else i=s(t).tz(n);return i.startOf("day")},getBusinessDays:function(e,t){var i=this.convertToDefaultTimezone(e).startOf("day"),n=this.convertToDefaultTimezone(t).startOf("day"),a=Math.abs(n.diff(i,"days"));if(0===a)return 0;a-=2*Math.floor(a/7);var r=i.weekday(),o=n.weekday();return r-o>0&&(a-=2),0===r&&6!==o&&(a-=1),6===o&&0!==r&&(a-=1),a},translate:function(t){var i,n=t.filter,a=t.allowUndefinedKey,o=t.context,s=t.missingTranslationValue,l=t.translations,d=e.globalOptions,c=t.entityFields,p=t.skipTranslateDeleted;if(void 0===n)return!0===a?"":d.missingTranslationIndicator+" resource missing key "+d.missingTranslationIndicator;if(null===n||""===n)return"";var f={key:n.key?n.key.toString().toLowerCase():n.toString().toLowerCase(),groupName:n.groupName?n.groupName.toString().toLowerCase():null,subgroupName:n.subgroupName?n.subgroupName.toString().toLowerCase():null};if(i=r.get(l,[f.groupName||"null",f.subgroupName||"null",f.key]),l&&r.isEmpty(i)){var h=n.key?n.key:n||"null",m=n.groupName?n.groupName:"null",g=n.subgroupName?n.subgroupName:"null",y=d.missingTranslationIndicator+" "+m+d.missingTranslationSeparator+g+d.missingTranslationSeparator+h+" "+d.missingTranslationIndicator;if(s||""===s)return s;if(c&&"fields"===n.subgroupName&&!0!==p){var v=function(e){var t=e.filter,i=e.translations,n=e.entityFields,a=!r.isNil(t.groupName)&&u.getEntityFromCanon(t.groupName),o=r.isObject(a)&&r.find(n,(function(e){return r.isEqual(e.entity,a)}));if(o&&!o.fields[t.key]){var s=r.get(i,["errors","general","unknown_field"]);if(s)return s.replace("{fieldName}",t.key)}return null}({filter:n,translations:l,entityFields:c});if(v)return v}return y}if(!r.isEmpty(i)&&o&&r.isObject(o)){var b=i.match(/{\S+?}/g);r.forEach(b,(function(e){var t=e.substring(1,e.length-1),n=r.get(o,t);r.isNil(n)||(r.isString(n)&&-1!==n.indexOf("$")&&(n=n.replaceAll("$","$$$$")),i=i.replaceAll(e,n))}))}return i},getEntityNameFromObj:function(e){var t="";return e.zone&&(t+=e.zone+"_"),e.base&&(t+=e.base+"_"),t+(e.name||"undefined")},slashEntityNameFromObj:function(e){return(e.zone||"-")+"/"+(e.base||"-")+"/"+(e.name||"-")},isSystemUserId:function(e){return!!r.find(c,(function(t){return t.id===e+""}))},convertTranslationRecords:function(e){var t={};return r.forEach(e,(function(e){var i=e.groupName,n=e.subgroupName,a=e.key,o=e.value,s=e.deletedDate,l="".concat(i,".").concat(n,".").concat(a);r.get(t,l)||(t[l]=s?null:o)})),t},convertTranslationArrayToObject:function(e){var t={};return r.each(e,(function(e){var i=(e.key||"").toLowerCase(),n=(e.groupName||"null").toLowerCase(),a=(e.subgroupName||"null").toLowerCase();r.get(t,[n,a,i])||r.setWith(t,[n,a,i],e.value,Object)})),t},merge:function(e,t){var i=this;return r.isArray(t)?(r.each(t,(function(t){e=i.merge(e,t)})),e):r.mergeWith({},e,t,(function(e,t){if(r.isArray(e))return e.concat(t)}))},getEntFieldName:function(e,t){return e.table+"."+t},getLowerCase:function(e,t){return r.isString(e)&&!r.isEmpty(e)?e.toLowerCase():t?null:e},getFieldNamesFromFormLayout:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.isObject(t)&&!t.elements)return t.field;if(r.isObject(t)&&t.elements){var i=[];return r.each(t.elements,(function(t){var n=e.getFieldNamesFromFormLayout(t);r.isArray(n)?n=r.compact(n):n&&""!==n||(n=[]),i=i.concat(n)})),i}return[]},convertData:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=d(e,t,i);return r.round(a,n)},getFilename:function(e){return e.replace(/^.*[\\\/]/,"")},_getDownloadUrl:function(e){var t=e.model,i=e.apiRoot,n=e.entityName,a=e.entityId,o=e.fieldName,s=e.objectId,l=n||t.getEntity().name,d=a||t.get("id"),c=o||t.fileAttribute,u=s||r.get(t,"attributes.".concat(c,".objectId"));return l&&d&&c&&u?"".concat(i,"/").concat(l,"/").concat(d,"/attachment?fieldName=").concat(c,"&fsObjectId=").concat(u):null},addDataUnits:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e?e.toFixed(i):0;return n&&(a=parseFloat(a).toString()),t?"".concat(a," ").concat(t):a.toString()},getDataUnitAbbreviation:function(e){if("terabytes"===e)return"TB";if("gigabytes"===e)return"GB";if("megabytes"===e)return"MB";throw new Error("Please provide a unitKey with an accepted value")},getDbClientAndName:function(){var e={default:i(276640),audit:i(416317),filestore:i(789609),quartz:i(614227)},t=[];return r.forOwn(e,(function(e,i){var n=e.client.config.client,a=e.client.config.connection.database;t.push([a,n])})),t},countActiveUsersByRole:function(e,t){e("sys_user_role").rightJoin("sys_user","sys_user_role.id","sys_user.user_role_id").count("*").select("sys_user_role.name").whereNotIn("sys_user.type",["guest","system","portal","hotline"]).andWhereNot("sys_user_role.name","Hotline Agent").andWhere("sys_user.active",!0).groupBy("sys_user_role.id").orderBy("sys_user_role.name").asCallback((function(e,i){if(e)return t(e);var n={};return r.forEach(i,(function(e){var t=e.name||"notDefined";n[t]=parseInt(e.count,10)})),t(null,n)}))},countUsers:function(e,t,i){t("sys_user").leftJoin("sys_user_role","sys_user_role.id","sys_user.user_role_id").count("* as count").whereNotIn("sys_user.type",["guest","system","portal","hotline"]).andWhere("sys_user.active",e).andWhereNot("sys_user_role.name","Hotline Agent").asCallback((function(e,t){return e?i(e):i(null,parseInt(r.head(t).count,10))}))},countActiveUsersWithReporting:function(e,t){e("sys_user").count("*").whereNotIn("sys_user.type",["guest","system","portal","hotline"]).andWhere("sys_user.active",!0).andWhere("sys_user.has_report_access",!0).asCallback((function(e,i){if(e)return t(e);var n=i.length?parseInt(i[0].count,10):0;return t(null,n)}))},matchesFilter:function(e,t){var i=!0;return r.isEmpty(t)||r.forEach(t,(function(t,n){if(e[n]!==t)return i=!1,!1})),i},getFieldValidOperators:function(e){var t=e.fieldDef,i=e.fieldTypes,n=e.operatorType,a=void 0===n?"es":n,o=e.operatorFilter,s=void 0===o?{}:o,l=this,d=i[t.type],c=d.getOperators(a),u=r.keys(c),p=u;return"es"===a&&(p=r.filter(u,(function(e){var t=c[e]||{},i=t.getQuery;return r.isFunction(i)&&!1!==t.ui&&l.matchesFilter(t,s)}))),d.name.includes("[]")&&r.pull(p,"is","is_not"),p},getAsArray:function(e){return r.isArray(e)?e:[e]},updateObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return r.isPlainObject(t)?(r.forEach(e,(function(t,i){delete e[i]})),r.forEach(t,(function(t,i){e[i]=t})),e):e},updateArray:function(e,t){return r.isArray(t)?(e.length=0,r.forEach(t,(function(t){return e.push(t)})),e):e},getTranslationKeyFromFieldValue:function(e){if(r.isNil(e)||!r.isString(e))return null;var t=r.toLower(e);return t.length>2704&&(t=t.substring(0,2704)),t},isDynamicPortalEnabledForEntity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isDataForm,n=t.isCustomForm,a=t.layoutData,r=t.authOptions;if(!e&&(i||n)&&!a||!r)return!1;var o,s=r.guestEnabled&&r.allowExternalPortal&&r.allowExternalEntityApi;return o=i||n?a.showOnPortal:e.allowOnPortal,s&&!!o},isHotlineIntakeEnabledForEntity:function(e,t){if(!e||!t)return!1;var i=t.isCustomForm,n=t.layoutData,a=t.hotlineAgentIntakeEnabled;return(t.displayFormsOnHotlineEnabled&&i&&n.showOnHotline||!!e.allowOnHotline)&&a},throttleByArguments:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memoize((function(){return r.throttle(e,t,i)}),i.resolver);return function(){n.apply(this,arguments).apply(this,arguments)}},getFileUsageKinds:function(){return i(658828).getOptionsFile("options.file-usage-kinds.js")},truncateNumber:function(e,t){return parseFloat(e.toFixed(t))},isValidPhoneNumber:function(e){var t=l(e);return t&&(t.isValid()||t.isPossible()&&t.isNonGeographic())},validateFileName:function(e){var t=e;-1!==e.lastIndexOf(".")&&(t=e.substring(0,e.lastIndexOf("."))),t=t.trim();var i=/(^COM\d{1}$)|(^LPT\d{1}$)|(^CON$)|(^PRN$)|(^AUX$)|(^NUL$)/i,n=/\\|\/|\?|\*|\||"|>|</,a=/\bNUL\b|\//i,r=!!i&&i.test(t),o=!!a&&a.test(t),s=!!n&&n.test(t);return!r&&!o&&!s},isExtensionAllowedForPacket:function(e){return[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".jpg",".jpeg",".png",".gif"].includes(null==e?void 0:e.toLowerCase())},getDuplicateCaptions:function(e){return r.omitBy(r.reduce(e,(function(e,t,i){return r.set(e,t,(e[t]||[]).concat([i]))}),{}),(function(e){return e.length<=1}))},isGuid:function(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)},getCacheableFieldNames:function(e){var t,i=r.chain(e).filter((function(e){return"dynamic"===e.kind})).map("field").value();return["id"].concat(function(e){if(Array.isArray(e))return a(e)}(t=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},getLocale:function(e){if(r.isEmpty(e))return null;var t=e.match(/^(\w{2}_)(\w{2,})/);return t?"".concat(t[1]).concat(t[2].toUpperCase()):e},calculateDbSize:function(e,t){var i=e.dbClient,a=e.dbName,o=e.knex;"pg"===i?o.raw("select pg_database_size('".concat(a,"')")).asCallback((function(e,i){if(e)return t(e);var a,o,s=(a=i.rows,o=1,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,d=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,a=e}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw a}}return s}}(a,o)||n(a,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].pg_database_size;return t(null,r.parseInt(s))})):t(null,0)},calculateDbTotalSize:function(e,i){var n=0,a=t.getDbClientAndName();o.each(a,(function(i,a){var r=i[0],o=i[1];t.calculateDbSize({dbName:r,dbClient:o,knex:e},(function(e,t){return e?a(e):(n+=t,a())}))}),(function(e){return e?i(e):i(null,n)}))},getSectionHelpTextTranslationKey:function(e){if(e)return t.getTranslationKeyFromFieldValue("helptext_".concat(e))}};return t}},394894:(e,t,i)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(752675),i(489463),i(802259),i(123792),i(747764),i(962953),i(523418),i(134782),i(938781),i(962010),i(327495),i(690906),i(16280),i(202008),i(426099),i(423500),i(250113),i(944114),i(962062),i(874423),i(21699),i(428706);var r=i(96190),o=i(362584);function s(e,t,i){var a=[],o=r.filter(t,{parentId:e});return r.forEach(o,(function(e){if("field"===e.layoutType){var o=r.find(i,{id:e.fieldId});a.push(o.field)}else{var l=s(e.id,t,i);a.push.apply(a,n(l))}})),a}function l(e){var t=e.entDef,i=e.fields,a=e.entData,l=e.layouts,d=e.layoutRuleGroups,c=e.context,u=[],p=o.evaluateDynamicRuleGroups({context:c,entDef:t,entData:a,ruleGroups:d});return r.forEach(l,(function(e){if(!function(e,t){if(!e||t[e])return!0;var i=o.parseRulesToArray(e);return!o.doAllRulesExist(i,t)||o.resolveArray(i,t)}(e.displayRuleGroupId,p))if("field"===e.layoutType){var t=r.find(i,{id:e.fieldId});u.push(t.field)}else if("section"===e.layoutType||"tab"===e.layoutType||"data-form-section"===e.layoutType){var a=s(e.id,l,i);u.push.apply(u,n(a))}})),u}function d(e){var t=e.layouts,i=e.layout,a=e.fields,o=[],s=r.filter(t,{parentId:i.id,layoutType:"field"});if(r.forEach(s,(function(e){var t=r.find(a,{id:e.fieldId});t&&o.push(t.field)})),"tab"===i.layoutType){var l=r.filter(t,{parentId:i.id,layoutType:"section"});r.forEach(l,(function(e){var i=d({layouts:t,layout:e,fields:a});o.push.apply(o,n(i))}))}return o}function c(e,t){var i=t.fields,a=t.layouts,o=t.isNew,s=[];return o?(r.forEach(a,(function(t){if("field"===t.layoutType){var o=r.find(i,{id:t.fieldId});o&&!o[e]&&s.push(o.field)}if(!t[e]&&!t.locked&&"insertionPoint"!==t.layoutType){var l=d({layouts:a,layout:t,fields:i});s.push.apply(s,n(l))}})),s):s}var u={getDynamicFields:function(e){var t=["dynamic","dynamic-external"];return r.chain(e.fields()).filter((function(e){return t.includes(e.kind)})).map("field").value()},getHiddenDynamicFields:function(e){var t,i=e.entDef,a=e.entData,o=e.layouts,s=e.layoutRuleGroups,u=e.context,p=e.isNew,f=e.user,h=e.isActivatingCase,m=void 0!==h&&h,g=[],y=i.fields(),v=r.includes(null==f||null===(t=f.perm)||void 0===t?void 0:t.roles,"hotline_agent");if(!i.isDynamicEntity()&&!i.isPartiallyDynamicEntity())return g;var b=l({entDef:i,fields:y,entData:a,layouts:o,layoutRuleGroups:s,context:u});if(g=g.concat(b),p&&"external"===a.apiType){var w=c("showOnPortal",{fields:y,layouts:o,isNew:p});g=g.concat(w)}else if(!p||!v&&!m||"hotline"!==a.intakeMethod&&"hotline"!==a.caseId__intakeMethod){var A=function(e){var t=e.fields,i=e.layouts,a=[];return e.isNew?(r.forEach(i,(function(e){if("form"!==e.layoutType){if("field"===e.layoutType){var o=r.find(t,{id:e.fieldId});o&&o.hideOnIntake&&a.push(o.field)}if(e.hideOnIntake){var s=d({layouts:i,layout:e,fields:t});a.push.apply(a,n(s))}}})),a):a}({fields:y,entData:a,layouts:o,isNew:p});g=g.concat(A)}else{var C=c("showOnHotline",{fields:y,layouts:o,isNew:p});g=g.concat(C)}return r.uniq(g)},getSubmitOnlyFieldsNames:function(e){var t=e.entDef,i=t.fields(),n=[];return r.forEach(i,(function(e){t.fieldHasFlag(e,"submitOnly")&&n.push(e.field)})),n},getExcludeFields:function(e){var t,i=e.isNew,n=e.entDef,a=u.getSubmitOnlyFieldsNames(e),o=null===(t=e.context)||void 0===t?void 0:t.enabledFeatures,s=[];if(o){var l=n.filterDisabledFeaturesFields(n.fields(),o);s=r.map(l,"field")}if(n.isDynamicEntity()||n.isPartiallyDynamicEntity()){var d=u.getHiddenDynamicFields(e);s=s.concat(d)}return i||(s=s.concat(a)),s}};e.exports=u},911151:(e,t,i)=>{"use strict";var n=i(325425),a=i(40785);e.exports=n.extend({formConfigName:"case-overview",template:i(287830),caption:a.translateKey("overview"),features:{readOnlyFields:!0}})},433998:(e,t,i)=>{var n={"./actionHistory/index.js":107175,"./appointment/index.js":484088,"./assignmentAction/index.js":451168,"./attachment/index.js":27162,"./audit/index.js":269262,"./automatedTodoAction/index.js":146369,"./case/index.js":464099,"./caseSummary/index.js":75761,"./comment/index.js":884292,"./condition/index.js":192292,"./condition_type/index.js":230801,"./dataDictionarySnapshot/index.js":842063,"./dataFormEntry/index.js":730907,"./dataFormSectionLayoutType/index.js":571914,"./dataImports/index.js":483287,"./dataImportsAction/index.js":998041,"./dialing_instruction/index.js":904088,"./document/index.js":98698,"./dynamicEntityData/index.js":481503,"./email/index.js":864801,"./emailRule/index.js":686651,"./entityEvaluatorContext/index.js":320916,"./entityFlagsData/index.js":302995,"./entityGridLayoutType/index.js":470534,"./entityList/index.js":497196,"./event/index.js":686353,"./fieldLayoutType/index.js":499827,"./fieldValueAction/index.js":625336,"./filestore/index.js":869690,"./filter/index.js":833269,"./filterChild/index.js":838693,"./filterGroup/index.js":498364,"./flag/index.js":890157,"./formLayoutType/index.js":916399,"./generateDocumentAction/index.js":672835,"./graph/index.js":505345,"./gridColumn/index.js":583845,"./gridDataFilter/index.js":471881,"./gridDataFilterChild/index.js":116673,"./gridFilter/index.js":186945,"./gridStaticFilter/index.js":95563,"./gridView/index.js":990590,"./holiday_entry/index.js":660702,"./informationBoxLayoutType/index.js":111130,"./insertionPointLayoutType/index.js":600412,"./isightDynamicEntity/index.js":65359,"./isightDynamicEntityField/index.js":324197,"./isightEntity/index.js":549676,"./isightField/index.js":42677,"./language/index.js":118877,"./layout/index.js":949545,"./link/index.js":648243,"./link_match/index.js":926817,"./link_snapshot/index.js":695276,"./link_statistics/index.js":630751,"./list/index.js":102415,"./listItem/index.js":109132,"./log/index.js":110919,"./message/index.js":407558,"./note/index.js":469015,"./notification/index.js":717628,"./notificationAction/index.js":957258,"./option/index.js":857658,"./packet/index.js":513067,"./packet_template/index.js":174894,"./party/index.js":786317,"./passwordHistory/index.js":111814,"./permission/index.js":600444,"./person/index.js":601746,"./picklistValueSelection/index.js":961707,"./response/index.js":293568,"./roleFilter/index.js":257641,"./rolePermission/index.js":510208,"./rule/index.js":445581,"./ruleEntityValidation/index.js":172953,"./schedulePurgeAction/index.js":482003,"./scheduleRuleJobs/index.js":930564,"./searches/index.js":537135,"./sectionLayoutType/index.js":432704,"./selected_file_for_packet/index.js":673174,"./session/index.js":6789,"./setFlagAction/index.js":415057,"./shared_link/index.js":85127,"./shared_link_access/index.js":693634,"./shared_link_receipt/index.js":646072,"./state/index.js":518348,"./tabLayoutType/index.js":855508,"./team/index.js":77462,"./teamUser/index.js":37565,"./template/index.js":933937,"./theme/index.js":912620,"./todo/index.js":374807,"./transition/index.js":782092,"./transitionHistory/index.js":943444,"./translation/index.js":693950,"./usageRule/index.js":242980,"./usageStatistic/index.js":499324,"./user/index.js":462912,"./userList/index.js":76264,"./userRole/index.js":690920,"./userSpecificPermission/index.js":322331,"./workflow/index.js":829294};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=433998},774645:(e,t,i)=>{var n={"./case-type/index.js":295795,"./case/index.js":617640,"./checkbox/index.js":965013,"./code-multiple/index.js":489256,"./code/index.js":955505,"./color/index.js":569511,"./coordinate/index.js":5158,"./date/index.js":319120,"./datetime/index.js":366161,"./decimal/index.js":882743,"./delay/index.js":306527,"./dropdown/index.js":375321,"./email-lookup-multiple/index.js":217204,"./email-multiple/index.js":100515,"./email/index.js":12540,"./entity-name/index.js":993965,"./entity-picklist-multiple/index.js":445374,"./entity-picklist/index.js":246115,"./entity-record-picklist/index.js":17783,"./expression/index.js":746202,"./field-picklist-id/index.js":849868,"./field-picklist-multiple/index.js":605773,"./field-picklist/index.js":835498,"./field-type-multiple/index.js":75694,"./field-type/index.js":373715,"./file-multiple/index.js":448921,"./flag-name/index.js":602302,"./flag-status/index.js":945223,"./flags/index.js":266619,"./id/index.js":656409,"./image-cropper/index.js":281193,"./json-multiple/index.js":908685,"./json/index.js":421610,"./jsonb/index.js":279460,"./link-entity-id/index.js":992498,"./login-ip/index.js":133413,"./money/index.js":548768,"./number-range-picklist/index.js":65845,"./number/index.js":126293,"./party/index.js":828704,"./phone-number-multiple/index.js":105437,"./phone-number/index.js":926522,"./picklist-api-multiple/index.js":324259,"./picklist-api/index.js":710652,"./picklist-multiple/index.js":433144,"./picklist-name/index.js":570307,"./picklist-selectize-api/index.js":476335,"./picklist-selectize/index.js":525626,"./picklist-value/index.js":792461,"./picklist/index.js":728129,"./postal-code/index.js":772491,"./primary-party/index.js":247987,"./primary/index.js":416734,"./radio/index.js":455595,"./script/index.js":430731,"./secret/index.js":107592,"./sequence-number/index.js":494629,"./state/index.js":131441,"./team-multiple/index.js":192740,"./textarea/index.js":710882,"./textbox-multiple/index.js":11939,"./textbox-search/index.js":507167,"./textbox/index.js":858364,"./texteditor/index.js":11106,"./time/index.js":794237,"./toggle-inverted/index.js":121962,"./toggle/index.js":137704,"./typeahead/index.js":280917,"./url/index.js":455285,"./user-multiple/index.js":272582,"./user/index.js":241451,"./workflow-name/index.js":702683,"./workflow-picklist/index.js":128177,"./workflow-state-picklist/index.js":780793,"./workflow-status/index.js":322154,"./workflow-transition-picklist/index.js":653275,"./yesno/index.js":629220};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=774645},63025:(e,t,i)=>{var n={"./data-form-section/index.js":111583,"./entity-grid/index.js":306642,"./html-text/index.js":277487,"./information-box/index.js":712198,"./inline-form/index.js":195238,"./insertion-point/index.js":375078,"./layout/index.js":971222,"./raw/index.js":856566,"./section/index.js":506279,"./tab/index.js":629423,"./tabs/index.js":357792,"./tombstone/index.js":528679};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=63025},620997:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row form-group"><span data-readonly="false"><span class="field-component col-xs-12 col-sm-2"></span></span><span data-readonly="true"><label class="col-xs-12 col-sm-2">').f(t.get(["field"],!1),t,"h").w('</span></span><span data-readonly="false"><span class="external-field-component col-xs-12 col-sm-3"></span></span><span data-readonly="true"><label class="col-xs-12 col-sm-3">').f(t.get(["externalField"],!1),t,"h").w('</span></span><span class="icon-container col-xs-1" data-readonly="false"><i class="remove-field fa fa-times"></i></span></div>')}return e.register("specification-row-tmpl",t),t.__dustBody=!0,t}(n)},111182:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div class=\"col-sm-12\"><div class='row'><span class='col-sm-2 col-xs-12'><label class=\"mapping-header\">").h("resource",t,{},{key:"isight_field",groupName:"integrationmapping",subgroupName:"specification"},"h").w("</label></span><span class='col-sm-3 col-xs-12'><span class=\"mapping-header\">").h("resource",t,{},{key:"external_field",groupName:"integrationmapping",subgroupName:"specification"},"h").w('</span></span></div><div class="specification-rows"></div><div class="row" data-readonly="false"><div class="col-xs-12"><button class="btn btn-primary btn-xs criteria add-field">').h("resource",t,{},{groupName:"integrationmapping",subgroupName:"specification",key:"add_field"},"h").w("</button></div></div></div>")}return e.register("specification-tmpl",t),t.__dustBody=!0,t}(n)},462949:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('\x3c!-- Buttons to save and cancel --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true"><div class=\'btn-group\'><button class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom"title="').h("resource",t,{},{key:"edit"},"h").w('"id="edit"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged"><i class="fa fa-icon fa-pencil fa-lg"></i></button><button type="button" class="btn btn-primary btn-lg dropdown-toggle"data-toggle="dropdown" data-disable-rule="isMarkedOrPurged"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_options"},"h").w('"><span class="caret"></span></button><ul class="dropdown-menu styled-dropdown" role="menu"><li><a data-route="#" id="validate-mapping">').h("resource",t,{},{key:"validate",groupName:"integrationmapping",subgroupName:"validate"},"h").w('</a></li><li><a data-route="#" id="sample-csv">').h("resource",t,{},{key:"sample_csv",groupName:"integrationmapping",subgroupName:"sample"},"h").w("</a></li></ul></div>").h("eq",t,{block:r},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</div><div class="btn-toolbar pull-right" data-readonly="false"><div class="btn-group"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="isMarkedOrPurged"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><button type="button" class="btn btn-primary btn-lg dropdown-toggle"data-toggle="dropdown" data-disable-rule="isMarkedOrPurged"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_options"},"h").w('"><span class="caret"></span></button><ul class="dropdown-menu styled-dropdown" role="menu"><li id="save-and-copy"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w('</a></li></ul></div><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div></div>').s(t.getPath(!1,["model","id"]),t,{else:o,block:s},{}).w("<input type='file' accept='.csv' id='validate-file' class='hidden' /><hr>\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<button data-display-rule="showDeleteBtn" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"delete"},"h").w('" id="delete"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged" data-ladda-model-destroy><i class="fa fa-icon fa-trash fa-lg"></i></button>')}function o(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function s(e,t){return e.w('<div class="no-print">').s(t.getPath(!1,["model","childNumber"]),t,{else:l,block:d},{}).w('<div class="relationship-indicator-placeholder"></div></div><div class="print-only">').s(t.getPath(!1,["model","childNumber"]),t,{block:c},{}).w("</div>")}function l(e,t){return e.w('<h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</h1>")}function d(e,t){return e.w('<h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</h1>")}function c(e,t){return e.w("<h4>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(' |  <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</span></h4>")}return e.register("template-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,t}(n)},351995:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="modal fade error-view" data-backdrop="static" data-keyboard="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 id="modal-title" class="modal-title">').h("resource",t,{},{key:"validation_failed",subgroupName:"validate",groupName:"integrationmapping"},"h").w('</h4></div><div id="modal-body" class="modal-body"><p>').h("resource",t,{},{key:"errors_found",subgroupName:"validate",groupName:"integrationmapping"},"h").w("</p><ul>").s(t.get(["errors"],!1),t,{block:i},{}).w('</ul></div><div class="modal-footer"><button type="button" id="close-modal" name="close" class="btn btn-default"aria-label="').h("resource",t,{},{key:"ok"},"h").w('">').h("resource",t,{},{key:"ok"},"h").w("</button></div></div></div></div>")}function i(e,t){return e.w("<li>").f(t.get(["message"],!1),t,"h").w("</li>")}return e.register("validation-error-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},872240:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("element-properties-tmpl",t,t,{}).w('<div class="row" data-display-rule="!isHidden && (!addedToLayout || !hasTemplateSpecified)"><div class="col-xs-12 content-placeholder"/></div><div class="row inline-component" data-display-rule="!isHidden"/>')}return e.register("configure-component-tmpl",t),t.__dustBody=!0,t}(n)},808962:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="').f(t.get(["divId"],!1),t,"h").w('"></div>')}return e.register("form-component-tmpl",t),t.__dustBody=!0,t}(n)},114914:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("element-properties-tmpl",t,t,{}).w('<div class="row" data-display-rule="!isHidden && (!addedToLayout || !hasTemplateSpecified)"><div class="col-xs-12 content-placeholder"/></div><div class="row" id="integration-person-search-component" data-display-rule="!isHidden"/> ')}return e.register("configure-component-tmpl",t),t.__dustBody=!0,t}(n)},515908:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="control-container">').f(t.get(["label"],!1),t,"h",["s"]).w('<div class="lookup-control"><button type="button" id="').f(t.get(["buttonId"],!1),t,"h").w('" class="lookup-control-btn btn selector-btn" disabled><i class="fa fa-search" style="color:#208cd5"></i></button></div></div>')}return e.register("form-component-tmpl",t),t.__dustBody=!0,t}(n)},856038:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').s(t.get(["model"],!1),t,{block:r},{}).w("</div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:o},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w("</div></div>")}function o(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/appointment",ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},347796:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label" title="').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/appointment",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},850415:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/appointment",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},384094:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').h("eq",t,{block:o},{key:t.getPath(!1,["model","kind"]),value:"generated_template"},"h").h("eq",t,{block:s},{key:t.getPath(!1,["model","kind"]),value:"url"},"h").h("eq",t,{block:l},{key:t.getPath(!1,["model","kind"]),value:"file_upload"},"h").h("eq",t,{block:c},{key:t.getPath(!1,["model","kind"]),value:"custom_packet"},"h").h("eq",t,{block:u},{key:t.getPath(!1,["model","kind"]),value:"packet"},"h").w("</div></div></div>").s(t.get(["highlightedFields"],!1),t,{block:p},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.f(t.getPath(!1,["formattedData","templateId"]),t,"h",["s"])}function s(e,t){return e.f(t.getPath(!1,["formattedData","url"]),t,"h",["s"])}function l(e,t){return e.s(t.getPath(!1,["model","files"]),t,{block:d},{})}function d(e,t){return e.f(t.get(["name"],!1),t,"h")}function c(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function u(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function p(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/attachment",ago:f})}function f(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,t}(n)},106044:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<br /><div class="card-label" title="').h("eq",t,{block:o},{key:t.getPath(!1,["model","kind"]),value:"generated_template"},"h").h("eq",t,{block:s},{key:t.getPath(!1,["model","kind"]),value:"url"},"h").h("eq",t,{block:l},{key:t.getPath(!1,["model","kind"]),value:"file_upload"},"h").h("eq",t,{block:c},{key:t.getPath(!1,["model","kind"]),value:"custom_packet"},"h").h("eq",t,{block:u},{key:t.getPath(!1,["model","kind"]),value:"packet"},"h").w('">').h("eq",t,{block:p},{key:t.getPath(!1,["model","kind"]),value:"generated_template"},"h").h("eq",t,{block:f},{key:t.getPath(!1,["model","kind"]),value:"url"},"h").h("eq",t,{block:h},{key:t.getPath(!1,["model","kind"]),value:"file_upload"},"h").h("eq",t,{block:g},{key:t.getPath(!1,["model","kind"]),value:"custom_packet"},"h").h("eq",t,{block:y},{key:t.getPath(!1,["model","kind"]),value:"packet"},"h").w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:v},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.f(t.getPath(!1,["formattedData","templateId"]),t,"h",["s"])}function s(e,t){return e.f(t.getPath(!1,["formattedData","url"]),t,"h",["s"])}function l(e,t){return e.s(t.getPath(!1,["model","files"]),t,{block:d},{})}function d(e,t){return e.f(t.get(["name"],!1),t,"h")}function c(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function u(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function p(e,t){return e.f(t.getPath(!1,["formattedData","templateId"]),t,"h",["s"])}function f(e,t){return e.f(t.getPath(!1,["formattedData","url"]),t,"h",["s"])}function h(e,t){return e.s(t.getPath(!1,["model","files"]),t,{block:m},{})}function m(e,t){return e.f(t.get(["name"],!1),t,"h")}function g(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function y(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function v(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/attachment",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,t}(n)},600615:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/attachment",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').h("eq",t,{block:o},{key:t.getPath(!1,["model","kind"]),value:"generated_template"},"h").h("eq",t,{block:s},{key:t.getPath(!1,["model","kind"]),value:"url"},"h").h("eq",t,{block:l},{key:t.getPath(!1,["model","kind"]),value:"file_upload"},"h").h("eq",t,{block:c},{key:t.getPath(!1,["model","kind"]),value:"custom_packet"},"h").h("eq",t,{block:u},{key:t.getPath(!1,["model","kind"]),value:"packet"},"h").w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}function o(e,t){return e.f(t.getPath(!1,["formattedData","templateId"]),t,"h",["s"])}function s(e,t){return e.f(t.getPath(!1,["formattedData","url"]),t,"h",["s"])}function l(e,t){return e.s(t.getPath(!1,["model","files"]),t,{block:d},{})}function d(e,t){return e.f(t.get(["name"],!1),t,"h")}function c(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}function u(e,t){return e.f(t.getPath(!1,["model","fileNames"]),t,"h",["s"])}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,t}(n)},275297:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('" ><div class="card-header"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').x(t.getPath(!1,["model","datePurged"]),t,{else:o,block:s},{}).w("</div></div></div>").s(t.get(["highlightedFields"],!1),t,{block:l},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.w('<span class="label-owner-container">').f(t.getPath(!1,["formattedData","owner"]),t,"h",["s"]).w("</span>")}function s(e,t){return e.w('<span class="label label-danger">').h("resource",t,{},{key:"purged"},"h").w("</span>")}function l(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/case",ago:d})}function d(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,t}(n)},993313:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').x(t.getPath(!1,["model","datePurged"]),t,{else:o,block:s},{}).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:l},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.w('<span class="label-owner-container">').f(t.getPath(!1,["formattedData","owner"]),t,"h",["s"]).w("</span>")}function s(e,t){return e.w('<span class="label label-danger">').h("resource",t,{},{key:"purged"},"h").w("</span>")}function l(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/case",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},883632:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","caseNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","caseNumber"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},591172:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title">').f(t.getPath(!1,["formattedData","parentNumber"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:r},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/comment",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},236831:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').h("resource",t,{},{groupName:"sys/comment",subgroupName:"general",key:"name"},"h").w(" ").h("resource",t,{},{key:"_on"},"h").w(" ").f(t.getPath(!1,["formattedData","parentType"]),t,"h",["s"]).w(" #: ").f(t.getPath(!1,["formattedData","parentNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/comment",subgroupName:"general",key:"name"},"h").w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},507993:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td data-title="').h("resource",t,{},{key:"type"},"h").w('" class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w("</div></div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/email",ago:s})}function s(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},798601:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label" title="').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/email",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},592424:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"]).w(" / ").h("resource",t,{},{groupName:"sys/email",subgroupName:"general",key:"name"},"h").w(" — ").f(t.getPath(!1,["formattedData","createdDate"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/email",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","subject"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},54409:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').s(t.get(["model"],!1),t,{block:r},{}).w("</div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:o},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').f(t.getPath(!1,["formattedData","noteType"]),t,"h",["s"]).w("</div></div>")}function o(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/note",ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},278681:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label" title="').f(t.getPath(!1,["formattedData","noteType"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","noteType"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/note",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},314808:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/note",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","noteType"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},497628:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td data-title="').h("resource",t,{},{key:"type"},"h").w('">').s(t.get(["model"],!1),t,{block:i},{}).w("</td>")}function i(e,t){return e.w("<h4>").h("resource",t,{},{groupName:"sys/notification",subgroupName:"names",key:t.getPath(!1,["model","code"])},"h").w("</h4>").h("resource",t,{},{groupName:"sys/notification",subgroupName:"fields",key:"disabled",colon:"true"},"h").w(" ").f(t.getPath(!1,["formattedData","disabled"]),t,"h",["s"]).w("&nbsp;| ").h("resource",t,{},{groupName:"sys/notification",subgroupName:"fields",key:"methods",colon:"true"},"h").w(" ").f(t.getPath(!1,["formattedData","methods"]),t,"h",["s"]).w("&nbsp;")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},467545:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').s(t.get(["model"],!1),t,{block:r},{}).w("</div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("</td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:o},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w("</div></div>")}function o(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/party",ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},11394:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td class="card-similar-search').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"id="card-similar-search-').f(t.getPath(!1,["model","id"]),t,"h").w('"><div class="card-left">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('</div><div class="card-right"><div class="card-header"><div class="card-title" title="').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w('</div><div class="row-actions pull-right"></div></div><div class=\'card-body\'><div class="highlight-section"><div class="full-highlight"><span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:"sys/case",subgroupName:"fields",key:"caseNumber"},"h").w(":</span>&nbsp;").h("find",t,{else:r,block:l},{key:"fieldName",value:"caseId__caseNumber",array:t.getPath(!1,["highlightedFields","highlightedFields"])},"h").w('</span><span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entity$"],!1),subgroupName:"fields",key:"firstName"},"h").w(":</span>&nbsp;").h("find",t,{else:d,block:p},{key:"fieldName",value:"firstName",array:t.getPath(!1,["highlightedFields","highlightedFields"])},"h").w('</span><span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entity$"],!1),subgroupName:"fields",key:"lastName"},"h").w(":</span>&nbsp;").h("find",t,{else:f,block:g},{key:"fieldName",value:"lastName",array:t.getPath(!1,["highlightedFields","highlightedFields"])},"h").w('</span><span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entity$"],!1),subgroupName:"fields",key:"address"},"h").w(":</span>&nbsp;").h("find",t,{else:y,block:w},{key:"fieldName",value:"address",array:t.getPath(!1,["highlightedFields","highlightedFields"])},"h").w("</span>").s(t.getPath(!1,["highlightedFields","highlightedFields"]),t,{block:A},{}).w("</div></div></div></div></td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.h("eqLowerCase",t,{else:o,block:s},{value1:t.getPath(!1,["model","caseId"]),value2:t.getPath(!1,["formModel","caseId"])},"h")}function o(e,t){return e.f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"])}function s(e,t){return e.w('<span class="highlight-result">').f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"]).w("</span>")}function l(e,t){return e.f(t.get(["highlight"],!1),t,"h",["s"])}function d(e,t){return e.h("eqLowerCase",t,{else:c,block:u},{value1:t.getPath(!1,["model","firstName"]),value2:t.getPath(!1,["formModel","firstName"])},"h")}function c(e,t){return e.f(t.getPath(!1,["formattedData","firstName"]),t,"h",["s"])}function u(e,t){return e.w('<span class="highlight-result">').f(t.getPath(!1,["formattedData","firstName"]),t,"h",["s"]).w("</span>")}function p(e,t){return e.f(t.get(["highlight"],!1),t,"h",["s"])}function f(e,t){return e.h("eqLowerCase",t,{else:h,block:m},{value1:t.getPath(!1,["model","lastName"]),value2:t.getPath(!1,["formModel","lastName"])},"h")}function h(e,t){return e.f(t.getPath(!1,["formattedData","lastName"]),t,"h",["s"])}function m(e,t){return e.w('<span class="highlight-result">').f(t.getPath(!1,["formattedData","lastName"]),t,"h",["s"]).w("</span>")}function g(e,t){return e.f(t.get(["highlight"],!1),t,"h",["s"])}function y(e,t){return e.h("eqLowerCase",t,{else:v,block:b},{value1:t.getPath(!1,["model","address"]),value2:t.getPath(!1,["formModel","address"])},"h")}function v(e,t){return e.f(t.getPath(!1,["formattedData","address"]),t,"h",["s"])}function b(e,t){return e.w('<span class="highlight-result">').f(t.getPath(!1,["formattedData","address"]),t,"h",["s"]).w("</span>")}function w(e,t){return e.f(t.get(["highlight"],!1),t,"h",["s"])}function A(e,t){return e.h("notInArray",t,{block:C},{value:t.get(["fieldName"],!1),array:"firstName,lastName,address,caseId"},"h")}function C(e,t){return e.w('\t\t\t\t\t<span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entity$"],!1),subgroupName:"fields",key:t.get(["fieldName"],!1)},"h").w(":</span>&nbsp;").s(t.get(["highlight"],!1),t,{block:k},{}).w("</span>")}function k(e,t){return e.f(t.getPath(!0,[]),t,"h",["s"]).h("sep",t,{block:x},{},"h")}function x(e,t){return e.w("&nbsp;<b>[&#8230;]</b>")}return e.register("similar-search",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,A.__dustBody=!0,C.__dustBody=!0,k.__dustBody=!0,x.__dustBody=!0,t}(n)},416585:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label" title="').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/party",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},837800:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/party",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","partyName"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},717382:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').s(t.get(["model"],!1),t,{block:r},{}).w("</div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("</td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:o},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').f(t.getPath(!1,["formattedData","emailAddress"]),t,"h",["s"]).w("</div></div>")}function o(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","personName"]),t,"h",["s"]).w("</div>")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/person",ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},740276:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label" title="').f(t.getPath(!1,["formattedData","emailAddress"]),t,"h",["s"]).w('">').f(t.getPath(!1,["formattedData","emailAddress"]),t,"h",["s"]).w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","personName"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/person",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},298831:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","personName"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/person",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","personName"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},594127:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').s(t.getPath(!1,["model","filesShared"]),t,{block:o},{}).w("</div></div></div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("</td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseId"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.f(t.get(["name"],!1),t,"h")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/shared_link",ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},354901:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').h("eq",t,{else:o,block:u},{key:t.getPath(!1,["model","status"]),value:"pending"},"h").h("resource",t,{},{groupName:"picklist",subgroupName:"todo_statuses",key:t.getPath(!1,["model","status"])},"h").w('<span class="label-owner-container">').f(t.getPath(!1,["formattedData","responsible"]),t,"h",["s"]).w("</span></span></div></div></div>").s(t.get(["highlightedFields"],!1),t,{block:p},{}).w("   </td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.h("eq",t,{else:s,block:c},{key:t.getPath(!1,["model","status"]),value:"purged"},"h")}function s(e,t){return e.h("eq",t,{else:l,block:d},{key:t.getPath(!1,["model","status"]),value:"closed"},"h")}function l(e,t){return e.w('<span class="label label-default label-tag">')}function d(e,t){return e.w('<span class="label label-success label-tag">')}function c(e,t){return e.w('<span class="label label-danger label-tag">')}function u(e,t){return e.w('<span class="label label-warning label-tag">')}function p(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/todo",ago:f})}function f(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,t}(n)},411069:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-label">').h("eq",t,{else:o,block:u},{key:t.getPath(!1,["model","status"]),value:"pending"},"h").h("resource",t,{},{groupName:"picklist",subgroupName:"todo_statuses",key:t.getPath(!1,["model","status"])},"h").w('<span class="label-owner-container">').f(t.getPath(!1,["formattedData","responsible"]),t,"h",["s"]).w("</span></span></div></div>").s(t.get(["highlightedFields"],!1),t,{block:p},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.h("eq",t,{else:s,block:c},{key:t.getPath(!1,["model","status"]),value:"purged"},"h")}function s(e,t){return e.h("eq",t,{else:l,block:d},{key:t.getPath(!1,["model","status"]),value:"closed"},"h")}function l(e,t){return e.w('<span class="label label-default label-tag">')}function d(e,t){return e.w('<span class="label label-success label-tag">')}function c(e,t){return e.w('<span class="label label-danger label-tag">')}function u(e,t){return e.w('<span class="label label-warning label-tag">')}function p(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:"sys/todo",ago:t.getPath(!1,["model","ago"])})}return e.register("small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,t}(n)},224156:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('">').h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h").w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/todo",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["formattedData","responsible"]),t,"h",["s"]).w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div>')}return e.register("tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},936941:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('"><i class="drag-handle-icon fa fa-grab-handle" aria-hidden="true"></i>').x(t.get(["formCaption"],!1),t,{else:i,block:n},{}).w('</label><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block"></div>')}function i(e,t){return e.w('<span data-bind="caption" data-binding-event="saved"></span>')}function n(e,t){return e.w('<span data-bind="formCaption" data-binding-event="saved"></span>')}return e.register("base-drag-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},622747:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["showOnPortal"],!1),t,{block:i},{})}function i(e,t){return e.p("hover-icon",t,t,{type:"external",tooltip:t.get(["visibleToReporterText"],!1),displayRule:"isExternal"})}return e.register("base-form-component-external-icon-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},328012:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["hoverText"],!1),t,{block:i},{})}function i(e,t){return e.p("hover-icon",t,t,{type:"info",tooltip:n})}function n(e,t){return e.f(t.get(["hoverText"],!1),t,"h")}return e.register("base-form-component-hover-text-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},878337:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:o},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('" style="white-space: nowrap;" ').h("eq",t,{block:a},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><p name="read-only-value" style="display: inline-block;" class="form-control-static">').f(t.get(["translatedValue"],!1),t,"h").w('</p><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block;" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:r},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('data-readonly="true"')}function r(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["helpBlockWidth"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function o(e,t){return e.w('<p class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="header-field">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("base-form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},581170:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["translationApplied"],!1),t,{block:i},{})}function i(e,t){return e.p("hover-icon",t,t,{type:"translated-text",tooltip:t.get(["translatedText"],!1),displayRule:"hasTranslationsApplied"})}return e.register("base-form-component-translated-text-icon-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},521799:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="filter-btns"><div class="label-container"><div class="filter-label truncate"></div><button type="button" class="remove-filter-btn btn-text" aria-label="').h("resource",t,{},{key:"remove"},"h").w('"><span aria-hidden="true">&times;</span></button></div><div class="btn-container"><button type="button" class="show-filter-options-btn btn btn-default truncate" aria-haspopup="true" aria-expanded="false" aria-label="').f(t.get(["name"],!1),t,"h").w('"><span class="filter-selection truncate"></span><span class="caret"></span></button><div class="filter-options-menu-container"></div></div><div class="loader-container"></div></div>')}return e.register("base-grid-data-filter-component-tmpl",t),t.__dustBody=!0,t}(n)},366293:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["isCaseUnavailable"],!1),t,{else:i,block:y},{})}function i(e,t){return e.x(t.get(["automaticallyCreateCaseLink"],!1),t,{else:n,block:a},{})}function n(e,t){return e.w('<div name="read-only-value" style="display: inline-block;">').f(t.get(["translatedValue"],!1),t,"h").w("</div>")}function a(e,t){return e.w('<div class="card-medium ').f(t.getPath(!1,["linkedCaseData","isPurgedCancelled"]),t,"h").w('" >').x(t.get(["caseNumber"],!1),t,{else:r,block:o},{}).w("</div>")}function r(e,t){return e.w('<div name="read-only-value" style="display: inline-block;">').f(t.get(["translatedValue"],!1),t,"h").w("</div>")}function o(e,t){return e.s(t.get(["linkedCaseData"],!1),t,{block:s},{})}function s(e,t){return e.w('<div class="case-card">').h("entityLink",t,{block:l},{entity:t.get(["entity$"],!1),context:t.get(["linkedCaseModel"],!1),roles:t.get(["viewAutomaticLinkRole"],!1),target:"_blank"},"h").w("</div>")}function l(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<span class="card-title">').f(t.get(["caseNumber"],!1),t,"h").w('</span><span class="card-pre-label">').h("eq",t,{block:d},{key:t.get(["caseSummaryFlag"],!1),value:"purged"},"h").h("eq",t,{block:c},{key:t.get(["caseSummaryFlag"],!1),value:"scheduled-purge"},"h").h("eq",t,{block:u},{key:t.get(["caseSummaryFlag"],!1),value:"case-canceled"},"h").h("eq",t,{block:p},{key:t.get(["caseSummaryFlag"],!1),value:"Closed"},"h").h("eq",t,{block:f},{key:t.get(["caseSummaryFlag"],!1),value:"Open"},"h").w('</span></div><div class="card-label" >').nx(t.get(["isPurgedCancelled"],!1),t,{block:h},{}).w("</div>")}function d(e,t){return e.w('<span class="label label-danger">').h("resource",t,{},{key:"purged"},"h").w("</span>")}function c(e,t){return e.w('<span class="label label-danger">').h("resource",t,{},{groupName:"sys/case",subgroupName:"actions",key:"scheduled_for_purge"},"h").w("</span>")}function u(e,t){return e.w('<span class="label label-default">').h("resource",t,{},{key:"canceled"},"h").w("</span>")}function p(e,t){return e.w('<span class="label label-success">').h("resource",t,{},{key:"closed"},"h").w("</span>")}function f(e,t){return e.w('<span class="label label-warning">').h("resource",t,{},{key:"open"},"h").w("</span>")}function h(e,t){return e.w('<div class="label-container">').h("resource",t,{},{key:"case_owner"},"h").w(':<span class="label-value">&nbsp;').f(t.get(["owner"],!1),t,"h").w("</span></div>").x(t.get(["caseType"],!1),t,{block:m},{}).x(t.get(["createdDate"],!1),t,{block:g},{})}function m(e,t){return e.w('<div class="label-container">').h("resource",t,{},{key:"case_type"},"h").w(':<span class="label-value">&nbsp;').f(t.get(["caseType"],!1),t,"h").w("</span></div>")}function g(e,t){return e.w('<div class="label-container">').h("resource",t,{},{key:"created_date_full"},"h").w(':<span class="label-value">&nbsp;').f(t.get(["createdDate"],!1),t,"h").w("</span></div>")}function y(e,t){return e.w('<div class="label-container"').x(t.get(["isMissingLinkedCasePermissions"],!1),t,{block:v},{}).w(">").h("resource",t,{},{key:"missing_case_number"},"h").w("</div>")}function v(e,t){return e.w('data-toggle="tooltip" data-placement="right" title="').h("resource",t,{},{groupName:"errors",subgroupName:"general",key:"restricted"},"h").w('"')}return e.register("case-card-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,t}(n)},410403:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["isCaseUnavailable"],!1),t,{else:i,block:a},{})}function i(e,t){return e.w('<div class="option" role="option" id=$').f(t.get(["id"],!1),t,"h").w('><div class="card-small"><div class="card-header"><div class="card-header-content">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title">').f(t.getPath(!1,["formattedData","caseNumber"]),t,"h",["s"]).w('</div></div><div class="card-label"><span class="label-owner-container">').f(t.getPath(!1,["formattedData","owner"]),t,"h",["s"]).w("</span></div></div>").s(t.get(["highlightedFields"],!1),t,{block:n},{}).w("   </div></div>")}function n(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:"sys/case"})}function a(e,t){return e.w('<div class="card-label">').h("resource",t,{},{key:"missing_case_number"},"h").w("</div>")}return e.register("case-search-option-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},370015:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").x(t.get(["isCaseUnavailable"],!1),t,{else:i,block:n},{}).w("<br/></div></div>")}function i(e,t){return e.w('<div class="card-title" data-toggle="tooltip" data-placement="top" title=\'').f(t.getPath(!1,["item","caseNumber"]),t,"h",["s"]).w("'>").h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"name"},"h").w(':</div><div class="card-label">').f(t.getPath(!1,["item","caseNumber"]),t,"h",["s"]).w("</div>")}function n(e,t){return e.w('<div class="card-label">').h("resource",t,{},{key:"missing_case_number"},"h").w("</div>")}return e.register("case-search-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},95947:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},979154:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('" style="white-space: nowrap;" ').h("eq",t,{block:n},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><div class="case-card-container form-control-static" style="display: inline-block;" alt="').f(t.get(["ariaLabel"],!1),t,"h").w('"></div><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:a},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w(' data-readonly="true"')}function a(e,t){return e.w('<div class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;" data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},82116:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="checkbox" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').h("eq",t,{block:i},{key:t.get(["value"],!1),value:"true",type:"boolean"},"h").w(" />")}function i(e,t){return e.w('checked="checked"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},311361:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="color-cell-tmpl" style="background-color:').f(t.get(["value"],!1),t,"h").w(';" \\>')}return e.register("color-cell-tmpl",t),t.__dustBody=!0,t}(n)},369652:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="color" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" data-toggle="tooltip" data-placement="auto right bottom" title="').f(t.get(["colorTooltip"],!1),t,"h").w('" />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},19659:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:o},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('"').h("eq",t,{block:a},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><div class="color-preview form-control-static" style="background-color: ').f(t.get(["value"],!1),t,"h").w('; display: inline-block;" data-toggle="tooltip" data-placement="auto right bottom" title="').f(t.get(["colorTooltip"],!1),t,"h").w('"></div><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:r},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('data-readonly="true"')}function r(e,t){return e.w('<div class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('"style="clear:both;padding-left:15px;padding-top:5px;"data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function o(e,t){return e.w('<p class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="header-field">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},740197:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("text-grid-data-filter-component-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<input class="option form-control" placeholder="').f(i.get(["placeholder"],!1),i,"h").w('" type="text" aria-label="').f(i.get(["placeholder"],!1),i,"h").w('"/><i class="fa fa-icon fa-times remove-search-icon"></i>')}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},810173:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="coordinates-container validation-tooltip-element col-xs-12 col-sm-6"><input type="text" class="input-group form-control" name="').f(t.get(["name"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" placeholder="').f(t.get(["placeholder"],!1),t,"h").w('" readonly data-readonly="false"/><p name="read-only-value" class="form-control-static" data-readonly="true"></p><button type="button" class="show-hide-map-btn" title="').h("resource",t,{},{key:"show_map"},"h").w('"><i class="fa fa-map-o"></i></button><div class="readonly-field-icon-container coordinate-readonly-field-icon-container" data-readonly="true"></div></div><div class="field-icon-container coordinate-field-icon-container" data-readonly="false"></div><div class="map-container col-xs-12"></div></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},839212:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:r},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block;"></div>').s(t.get(["helpBlockText"],!1),t,{block:a},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('<div class="help-block ').f(t.get(["helpBlockWidth"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;" data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function r(e,t){return e.w('<p class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="header-field">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},82419:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" placeholder="').f(t.get(["datepickerPlaceholderFormat"],!1),t,"h").w('" value="').f(t.get(["formattedValue"],!1),t,"h").w('" autocomplete="off" />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},188944:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="date col-xs-12 col-sm-5 col-md-6"><input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" placeholder="').f(t.get(["datepickerPlaceholderFormat"],!1),t,"h").w('" value="').f(t.get(["formattedDate"],!1),t,"h").w('" autocomplete="off" /></div><div class="time-component"><div class="').nx(t.get(["displayAmPm"],!1),t,{block:i},{}).w(' time col-xs-12 col-sm-4 col-md-3"><input type="text" class="form-control" name="editible-time" placeholder="HH:MM" value="').f(t.get(["formattedTime"],!1),t,"h").w('" aria-label="').h("resource",t,{},{key:"time"},"h").w('" /></div>').x(t.get(["displayAmPm"],!1),t,{block:n},{}).w("</div></div>")}function i(e,t){return e.w("validation-tooltip-element ")}function n(e,t){return e.w('<div class="validation-tooltip-element ampm col-xs-12 col-sm-3 col-md-3"><select class="form-control" name="editible-ampm" aria-label="').h("resource",t,{},{key:"am"},"h").w("/").h("resource",t,{},{key:"pm"},"h").w('"><option value="AM">').h("resource",t,{},{key:"am"},"h").w('</option><option value="PM">').h("resource",t,{},{key:"pm"},"h").w("</option></select></div>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},128124:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},80852:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-xs-12 col-xxl-4"><input type="text" class="form-control" name="delay" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" value="').f(t.get(["delay"],!1),t,"h").w('"></div><div class="col-xs-12 col-xxl-4"><select name="unit" class="form-control" aria-label="').h("resource",t,{},{key:"unit"},"h").w('"><option value="minutes" ').h("eq",t,{block:i},{key:"minutes",value:n},"h").w(">").h("resource",t,{},{key:"minutes"},"h").w('</option><option value="hours" ').h("eq",t,{block:a},{key:"hours",value:r},"h").w(">").h("resource",t,{},{key:"hours"},"h").w('</option><option value="days" ').h("eq",t,{block:o},{key:"days",value:s},"h").w(">").h("resource",t,{},{key:"days"},"h").w('</option><option value="months" ').h("eq",t,{block:l},{key:"months",value:d},"h").w(">").h("resource",t,{},{key:"months"},"h").w("</option></select></div>").x(t.get(["showBeforeAfter"],!1),t,{block:c},{}).w("</div>")}function i(e,t){return e.w(" selected")}function n(e,t){return e.f(t.get(["unit"],!1),t,"h")}function a(e,t){return e.w(" selected")}function r(e,t){return e.f(t.get(["unit"],!1),t,"h")}function o(e,t){return e.w(" selected")}function s(e,t){return e.f(t.get(["unit"],!1),t,"h")}function l(e,t){return e.w(" selected")}function d(e,t){return e.f(t.get(["unit"],!1),t,"h")}function c(e,t){return e.w('<div class="col-xs-12 col-xxl-4"><select name="before-or-after" class="form-control" aria-label="').h("resource",t,{},{key:"before_or_after"},"h").w('"><option value="before"').h("eq",t,{block:u},{key:p,value:"before"},"h").w(">").h("resource",t,{},{key:"before"},"h").w('</option><option value="after"').h("eq",t,{block:f},{key:h,value:"after"},"h").w(">").h("resource",t,{},{key:"after"},"h").w("</option></select></div>")}function u(e,t){return e.w(" selected")}function p(e,t){return e.f(t.get(["beforeAfter"],!1),t,"h")}function f(e,t){return e.w(" selected")}function h(e,t){return e.f(t.get(["beforeAfter"],!1),t,"h")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,t}(n)},119220:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select name="').f(t.get(["field"],!1),t,"h").w('" class="form-control" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},190401:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Extending the email-multiple component and embedding a user icon to the right of the control --\x3e<div class="control-container"><input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('"aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" multiple/><div class="lookup-control">').s(t.get(["disableLookup"],!1),t,{else:i,block:o},{}).w("</div></div>")}function i(e,t){return e.s(t.get(["trailingButton"],!1),t,{block:n},{})}function n(e,t){return e.h("acl",t,{block:a},{role:t.get(["acl"],!1)},"h")}function a(e,t){return e.w('<button type="button" id="').f(t.get(["field"],!1),t,"h").w('" class="lookup-control-btn btn selector-btn"').s(t.get(["disableRule"],!1),t,{block:r},{}).w(' aria-label="').h("resource",t,{},{key:t.get(["ariaLabel"],!1)},"h").w('"><i class="fa fa-address-book-o"></i></button>')}function r(e,t){return e.w('data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('"')}function o(e,t){return e}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},545022:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" aria-labelledby="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" multiple />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},752117:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div>").h("truncateByItem",t,{},{data:i,seperator:", ",count:"5"},"h").w("</div>")}function i(e,t){return e.f(t.get(["formattedFieldValue"],!1),t,"h",["s"])}return e.register("email-multiple-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},260257:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" aria-labelledby="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},678532:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-labelledby="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},93632:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-tiny"><div class="card-header"><div class="card-icon">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1),showTooltip:"false"},"h").w('</div><div class="card-label">').f(t.getPath(!1,["formattedData","text"]),t,"h",["s"]).w("</div><br/></div></div>")}return e.register("entity-picklist-tmpl",t),t.__dustBody=!0,t}(n)},819278:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},211085:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<textarea rows="5" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').x(t.get(["placeholder"],!1),t,{block:i},{}).w(">").f(t.get(["value"],!1),t,"h").w("</textarea>")}function i(e,t){return e.w('placeholder="').f(t.get(["placeholder"],!1),t,"h",["s"]).w('"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},27068:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:r},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="readonly col-sm-12" data-readonly="true"><textarea rows="5" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('-readonly" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('">').f(t.get(["value"],!1),t,"h").w('</textarea><div class="readonly-help-icon-container">').p("base-form-component-hover-text-tmpl",t,t,{}).w('</div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div data-readonly="false">').p("base-form-component-hover-text-tmpl",t,t,{}).w("</div>").s(t.get(["helpBlockText"],!1),t,{block:a},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('<div class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('"style="clear:both;padding-left:15px;padding-top:5px;"data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function r(e,t){return e.w('<p class="tombstone-field" data-bind="').f(t.get(["field"],!1),t,"h").w('"data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="tombstone-caption">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},820445:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},273375:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" multiple></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},100510:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},108949:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Information div(fileSize, fileCount) --\x3e<div class="row attachment-count-container" style="font-weight: bold" data-readonly="false"><div class="col-sm-12">').x(t.get(["hasFileCount"],!1),t,{block:i},{}).w("&nbsp;").h("resource",t,{},{key:"attachments"},"h").s(t.get(["hasTotalAttachmentSize"],!1),t,{block:n},{}).w('</div></div>\x3c!-- selection options --\x3e<div class="row" data-readonly="false"><div class="col-sm-12"><div class="attachment-selection-container ').s(t.get(["dragAndDrop"],!1),t,{block:a},{}).w('">\x3c!-- drag and drop --\x3e').s(t.get(["dragAndDrop"],!1),t,{block:r},{}).w('\x3c!-- select from case container --\x3e<div id="select-from-case-container"><a data-route="#" class="btn btn-default" id="select-from-case">').h("resource",t,{},{key:"select_a_file_from_this_case"},"h").w("</a></div>\x3c!-- manual attachment container --\x3e").s(t.get(["manualAttach"],!1),t,{block:o},{}).w('</div></div></div>\x3c!-- Files component --\x3e<div class="files-container"></div>')}function i(e,t){return e.w('<span><span class="file-count">').f(t.get(["totalFileCount"],!1),t,"h").w("</span>&nbsp;").h("resource",t,{},{key:"of"},"h").w('&nbsp;<span class="max-file-count">').f(t.get(["maxFileCount"],!1),t,"h").w("</span></span>")}function n(e,t){return e.w('&nbsp;(<span class="accumulated-bytes">').f(t.get(["totalAttachmentSize"],!1),t,"h").w("</span>&nbsp;").h("resource",t,{},{key:"of"},"h").w('&nbsp;<span class="max-file-count"></span>').f(t.get(["maxTotalAttachmentSize"],!1),t,"h").w("&nbsp;").h("resource",t,{},{key:"used"},"h").w(")")}function a(e,t){return e.w("drag-drop-container")}function r(e,t){return e.w('<div class="row"><p style="font-size: 14px"><i class="fa fa-cloud-upload"></i>&nbsp;').h("resource",t,{},{key:"drop_files_here_to_upload"},"h").w("</p><p>").h("resource",t,{},{key:"_or"},"h").w("</p></div>")}function o(e,t){return e.w('<div tabIndex="0" id="manual-attachment-container"><label id="manual-attachment-button" class="btn btn-default" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('-1">').h("resource",t,{},{key:"upload_a_file_from_your_computer"},"h").w("</label></div>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},615717:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row well well-sm"><div class="col-sm-6 file-name-container"><div><span class="file-name">').x(t.get(["allowPreview"],!1),t,{block:i},{}).w('<i class="file-type-icon fa ').f(t.get(["icon"],!1),t,"h").w('"></i> ').f(t.get(["name"],!1),t,"h").x(t.get(["allowPreview"],!1),t,{block:n},{}).w("</span>").s(t.get(["fileSize"],!1),t,{block:a},{}).x(t.get(["allowDownload"],!1),t,{block:r},{}).w('<div class="file-progress" data-readonly="false" style="display: none;">0%&nbsp;').h("resource",t,{},{key:"complete"},"h").w('</div></div><div class="progress progress-striped active" data-readonly="false" style="display: none;"><div class="progress-bar progress-bar-success" role="progressbar" style="width: 0%;"></div></div></div><div class="col-sm-5 description-container"><textarea id="').f(t.get(["descriptionId"],!1),t,"h").w('" aria-label="').h("resource",t,{},{key:"description_"},"h").w('" data-readonly="false" maxlength="10000" rows="3" class="form-control file-description" placeholder="').h("resource",t,{},{key:"description_"},"h").w('">').f(t.get(["description"],!1),t,"h").w('</textarea><p class="form-control-static" data-readonly="true">').f(t.get(["description"],!1),t,"h").w('</p></div><div class="icon-container" data-readonly="false"><button type="button" class="remove" name="remove" aria-label="').h("resource",t,{},{key:"remove"},"h").w(" ").h("resource",t,{},{key:"file"},"h").w('"><i class="fa-solid fa-trash-can"></i></button></div></div>')}function i(e,t){return e.w('<a href="#" class="preview" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"preview"},"h").w('">')}function n(e,t){return e.w("</a>")}function a(e,t){return e.w('<span class="file-size no-wrap">').f(t.getPath(!0,[]),t,"h").w("</span>")}function r(e,t){return e.w('<a href="#" class="download" data-toggle="tooltip" data-placement="bottom" aria-label="').h("resource",t,{},{key:"download"},"h").w(" ").f(t.get(["name"],!1),t,"h").w('" title="').h("resource",t,{},{key:"download"},"h").w('"><i class="fa fa-icon fa-download download-icon"></i></a>')}return e.register("item-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},654969:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:r},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block"></div><div class="readonly-field-icon-container"></div>').s(t.get(["helpBlockText"],!1),t,{block:a},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["width"],!1),t,"h").w(' col-sm-offset-2" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function r(e,t){return e.w('<p class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="header-field">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},541873:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["formattedFieldValue"],!1),t,{block:i},{})}function i(e,t){return e.w('<div class="label" style="background-color: ').f(t.getPath(!1,["joinFields","color"]),t,"h").w('">').f(t.get(["formattedFieldValue"],!1),t,"h",["s"]).w("</div>")}return e.register("flag-status-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},796154:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flags-cell-tmpl" style="display:flex; gap:6px">').s(t.get(["value"],!1),t,{block:i},{}).w("</div>")}function i(e,t){return e.w('<div class="flag-cell"><div class="flag label ').x(t.get(["indicator"],!1),t,{block:n},{}).w('" ').x(t.get(["color"],!1),t,{block:a},{}).w(">").f(t.get(["name"],!1),t,"h").w("</div></div>")}function n(e,t){return e.w("label-").f(t.get(["indicator"],!1),t,"h")}function a(e,t){return e.w('style="background-color:').f(t.get(["color"],!1),t,"h").w("; color:").f(t.get(["textColor"],!1),t,"h").w("; border: 1px solid ").f(t.get(["borderColor"],!1),t,"h").w(';" ')}return e.register("case-flags-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},519538:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="attachment-selection-container ').s(t.get(["dragAndDrop"],!1),t,{block:i},{}).w('">').s(t.get(["dragAndDrop"],!1),t,{block:n},{}).s(t.get(["manualAttach"],!1),t,{block:a},{}).w('</div><div class="original-image-container"><div class="remove-image-container"><span class="remove-image"><i class="fa fa-times"></i> ').h("resource",t,{},{key:"remove"},"h").w('</span></div></div><div class="loader-container"></div>')}function i(e,t){return e.w("drag-drop-container")}function n(e,t){return e.w('<div class="row"><p style="font-size: 14px"><i class="fa fa-cloud-upload"></i> ').h("resource",t,{},{key:"drop_files_here_to_upload"},"h").w("</p><p>").h("resource",t,{},{key:"_or"},"h").w("</p></div>")}function a(e,t){return e.w('<div tabindex="0" id="manual-attachment-container"><label id="manual-attachment-button" class="btn btn-default" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('">').h("resource",t,{},{key:"upload_a_file_from_your_computer"},"h").w('</label><input type="file" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["field"],!1),t,"h").w('" accept="').f(t.get(["supportedFormats"],!1),t,"h").w('"/></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},694073:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="').f(t.get(["width"],!1),t,"h").w('" ').h("eq",t,{block:a},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><img class="image-preview" style="display: inline-block;" alt="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').s(t.get(["hideWhenReadOnly"],!1),t,{block:r},{}).w('/><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:o},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('" ').s(t.get(["hideWhenReadOnly"],!1),t,{block:n},{}).w(">").f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w('data-readonly="false"')}function a(e,t){return e.w('data-readonly="true"')}function r(e,t){return e.w('data-readonly="false"')}function o(e,t){return e.w('<div class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;" data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},547429:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["model",t.get(["field"],!1),"url"]),t,{block:i},{})}function i(e,t){return e.w('<img class="image-cropper-cell-tmpl" src="').h("imageUrl",t,{},{urlVal:t.getPath(!1,["model",t.get(["field"],!1),"url"])},"h").w('" alt="').f(t.get(["title"],!1),t,"h").w('"style="background-image: url(\'/img/transparent-background.png\')"/>')}return e.register("image-cropper-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},151348:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},721277:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" aria-labelledby="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},587946:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="phone-number-multiple"><select name="').f(t.get(["field"],!1),t,"h").w('" multiple class="form-control" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select><small class="form-text text-muted">').h("resource",t,{},{key:"specify_country_code"},"h").w("</small></div>")}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},312849:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('" ').h("eq",t,{block:n},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><p name="read-only-value" style="display: inline-block;" class="form-control-static">').f(t.get(["translatedValue"],!1),t,"h").w('</p><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:a},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w('data-readonly="true"')}function a(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["helpBlockWidth"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},552469:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div>").h("truncateByItem",t,{},{data:i,seperator:", ",count:"5"},"h").w("</div>")}function i(e,t){return e.f(t.get(["formattedFieldValue"],!1),t,"h",["s"])}return e.register("phone-number-multiple-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},590941:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="phone-number"><div><input type="text" class="form-control" name="countryCode" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabelForCountryCode"],!1),t,"h").w('"').x(t.get(["fixCountryCodeField"],!1),t,{else:i,block:n},{}).w('><small class="form-text text-muted">').h("resource",t,{},{key:"countryCode"},"h").w('</small></div><div><input type="text" class="form-control" name="number" aria-label="').f(t.get(["ariaLabelForNumber"],!1),t,"h").w('" value="').f(t.get(["number"],!1),t,"h").w('" maxlength="30"><small class="form-text text-muted col-sm-x">').h("resource",t,{},{key:"phoneNumber"},"h").w("</small></div></div>")}function i(e,t){return e.w('value="').f(t.get(["countryCode"],!1),t,"h").w('" maxlength="3" placeholder="').f(t.get(["countryCodeHint"],!1),t,"h").w('"')}function n(e,t){return e.w('value="').f(t.get(["fixedCountryCode"],!1),t,"h").w('" readonly="readonly"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},312012:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('" ').h("eq",t,{block:n},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w('><p name="read-only-value" style="display: inline-block;" class="form-control-static">').f(t.get(["translatedValue"],!1),t,"h").w('</p><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:a},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w('data-readonly="true"')}function a(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["helpBlockWidth"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},280745:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select name="').f(t.get(["field"],!1),t,"h").w('" multiple class="form-control" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},729573:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select name="').f(t.get(["field"],!1),t,"h").w('" class="form-control" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},549588:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select name="').f(t.get(["field"],!1),t,"h").w('" class="form-control" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select><img class="spinner" src="/img/bootstrap-custom/spinner.gif" alt=""></img>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},795805:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div><div class="aggregate-filters-container"></div><div class="dependent-picklist-container"></div>').x(t.get(["displayDefaultValueComponent"],!1),t,{block:i},{})}function i(e,t){return e.w('<div class="default-value-placeholder"></div>')}return e.register("picklist-properties-form-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},131582:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="picklist-properties-form-container"></div><div class="form-group action-buttons"><button class="btn btn-primary btn-xs" id="add-picklist-value" data-disable-rule="isReadOnlyMode" aria-label="').h("resource",t,{},{groupName:"sys/listitem",subgroupName:"actions",key:"add_value"},"h").w('"><i class="fa fa-plus"></i> ').h("resource",t,{},{groupName:"sys/listitem",subgroupName:"actions",key:"add_value"},"h").w('</button></div><div class="picklist-grid-container row"></div>')}return e.register("picklist-properties-tmpl",t),t.__dustBody=!0,t}(n)},117631:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="well row"><form class="form-horizontal" role="form">').s(t.get(["parents"],!1),t,{block:i},{}).w('\x3c!-- Multi Text for batch inserting --\x3e<div class="form-group col-xs-12" data-display-rule="isNew"><label for="value" class="col-sm-12 control-label label-top" data-field="batchValues" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').h("resource",t,{},{key:"value",colon:"true"},"h").w('</label><div class="col-sm-12 batch-values component-container"></div></div>\x3c!-- Text --\x3e<div class="form-group col-xs-12" data-display-rule="!isNew"><label for="value" class="col-sm-12 control-label label-top" data-field="value" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').h("resource",t,{},{key:"value",colon:"true"},"h").w('</label><div class="col-sm-12"><input type="text" class="form-control" id="value" data-disable-rule="isEdit"></div></div>\x3c!-- List Sequence --\x3e<div class="form-group col-xs-12"><label for="rank" class="col-sm-3 control-label" data-field="rank" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').h("resource",t,{},{key:"sequence",colon:"true"},"h").w('</label><div class="col-sm-6"><input type="text" class="form-control" id="rank" data-disable-rule="lockedPicklist"></div></div>').s(t.get(["isExternal"],!1),t,{block:n},{}).w('</form></div><div class="well row action-buttons"><div id="add-tooltip-wrapper"><button class="btn btn-primary btn-sm" id="add" aria-label="').h("resource",t,{},{key:"add"},"h").w('"data-display-rule="isNew" data-disable-rule="isReadOnlyMode">').h("resource",t,{},{key:"add"},"h").w('</button></div><button class="btn btn-primary btn-sm" id="save-value" aria-label="').h("resource",t,{},{key:"save"},"h").w('"data-display-rule="!isNew" data-disable-rule="isReadOnlyMode">').h("resource",t,{},{key:"save"},"h").w('</button><button class="btn btn-default btn-sm" data-semantic-name="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('"data-display-rule="!isNew" data-disable-rule="isReadOnlyMode">').h("resource",t,{},{key:"cancel"},"h").w('</button><button class="btn btn-danger btn-sm" id="delete-value" aria-label="').h("resource",t,{},{key:"delete"},"h").w('"data-display-rule="!isNew" data-disable-rule="isReadOnlyMode">').h("resource",t,{},{key:"delete"},"h").w("</button></div>")}function i(e,t){return e.w('<div id="').f(t.getPath(!0,[]),t,"h").w('-parent-picklist-container"></div>')}function n(e,t){return e.w('\x3c!-- External Checkbox --\x3e<div class="form-group col-xs-12"><label for="external" class="col-sm-3 control-label" data-field="external" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').h("resource",t,{},{key:"external",colon:"true"},"h").w('</label><div class="col-sm-6"><input type="checkbox" class="form-control" id="external" data-disable-rule="lockedPicklist || isDataFormField"></div></div>')}return e.register("picklist-value-form-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},336200:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="progress-container"><div class="progress-title-container">').h("select",t,{block:i},{key:t.get(["indicator"],!1)},"h").w('<span class="progress-title">').f(t.get(["title"],!1),t,"h",["s"]).w('</span></div><div class="progress" aria-label="').h("resource",t,{},{key:"progress_bar"},"h").w('"><div class="progress-bar" role="progressbar" aria-valuenow="').f(t.get(["value"],!1),t,"h").w('" aria-valuemin="0" aria-valuemax="').f(t.get(["maxLimit"],!1),t,"h").w('" style="width: ').f(t.get(["percentage"],!1),t,"h").w('%;"></div></div></div><div class="sub-title">').f(t.get(["subtitle"],!1),t,"h").w("</div>")}function i(e,t){return e.h("eq",t,{block:n},{value:"warning"},"h").h("eq",t,{block:a},{value:"danger"},"h")}function n(e,t){return e.p("warning-icon",t,t,{})}function a(e,t){return e.p("danger-icon",t,t,{})}return e.register("picklist-value-limit-count-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},90619:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<hr><div class="picklist-value-limit-container"></div><div class="itemlist-form-container"></div><div class="picklist-grid-container row"></div>')}return e.register("picklist-values-tmpl",t),t.__dustBody=!0,t}(n)},131184:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" placeholder="').f(t.get(["placeholder"],!1),t,"h").w('" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},177424:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('"></div><img class="spinner" src="/img/bootstrap-custom/spinner.gif" alt=""></img>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},349074:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<textarea rows="1" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').x(t.get(["placeholder"],!1),t,{block:i},{}).w(">").f(t.get(["value"],!1),t,"h").w("</textarea>")}function i(e,t){return e.w('placeholder="').f(t.get(["placeholder"],!1),t,"h",["s"]).w('"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},172441:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:r},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="readonly col-sm-12" data-readonly="true"><textarea rows="5" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('-readonly" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('">').f(t.get(["value"],!1),t,"h").w('</textarea><div class="readonly-help-icon-container">').p("base-form-component-hover-text-tmpl",t,t,{}).w('</div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div data-readonly="false">').p("base-form-component-hover-text-tmpl",t,t,{}).w("</div>").s(t.get(["helpBlockText"],!1),t,{block:a},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('<div class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('"style="clear:both;padding-left:15px;padding-top:5px;"data-readonly="false"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function r(e,t){return e.w('<p class="tombstone-field" data-bind="').f(t.get(["field"],!1),t,"h").w('"data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="tombstone-caption">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},247623:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="control-container"><input ').x(t.get(["isPassword"],!1),t,{else:i,block:n},{}).w(' maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control masked-value" name="').f(t.get(["name"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" autocomplete="off"/>').s(t.get(["trailingButton"],!1),t,{block:a},{}).w("</div>")}function i(e,t){return e.w(' type="text" ')}function n(e,t){return e.w(' type="password" ')}function a(e,t){return e.h("acl",t,{block:r},{role:t.get(["acl"],!1)},"h")}function r(e,t){return e.w('<div data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('" class="trailing-btn-container"><button type="button" id="').f(t.get(["id"],!1),t,"h").w('" class="trailing-btn btn selector-btn ').f(t.get(["buttonClass"],!1),t,"h").w('"').s(t.get(["disableRule"],!1),t,{block:o},{}).w(' aria-label="').h("resource",t,{},{key:t.get(["ariaLabel"],!1)},"h").w('"').s(t.get(["tooltip"],!1),t,{block:s},{}).w('><i class="').f(t.get(["icon"],!1),t,"h").w('"></i></button></div>')}function o(e,t){return e.w('data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('" ')}function s(e,t){return e.w('data-toggle="tooltip" data-placement="top" title="').h("resource",t,{},{key:t.get(["tooltip"],!1)},"h").w('" ')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},223358:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" aria-labelledby="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},219051:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"/>')}return e.register("search-component-tmpl",t),t.__dustBody=!0,t}(n)},826833:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" multiple />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},852189:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<textarea rows="5" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').x(t.get(["placeholder"],!1),t,{block:i},{}).w(">").f(t.get(["value"],!1),t,"h").w("</textarea>")}function i(e,t){return e.w('placeholder="').f(t.get(["placeholder"],!1),t,"h",["s"]).w('"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},582978:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<select name="').f(t.get(["field"],!1),t,"h").w('" multiple class="form-control" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"></select>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},540154:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Extending the Textbox component and embedding a bootstrap search icon to the right of the control --\x3e<div class="input-group"><input type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" /><span id="').f(t.get(["field"],!1),t,"h").w('-textbox-search" class="input-group-addon" data-toggle="tooltip" data-placement="bottom"><i class="fa fa-search"></i></span></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},873843:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" value="').f(t.get(["value"],!1),t,"h").w('" />')}return e.register("search-component-tmpl",t),t.__dustBody=!0,t}(n)},747285:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="control-container').x(t.get(["maxLengthCharCount"],!1),t,{block:i},{}).w('"><input type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" name="').f(t.get(["name"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"').x(t.get(["placeholder"],!1),t,{block:n},{}).w(' value="').f(t.get(["value"],!1),t,"h").w('" />').s(t.get(["trailingButton"],!1),t,{block:a},{}).w("</div>").s(t.get(["maxLengthCharCount"],!1),t,{block:l},{})}function i(e,t){return e.w(" validation-tooltip-element")}function n(e,t){return e.w('placeholder="').f(t.get(["placeholder"],!1),t,"h",["s"]).w('" ')}function a(e,t){return e.h("acl",t,{block:r},{role:t.get(["acl"],!1)},"h")}function r(e,t){return e.w('<div data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('" class="trailing-btn-container"><button type="button" id="').f(t.get(["id"],!1),t,"h").w('" class="trailing-btn btn selector-btn"').s(t.get(["disableRule"],!1),t,{block:o},{}).w(' aria-label="').h("resource",t,{},{key:t.get(["ariaLabel"],!1)},"h").w('"').s(t.get(["tooltip"],!1),t,{block:s},{}).w('><i class="').f(t.get(["icon"],!1),t,"h").w('"></i></button></div>')}function o(e,t){return e.w('data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('" ')}function s(e,t){return e.w('data-toggle="tooltip" data-placement="top" title="').h("resource",t,{},{key:t.get(["tooltip"],!1)},"h").w('" ')}function l(e,t){return e.w('<div class="below-control-container"><div class="character-count-container"><span id="').f(t.get(["field"],!1),t,"h").w('-current-char-count">0</span><span>/').f(t.get(["maxLength"],!1),t,"h").w("</span></div></div>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},185365:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<textarea rows="5" class="form-control" name="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["cid"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('">').f(t.get(["value"],!1),t,"h").w('</textarea><div class="sr-only" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('-sr-counts" aria-live="polite"></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},896356:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w(' text-editor" style="white-space: nowrap;" data-readonly="true"><div name="read-only-value" style="display: inline-block; white-space: normal;" class="form-control-static">').f(t.get(["translatedValue"],!1),t,"h",["s"]).w('</div><div class="readonly-field-icon-container"></div></div><div class="').f(t.get(["width"],!1),t,"h").w(' component-container" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:n},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('"  data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["width"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},760355:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="texteditor-skeleton"><div class="texteditor-skeleton-top"></div><div class="texteditor-skeleton-contents"></div><div class="texteditor-skeleton-bottom"></div></div>')}return e.register("skeleton-component-tmpl",t),t.__dustBody=!0,t}(n)},441660:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="').nx(t.get(["displayAMPM"],!1),t,{block:i},{}).w(' col-xs-12 col-sm-8 col-md-6"><input type="text" class="form-control" name="editible-time" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" placeholder="HH:MM" value="').f(t.get(["value"],!1),t,"h").w('" /></div>').x(t.get(["displayAMPM"],!1),t,{block:n},{}).w("</div>")}function i(e,t){return e.w(" validation-tooltip-element ")}function n(e,t){return e.w('<div class="validation-tooltip-element col-xs-12 col-sm-4 col-md-6"><select class="form-control" name="editible-ampm" aria-label="').h("resource",t,{},{key:"am"},"h").w("/").h("resource",t,{},{key:"pm"},"h").w('"><option value="AM" ').h("eq",t,{block:a},{key:t.get(["amPm"],!1),value:"AM"},"h").w(">").h("resource",t,{},{key:"am"},"h").w('</option><option value="PM" ').h("eq",t,{block:r},{key:t.get(["amPm"],!1),value:"PM"},"h").w(">").h("resource",t,{},{key:"pm"},"h").w("</option></select></div>")}function a(e,t){return e.w('selected="selected"')}function r(e,t){return e.w('selected="selected"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},998387:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<label class="toggle-button"><input type="checkbox" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"').h("eq",t,{block:i},{key:t.get(["value"],!1),value:"false",type:"boolean"},"h").s(t.get(["disableRule"],!1),t,{block:n},{}).w(' /><span class="slider round ').x(t.get(["greyOnOff"],!1),t,{block:a},{}).w(" ").x(t.get(["showCaptionsOnButton"],!1),t,{block:r},{}).w('">').x(t.get(["showCaptionsOnButton"],!1),t,{block:o},{}).w('</span></label><div class="loader-container"></div>')}function i(e,t){return e.w(' checked="checked"')}function n(e,t){return e.w(' data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('"')}function a(e,t){return e.w("grey-on-unchecked")}function r(e,t){return e.w("with-captions")}function o(e,t){return e.w('<span class="on">').f(t.get(["checkedCaption"],!1),t,"h").w('</span><span class="off">').f(t.get(["uncheckedCaption"],!1),t,"h").w("</span>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},939427:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<label class="toggle-button"><input type="checkbox" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"').h("eq",t,{block:i},{key:t.get(["value"],!1),value:"true",type:"boolean"},"h").s(t.get(["disableRule"],!1),t,{block:n},{}).w(' /><span class="slider round ').x(t.get(["greyOnOff"],!1),t,{block:a},{}).w(" ").x(t.get(["showCaptionsOnButton"],!1),t,{block:r},{}).w('">').x(t.get(["showCaptionsOnButton"],!1),t,{block:o},{}).w("</span></label>")}function i(e,t){return e.w(' checked="checked"')}function n(e,t){return e.w(' data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('"')}function a(e,t){return e.w("grey-on-unchecked")}function r(e,t){return e.w("with-captions")}function o(e,t){return e.w('<span class="on">').f(t.get(["checkedCaption"],!1),t,"h").w('</span><span class="off">').f(t.get(["uncheckedCaption"],!1),t,"h").w("</span>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},888601:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:i},{}).w('<div class="col-sm-6" data-readonly="true"><a target="_blank" style="display: inline-block;" name="').f(t.get(["field"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" class="form-control-static" href="').f(t.get(["formattedLink"],!1),t,"h").w('">').f(t.get(["value"],!1),t,"h").w('</a><div class="readonly-field-icon-container"></div></div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:n},{})}function i(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function n(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["width"],!1),t,"h").w(' col-sm-offset-2" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},464119:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" multiple />')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},557494:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" />').x(t.get(["roleFilter"],!1),t,{else:i,block:a},{})}function i(e,t){return e.h("eq",t,{block:n},{key:t.get(["enableSelfAssign"],!1),value:"enabled"},"h")}function n(e,t){return e.w('<a id="self-assign" href="#/" class="small text-link">').f(t.get(["selfAssignCaption"],!1),t,"h").w("</a>")}function a(e,t){return e.h("acl",t,{block:r},{role:t.get(["roleFilter"],!1)},"h")}function r(e,t){return e.h("eq",t,{block:o},{key:t.get(["enableSelfAssign"],!1),value:"enabled"},"h")}function o(e,t){return e.w('<a id="self-assign" href="#/" class="small text-link">').f(t.get(["selfAssignCaption"],!1),t,"h").w("</a>")}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},210565:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:o},{key:t.getPath(!1,["parentElement","type"]),value:"tombstone"},"h")}function i(e,t){return e.nx(t.get(["hideCaption"],!1),t,{block:n},{}).w('<div class="').f(t.get(["readOnlyWidth"],!1),t,"h").w('" ').h("eq",t,{block:a},{key:t.get(["isReadOnly"],!1),value:"false",type:"string"},"h").w(">").p("form-component-user-read-only-value-tmpl",t,t,{}).w('</div><div class="component-container ').f(t.get(["width"],!1),t,"h").w('" style="display:inline-block" data-readonly="false"></div><div class="field-icon-container" data-readonly="false"></div>').s(t.get(["helpBlockText"],!1),t,{block:r},{})}function n(e,t){return e.w('<label class="').f(t.get(["labelWidth"],!1),t,"h").w(' control-label" for="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-label-").f(t.get(["viewId"],!1),t,"h").w('" data-field="').f(t.get(["field"],!1),t,"h").w('" data-entity="').f(t.get(["entity"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("&#58;</label>")}function a(e,t){return e.w('data-readonly="true"')}function r(e,t){return e.w('<div data-readonly="false" class="help-block ').f(t.get(["helpBlockWidth"],!1),t,"h").w(" ").f(t.get(["helpBlockOffset"],!1),t,"h").w('" style="clear:both;padding-left:15px;padding-top:5px;"><span>').f(t.get(["helpBlockText"],!1),t,"h",["s"]).w("</span></div>")}function o(e,t){return e.w('<p class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></p><p class="header-field">').f(t.get(["caption"],!1),t,"h").w("</p>")}return e.register("form-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},460219:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<p name="read-only-value" style="display: inline-block;" class="form-control-static">').f(t.get(["translatedValue"],!1),t,"h").x(t.get(["userIsInactive"],!1),t,{block:i},{}).w('</p><div class="readonly-field-icon-container"></div>')}function i(e,t){return e.w('<span class="user-inactive">&#40').h("resource",t,{},{groupName:"user-status",subgroupName:"inactive",key:"content"},"h").w("&#41</span>")}return e.register("form-component-user-read-only-value-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},214608:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},489371:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<input type="text" class="form-control" name="').f(t.get(["field"],!1),t,"h").w('" id="').f(t.get(["field"],!1),t,"h").w("-").f(t.get(["viewId"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"/>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},646509:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="label ').h("eq",t,{else:i,block:n},{key:t.getPath(!1,["joinFields","primaryState"]),value:"Open"},"h").w('">').f(t.get(["formattedFieldValue"],!1),t,"h",["s"]).w("</span>")}function i(e,t){return e.w("label-success")}function n(e,t){return e.w("label-warning")}return e.register("workflow-status-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},292557:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<fieldset role="radiogroup" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"><label class="radio-inline"><input type="radio" role="radio" name="').f(t.get(["inputname"],!1),t,"h").w('" value="yes"aria-label="').f(t.get(["yesCaption"],!1),t,"h").w('"').h("eq",t,{block:i},{key:t.get(["value"],!1),value:"true",type:"string"},"h").w("/>").f(t.get(["yesCaption"],!1),t,"h").w('</label><label class="radio-inline"><input type="radio" role="radio" name="').f(t.get(["inputname"],!1),t,"h").w('" value="no"aria-label="').f(t.get(["noCaption"],!1),t,"h").w('"').h("eq",t,{block:n},{key:t.get(["value"],!1),value:"false",type:"string"},"h").w("/>").f(t.get(["noCaption"],!1),t,"h").w("</label></fieldset>")}function i(e,t){return e.w(' checked="checked"')}function n(e,t){return e.w(' checked="checked"')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},804836:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="').f(t.get(["width"],!1),t,"h").w('">').x(t.get(["caption"],!1),t,{block:i},{}).w('<div class="elements">').h("eq",t,{block:r},{key:t.get(["showSearch"],!1),value:"true",type:"boolean"},"h").w("</div></div>")}function i(e,t){return e.w('<div class="section-header ').x(t.get(["helpText"],!1),t,{block:n},{}).w('"><h4>').f(t.get(["caption"],!1),t,"h").w("</h4>").s(t.get(["helpText"],!1),t,{block:a},{}).w("</div><hr>")}function n(e,t){return e.w("help-text")}function a(e,t){return e.p("hover-icon",t,t,{type:"info",tooltip:t.get(["helpText"],!1)})}function r(e,t){return e.w('<div class="form-group row search-component"><div class="spacer ').f(t.get(["searchLabelWidth"],!1),t,"h").w('"></div><div class="component-container ').f(t.get(["searchContainerWidth"],!1),t,"h").w('"><div class="control-container data-form-section-search"><input type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" aria-label="').f(t.get(["searchAriaLabel"],!1),t,"h").w('"/><div class="search-control"><button type="button" id="').f(t.get(["field"],!1),t,"h").w('" class="search-control-btn btn selector-btn" aria-label="').f(t.get(["searchAriaLabel"],!1),t,"h").w('"data-toggle="tooltip" data-placement="top" title="').h("resource",t,{},{key:"view_all"},"h").w('"><i class="fa fa-search"></i></button></div><div class="clear-fields-btn-container" data-toggle="tooltip" data-placement="top" title="').h("resource",t,{},{key:"clear_auto_populated_fields"},"h").w('"><button type="button" id="').f(t.get(["field"],!1),t,"h").w('" class="clear-fields-btn btn" aria-label="').f(t.get(["clearAriaLabel"],!1),t,"h").w('"><i class="fa fa-times"></i></button></div></div></div></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},858067:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="data-form-section-header"><i class="drag-handle-icon fa fa-grab-handle" aria-hidden="true"></i><span class="data-form-section-label"><span data-bind="caption" data-binding-event="saved"></span></span><a data-toggle="collapse" data-target="#data-form-section-collapse-').f(t.get(["viewId"],!1),t,"h").w('" aria-expanded="true" aria-controls="data-form-section-collapse-').f(t.get(["viewId"],!1),t,"h").w('"><i id="data-form-section-collapse-control-').f(t.get(["viewId"],!1),t,"h").w('" class="fa fa-chevron-down fa-fw expand-chevron data-form-section-collapse-control"data-container="body" data-placement="top" aria-label="').h("resource",t,{},{key:"minimize"},"h").w(" ").f(t.get(["caption"],!1),t,"h").w(" ").h("resource",t,{},{key:"data-form-section"},"h").w('"data-toggle="tooltip" title="').h("resource",t,{},{key:"minimize"},"h").w('"></i></a></div><div class="collapse in data-form-section-fields" id="data-form-section-collapse-').f(t.get(["viewId"],!1),t,"h").w('"><div class="field-row row static"><div class="search-card layout-card-tmpl col-xs-12"><div class="search-field"><div class="row"><div class="spacer col-xs-12 col-sm-2"></div><div class="component-container col-xs-12 col-sm-3"><div class="control-container data-form-section-search"><input type="text" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" class="form-control" placeholder="').f(t.get(["placeHolderText"],!1),t,"h").w('" /><div class="search-control"><button type="" id="').f(t.get(["field"],!1),t,"h").w('" class="search-control-btn btn selector-btn" aria-label="').f(t.get(["placeHolderText"],!1),t,"h").w('"><i class="fa fa-search"></i></button></div></div></div></div></div></div></div><div class="data-form-section-form-fields accept data-form-section"></div><div class="accept drop-here-container data-form-section" id="data-form-section-').f(t.get(["viewId"],!1),t,"h").w('" data-readonly="false"><a class="drop-here-text static btn">').h("resource",t,{},{groupName:"settings",subgroupName:"form-builder",key:"insert_fields"},"h").w("</a></div></div>")}return e.register("drag-component-tmpl",t),t.__dustBody=!0,t}(n)},303059:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("search-modal-view-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"data-form-section-search-modal",hideFooter:"true",class:"large-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<form class="form-horizontal" role="form">\x3c!-- Search Screen --\x3e<div id="search-container"></div></form>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},162047:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="entity-grid-container"></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},828682:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="entity-grid-header"><i class="drag-handle-icon fa fa-grab-handle" aria-hidden="true"></i><div class="entity-grid-details"><div class="entity-grid-label">').f(t.get(["entityGridCaption"],!1),t,"h").w("</div>").x(t.get(["hasCaption"],!1),t,{block:i},{}).w("</div></div>")}function i(e,t){return e.w('<div><span class="entity-grid-icon"><i class="fa ').f(t.get(["entityIcon"],!1),t,"h").w('"></i></span> <span class="entity-grid-entity" data-bind="gridEntity" data-binding-event="saved"></span></div>')}return e.register("drag-component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},388982:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div class='alert alert-").f(t.getPath(!1,["model","informationBoxType"]),t,"h").w('\'><i class="drag-handle-icon fa fa-grab-handle" aria-hidden="true"></i><span data-bind="caption" data-binding-event="saved"></span></div>')}return e.register("drag-component-tmpl",t),t.__dustBody=!0,t}(n)},779154:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-').f(t.get(["informationBoxType"],!1),t,"h").w('">').f(t.get(["text"],!1),t,"h",["s"]).w('</div><div class="field-icon-container"></div>')}return e.register("form-component-tmpl",t),t.__dustBody=!0,t}(n)},934407:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div role="region" aria-label="').f(t.get(["title"],!1),t,"h").w('"><div class="form-container"><div class="pull-left"><h3 class="title">').f(t.get(["title"],!1),t,"h").w('<span class="title-entity"></span></h3><button class="collapse-control collapsed" id="collapse-control-').f(t.get(["cid"],!1),t,"h").w('" data-target="#inline-form-collapse-').f(t.get(["cid"],!1),t,"h").w('"tabindex="0" data-disable-rule="!canCreate"data-toggle="collapse" aria-expanded="false" aria-label="').h("resource",t,{},{key:"expand"},"h").w(" ").f(t.get(["title"],!1),t,"h").w('"><i class="fa fa-chevron-right fa-fw"data-toggle="tooltip"data-container="body"data-placement="top"title="').h("resource",t,{},{key:"expand"},"h").w('"aria-hidden="true"></i></button></div><div class="form-actions pull-right"><div class="toolbar-content"></div></div><div class="clear"></div><div id="inline-form-collapse-').f(t.get(["cid"],!1),t,"h").w('" class="inline-form-fields collapse" role="document" tabindex="0"><div class="form-fields"></div></div></div><div class="grid-container"><div class="inline-form-grid"></div></div></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},680900:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["selectedEntity"],!1),t,{block:i},{}).h("gt",t,{else:n,block:r},{key:t.getPath(!1,["entityConfigs","length"]),value:1},"h").s(t.get(["selectedEntity"],!1),t,{block:l},{})}function i(e,t){return e.w('<li><button type="button" class="btn btn-primary edit-btn" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit-').f(t.get(["name"],!1),t,"h").w("-").f(t.get(["cid"],!1),t,"h").w('"data-disable-rule="isParentReferenceFieldNeeded || !canEdit"aria-label="').h("resource",t,{},{key:"edit"},"h").w(" ").f(t.get(["name"],!1),t,"h").w('"><i class="fa fa-icon fa-pencil"></i></button></li><li class="save-btn-group btn-group"><button type="button" class="btn btn-primary save-btn" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save-').f(t.get(["name"],!1),t,"h").w("-").f(t.get(["cid"],!1),t,"h").w('"data-disable-rule="isLockedByAnotherUser || isMarkedOrPurged || isParentReferenceFieldNeeded"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").f(t.get(["name"],!1),t,"h").w('" hidden><i class="fa fa-icon fa-save"></i></button></li><li class="cancel-btn-group btn-group"><button type="button" class="btn btn-danger cancel-btn"data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel-').f(t.get(["name"],!1),t,"h").w("-").f(t.get(["cid"],!1),t,"h").w('"aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").f(t.get(["name"],!1),t,"h").w('" hidden><i class="fa fa-icon fa-times"></i></button></li>')}function n(e,t){return e.w('<li style="position:relative;">').s(t.get(["entityConfigs"],!1),t,{block:a},{}).w("</li>")}function a(e,t){return e.w('<button type="button" class="btn btn-primary add-btn add-btn-single"data-toggle="tooltip"data-placement="bottom" data-style="zoom-in" title="').f(t.get(["addCaption"],!1),t,"h").w('"data-disable-rule="!canCreate"aria-label="').f(t.get(["addCaption"],!1),t,"h").w('"><i class="fa fa-icon fa-plus"></i></button>')}function r(e,t){return e.w('<li style="position:relative;"><button type="button" class="btn btn-primary add-btn add-btn-multi" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"add"},"h").w('"aria-expanded="false" data-style="zoom-in" data-disable-rule="!isEntitiesToCreate"><i class="fa fa-icon fa-plus"></i></button><ul class="dropdown-menu styled-dropdown arrow pull-right" role="menu">').s(t.get(["entityConfigs"],!1),t,{block:o},{}).w("</ul></li>")}function o(e,t){return e.h("acl",t,{block:s},{role:t.getPath(!1,["aclRoles","createACLRole"])},"h")}function s(e,t){return e.w('<li role="none"><a data-route="#" class="entity-type-item" role="menuitem"data-type="').f(t.get(["entityName"],!1),t,"h").w('">').f(t.get(["addCaption"],!1),t,"h").w(" </a></li>")}function l(e,t){return e.w('<li class="btn-group action-buttons-more-options-btn-container"><button type="button" class="btn action-buttons-more-options-btn dropdown-toggle"data-toggle="dropdown"data-disable-rule="!canCreate"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li class="save-and-copy toolbar-btn toolbar-btn_editmode-only" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w('</a></li><li role="menuitem"><button type="button" id="delete-').f(t.get(["name"],!1),t,"h").w("-").f(t.get(["cid"],!1),t,"h").w('" class="toolbar-btn delete-btn styled-dropdown-btn styled-dropdown-danger-btn"data-disable-rule="isParentReferenceFieldNeeded || !canDelete">').h("resource",t,{},{key:"delete"},"h").w("</button></li></ul></li>")}return e.register("action-buttons-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},390276:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('</div><div class="no-print"><div id="messages-container-').f(t.get(["parentCid"],!1),t,"h").w('" aria-live="assertive"></div></div><div class="autorender-placeholder"></div>')}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}return e.register("form-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},15766:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="above-context-message-container"></div><div class="insertion-point-elements"><div class="insertion-point-form-fields accept drag-container insertion-point"></div><div class="accept drop-here-container drag-container insertion-point" id="insertion-point-').f(t.get(["viewId"],!1),t,"h").w('" data-readonly="false"><a class="drop-here-text static btn">').h("resource",t,{},{groupName:"settings",subgroupName:"form-builder",key:"insert_fields"},"h").w('</a></div></div><div class="below-context-message-container"></div>')}return e.register("drag-component-tmpl",t),t.__dustBody=!0,t}(n)},456965:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="elements" class="row"></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},742308:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="').f(t.get(["width"],!1),t,"h").w('">').x(t.get(["caption"],!1),t,{block:i},{}).w('<div class="elements"></div></div>')}function i(e,t){return e.w('<div class="section-header ').x(t.get(["helpText"],!1),t,{block:n},{}).w('">').x(t.get(["renderTabsAsInlineForm"],!1),t,{else:a,block:r},{}).s(t.get(["helpText"],!1),t,{block:o},{}).w("</div><hr>")}function n(e,t){return e.w("help-text")}function a(e,t){return e.w("<h4>").f(t.get(["caption"],!1),t,"h").w("</h4>")}function r(e,t){return e.w(" <h3>").f(t.get(["caption"],!1),t,"h").w("</h3>")}function o(e,t){return e.p("hover-icon",t,t,{type:"info",tooltip:t.get(["helpText"],!1)})}return e.register("component-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},439315:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="section-header"><i class="drag-handle-icon fa fa-grab-handle" aria-hidden="true"></i><span class="section-label"><span data-bind="caption" data-binding-event="saved"></span></span><a data-toggle="collapse" data-target="#section-collapse-').f(t.get(["viewId"],!1),t,"h").w('" aria-expanded="true" aria-controls="section-collapse-').f(t.get(["viewId"],!1),t,"h").w('"><i id="section-collapse-control-').f(t.get(["viewId"],!1),t,"h").w('" class="fa fa-chevron-down fa-fw expand-chevron section-collapse-control"data-container="body" data-placement="top" aria-label="').h("resource",t,{},{key:"minimize"},"h").w(" ").f(t.get(["caption"],!1),t,"h").w(" ").h("resource",t,{},{key:"section"},"h").w('"data-toggle="tooltip" title="').h("resource",t,{},{key:"minimize"},"h").w('"></i></a></div><div class="collapse in section-fields" id="section-collapse-').f(t.get(["viewId"],!1),t,"h").w('"><div class="section-form-fields accept section"></div><div class="accept drop-here-container section" id="section-').f(t.get(["viewId"],!1),t,"h").w('" data-readonly="false"><a class="drop-here-text static btn">').h("resource",t,{},{groupName:"settings",subgroupName:"form-builder",key:"insert_fields"},"h").w("</a></div></div>")}return e.register("drag-component-tmpl",t),t.__dustBody=!0,t}(n)},639315:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="inline-tab" ').x(t.get(["displayRule"],!1),t,{block:i},{}).w(" ><h2 class='tab-name-header'>").f(t.get(["caption"],!1),t,"h").w('</h2><hr><div class="elements"></div></div>')}function i(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("inline-tab-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},920539:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="elements"></div>')}return e.register("tab-view-tmpl",t),t.__dustBody=!0,t}(n)},336404:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="tombstone"><div class="elements"></div></div><div class="row col-xs-12"><hr/></div>')}return e.register("component-tmpl",t),t.__dustBody=!0,t}(n)},87749:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}return e.register("external-case-overview-tmpl",t),t.__dustBody=!0,t}(n)},867193:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div id='footer-links' role=\"contentinfo\">").s(t.get(["showCustomPrivacyStatement"],!1),t,{block:i},{}).w('<div class="privacy-statement-container"><span class="privacy-statement-text">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"system_privacy_policy_name"},"h").w('</span> <a target="_blank" href="').f(t.get(["privacyPolicyUrl"],!1),t,"h").w('" id="system-privacy-statement-link">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"system_privacy_policy_link_text"},"h").w('</a></div></div><div class="scroll-to-top hidden-xs"><div class="content"><button class="btn scroll-to-top-btn" id="scroll-to-top" aria-label="scroll-to-top-button" role="button"><i class="fa fa-icon fa-arrow-circle-up"></i><span class="scroll-to-top-text">').h("resource",t,{},{key:"back_to_top"},"h").w('</span></button></div><div class="background"></div></div>')}function i(e,t){return e.w('<div class="privacy-statement-container"><span class="privacy-statement-text">').f(t.get(["customerName"],!1),t,"h").w('</span> <a href="#" id="customer-privacy-statement-link">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"customer_privacy_statement_link_text"},"h").w("</a></div>")}return e.register("portal-footer-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},773046:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<nav class="navbar">\x3c!-- Company logo --\x3e<div class="navbar-logo"><a href="#" aria-label="').h("resource",t,{},{key:"home"},"h").w('">').p("logo",t,t,{}).w('</a></div>\x3c!-- Dropdown menu on right side for changing theme and language --\x3e<div class="navbar-dropdown-menus"><ul class="nav navbar-nav"><li class="dropdown theme-dropdown" data-display-rule="!isPortalUser"><a data-route="#" class="dropdown-toggle btn-lg" data-toggle="dropdown" aria-label="').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"themes"},"h").w('"><i class="fa fa-icon fa-paint-brush"></i></a><ul class="dropdown-menu styled-dropdown arrow"><div>').s(t.get(["themes"],!1),t,{block:i},{}).w('</div></ul></li><li class="dropdown language-dropdown" data-display-rule="!isPortalUser"><a data-route="#" class="dropdown-toggle btn-lg" data-toggle="dropdown" aria-label="').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"lang"},"h").w('"><i class="fa fa-icon fa-language"></i></a><ul class="dropdown-menu styled-dropdown arrow"><div>').s(t.get(["languages"],!1),t,{block:a},{}).w('</div></ul></li><li class="external-app" data-display-rule="isPortalUser"><a href="/external" id="external-app-link" class="btn-lg" button="role" aria-label="').h("resource",t,{},{groupName:"portal",subgroupName:"common",key:"view_submitted_cases"},"h").w('" data-toggle="tooltip" data-placement="left" title="').h("resource",t,{},{groupName:"portal",subgroupName:"common",key:"view_submitted_cases"},"h").w('"><i class="fa fa-list"></i></a></li><li class="dropdown user-account" data-display-rule="isPortalUser"><a data-route="#" id="user-account-link" class="dropdown-toggle btn-lg user-account-dropdown" data-toggle="dropdown" button="role" aria-label="').h("resource",t,{},{key:"user_account"},"h").w('" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user-circle"></i></a><div class="user-account-dropdown-container dropdown-container dropdown-menu styled-dropdown arrow dropdown-position-bottomright"><ul id="user-dropdown" class="dropdown-menu" aria-labelledby="user-account-link">').h("acl",t,{block:o},{role:"edit_own_user_profile"},"h").x(t.get(["showChangePasswordLink"],!1),t,{block:s},{}).w('<li id="sign-out-link"><a data-route="#">').h("resource",t,{},{key:"sign_out"},"h").w("</a></li></ul></div></li></ul></div></nav>")}function i(e,t){return e.w('<li><a data-route="#" href="#" role="button" class="theme-selector').x(t.get(["current"],!1),t,{block:n},{}).w('" data-value="').f(t.get(["name"],!1),t,"h").w('">').f(t.get(["name"],!1),t,"h").w("</a></li>")}function n(e,t){return e.w(" current")}function a(e,t){return e.w('<li><a data-route="#" href="#" role="button" class="language-selector').x(t.get(["current"],!1),t,{block:r},{}).w('" data-value="').f(t.get(["value"],!1),t,"h").w('">').f(t.get(["caption"],!1),t,"h").w("</a></li>")}function r(e,t){return e.w(" current")}function o(e,t){return e.w('<li id="profile-link"><a href="#">').h("resource",t,{},{key:"profile"},"h").w("</a></li>")}function s(e,t){return e.w('<li id="change-password-link"><a href="#">').h("resource",t,{},{key:"change_password"},"h").w("</a></li>")}return e.register("portal-navbar-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},18851:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="portal-page-header" role="banner"><div class="container"><i class="fa ').f(t.get(["icon"],!1),t,"h").w(' icon"></i> <h2>').f(t.get(["title"],!1),t,"h").w("</h2></div></div>")}return e.register("portal-sub-header-tmpl",t),t.__dustBody=!0,t}(n)},953410:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("portal-sub-header-tmpl",t,t,{title:t.get(["pageTitle"],!1),icon:"fa-phone"}).w('<div class="container main-content"><p class="dialing-instructions-help-text">').f(t.get(["dialingInstructionsHelpText"],!1),t,"h").w('</p><div class="masterhead"><div class="container">\t<p>').h("resource",t,{},{groupName:"portal",subgroupName:"dialing_instructions",key:"dialing_instructions_content"},"h").w('</p></div></div><div id="dialing-instructions-grid"></div></div>')}return e.register("dialing-instructions-tmpl",t),t.__dustBody=!0,t}(n)},155173:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div><div class="masterhead"><div class="container"><h1>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"title"},"h").w("</h1><p>").h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"welcome_first_paragraph"},"h").w("</p><p>").h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"welcome_second_paragraph"},"h").w("</p><p>").h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"welcome_third_paragraph"},"h").w('</p></div></div><div class="cards container"><h2>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"methods_title"},"h").w('</h2><h3 class="title-sub">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"methods_sub_title"},"h").w('</h3><div class="row"><div class="col-md-4 column card"><i class="fa fa-laptop icon"></i><h4>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"online"},"h").w('</h4><div class="description">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"report_online_description"},"h").w('</div><a data-route="/portal/reportonline" class="btn btn-primary">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"report_online_button"},"h").w("</a></div>").x(t.get(["allowDialingReport"],!1),t,{block:i},{}).x(t.get(["allowEmailReport"],!1),t,{block:n},{}).w("</div></div>").x(t.get(["twoWayPortalEnabled"],!1),t,{block:a},{}).w("</div>")}function i(e,t){return e.w('<div class="col-md-4 column card"><i class="fa fa-phone icon"></i><h4>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"phone"},"h").w('</h4><div class="description">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"dialing_description"},"h").w('</div><button type="button" id="go-to-dialing-instructions" class="btn btn-primary">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"dialing_button"},"h").w("</button></div>")}function n(e,t){return e.w('<div class="col-md-4 column card"><i class="fa fa-envelope icon"></i><h4>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"email"},"h").w('</h4><div class="description">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"email_section"},"h").w('</div><a href="mailto:').f(t.get(["portalAddress"],!1),t,"h").w('" class="btn btn-primary">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"email_button"},"h").w("</a></div>")}function a(e,t){return e.w('<div class="returning-user-login" data-display-rule="!isPortalUser"><h2><span>').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"returning_user_login_title"},"h").w('</span></h2><a href="').f(t.get(["loginRoute"],!1),t,"h").w('" class="btn btn-primary returning-user-login-button">').h("resource",t,{},{groupName:"portal",subgroupName:"landing_page",key:"login_button"},"h").w("</a></div>")}return e.register("landing-page-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},799477:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("portal-submission-confirmation-modal-tmpl",i);var t={header:n,body:a,footer:o};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.nx(i.get(["hasValidationError"],!1),i,{block:r},{}).w('<div class="conditions-container"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w("<p> ").h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"confirmation_modal_body"},"h").w(" </p>")}function o(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').f(i.get(["cancelName"],!1),i,"h").w('</button><button type="button" id="submit" name="submit" class="primary" ').x(i.get(["hasValidationError"],!1),i,{block:s},{}).w('><i class="fa fa-icon fa-check"></i>').f(i.get(["confirmName"],!1),i,"h").w("</button>")}function s(e,i){return i=i.shiftBlocks(t),e.w("disabled")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,i}(n)},631195:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("portal-submission-success-modal-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{disableDismissOnOutsideClick:"true",hideCloseBtn:"true",class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"success_title"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w("<p>").h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"success_message_first_line"},"h").w("</p><p><b>").f(i.get(["caseNumber"],!1),i,"h").w("</b></p><p>").f(i.get(["messageText"],!1),i,"h").w("</p>")}function r(e,i){return i=i.shiftBlocks(t),e.x(i.get(["canViewCase"],!1),i,{else:o,block:s},{})}function o(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="go-to-landing-page" class="primary"><i class="fa fa-icon fa-check"></i>').h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"success_action_return_to_homepage"},"h").w("</button>")}function s(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="go-to-landing-page" class="secondary"><i class="fa fa-icon fa-check"></i>').h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"success_action_return_to_homepage"},"h").w('</button><button type="button" id="go-to-case-view" class="primary"><i class="fa fa-icon fa-file-text"></i>').h("resource",i,{},{groupName:"portal",subgroupName:"report_online",key:"view_case"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,i}(n)},142304:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="container main-content"><div class="header"><h1>').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline" />').p("asterisk_message",t,t,{}).w('</div><div class="autorender-placeholder case-form-container"></div><div class="parties-container"></div><div class="dynamic-forms-container"></div><div class="files-container"></div><div class="reporter-container"></div><div class="submit-btn-container"><button id="submit" type="button" class="btn btn-primary btn-md">').h("resource",t,{},{groupName:"portal",subgroupName:"report_online",key:"submit"},"h").w("</button></div></div>")}return e.register("report-online-tmpl",t),t.__dustBody=!0,t}(n)},147096:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div>')}return e.register("report-online-reporter-information-tmpl",t),t.__dustBody=!0,t}(n)},66787:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div>')}return e.register("reporter-case-tmpl",t),t.__dustBody=!0,t}(n)},473373:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div>')}return e.register("reporter-party-tmpl",t),t.__dustBody=!0,t}(n)},117638:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div>')}return e.register("reporter-user-tmpl",t),t.__dustBody=!0,t}(n)},710865:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="agenda-event-card-content" data-original-entity-id="').f(t.get(["originalEntityId"],!1),t,"h").w('"data-original-entity-type="').f(t.get(["originalEntityType"],!1),t,"h").w('"><div class="agenda-event-card-col1"><div class="event-type btn btn-default pill-btn"style="background-color: ').f(t.get(["backgroundColor"],!1),t,"h").w("; color: ").f(t.get(["textColor"],!1),t,"h").w('">').f(t.get(["typeCaption"],!1),t,"h").w('</div></div><div class="agenda-event-card-col2"><div class="event-title">').f(t.get(["title"],!1),t,"h").w('</div><div class="event-subtitle">').f(t.get(["subtitle"],!1),t,"h").w('</div><div class="event-description">').f(t.get(["description"],!1),t,"h",["s"]).w('</div><div class="event-date"><span class="no-wrap">').x(t.get(["startDate"],!1),t,{block:i},{}).w("</span>").x(t.get(["dateDelimiter"],!1),t,{block:n},{}).w('<span class="no-wrap">').x(t.get(["endDate"],!1),t,{block:a},{}).w("</span></div></div></div><hr/>")}function i(e,t){return e.f(t.get(["startDate"],!1),t,"h")}function n(e,t){return e.f(t.get(["dateDelimiter"],!1),t,"h")}function a(e,t){return e.f(t.get(["endDate"],!1),t,"h")}return e.register("agenda-event-card-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},637825:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("agenda-modal-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"agenda-modal-tmpl"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title"><div class="agenda-header"><div class="agenda-title">').f(i.get(["title"],!1),i,"h").w(": ").f(i.get(["currentDate"],!1),i,"h").w('</div><div class="agenda-count">').h("resource",i,{},{key:"calendar_grid_caption"},"h").w(": ").f(i.get(["agendaCount"],!1),i,"h").w("</div></div></div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="agenda-events-container"><div class="loader-container"></div>').h("gt",i,{block:r},{key:i.getPath(!1,["events","length"]),value:0},"h").h("eq",i,{block:o},{key:i.getPath(!1,["events","length"]),value:0},"h").w("</div>")}function r(e,i){return i=i.shiftBlocks(t),e.w('<div class="agenda-events"></div>')}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="agenda-no-events">').h("resource",i,{},{key:"agenda_no_events"},"h").w("</div>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,i}(n)},709821:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="agenda-header"><div class="agenda-title">').f(t.get(["title"],!1),t,"h").w('</div><div class="agenda-date">').f(t.get(["currentDate"],!1),t,"h").w('</div></div><div class="agenda-events-container"><div class="loader-container"></div>').h("gt",t,{block:i},{key:t.getPath(!1,["events","length"]),value:0},"h").h("eq",t,{block:n},{key:t.getPath(!1,["events","length"]),value:0},"h").w("</div>")}function i(e,t){return e.w('<div class="agenda-events"></div>')}function n(e,t){return e.w('<div class="agenda-no-events">').h("resource",t,{},{key:"agenda_no_events"},"h").w("</div>")}return e.register("agenda-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},503326:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Messages --\x3e<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div><div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('</div>\x3c!-- Buttons --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true">').p("default-form-edit-button-tmpl",t,t,{displayRule:"canEdit"}).w('<button data-display-rule="canCancel" class="btn btn-danger btn-lg" data-toggle="tooltip"data-placement="bottom"title="').h("resource",t,{},{key:"cancel_appointment"},"h").w('" id="cancel-appointment"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"><i class="fa fa-icon fa-calendar-times-o fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li data-display-rule="canDelete"><button id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w('</button></li></ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save_and_send"},"h").w('"aria-label="').h("resource",t,{},{key:"save_and_send"},"h").w('" id="save-and-send"data-disable-rule="disableForClosedCase"data-display-rule="canSave" data-ladda-model-save><i class="fa fa-icon fa-paper-plane fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-disable-rule="disableForClosedCase"data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"data-display-rule="canSave"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu">').x(t.get(["showSaveWithoutSending"],!1),t,{block:r},{}).w('<li id="save-and-copy" role="menuitem"><a data-route="#" data-ladda-model-save>').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>").h("acl",t,{block:o},{role:"edit_layout"},"h").w("</ul></div></div></div>\x3c!-- Header --\x3e").s(t.getPath(!1,["model","id"]),t,{else:s,block:l},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<li id="save-without-sending" role="menuitem"><a data-route="#" data-ladda-model-save>').h("resource",t,{},{key:"save_without_sending"},"h").w("</a></li>")}function o(e,t){return e.w('<li id="edit_layout" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"edit_layout"},"h").w("</a></li>")}function s(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function l(e,t){return e.w('<div class="no-print">').s(t.getPath(!1,["model","childNumber"]),t,{else:d,block:c},{}).w('<div class="relationship-indicator-placeholder"></div>\x3c!-- Flags --\x3e<div id="flags"></div></div><div class="print-only">').s(t.getPath(!1,["model","childNumber"]),t,{block:u},{}).w("</div>")}function d(e,t){return e.w('<h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</h1>")}function c(e,t){return e.w('<h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</h1>")}function u(e,t){return e.w("<h4>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(' | <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</span></h4><span class="appointment-status">').f(t.getPath(!1,["model","status"]),t,"h").w("</span>")}return e.register("appointment-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,t}(n)},114104:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("appointment-event-tmpl",i);var t={"custom-event-buttons":n};function i(e,i){return i=i.shiftBlocks(t),e.p("calendar-event-modal",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="delete" class="secondary danger"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-display-rule="canDelete" data-spinner-color="#94A7B8"><i class="fa fa-icon fa-trash"></i>').h("resource",i,{},{key:"delete"},"h").w('</button><button type="button" id="cancel-appointment" class="secondary"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-display-rule="canCancel" data-spinner-color="#94A7B8"><i class="fa fa-icon fa-calendar-times-o"></i>').h("resource",i,{},{key:"cancel_appointment"},"h").w('</button><button type="button" id="save-without-sending" name="save-without-sending" class="secondary"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !haveFieldsChanged || disableForClosedCase"data-display-rule="canSave" data-spinner-color="#94A7B8"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save_without_sending"},"h").w('</button><button type="button" id="save-and-send" name="save-and-send" class="primary"data-disable-rule="lockedByAnotherUser ||isMarkedOrPurged ||(!haveFieldsChanged && !hasUnsentChanges) || disableForClosedCase"data-display-rule="canSave"><i class="fa fa-icon fa-paper-plane"></i>').h("resource",i,{},{key:"save_and_send"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},887714:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("calendar-event-modal",i);var t={header:n,body:s,footer:p};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"calendar-event-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["entityCaption"],!1),i,"h").w(":&nbsp;").h("entityLink",i,{block:a},{entity:i.getPath(!1,["model","entity$"]),context:i.get(["model"],!1),roles:i.get(["eventLinkRoles"],!1),roleOperator:i.get(["eventLinkRolesOperator"],!1),"aria-label":"external_link"},"h").h("acl",i,{block:r},{role:i.get(["eventLinkRoles"],!1)},"h").w('<div id="flags"></div></div>')}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["itemName"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.w('<span class="event-external-link">').h("entityLink",i,{block:o},{entity:i.getPath(!1,["model","entity$"]),context:i.get(["model"],!1),target:"_blank","aria-label":"external_link"},"h").w("</span>")}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="icon-container" data-toggle="tooltip" title="').h("resource",i,{},{key:"external_link"},"h").w('"><i class="fa fa-external-link" aria-hidden="true"></i></div>')}function s(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert-container">').x(i.getPath(!1,["model","datePurged"]),i,{else:l,block:c},{}).w('</div><div class="no-print"><div id="messages-container" aria-live="assertive"></div></div>').p("asterisk_message",i,i,{}).w('<div class="autorender-placeholder"></div>').b(i.getBlock("custom-sections"),i,{block:u},{})}function l(e,i){return i=i.shiftBlocks(t),e.x(i.getPath(!1,["model","pendingPurgeDate"]),i,{block:d},{})}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",i,{},{key:"record_pending_purge_time"},"h").w(" ").f(i.getPath(!1,["formattedData","pendingPurgeDate"]),i,"h").w("</div>")}function c(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_purged_info"},"h").w("</div>")}function u(e,i){return i=i.shiftBlocks(t),e}function p(e,i){return i=i.shiftBlocks(t),e.b(i.getBlock("custom-event-buttons"),i,{block:f},{})}function f(e,i){return i=i.shiftBlocks(t),e.nx(i.get(["readOnly"],!1),i,{block:h},{})}function h(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="save" name="save" class="primary"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,i}(n)},134229:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["showTitle"],!1),t,{block:i},{}).w('<div class="calendar-view-container"><div class="calendar-view-col1 sidebar"><div id="mini-calendar" class="mini-calendar"></div><div id="agenda"></div></div><div class="calendar-view-col2"><div id="main-view"></div></div></div>')}function i(e,t){return e.w('<h1 class="h3">').h("resource",t,{},{key:"calendar"},"h").w("</h1><hr/>")}return e.register("calendar-view-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},715787:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="case-action-history-grid">\t</div>')}return e.register("case-action-history-tmpl",t),t.__dustBody=!0,t}(n)},409869:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12" id="activity-subcategory"><ul class="case-activity-nav nav nav-pills tab-underline" role="tablist" id="case-activity-tabs"><li data-display-rule="displayAll" data-navigation="all" role="presentation"><a id="case-all-tab" href="#case-all-tab-content" role="tab" aria-controls="case-all-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"all"},"h").w("</a></li>").h("acl",t,{block:i},{role:"view_note"},"h").h("acl",t,{block:n},{role:"view_email"},"h").h("acl",t,{block:a},{role:"view_todo"},"h").h("acl",t,{block:r},{role:"view_appointment"},"h").x(t.get(["customForms"],!1),t,{block:o},{}).w('</ul></div></div><div id="content-container"><div id="case-all-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-all-tab" hidden></div><div id="case-notes-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-notes-tab" hidden></div><div id="case-emails-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-emails-tab" hidden></div><div id="case-todos-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-todos-tab" hidden></div><div id="case-appointments-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-appointments-tab" hidden></div><div id="case-forms-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-forms-tab" hidden></div></div>')}function i(e,t){return e.w('<li data-display-rule="displayNote" data-navigation="notes" role="presentation"><a id="case-notes-tab" href="#case-notes-tab-content" role="tab" aria-controls="case-notes-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"notes"},"h").w("</a></li>")}function n(e,t){return e.w('<li data-display-rule="displayEmail" data-navigation="emails" role="presentation"><a id="case-emails-tab" href="#case-emails-tab-content" role="tab" aria-controls="case-emails-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"emails"},"h").w("</a></li>")}function a(e,t){return e.w('<li data-display-rule="displayTodo" data-navigation="to-dos" role="presentation"><a id="case-todos-tab" href="#case-todos-tab-content" role="tab" aria-controls="case-todos-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"todos"},"h").w("</a></li>")}function r(e,t){return e.w('<li data-display-rule="displayAppointment" data-navigation="appointments" role="presentation"><a id="case-appointments-tab" href="#case-appointments-tab-content" role="tab" aria-controls="case-appointments-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{groupName:"sys/appointment",subgroupName:"general",key:"nameplural"},"h").w("</a></li>")}function o(e,t){return e.w('<li data-navigation="forms" role="presentation"><a id="case-forms-tab" href="#case-forms-tab-content" role="tab" aria-controls="case-forms-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"forms"},"h").w("</a></li>")}return e.register("case-activity-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},276251:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="case-audit-container"></div><div id="case-audit-exceeded-container"></div>')}return e.register("case-audit-tmpl",t),t.__dustBody=!0,t}(n)},592860:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-cancel-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"cancel_case"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.p("asterisk_message",i,i,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save" name="save" class="primary" data-ladda-model-save><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},831509:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12" id="details-subcategory"><ul class="case-details-nav nav nav-pills tab-underline" role="tablist" id="case-details-tabs"></ul></div></div><div class="row"><div class="col-sm-12"><div id="content-container"><div class="loader-container"></div>').s(t.get(["tabs"],!1),t,{block:i},{}).w("</div></div></div>").p("intake-translation-disclaimer-footer-tmpl",t,t,{})}function i(e,t){return e.w('<div id="').f(t.get(["tabPanelId"],!1),t,"h").w('" role="tabpanel" aria-hidden="true" aria-labelledby="').f(t.get(["tabId"],!1),t,"h").w('" hidden></div>')}return e.register("case-details-subcategory-selector-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},208448:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:r},{}).p("translated-text-warning",t,t,{}).w('</div><div class="case-descriptor-container"><div class="case-descriptor"><h1 ').s(t.getPath(!1,["model","canceled"]),t,{block:o},{}).w(' data-bind="caseNumber"></h1><span class="star-btn-control"></span><div id="flags"></div></div>\x3c!-- Buttons --\x3e<div class="no-print pull-right btn-toolbar-sticky">\x3c!-- Buttons for viewing case details --\x3e<div data-readonly="true"><div class="buttons-bar-container"><div class="btn-bar btn-bar-has-space-between-elements"><div class="btn-group">\x3c!-- Edit Button --\x3e<button id="edit"class="buttons-bar-btn buttons-bar-btn-show-as-icon-on-mobile buttons-bar-btn-primary buttons-bar-btn-with-icon has-dynamic-dropdown-caret"data-disable-rule="caseLockedByAnotherUser || !canEdit"aria-label="').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"edit"},"h").w('"><i class="buttons-bar-btn-icon buttons-bar-edit-btn-icon fa fa-icon fa fa-pencil" aria-hidden="true"></i><span>').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"edit"},"h").w('</span></button></div>\x3c!-- Add To Case Button --\x3e<div><div class="btn-group"><button id="add-selector"class="buttons-bar-btn buttons-bar-btn-show-as-icon-on-mobile buttons-bar-btn-secondary buttons-bar-btn-with-icon has-dynamic-dropdown-caret box-shadow-none dropdown-toggle"data-disable-rule="caseCanceled || casePurged || !canEditCase || disableForClosedCase"data-display-rule= "!canNotAddAnyForm"aria-label="').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"add_to_case"},"h").w('"data-toggle="dropdown"><i class="buttons-bar-btn-icon buttons-bar-edit-btn-left-icon fa fa-icon fa fa-plus" aria-hidden="true"></i><span>').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"add_to_case"},"h").w('</span><i class="buttons-bar-btn-icon buttons-bar-edit-btn-right-icon fa fa-icon fa-caret-down" aria-hidden="true"></i><i class="buttons-bar-btn-icon buttons-bar-edit-btn-right-icon fa fa-icon fa-caret-up" aria-hidden="true"></i></button><ul id="case-details-forms-dropdown" class="dropdown-menu styled-dropdown arrow pull-right">').h("acl",t,{block:s},{role:"create_todo"},"h").h("acl",t,{block:l},{role:"create_note"},"h").h("acl",t,{block:d},{role:"create_appointment"},"h").h("acl",t,{block:c},{role:"create_attachment"},"h").h("acl",t,{block:u},{role:"create_party"},"h").h("acl",t,{block:p},{role:"create_email"},"h").x(t.get(["hasForms"],!1),t,{block:f},{}).w('</ul></div></div></div></div>\x3c!-- The Ellipsis "More (Edit) Options" Button --\x3e<div class="buttons-bar-advanced-menu-container"><div class="menu btn-group"><button type="button" class="buttons-bar-btn buttons-bar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="caseLockedByAnotherUser"data-ladda-disable-on-edit aria-label="').h("resource",t,{},{key:"options"},"h").w('"><i class="buttons-bar-more-options-btn-icon fa fa-ellipsis-v"></i></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail arrow pull-right"><li class="dropdown-section no-border"><ul class="dynamic-lists">').b(t.getBlock("custom_workflow_transitions_options"),t,{block:g},{}).b(t.getBlock("custom_flag_list_options"),t,{block:y},{}).w('</ul></li><li class="dropdown-section black-divider"><ul>').b(t.getBlock("custom_assign_owner_option"),t,{block:v},{}).b(t.getBlock("custom_reassign_owner_option"),t,{block:b},{}).b(t.getBlock("custom_manage_team_option"),t,{block:w},{}).b(t.getBlock("custom_mark_confidential_option"),t,{block:A},{}).b(t.getBlock("custom_unmark_confidential_option"),t,{block:C},{}).w("\x3c!-- Custom Options --\x3e").b(t.getBlock("custom_edit_options"),t,{block:k},{}).b(t.getBlock("custom_cancel_option"),t,{block:x},{}).b(t.getBlock("custom_restore_option"),t,{block:_},{}).b(t.getBlock("custom_allow_purge_option"),t,{block:E},{}).b(t.getBlock("custom_do_not_purge_option"),t,{block:I},{}).p("translation-language-toggle-btns",t,t,{}).w('\x3c!-- Submit For Translation --\x3e<li data-display-rule="canManuallyTranslate"><a data-route="#" id="submit-for-translation"><i class="fa-icon fa-fw fa-lg fa-solid fa-globe"></i>').h("resource",t,{},{key:"submit_for_translation"},"h").w("</a></li></ul></li>").x(t.get(["isRecordSourceViewEnabled"],!1),t,{block:S},{}).b(t.getBlock("custom_print_option"),t,{block:D},{}).w('</ul>\t</div></div></div>\x3c!-- Buttons for editing case details --\x3e<div class="btn-toolbar" data-readonly="false">\x3c!-- Bootstrap tooltip won\'t hide if the button is disabled (via data-ladda-model-save), so we wrap the button with the following div instead --\x3e<div data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('"><button type="button" class="btn btn-primary btn-lg" id="save" aria-label="').h("resource",t,{},{key:"save"},"h").w('" data-disable-rule="caseLockedByAnotherUser" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></button></div><button type="button" class="btn btn-danger btn-lg" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button></div></div></div>').b(t.getBlock("custom_header_options"),t,{block:F},{}).w("\x3c!-- Custom Heading Options --\x3e").b(t.getBlock("custom_heading_options"),t,{block:O},{}).w('<div id="case-header-container"><div id="workflow-timeline-container"></div><div id="case-header" class="tombstone-container"><div class="header-item case-owner"><div class="header-value" data-bind="owner__name" data-placeholder="').f(t.get(["emptyHeaderValue"],!1),t,"h",["s"]).w('"></div><div class="header-field">').h("resource",t,{},{key:"case_owner"},"h").h("gt",t,{block:B},{key:t.get(["teamSizeOtherThanOwner"],!1),value:0},"h").w("</div></div>").s(t.get(["tombstoneConfig"],!1),t,{block:T},{}).w('</div><div class="divider"><hr>').x(t.get(["enableCollapsibleHeader"],!1),t,{block:P},{}).w("</div></div>").p("asterisk_message",t,t,{}).w('<form class="form-horizontal" role="form"><div class="row"><div class="col-sm-12"><ul class="nav nav-pills nav-pills-lg tab-underline has-subcategories subcategory-selector" id="case-subcategory-selector" role="tablist"><li data-navigation="details" role="presentation"><a id="case-details-tab" href="#case-details-tab-content" role="tab" aria-controls="case-details-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"details"},"h").w('</a></li><li data-navigation="activity" role="presentation"><a id="case-activity-tab" href="#case-activity-tab-content" role="tab" aria-controls="case-activity-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"activity"},"h").w("</a></li>").h("acl",t,{block:R},{role:"view_case_calendar"},"h").h("acl",t,{block:j},{role:"view_party"},"h").h("acl",t,{block:M},{role:"view_attachment"},"h").w('<li data-display-rule="isOutcomeAssistantEnabled" data-navigation="summary" role="presentation"><a id="case-summary-tab" href="#case-summary-tab-content" role="tab" aria-controls="case-summary-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"summary"},"h").w('</a></li><li data-navigation="history" data-display-rule="canViewHistory" role="presentation"><a id="case-history-tab" href="#case-history-tab-content" role="tab" aria-controls="case-history-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"history"},"h").w('</a></li></ul></div></div><div id="subcategory-container"><div id="case-details-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-details-tab" hidden></div><div id="case-activity-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-activity-tab" hidden></div><div id="case-calendar-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-calendar-tab" hidden></div><div id="case-parties-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-parties-tab" hidden></div><div id="case-files-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-files-tab" hidden></div><div id="case-summary-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-summary-tab" hidden></div><div id="case-history-tab-content" role="tabpanel" aria-hidden="true" aria-labelledby="case-history-tab" hidden></div></div></form>')}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{else:n,block:a},{})}function n(e,t){return e.w('<div class="alert alert-danger hidden sync-workflows-control no-print" role="alert" data-display-rule="displaySyncWorkflowsBanner">').h("resource",t,{},{key:"sync_workflows"},"h").w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function r(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function o(e,t){return e.w('class="case-canceled"')}function s(e,t){return e.w('<li data-display-rule="canAddTodo && displayTodo"><a id="new-todo" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/to-do/new">').h("resource",t,{},{groupName:"sys/todo",subgroupName:"general",key:"name"},"h").w("</a></li>")}function l(e,t){return e.w('<li data-display-rule="canAddNote && displayNote"><a id="new-note" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/note/new">').h("resource",t,{},{groupName:"sys/note",subgroupName:"general",key:"name"},"h").w("</a></li>")}function d(e,t){return e.w('<li data-display-rule="canAddAppointment && displayAppointment"><a id="new-appointment" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/appointment/new">').h("resource",t,{},{groupName:"sys/appointment",subgroupName:"general",key:"name"},"h").w("</a></li>")}function c(e,t){return e.w('<li data-display-rule="canUploadFile && displayAttachment"><a id="new-file" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/file/new">').h("resource",t,{},{groupName:"sys/attachment",subgroupName:"general",key:"name"},"h").w("</a></li>")}function u(e,t){return e.w('<li data-display-rule="canAddParty && displayParty"><a id="new-party" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/party/new">').h("resource",t,{},{groupName:"sys/party",subgroupName:"general",key:"name"},"h").w("</a></li>")}function p(e,t){return e.w('<li data-display-rule="canSendEmail && displayEmail"><a id="new-email" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/email/new">').h("resource",t,{},{groupName:"sys/email",subgroupName:"general",key:"name"},"h").w("</a></li>")}function f(e,t){return e.w('<li data-display-rule="canAddCustomForms"><a href="#/" id="forms">').h("resource",t,{},{key:"forms"},"h").w(' <div class="dropdown-icon"><i class="fa fa-caret-down"></i></div></a><div class="form-types hidden"><ul class="nav nav-pills">').s(t.get(["customForms"],!1),t,{block:h},{modelId:t.getPath(!1,["model","id"])}).w("</ul></div></li>")}function h(e,t){return e.w('<li data-display-rule="display').h("capitalize",t,{},{val:t.getPath(!1,["entity","name"])},"h").h("eq",t,{block:m},{key:t.get(["dynamic"],!1),value:t.get(["false"],!1)},"h").w('"><a id="new-').f(t.getPath(!1,["entity","name"]),t,"h").w('" data-route="/case/').f(t.get(["modelId"],!1),t,"h").w("/form/").f(t.getPath(!1,["entity","name"]),t,"h").w('/new">').h("resource",t,{},{groupName:t.get(["entityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</a></li>")}function m(e,t){return e.w(" && canAdd").h("capitalize",t,{},{val:t.getPath(!1,["entity","name"])},"h")}function g(e,t){return e.w('<li id="workflow-transitions" class="dropdown-section no-border"></li>')}function y(e,t){return e.w('<li id="flag-list" class="dropdown-section no-border"></li>')}function v(e,t){return e.w('\x3c!-- Assign Case Owner --\x3e<li data-display-rule="canAssignCase && !hasOwner && !caseLockedByAnotherUser && !isMarkedOrPurged"><a data-route="#" class="assign-case-owner"><i class="fa fa-icon fa-fw fa-lg fa-user"></i>').h("resource",t,{},{key:"assign_case_owner"},"h").w("</a></li>")}function b(e,t){return e.w('\x3c!-- Reassign Case Owner --\x3e<li data-display-rule="canAssignCase && hasOwner && !caseLockedByAnotherUser && !isMarkedOrPurged"><a data-route="#" class="reassign-case-owner"><i class="fa fa-icon fa-fw fa-lg fa-user"></i>').h("resource",t,{},{key:"re_assign_case_owner"},"h").w("</a></li>")}function w(e,t){return e.w('\x3c!-- Manage Team --\x3e<li data-display-rule="canViewTeam"><a data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/team"><i class="fa fa-icon fa-fw fa-lg fa-users"></i>').h("resource",t,{},{key:"manage_team"},"h").w("</a></li>")}function A(e,t){return e.w('\x3c!-- Mark Confidential --\x3e<li data-display-rule="!isConfidential && canChangeConfidentialField"><a data-route="#" id="mark-confidential"><i class="fa fa-icon fa-fw fa-lg fa-eye-slash"></i>').h("resource",t,{},{key:"mark_confidential"},"h").w("</a></li>")}function C(e,t){return e.w('\x3c!-- Unmark Confidential --\x3e<li data-display-rule="isConfidential && canChangeConfidentialField"><a data-route="#" id="unmark-confidential"><i class="fa fa-icon fa-fw fa-lg fa-eye"></i>').h("resource",t,{},{key:"unmark_confidential"},"h").w("</a></li>")}function k(e,t){return e}function x(e,t){return e.w('\x3c!-- Cancel Case --\x3e<li><a data-route="#" id="cancel-case"><i class="fa fa-icon fa-fw fa-lg fa-minus-circle"></i>').h("resource",t,{},{key:"cancel_case"},"h").w("</a></li>")}function _(e,t){return e.w('\x3c!-- Restore Case --\x3e<li><a data-route="#" id="restore-case"><i class="fa fa-icon fa-fw fa-lg fa-folder-open-o"></i>').h("resource",t,{},{key:"restore_case"},"h").w("</a></li>")}function E(e,t){return e.w('\x3c!-- Allow Purge --\x3e<li data-display-rule="isExcludedFromPurge && canMarkCaseAsDoNotPurge"><a data-route="#" id="allow-purge"><i class="fa fa-icon fa-fw fa-lg fa-fire"></i>').h("resource",t,{},{key:"allow_purge"},"h").w("</a></li>")}function I(e,t){return e.w('\x3c!-- Do Not Purge --\x3e<li data-display-rule="!isExcludedFromPurge && canMarkCaseAsDoNotPurge"><a data-route="#" id="do-not-purge"><i class="fa fa-icon fa-fw fa-lg fa-hand-stop-o"></i>').h("resource",t,{},{key:"do_not_purge"},"h").w("</a></li>")}function S(e,t){return e.w('\x3c!-- View Record Source --\x3e<li><a data-route="#" id="record-source-view"><i class="fa-icon fa-fw fa-lg fa-solid fa-box-archive"></i>').h("resource",t,{},{key:"record_source_view"},"h").w("</a></li>")}function D(e,t){return e.w('\x3c!-- Print Case --\x3e<li><a id="print"><i class="fa fa-icon fa-fw fa-lg fa-print"></i>').h("resource",t,{},{key:"print"},"h").w("</a></li>")}function F(e,t){return e}function O(e,t){return e}function B(e,t){return e.w('<a href="#" data-route="/case/').f(t.getPath(!1,["model","id"]),t,"h").w('/team">+').f(t.get(["teamSizeOtherThanOwner"],!1),t,"h").w("</a>")}function T(e,t){return e.w('<div class="header-item" ').s(t.get(["displayRule"],!1),t,{block:N},{}).w('><div class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').f(t.get(["emptyHeaderValue"],!1),t,"h",["s"]).w('"></div><div class="header-field">').f(t.get(["caption"],!1),t,"h").w("</div></div>")}function N(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function P(e,t){return e.w('<button class="collapse-control" aria-label="').h("resource",t,{},{key:"minimize"},"h").w('"><i class="fa fa-chevron-up"></i></button>')}function R(e,t){return e.w('<li data-display-rule="displayCalendar" data-navigation="calendar" role="presentation"><a id="case-calendar-tab" href="#case-calendar-tab-content" role="tab" aria-controls="case-calendar-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"calendar"},"h").w("</a></li>")}function j(e,t){return e.w('<li data-display-rule="displayParty" data-navigation="parties" role="presentation"><a id="case-parties-tab" href="#case-parties-tab-content" role="tab" aria-controls="case-parties-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"parties"},"h").w("</a></li>")}function M(e,t){return e.w('<li data-display-rule="displayAttachment" data-navigation="files" role="presentation"><a id="case-files-tab" href="#case-files-tab-content" role="tab" aria-controls="case-files-tab-content" aria-selected="false"tabindex="-1">').h("resource",t,{},{key:"files"},"h").w("</a></li>")}return e.register("case-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,A.__dustBody=!0,C.__dustBody=!0,k.__dustBody=!0,x.__dustBody=!0,_.__dustBody=!0,E.__dustBody=!0,I.__dustBody=!0,S.__dustBody=!0,D.__dustBody=!0,F.__dustBody=!0,O.__dustBody=!0,B.__dustBody=!0,T.__dustBody=!0,N.__dustBody=!0,P.__dustBody=!0,R.__dustBody=!0,j.__dustBody=!0,M.__dustBody=!0,t}(n)},189204:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12"><div class="tabs-container"></div></div></div>')}return e.register("case-files-subcategory-selector-tmpl",t),t.__dustBody=!0,t}(n)},593633:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["model","enabled"]),t,{else:i,block:r},{})}function i(e,t){return e.s(t.get(["model"],!1),t,{block:n},{})}function n(e,t){return e.h("gt",t,{block:a},{key:t.get(["remaining"],!1),value:"0"},"h")}function a(e,t){return e.h("resource",t,{},{key:"exceeded_audit_printable_rows",ctxt:t.getPath(!0,[])},"h")}function r(e,t){return e.h("resource",t,{},{key:"case_history_summary",ctxt:t.get(["model"],!1),escape:"false"},"h")}return e.register("case-history-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},679126:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12"><ul class="nav nav-pills subcategory-selector tab-underline" id="subcategory-selector" role="tablist">\x3c!-- Case Audit --\x3e<li data-navigation="audit" class="active" role="presentation"><a role="tab" data-route="#" aria-selected="true" tabindex="0">').h("resource",t,{},{key:"audit"},"h").w('</a></li>\x3c!-- Case Workflow History--\x3e<li data-navigation="workflowHistory" role="presentation"><a role="tab" data-route="#" tabindex="-1">').h("resource",t,{},{key:"workflow"},"h").w('</a></li>\x3c!-- Case Action History--\x3e<li data-navigation="actionHistory" role="presentation"><a role="tab" data-route="#" tabindex="-1">').h("resource",t,{},{key:"actions"},"h").w('</a></li></ul></div></div><div id="content-container"></div>')}return e.register("case-history-tmpl",t),t.__dustBody=!0,t}(n)},384998:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<a data-route="#" href="#').f(t.get(["tabPanelId"],!1),t,"h").w('" role="tab" id="').f(t.get(["tabId"],!1),t,"h").w('" aria-controls="').f(t.get(["tabPanelId"],!1),t,"h").w('" data-id="').f(t.get(["id"],!1),t,"h").w('"aria-selected="false" tabindex="-1" ').s(t.get(["displayRule"],!1),t,{block:i},{}).w("class='case-link-nav-caption'>").f(t.get(["caption"],!1),t,"h").w("</a>").nx(t.get(["isMarkedOrPurged"],!1),t,{block:n},{})}function i(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function n(e,t){return e.x(t.get(["message"],!1),t,{block:a},{})}function a(e,t){return e.w('<i class="fa fa-circle link-message-notification" data-toggle="tooltip" data-placement="right" title=\'').f(t.get(["message"],!1),t,"h").w("' ").s(t.get(["displayRule"],!1),t,{block:r},{}).w("></i>")}function r(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("case-link-nav-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},478965:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<a data-route="#" href="#').f(t.get(["tabPanelId"],!1),t,"h").w('" role="tab" id="').f(t.get(["tabId"],!1),t,"h").w('" aria-controls="').f(t.get(["tabPanelId"],!1),t,"h").w('" data-id="').f(t.get(["id"],!1),t,"h").w('"aria-selected="false" tabindex="-1" ').s(t.get(["displayRule"],!1),t,{block:i},{}).w(">").f(t.get(["caption"],!1),t,"h").w("</a>")}function i(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("case-nav-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},429934:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The grid for parties --\x3e<div class="row"><div class="col-sm-12"><div id="parties-grid"></div></div></div>')}return e.register("case-parties-tmpl",t),t.__dustBody=!0,t}(n)},671998:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-reassign-tmpl",i);var t={header:n,body:o,footer:s};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"case-reassign-modal",class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').s(i.getPath(!1,["model","owner"]),i,{else:a,block:r},{}).w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"assign_case"},"h")}function r(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"reassign_case"},"h")}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div>\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div>')}function s(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save" name="save" class="primary" data-ladda-model-save><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,i}(n)},100857:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The grid for Related Cases --\x3e<div class="row"><div class="col-sm-12"><div id="cases-related-people-grid"></div></div></div>')}return e.register("case-related-people-tmpl",t),t.__dustBody=!0,t}(n)},174751:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The grid for Related Cases --\x3e<div class="row"><div class="col-sm-12">').x(t.getPath(!1,["model","currentlyGeneratingLinkSuggestions"]),t,{else:i,block:n},{}).w('<div id="cases-related-grid"></div></div></div>')}function i(e,t){return e.w('<div class="alert alert-info-action" id="link-suggestions" style="display: none;" role="alert"><div><h5 id="suggested-link-message">').h("resource",t,{},{key:"found_possible_links"},"h").w('</h5></div><div><button type="button" class="btn btn-action" id="view-suggested-links">').h("resource",t,{},{key:"view_now"},"h").w('</button></div><button type="button" class="close" data-dismiss="alert" aria-label="').h("resource",t,{},{key:"close"},"h").w('"><span aria-hidden="true">&times;</span></button></div>')}function n(e,t){return e.w('<div class="alert alert-info-action" role="alert"><div><h5>').h("resource",t,{},{key:"link_suggesting_in_background_msg"},"h").w('</h5></div><button type="button" class="close" data-dismiss="alert" aria-label="').h("resource",t,{},{key:"close"},"h").w('"><span aria-hidden="true">&times;</span></button></div>')}return e.register("case-related-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},58708:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-restore-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"restore_case"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.p("asterisk_message",i,i,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save" name="save" class="primary" data-ladda-model-save><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},59715:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-search-link-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"linked-case-search-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"linked_case_search"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<form class="form-horizontal" role="form"><div id="search-screen" data-display-rule="isSearching"></div>\x3c!-- TODO: Move this into its own view --\x3e<div id="select-screen" data-display-rule="!isSearching" data-clear-on-hide="false"><div id="selected-case"><h4>').h("resource",i,{},{key:"selected_case"},"h").w('</h4>\x3c!-- Case Number --\x3e<div class="form-group"><label for="entity2Id" class="col-sm-2 control-label" data-field="entity2Id">').h("resource",i,{},{key:"case_number",colon:"true"},"h").w('</label><div class="col-sm-10"><input class="form-control" data-bind="entity2Id__caseNumber" id="entity2Id__caseNumber"readonly="true" style="cursor: default;" aria-label="').h("resource",i,{},{key:"case_number"},"h").w('"/></div></div>\x3c!-- Reason --\x3e<div class="form-group"><label for="reason" class="col-sm-2 control-label" data-field="reason">').h("resource",i,{},{key:"link_case_reason",colon:"true"},"h").w('</label><div class="col-sm-10"><textarea type="text" class="form-control" rows="2" id="reason"></textarea></div></div></div></div></form>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button id="back" class="secondary navigation-btn" data-disable-rule="isSearching"><i class="fa fa-chevron-left" aria-hidden="true"></i>').h("resource",i,{},{key:"back"},"h").w('</button><div class="navigation-spacer"></div><button id="add-link" class="primary" data-disable-rule="isSearching" data-ladda-model-save><i class="fa fa-plus" aria-hidden="true"></i>').h("resource",i,{},{groupName:"sys/link",subgroupName:"actions",key:"add"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},392141:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-search-person-link-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"linked-profile-search-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"linked_person_search"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<form class="form-horizontal" role="form"><div id="search-screen" data-display-rule="isSearching"></div>\x3c!-- TODO: Move this into its own view --\x3e<div id="select-screen" data-display-rule="!isSearching" data-clear-on-hide="false"><div id="selected-person"><h4>').h("resource",i,{},{key:"selected_person"},"h").w('</h4>\x3c!-- Person Name --\x3e<div class="form-group"><label for="entity2Id" class="col-sm-2 control-label" data-field="entity2Id">').h("resource",i,{},{key:"personname",subgroupName:"fields",groupName:"sys/person",colon:"true"},"h").w('</label><div class="col-sm-10"><input class="form-control" data-bind="entity2Id__personName" id="entity2Id__personName"readonly="true" style="cursor: default;"aria-label="').h("resource",i,{},{key:"personname",subgroupName:"fields",groupName:"sys/person"},"h").w('"/></div></div>\x3c!-- Reason --\x3e<div class="form-group"><label for="reason" class="col-sm-2 control-label" data-field="reason">').h("resource",i,{},{key:"link_person_reason",colon:"true"},"h").w('</label><div class="col-sm-10"><textarea type="text" class="form-control" rows="2" id="reason"></textarea></div></div></div></div></form>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button id="back" class="secondary navigation-btn" data-disable-rule="isSearching"><i class="fa fa-chevron-left" aria-hidden="true"></i>').h("resource",i,{},{key:"back"},"h").w('</button><div class="navigation-spacer"></div><button id="add-link" class="primary" data-disable-rule="isSearching" data-ladda-model-save><i class="fa fa-plus" aria-hidden="true"></i>').h("resource",i,{},{groupName:"sys/link",subgroupName:"actions",key:"add"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},261427:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hasMatchAll"],!1),t,{block:i},{}).x(t.get(["hasMatchAny"],!1),t,{block:s},{})}function i(e,t){return e.w('<div data-type="').f(t.get(["type"],!1),t,"h").w('-mustMatchAll"><span class="').f(t.getPath(!1,["matchAll","conditionStatus"]),t,"h").w(' condition-icon" aria-label="').f(t.getPath(!1,["matchAll","conditionStatusLabel"]),t,"h").w('"><i class="fa fa-icon fa-fw fa-lg ').x(t.getPath(!1,["matchAll","conditionFailed"]),t,{else:n,block:a},{}).w('"></i></span><span aria-label="').f(t.getPath(!1,["matchAll","matchAllTranslation"]),t,"h").w('">').f(t.getPath(!1,["matchAll","matchAllTranslation"]),t,"h").w('</span></div><div class="context-row-container-read context-container-').f(t.get(["type"],!1),t,"h").w('"><p><ul>').s(t.getPath(!1,["matchAll","matchAllEntityInfo"]),t,{block:r},{}).w("</ul></p></div>")}function n(e,t){return e.w("fa-check-circle")}function a(e,t){return e.w("fa-times-circle")}function r(e,t){return e.w("<li class='").x(t.get(["inactiveEntity"],!1),t,{block:o},{}).w("'aria-label=\"").f(t.get(["translation"],!1),t,"h").w('">').f(t.get(["translation"],!1),t,"h").w("</li>")}function o(e,t){return e.w("inactiveEntity")}function s(e,t){return e.s(t.get(["matchAny"],!1),t,{block:l},{})}function l(e,t){return e.w('<div data-type="').f(t.get(["type"],!1),t,"h").w('-mustMatchAny"><span class="').f(t.get(["conditionStatus"],!1),t,"h").w(' condition-icon" aria-label="').f(t.get(["conditionStatusLabel"],!1),t,"h").w('"><i class="fa fa-icon fa-fw fa-lg ').x(t.get(["conditionFailed"],!1),t,{else:d,block:c},{}).w('"></i></span><span aria-label="').f(t.get(["matchAnyTranslation"],!1),t,"h").w('">').f(t.get(["matchAnyTranslation"],!1),t,"h").w('</span></div><div class="context-row-container-read context-container-').f(t.get(["type"],!1),t,"h").w('"><p><ul>').s(t.get(["matchAnyEntityInfo"],!1),t,{block:u},{}).w("</ul></p></div>")}function d(e,t){return e.w("fa-check-circle")}function c(e,t){return e.w("fa-times-circle")}function u(e,t){return e.w("<li class='").x(t.get(["inactiveEntity"],!1),t,{block:p},{}).w("'aria-label=\"").f(t.get(["translation"],!1),t,"h").w('">').f(t.get(["translation"],!1),t,"h").w("</li>")}function p(e,t){return e.w("inactiveEntity")}return e.register("case-submit-context-rule-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,t}(n)},907350:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-submit-modal-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="loader-container"></div><div class="no-print"><div class="error-messages" aria-live="assertive"></div></div><div class="description" aria-label="').f(i.get(["description"],!1),i,"h").w('">').f(i.get(["description"],!1),i,"h").w('</div><div class="conditions-container"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').f(i.get(["cancelName"],!1),i,"h").w('</button><button type="button" id="confirm" name="confirm" class="primary ladda-button" data-style="expand-right" ').x(i.get(["hasValidationError"],!1),i,{block:o},{}).w('><i class="fa fa-icon fa-check"></i>').f(i.get(["confirmName"],!1),i,"h").w("</button>")}function o(e,i){return i=i.shiftBlocks(t),e.w("disabled")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,i}(n)},988537:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hasActiveFilters"],!1),t,{block:i},{})}function i(e,t){return e.h("eq",t,{else:n,block:s},{key:t.get(["hasFailedConditions"],!1),value:"true",type:"boolean"},"h")}function n(e,t){return e.w('<p id="criteria-expand"><a data-toggle="collapse" href="#criteria-collapse" aria-expanded="false" aria-controls="collapseExample"><span class="condition-result-pass condition-icon"><i class="fa fa-icon fa-fw fa-lg fa-check-circle"></i></span><span aria-label="').f(t.get(["allCriteriaMetText"],!1),t,"h").w('">').f(t.get(["allCriteriaMetText"],!1),t,"h").w('</span><i class="fa fa-chevron-down fa-fw expand-chevron" data-container="body" data-placement="top" aria-hidden="true" aria-label="').h("resource",t,{},{key:"minimize"},"h").w('"></i></a></p><div class="collapse" id="criteria-collapse" style="margin-bottom: 30px;"><div class="card card-body"><div class="content"><ul class="condition-types">').s(t.get(["conditionTypes"],!1),t,{block:a},{}).w("</ul></div></div></div>")}function a(e,t){return e.w('<li><div class="label-container-').f(t.get(["type"],!1),t,"h").w('"></div>').h("eq",t,{block:r},{key:t.get(["type"],!1),value:"mandatoryFields"},"h").h("eq",t,{block:o},{key:t.get(["requiresContext"],!1),value:"true",type:"boolean"},"h").w("</li>")}function r(e,t){return e.w('<div class="mandatory-fields-row-container-read"></div>')}function o(e,t){return e.w('<div class="context-container-').f(t.get(["type"],!1),t,"h").w('"></div>')}function s(e,t){return e.w('<div class="content"><ul class="condition-types">').s(t.get(["conditionTypes"],!1),t,{block:l},{}).w("</ul></div>")}function l(e,t){return e.w('<li><div class="label-container-').f(t.get(["type"],!1),t,"h").w('"></div>').h("eq",t,{block:d},{key:t.get(["type"],!1),value:"mandatoryFields"},"h").h("eq",t,{block:c},{key:t.get(["requiresContext"],!1),value:"true",type:"boolean"},"h").w("</li>")}function d(e,t){return e.w('<div class="mandatory-fields-row-container-read"></div>')}function c(e,t){return e.w('<div class="context-container-').f(t.get(["type"],!1),t,"h").w('"></div>')}return e.register("case-submit-rule-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,t}(n)},50877:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-summary-confirm-modal-tmpl",i);var t={header:n,body:a,footer:s};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal no-min-height"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["titleText"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.s(i.get(["html"],!1),i,{else:r,block:o},{}).b(i.getBlock("content"),i,{},{})}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["content"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["content"],!1),i,"h",["s"])}function s(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" class="').f(i.get(["cancelClass"],!1),i,"h").w('"><i class="fa fa-icon ').f(i.get(["cancelIcon"],!1),i,"h").w('"></i>').f(i.get(["cancelText"],!1),i,"h").w('</button><button type="button" id="confirm" class="').f(i.get(["confirmClass"],!1),i,"h").w('"><i class="fa fa-icon ').f(i.get(["confirmIcon"],!1),i,"h").w('"></i>').f(i.get(["confirmText"],!1),i,"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,i}(n)},768858:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<em>").h("resource",t,{},{groupName:"sys/caseSummary",subgroupName:"summary",key:"summary_footnote"},"h").w("</em><br><br>").h("resource",t,{},{groupName:"sys/caseSummary",subgroupName:"summary",key:"summary_footnote_audit"},"h").w(" <a ").s(t.get(["route"],!1),t,{block:i},{}).w(" ").s(t.get(["href"],!1),t,{block:n},{}).w(" >").h("resource",t,{},{groupName:"sys/caseSummary",subgroupName:"summary",key:"history_tab"},"h").w("</a>.")}function i(e,t){return e.w('data-route="').f(t.get(["route"],!1),t,"h").w('"')}function n(e,t){return e.w('href="').f(t.get(["href"],!1),t,"h").w('"')}return e.register("case-summary-disclaimer-footer-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},264671:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("case-summary-download-modal-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal no-min-height"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"sys/caseSummary",subgroupName:"actions",key:"download_summary"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div id="summaryFileType"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="download" class="primary"><i class="fa fa-icon fa-download"></i>').h("resource",i,{},{groupName:"sys/caseSummary",subgroupName:"actions",key:"download_summary"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},825286:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="loader-container"></div><div class="summary-container"><div class="menu-group"><div class="generate-menu"></div><div class="action-menu"></div></div><div class="summary-status-banner"></div>  <div class="summary-info-container"><p class="summary-info-text"></p></div><div class="autorender-placeholder"></div></div><footer class="summary-footnote hidden"><hr>').p("case-summary-disclaimer-footer-tmpl",t,t,{route:i}).w("</footer>")}function i(e,t){return e.w("/case/").f(t.get(["caseId"],!1),t,"h").w("/history")}return e.register("case-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},953638:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="case-workflow-history-grid">\t</div>')}return e.register("case-workflow-history-tmpl",t),t.__dustBody=!0,t}(n)},674668:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><div class="btn-group"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"submit"},"h").w('" aria-label="').h("resource",t,{},{key:"submit"},"h").w('" id="submit" data-style="zoom-in"><i class="fa fa-icon fa-save fa-lg"></i></button></div><button data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button></div><h1>').h("resource",t,{},{groupName:"sys/case",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w('\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div><div id="forms-grid-container" class="grid-section-spacing"></div><div id="files-grid-container" class="grid-section-spacing" data-display-rule="displayAttachment"></div>')}return e.register("new-capture-tmpl",t),t.__dustBody=!0,t}(n)},85724:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("transition-modal-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"entity-event-modal",class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="loader-container"></div><div class="no-print"><div class="error-messages" aria-live="assertive"></div></div><div class="transition-description" aria-label="').f(i.get(["description"],!1),i,"h").w('">').f(i.get(["description"],!1),i,"h").w('</div><div class="conditions-container"></div><br><div data-display-rule="hasReasons" class="conditions-divider"></div><div data-display-rule="hasReasons" class="autorender-placeholder reason-form"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').f(i.get(["cancelName"],!1),i,"h").w('</button><button type="button" id="confirm" name="confirm" class="primary ladda-button" data-style="expand-right" ').x(i.get(["hasValidationError"],!1),i,{block:o},{}).w('><i class="fa fa-icon fa-check"></i>').f(i.get(["confirmName"],!1),i,"h").w("</button>")}function o(e,i){return i=i.shiftBlocks(t),e.w("disabled")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,i}(n)},664127:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div>").h("truncate",t,{},{data:i,length:"150"},"h").w("</div> ")}function i(e,t){return e.f(t.get(["formattedFieldValue"],!1),t,"h",["s"])}return e.register("text-value-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},38724:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<form class="form-horizontal" role="form">\x3c!-- Comment --\x3e<div class="form-group no-print"><div class="col-sm-6" id="editable-comment-container"></div></div><div class="btn-toolbar"><a data-disable-rule="disableForClosedCase" data-route="#" id="saveComment" class="btn btn-default">').h("resource",t,{},{groupName:"sys/comment",subgroupName:"actions",key:"add"},"h").w("</a></div></form>")}return e.register("editable-comment-tmpl",t),t.__dustBody=!0,t}(n)},682808:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="asterisk-message">').h("resource",t,{},{key:"asterisk_message"},"h").w("</div>")}return e.register("asterisk_message",t),t.__dustBody=!0,t}(n)},239400:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12 no-padding-left"><ul class="nav nav-pills nav-pills-').f(t.get(["navPillSize"],!1),t,"h").w(" ").x(t.get(["tabUnderline"],!1),t,{block:i},{}).w(" ").x(t.get(["bottomBorder"],!1),t,{block:n},{}).w('" role="tablist"></ul></div></div><div class="tabs-content"><div class="loader-container"></div>').s(t.get(["tabs"],!1),t,{block:a},{}).w("</div>")}function i(e,t){return e.w("tab-underline")}function n(e,t){return e.w("bottom-border")}function a(e,t){return e.w('<div id="').f(t.get(["tabPanelId"],!1),t,"h").w('" role="tabpanel" ').x(t.get(["displayRule"],!1),t,{block:r},{}).w(' aria-hidden="true" aria-labelledby="').f(t.get(["tabId"],!1),t,"h").w('" hidden>').x(t.get(["printing"],!1),t,{block:o},{}).w("</div>")}function r(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function o(e,t){return e.w("<h3 class='tab-name-header' ").x(t.get(["hideOnPortal"],!1),t,{block:s},{}).w(">").f(t.get(["caption"],!1),t,"h").w("</h3>")}function s(e,t){return e.w('data-hide-on-portal="true"')}return e.register("backbone-tabs-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},798450:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<").f(t.get(["btnTagName"],!1),t,"h").w(' class="clickElement ').f(t.get(["btnClasses"],!1),t,"h").w(" ").f(t.get(["customClass"],!1),t,"h").w(" ").x(t.get(["iconClassName"],!1),t,{block:i},{}).w('"aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" role="').f(t.get(["role"],!1),t,"h").w('"').x(t.get(["btnId"],!1),t,{block:n},{}).x(t.get(["route"],!1),t,{block:a},{}).x(t.get(["disabled"],!1),t,{block:r},{}).x(t.get(["dataDisableRule"],!1),t,{block:o},{}).x(t.get(["displayRule"],!1),t,{block:s},{}).x(t.get(["spinnerColor"],!1),t,{block:l},{}).x(t.get(["href"],!1),t,{block:d},{}).x(t.get(["dataLaddaModelSave"],!1),t,{block:c},{}).w('type="button">').x(t.get(["iconBefore"],!1),t,{else:u,block:h},{}).w("</").f(t.get(["btnTagName"],!1),t,"h").w(">")}function i(e,t){return e.w("fa ").f(t.get(["iconClassName"],!1),t,"h")}function n(e,t){return e.w('id="').f(t.get(["btnId"],!1),t,"h").w('"')}function a(e,t){return e.w('data-route="').f(t.get(["route"],!1),t,"h").w('"')}function r(e,t){return e.w('disabled="').f(t.get(["disabled"],!1),t,"h").w('"')}function o(e,t){return e.w('data-disable-rule="').f(t.get(["dataDisableRule"],!1),t,"h").w('"')}function s(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function l(e,t){return e.w('data-spinner-color="').f(t.get(["spinnerColor"],!1),t,"h").w('"')}function d(e,t){return e.w('href="').f(t.get(["href"],!1),t,"h").w('"')}function c(e,t){return e.w("data-ladda-model-save ")}function u(e,t){return e.x(t.get(["icon"],!1),t,{else:p,block:f},{})}function p(e,t){return e.f(t.get(["caption"],!1),t,"h")}function f(e,t){return e.f(t.get(["caption"],!1),t,"h").w(' <i class="fa fa-icon ').f(t.get(["icon"],!1),t,"h").w('" aria-hidden="true"></i>')}function h(e,t){return e.w('<i class="fa fa-icon ').f(t.get(["icon"],!1),t,"h").w('" aria-hidden="true"></i><span>').f(t.get(["caption"],!1),t,"h").w("</span>")}return e.register("btn",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,t}(n)},193151:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="btn-bar ').f(t.get(["barClassName"],!1),t,"h").w('"></div>')}return e.register("buttons-bar",t),t.__dustBody=!0,t}(n)},888406:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{block:i},{key:t.get(["canEdit"],!1),value:"true",type:"boolean"},"h")}function i(e,t){return e.w('<button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"aria-label="').h("resource",t,{},{key:"edit"},"h").w('"title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" data-disable-rule= ').x(t.get(["disableRule"],!1),t,{else:n,block:a},{}).x(t.get(["displayRule"],!1),t,{block:r},{}).w('><i class="fa fa-icon fa-pencil fa-lg"></i></button>')}function n(e,t){return e.w('"lockedByAnotherUser || isMarkedOrPurged || !canEditCase || disableForClosedCase"')}function a(e,t){return e.w('"').f(t.get(["disableRule"],!1),t,"h").w('"')}function r(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("default-form-edit-button-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},440343:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button class="btn ').f(t.get(["classes"],!1),t,"h").w(" dropdown-toggle more-options-btn ").x(t.get(["ladda"],!1),t,{block:i},{}).w('" aria-label="').h("resource",t,{},{key:"more_options"},"h").w('"data-submenu data-toggle="dropdown"').x(t.getPath(!1,["ladda","spinnerColor"]),t,{block:n},{}).x(t.getPath(!1,["ladda","style"]),t,{block:a},{}).w('type="button">').x(t.get(["icon"],!1),t,{block:r},{}).x(t.get(["caption"],!1),t,{block:o},{}).x(t.get(["addCaret"],!1),t,{block:s},{}).w('</button><ul class="dropdown-menu dropdown-menu-right ').x(t.get(["styledDropdown"],!1),t,{block:l},{}).w('" role="menu"></ul>')}function i(e,t){return e.w("ladda-button")}function n(e,t){return e.w('data-spinner-color="').f(t.getPath(!1,["ladda","spinnerColor"]),t,"h").w('"')}function a(e,t){return e.w('data-style="').f(t.getPath(!1,["ladda","style"]),t,"h").w('"')}function r(e,t){return e.w('<i class="').f(t.get(["icon"],!1),t,"h").w('" aria-hidden="true"></i>')}function o(e,t){return e.f(t.get(["caption"],!1),t,"h")}function s(e,t){return e.w('<span class="caret"></span>')}function l(e,t){return e.w("styled-dropdown")}return e.register("menu-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},849546:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button class="more-less-btn"><strong class="truncated-btn-text">').f(t.get(["buttonText"],!1),t,"h").w("</strong></button>")}return e.register("more-less-btn",t),t.__dustBody=!0,t}(n)},908471:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button class="star-btn fa ').f(t.get(["iconClassName"],!1),t,"h").w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('" ').x(t.get(["dataDisableRule"],!1),t,{block:i},{}).w("></button>")}function i(e,t){return e.w('data-disable-rule="').f(t.get(["dataDisableRule"],!1),t,"h").w('"')}return e.register("star-btn",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},332856:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="cell-input-tmpl"><div class="cell-input-field"></div><img class="spinner" src="/img/bootstrap-custom/spinner.gif" alt=""></img><i class="fa fa-check"></i><i class="fa fa-pencil" data-toggle="tooltip" data-placement="right" title="').h("resource",t,{},{key:"unsaved_changes"},"h").w('" data-container="body"></i></div>')}return e.register("cell-input-field-tmpl",t),t.__dustBody=!0,t}(n)},212578:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="').f(t.get(["gridContainerId"],!1),t,"h").w('" class="child-entity-grid"><div class="flags-container"></div></div>')}return e.register("child-entity-grid-tmpl",t),t.__dustBody=!0,t}(n)},245453:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("child-entity-modal-tmpl",i);var t={header:a,body:r,footer:s};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:n})}function n(e,i){return i=i.shiftBlocks(t),e.f(i.get(["modalId"],!1),i,"h")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w('<div id="flags"></div></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div>').p("asterisk_message",i,i,{}).w('<div class="autorender-placeholder"></div>').b(i.getBlock("custom-sections"),i,{block:o},{})}function o(e,i){return i=i.shiftBlocks(t),e}function s(e,i){return i=i.shiftBlocks(t),e.b(i.getBlock("custom-event-buttons"),i,{block:l},{})}function l(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save" data-ladda-model-save name="save" class="primary"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,i}(n)},53244:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("confirm-tmpl",i);var t={header:a,body:r,footer:l};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:n,hideHeader:i.get(["hideHeader"],!1),hideCloseBtn:i.get(["hideCloseBtn"],!1),disableDismissOnOutsideClick:i.get(["isStatic"],!1)})}function n(e,i){return i=i.shiftBlocks(t),e.f(i.get(["modalClass"],!1),i,"h").w(" ").f(i.get(["customClass"],!1),i,"h")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function r(e,i){return i=i.shiftBlocks(t),e.s(i.get(["html"],!1),i,{else:o,block:s},{})}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["message"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["message"],!1),i,"h",["s"])}function l(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon ').f(i.get(["cancelIcon"],!1),i,"h").w('"></i>').f(i.get(["cancelText"],!1),i,"h").w('</button><button type="button" id="confirm" name="confirm" class="').f(i.get(["confirmClass"],!1),i,"h").w('" data-style="expand-right" ').x(i.get(["hasValidationError"],!1),i,{block:d},{}).w('><i class="fa fa-icon ').f(i.get(["confirmIcon"],!1),i,"h").w('"></i>').f(i.get(["confirmText"],!1),i,"h").w("</button>")}function d(e,i){return i=i.shiftBlocks(t),e.w("disabled")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,i}(n)},750195:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="fa-stack alert-icon danger-icon" role="alert" aria-label=').h("resource",t,{},{key:"danger_icon"},"h").w('><i class="fa fa-circle fa-stack-2x icon-background"></i><i class="fa fa-exclamation-circle fa-stack-1x icon-contents"></i></span>')}return e.register("danger-icon",t),t.__dustBody=!0,t}(n)},858127:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.f(t.get(["formattedFieldValue"],!1),t,"h",["s"])}return e.register("body-cell-tmpl",t),t.__dustBody=!0,t}(n)},619557:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["isRowDisabled"],!1),t,{else:i,block:o},{})}function i(e,t){return e.w('<input type="checkbox" class="').x(t.get(["isCheckboxDisabled"],!1),t,{else:n,block:a},{}).w('" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"').s(t.get(["multiSelectOnlyInEditMode"],!1),t,{block:r},{}).w("></input>")}function n(e,t){return e.w("enable-select")}function a(e,t){return e.w("disable-select")}function r(e,t){return e.w('data-readonly="false"')}function o(e,t){return e}return e.register("checkbox-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},587430:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="').x(t.get(["isDragEnable"],!1),t,{block:i},{}).x(t.get(["emptyHeader"],!1),t,{block:n},{}).w('">').x(t.get(["isDragEnable"],!1),t,{block:a},{}).x(t.get(["isSortable"],!1),t,{else:r,block:o},{}).w("</div>")}function i(e,t){return e.w("column-drag-handle")}function n(e,t){return e.w("no-selected-columns")}function a(e,t){return e.w('<i class="drag-handle-icon no-print fa fa-grab-handle" aria-hidden="true"></i>')}function r(e,t){return e.w('<span tabindex="0" class="column-title">').f(t.get(["caption"],!1),t,"h").w("</span>")}function o(e,t){return e.w('<a class="column-title column-sort-title"><span tabindex="0">').f(t.get(["caption"],!1),t,"h").w(' &nbsp;&nbsp;</span><span tabindex="0" class="no-print column-sort-icon ').f(t.get(["sortIcon"],!1),t,"h").w('" data-sort-img-for="').f(t.get(["field"],!1),t,"h").w('" aria-label="').h("eq",t,{else:s,block:l},{key:t.get(["sortOrder"],!1),value:"asc"},"h").w('" role="button"><i class="fa fa-sort" aria-hidden="true"></i></span></a>')}function s(e,t){return e.h("resource",t,{},{key:"sort_asc"},"h")}function l(e,t){return e.h("resource",t,{},{key:"sort_desc"},"h")}return e.register("header-cell-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},648185:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<tr></tr>")}return e.register("header-tmpl",t),t.__dustBody=!0,t}(n)},169462:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="top-bar-secondary no-print ').x(t.get(["title"],!1),t,{block:i},{}).w(" ").x(t.get(["showTitleSeparator"],!1),t,{block:n},{}).w(" ").x(t.get(["showViewAllRecords"],!1),t,{block:a},{}).w('"><div class="main-row">').nx(t.get(["lightLayout"],!1),t,{block:r},{}).w('<div class="entity-filters-container"></div>').x(t.get(["showViewAllRecords"],!1),t,{block:p},{}).nx(t.get(["condensedLayout"],!1),t,{block:f},{}).w('<div class="buttons-bar-advanced-menu-container"></div></div>').x(t.get(["showTitleSeparator"],!1),t,{block:m},{}).w('</div><div class="top-bar">').x(t.get(["lightLayout"],!1),t,{block:g},{}).w('<div class="entity-filters-container no-print"></div><div class="data-filters-container no-print"></div><div class="other-filters-container no-print"><div class="gradient"></div><div class="configure-defaults-control"></div><div class="search-filter-container"></div>').x(t.get(["condensedOrLightLayout"],!1),t,{block:w},{}).w('<div class="advanced-menu-container ').x(t.get(["lightLayout"],!1),t,{block:A},{}).w('"></div></div></div><div class="print-only clearfix"></div><div class="add-data-filter-menu-container"></div><div class="filter-menu-options-container"></div><div class="plugin-container"></div><div class="loader-container"></div>')}function i(e,t){return e.w("title")}function n(e,t){return e.w("title-separator")}function a(e,t){return e.w("view-all-records")}function r(e,t){return e.x(t.get(["title"],!1),t,{block:o},{})}function o(e,t){return e.w('<div class="grid-title ').x(t.get(["helpText"],!1),t,{block:s},{}).w('"><h1 class="').x(t.get(["condensedLayout"],!1),t,{else:l,block:d},{}).w('">').f(t.get(["title"],!1),t,"h").w("</h1>").s(t.get(["helpText"],!1),t,{block:c},{}).w("</div>")}function s(e,t){return e.w("help-text")}function l(e,t){return e.w("h3")}function d(e,t){return e.w("h4")}function c(e,t){return e.p("hover-icon",t,t,{type:"info",tooltip:u})}function u(e,t){return e.f(t.get(["helpText"],!1),t,"h")}function p(e,t){return e.w('<div class="view-all"><a data-route="').f(t.get(["urlRoot"],!1),t,"h").w('" class="colored-link"> ').h("resource",t,{},{key:"view_all"},"h").w("</a></div>")}function f(e,t){return e.nx(t.get(["lightLayout"],!1),t,{block:h},{})}function h(e,t){return e.w('<div class="buttons-bar-container"></div>')}function m(e,t){return e.w("<hr/>")}function g(e,t){return e.x(t.get(["title"],!1),t,{block:y},{})}function y(e,t){return e.w('<div class="grid-title"><h1 class="h4">').f(t.get(["title"],!1),t,"h").w("</h1>").s(t.get(["helpText"],!1),t,{block:v},{}).w("</div>")}function v(e,t){return e.w('<div class="no-print">').p("hover-icon",t,t,{type:"info",tooltip:b}).w("</div>")}function b(e,t){return e.f(t.get(["helpText"],!1),t,"h")}function w(e,t){return e.w('<div class="buttons-bar-container"></div>')}function A(e,t){return e.w("buttons-bar-advanced-menu-container")}return e.register("data-container-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,A.__dustBody=!0,t}(n)},714929:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button type="button" class="btn btn-default add-filter-btn" aria-label="').h("resource",t,{},{key:"configure_filters"},"h").w('" id="').f(t.get(["filterBtnId"],!1),t,"h").w('"data-toggle="tooltip" data-container="').f(t.get(["container"],!1),t,"h").w('" data-placement="top" title="').h("resource",t,{},{key:"configure_filters"},"h").w('"><i class="fa fa-filter" aria-hidden="true"></i></button><div class="add-data-filter-menu-container"></div>')}return e.register("add-data-filter-tmpl",t),t.__dustBody=!0,t}(n)},687142:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="add-filter-container"></div><div class="data-filters"></div>')}return e.register("data-filters-tmpl",t),t.__dustBody=!0,t}(n)},239828:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["entityFilterPillView"],!1),t,{else:i,block:n},{})}function i(e,t){return e.w('<div class="list filter-btns"><div class="label-container"><div class="filter-label truncate">').f(t.get(["label"],!1),t,"h").w('</div></div><div class="btn-container"><button type="button" class="show-entity-filter-options-btn btn btn-default truncate" aria-haspopup="true" aria-expanded="false" aria-label="').f(t.get(["name"],!1),t,"h").w('"><span class="filter-selection truncate">').f(t.get(["selectionCaption"],!1),t,"h").w('</span><span class="caret"></span></button></div></div>')}function n(e,t){return e.w('<div class="pills"><ul>').s(t.get(["entities"],!1),t,{block:a},{}).w("</ul></div>")}function a(e,t){return e.w('<li class="pill"><button type="button" class="btn btn-default pill-btn').x(t.get(["active"],!1),t,{block:r},{}).w('"aria-label="').h("resource",t,{},{key:"more_options"},"h").w(" - ").f(t.get(["name"],!1),t,"h").w('" data-type="').x(t.get(["type"],!1),t,{else:o,block:l},{}).w('"style="background-color: ').f(t.get(["backgroundColor"],!1),t,"h").w("; color: ").f(t.get(["textColor"],!1),t,"h").w('">').f(t.get(["namePlural"],!1),t,"h").w("</button></li>")}function r(e,t){return e.w(" active")}function o(e,t){return e.x(t.get(["entityType"],!1),t,{block:s},{})}function s(e,t){return e.f(t.get(["entityType"],!1),t,"h")}function l(e,t){return e.f(t.get(["type"],!1),t,"h")}return e.register("entity-filter-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},228911:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w(' <input type="text" class="form-control search-value" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" aria-label="').h("resource",t,{},{groupName:"placeholders",key:"search_field_values"},"h").w('" placeholder="').h("resource",t,{},{groupName:"placeholders",key:"search_field_values"},"h").w('">').x(t.get(["enableIcon"],!1),t,{block:i},{})}function i(e,t){return e.w('<i class="fa fa-icon fa-search search-icon"></i><i class="fa fa-icon fa-times hidden remove-search-icon"></i>')}return e.register("search-filter-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},935069:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="filter-btns"><div class="label-container"><div class="filter-label truncate">').f(t.get(["name"],!1),t,"h").w("</div>").h("eq",t,{block:i},{key:t.get(["optional"],!1),value:"true",type:"boolean"},"h").w('</div><div class="btn-container"><button type="button" class="show-filter-options-btn btn btn-default truncate" aria-haspopup="true" aria-expanded="false" aria-label="').f(t.get(["name"],!1),t,"h").w('"><span class="filter-selection truncate"></span><span class="caret"></span></button></div></div>')}function i(e,t){return e.w('<button type="button" class="remove-filter-btn btn-text" aria-label="').h("resource",t,{},{key:"remove"},"h").w('"><span aria-hidden="true">&times;</span></button>')}return e.register("static-filter-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},479932:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="panel panel-default"><div class="panel-body"><div class="bbg-table-wrapper">').x(t.get(["multiSelect"],!1),t,{block:i},{}).w('<table class="table').x(t.get(["striped"],!1),t,{block:a},{}).x(t.get(["bordered"],!1),t,{block:r},{}).x(t.get(["hover"],!1),t,{block:o},{}).w('"><caption>').f(t.get(["tableCaption"],!1),t,"h").w('</caption></table><div class="no-records-to-display">').s(t.get(["emptyGridCaptionHtml"],!1),t,{else:s,block:l},{}).w('</div></div></div></div><div class="row-actions-container" style="position:relative;"></div><div class="all-columns-container" style="position:absolute;"></div><div class="grid-pager"></div>')}function i(e,t){return e.w('<div class="batch-control no-print-checkbox"').s(t.get(["multiSelectOnlyInEditMode"],!1),t,{block:n},{}).w('><div class="btn-group"><label class="btn btn-default batch-check events-enabled" for="select-all" aria-label="').f(t.get(["selectAllLabel"],!1),t,"h").w('"><input id="').f(t.get(["selectAllId"],!1),t,"h").w('" type="checkbox" class="select-all" aria-label="').f(t.get(["selectAllLabel"],!1),t,"h").w('"/>&nbsp; <span class="selected-count"></span></label></div></div>')}function n(e,t){return e.w(' data-readonly="false"')}function a(e,t){return e.w(" table-striped")}function r(e,t){return e.w(" table-bordered")}function o(e,t){return e.w(" table-hover")}function s(e,t){return e.f(t.get(["emptyGridCaption"],!1),t,"h")}function l(e,t){return e.f(t.get(["emptyGridCaption"],!1),t,"h",["s"])}return e.register("grid-v2-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},496411:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="row-actions-view" class="dropdown-container dropdown-position-bottomright"><ul class="dropdown-menu dropdown-menu-right row-actions list" role="menu" data-empty-message="').h("resource",t,{},{key:"no_match"},"h").w('">').s(t.get(["rowActions"],!1),t,{block:i},{}).w('</ul></div><div class="row-action-view-container dropdown-container dropdown-position-bottomright"></div>')}function i(e,t){return e.h("eq",t,{block:n},{key:t.get(["visible"],!1),value:"true",type:"boolean"},"h")}function n(e,t){return e.w('<li role="menuitem" class="row-action" data-caption="').f(t.get(["caption"],!1),t,"h").w('">').x(t.get(["disabled"],!1),t,{block:a},{}).w("<button ").x(t.get(["disabled"],!1),t,{block:r},{}).w(">").x(t.get(["View"],!1),t,{block:o},{}).x(t.get(["icon"],!1),t,{block:l},{}).w('<span class="caption">').f(t.get(["caption"],!1),t,"h").w("</span></button>").x(t.get(["disabled"],!1),t,{block:d},{}).w("</li>")}function a(e,t){return e.w('<div data-toggle="tooltip" data-placement="left" title="').f(t.get(["disabledMessage"],!1),t,"h").w('">')}function r(e,t){return e.w('disabled="disabled"')}function o(e,t){return e.h("ne",t,{block:s},{key:t.get(["renderAsModal"],!1),value:"true",type:"boolean"},"h")}function s(e,t){return e.w('<i class="fa fa-caret-left"></i>')}function l(e,t){return e.w('<i class="fa fa-icon ').f(t.get(["icon"],!1),t,"h").w('"></i>')}function d(e,t){return e.w("</div>")}return e.register("row-actions-menu",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,t}(n)},929038:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:r},{}).p("translated-text-warning",t,t,{}).w('</div>\x3c!-- Buttons to save and cancel --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true">').p("default-form-edit-button-tmpl",t,t,{}).w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section"><ul role="presentation" >').x(t.get(["isIntakeTranslationEnabled"],!1),t,{block:o},{}).x(t.get(["isRecordSourceViewEnabled"],!1),t,{block:s},{}).w("</ul></li>").h("eq",t,{block:l},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="isMarkedOrPurged || disableForClosedCase"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><button type="button" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu">').x(t.get(["canSaveAndCopy"],!1),t,{block:d},{}).w("</ul></div></div></div>").s(t.getPath(!1,["model","id"]),t,{else:c,block:u},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>").p("intake-translation-disclaimer-footer-tmpl",t,t,{})}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.x(t.get(["isNotExternal"],!1),t,{block:a},{})}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function r(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function o(e,t){return e.p("translation-language-toggle-btns",t,t,{}).w('\x3c!-- Submit For Translation --\x3e<li role="presentation" data-display-rule="canManuallyTranslate"><a role="menuitem" data-route="#" id="submit-for-translation">').h("resource",t,{},{key:"submit_for_translation"},"h").w("</a></li>")}function s(e,t){return e.w('\x3c!-- View Record Source --\x3e<li role="presentation" id="view-record-source"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"record_source_view"},"h").w("</a></li>")}function l(e,t){return e.w('<li role="presentation" data-display-rule="showDeleteBtn"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !canEditCase || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function d(e,t){return e.w('<li role="presentation" id="save-and-copy"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function c(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function u(e,t){return e.w('<div class="no-print">').s(t.getPath(!1,["model","childNumber"]),t,{else:p,block:f},{}).w('<div class="relationship-indicator-placeholder"></div></div><div id="flags"></div><div class="print-only">').s(t.getPath(!1,["model","childNumber"]),t,{block:h},{}).w('<div id="child-flags-container"><div id="flags" /></div></div></div>')}function p(e,t){return e.w('<h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</h1>")}function f(e,t){return e.w('<h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</h1>")}function h(e,t){return e.w("<h4>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(' |  <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</span></h4>")}return e.register("default-form-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,t}(n)},271014:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flag-tmpl"><div class="flag label" style="background-color:').f(t.get(["color"],!1),t,"h").w("; border: 1px solid ").f(t.get(["borderColor"],!1),t,"h").w("; color: ").f(t.get(["textColor"],!1),t,"h").w(';" data-placement="bottom" data-toggle="popover" data-content="').f(t.get(["description"],!1),t,"h").w('" title="').f(t.get(["title"],!1),t,"h").w('" tabindex="0">').f(t.get(["name"],!1),t,"h").w("</div></div>")}return e.register("dynamic-flag-tmpl",t),t.__dustBody=!0,t}(n)},79097:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flags-container"></div>')}return e.register("dynamic-flags-tmpl",t),t.__dustBody=!0,t}(n)},864850:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("error-modal-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"error-view",disableDismissOnOutsideClick:i.get(["isStatic"],!1),class:"confirmation-modal",hideFooter:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["body"],!1),i,"h")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},299098:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-danger" role="alert">').s(t.get(["canClose"],!1),t,{block:i},{}).h("eq",t,{block:n},{key:t.get(["showTitle"],!1),value:"true",type:"boolean"},"h").s(t.get(["html"],!1),t,{else:o,block:s},{}).w("</div>")}function i(e,t){return e.w('<button type="button" aria-label="').h("resource",t,{},{key:"close"},"h").w('" class="close" data-dismiss="alert">&times;</button>')}function n(e,t){return e.w("<h4>").s(t.get(["title"],!1),t,{else:a,block:r},{}).w("</h4>")}function a(e,t){return e.h("resource",t,{},{key:"error"},"h").w("!")}function r(e,t){return e.f(t.getPath(!0,[]),t,"h")}function o(e,t){return e.f(t.get(["body"],!1),t,"h")}function s(e,t){return e.f(t.get(["body"],!1),t,"h",["s"])}return e.register("error-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},301438:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("expired-external-session-tmpl",i);var t={header:n,footer:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal",disableDismissOnOutsideClick:"true",hideCloseBtn:"true",hideHeaderDivider:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"session_expired_message"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="redirect" class="primary" aria-label="').h("resource",i,{},{groupName:"portal",subgroupName:"login",key:"back_to_home_page"},"h").w('">').h("resource",i,{},{groupName:"portal",subgroupName:"login",key:"back_to_home_page"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},151551:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["flags"],!1),t,{block:i},{})}function i(e,t){return e.w('<li class="flag-item">').x(t.get(["disableFlags"],!1),t,{else:n,block:o},{}).w("</li>")}function n(e,t){return e.w('<a data-route="#" data-id="').f(t.get(["id"],!1),t,"h").w('">').x(t.get(["set"],!1),t,{else:a,block:r},{}).w("&nbsp").f(t.get(["name"],!1),t,"h").w("</a>")}function a(e,t){return e.h("resource",t,{},{groupName:"sys/flag",subgroupName:"actions",key:"set"},"h")}function r(e,t){return e.h("resource",t,{},{groupName:"sys/flag",subgroupName:"actions",key:"unset"},"h")}function o(e,t){return e.w('<span data-route="#" data-id="').f(t.get(["id"],!1),t,"h").w('" class="is-disabled grey-font">').x(t.get(["set"],!1),t,{else:s,block:l},{}).w("&nbsp").f(t.get(["name"],!1),t,"h").w("</span>")}function s(e,t){return e.h("resource",t,{},{groupName:"sys/flag",subgroupName:"actions",key:"set"},"h")}function l(e,t){return e.h("resource",t,{},{groupName:"sys/flag",subgroupName:"actions",key:"unset"},"h")}return e.register("flag-list-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},932306:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="label label-').f(t.get(["indicator"],!1),t,"h").w('" data-toggle="popover" data-placement="bottom" data-content="').f(t.get(["content"],!1),t,"h").w('" title="').f(t.get(["title"],!1),t,"h").w('" data-indicator="').f(t.get(["indicator"],!1),t,"h").w('" tabindex="0" ').x(t.get(["displayRule"],!1),t,{block:i},{}).w(">").f(t.get(["tooltip"],!1),t,"h").w("</div>")}function i(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("flag-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},717085:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flags-container"></div>')}return e.register("flags-tmpl",t),t.__dustBody=!0,t}(n)},523909:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="scroll-to-top"><div class="content"><button class="btn scroll-to-top-btn" id="scroll-to-top" aria-label="scroll-to-top-button" role="button"><i class="fa fa-icon fa-arrow-circle-up"></i><span class="scroll-to-top-text">').h("resource",t,{},{key:"back_to_top"},"h").w('</span></button></div><div class="background"></div></div>')}return e.register("footer-tmpl",t),t.__dustBody=!0,t}(n)},176374:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Generic grid container --\x3e<div class="row"><div class="col-sm-12"><div id="main-grid"></div></div></div>')}return e.register("grid-container-tmpl",t),t.__dustBody=!0,t}(n)},513255:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("grid-export-tmpl",i);var t={header:n,body:a,footer:o};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"export"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div data-display-rule="exporting" class="overlay"></div><div class="alert alert-warning virtual-field-warning" data-display-rule="allFieldsSelected && allHasVirtualFields" role="alert">').h("resource",i,{},{key:"virtual_fields_will_not_show"},"h").w("<strong> ").f(i.getPath(!1,["model","attributes","allVirtualFields"]),i,"h").w('</strong></div><div class="alert alert-warning virtual-field-warning" data-display-rule="currentFieldsSelected && currentHasVirtualFields" role="alert">').h("resource",i,{},{key:"virtual_fields_will_not_show"},"h").w("<strong> ").f(i.getPath(!1,["model","attributes","currentVirtualFields"]),i,"h").w('</strong></div><div class="form-group"><div id="exportType"></div></div><div class="form-group"><div id="query"></div></div><div class="form-group"><div id="fields"></div></div><div class="form-group"><div class="form-check"><label class="form-check-label"><div class="form-check-input" id="formatted"></div>').h("resource",i,{},{key:"formatted"},"h").w("</label></div>").x(i.get(["multiEntityGrid"],!1),i,{block:r},{}).w("</div>")}function r(e,i){return i=i.shiftBlocks(t),e.w('<div class="form-check"><label class="form-check-label"><div class="form-check-input" id="export-as-separate-files"></div>').h("resource",i,{},{key:"export_as_separate_files"},"h").w("</label></div>")}function o(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="export" name="export" class="primary" data-disable-rule="exporting" data-ladda-model-save><i class="fa fa-icon fa-download"></i>').h("resource",i,{},{key:"export"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,i}(n)},273154:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("\x3c!-- Pager --\x3e").x(t.get(["single"],!1),t,{else:i,block:v},{})}function i(e,t){return e.w('<div class="row no-print pager-row"><div class="col-xs-12 col-sm-5" role="region" aria-label="').f(t.getPath(!1,["grid","options","gridTitle"]),t,"h").w(" ").h("resource",t,{},{key:"pagination"},"h").w('" ><ul class="pagination grid-pager" style="margin-top: 0;"><li class="pager-left').x(t.get(["noColumnsSelected"],!1),t,{else:n,block:r},{}).w('"><a data-route="#" aria-label="').h("resource",t,{},{key:"previous_page"},"h").w('"><span class="glyphicon glyphicon-chevron-left"></span></a></li>').s(t.get(["pagerNumbers"],!1),t,{block:o},{}).w('<li class="pager-right').x(t.get(["noColumnsSelected"],!1),t,{else:u,block:f},{}).w('"><a data-route="#" aria-label="').h("resource",t,{},{key:"next_page"},"h").w('"><span class="glyphicon glyphicon-chevron-right"></span></a></li></ul></div><div class="col-xs-12 col-sm-4 col-sm-offset-3"><div class="btn-group pager-count" style="margin-right: 5px;">').x(t.get(["collectionEmpty"],!1),t,{else:h,block:m},{}).w('<ul class="dropdown-menu row-count-options" role="menu">').s(t.get(["rowCountOptions"],!1),t,{block:g},{}).w("</ul></div></div></div>")}function n(e,t){return e.h("lte",t,{block:a},{key:t.get(["currentPage"],!1),value:t.get(["firstPage"],!1)},"h")}function a(e,t){return e.w(" disabled")}function r(e,t){return e.w(" disabled")}function o(e,t){return e.w('<li data-page="').f(t.getPath(!0,[]),t,"h").w('" class="').h("eq",t,{block:s},{key:t.getPath(!0,[]),value:t.get(["currentPage"],!1)},"h").h("eq",t,{block:l},{key:t.getPath(!0,[]),value:"..."},"h").w('"').h("eq",t,{else:d,block:c},{key:t.getPath(!0,[]),value:t.get(["currentPage"],!1)},"h").w('><a data-route="#">').f(t.getPath(!0,[]),t,"h").w("</a></li>")}function s(e,t){return e.w("active")}function l(e,t){return e.w("disabled")}function d(e,t){return e.w('aria-label="').h("resource",t,{},{key:"goto_page"},"h").w(" ").f(t.getPath(!0,[]),t,"h").w('"')}function c(e,t){return e.w('aria-label="').h("resource",t,{},{key:"current_page_page"},"h").w(" ").f(t.getPath(!0,[]),t,"h").w('"aria-current="true"')}function u(e,t){return e.h("gte",t,{block:p},{key:t.get(["currentPage"],!1),value:t.get(["lastPage"],!1)},"h")}function p(e,t){return e.w(" disabled")}function f(e,t){return e.w(" disabled")}function h(e,t){return e.w('<a data-route="#" class="row-count-btns dropdown-toggle"style="color: #484848; border: 0px;" data-toggle="dropdown"><span class="current-row-count"><b>').f(t.get(["startRecord"],!1),t,"h").w("</b>-<b>").f(t.get(["endRecord"],!1),t,"h").w("</b> ").h("resource",t,{},{key:"outof"},"h").w(" <b>").f(t.get(["totalRecordCount"],!1),t,"h").w("</b> ").h("resource",t,{},{key:"records"},"h").w('</span><span class="row-count-caret caret"></span></a>')}function m(e,t){return e.w("<span><b>0</b> ").h("resource",t,{},{key:"records"},"h").w("</span>")}function g(e,t){return e.w('<li data-page-count="').f(t.getPath(!0,[]),t,"h").w('" role="menuitem"><a data-route="#" ').h("eq",t,{block:y},{key:t.getPath(!0,[]),value:t.get(["defaultRowCountOption"],!1)},"h").w(">").h("resource",t,{},{key:"display"},"h").w(" ").f(t.getPath(!0,[]),t,"h").w(" ").h("resource",t,{},{key:"results_per_page"},"h").w("</a></li>")}function y(e,t){return e.w('class="selected"')}function v(e,t){return e.w('<a data-route="#" class="pager-left').h("lte",t,{block:b},{key:t.get(["currentPage"],!1),value:t.get(["firstPage"],!1)},"h").w('" aria-label="').h("resource",t,{},{key:"previous_page"},"h").w('"><span class="glyphicon glyphicon-chevron-left"></span></a><span class="count"><span class="count-from">').f(t.get(["currentPage"],!1),t,"h").w("</span>&nbsp;").h("resource",t,{},{key:"of"},"h").w('&nbsp;<span class="count-to">').f(t.get(["totalRecordCount"],!1),t,"h").w('</span></span><a data-route="#" class="pager-right').h("gte",t,{block:w},{key:t.get(["currentPage"],!1),value:t.get(["lastPage"],!1)},"h").w('" aria-label="').h("resource",t,{},{key:"next_page"},"h").w('"><span class="glyphicon glyphicon-chevron-right"></span></a>')}function b(e,t){return e.w(" disabled")}function w(e,t){return e.w(" disabled")}return e.register("grid-pager-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,t}(n)},278976:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="hover-icon ').f(t.get(["type"],!1),t,"h").w('-hover-icon"tabindex="0"data-toggle="tooltip"title="').f(t.get(["tooltip"],!1),t,"h").w('"data-placement="').x(t.get(["dataPlacement"],!1),t,{else:i,block:n},{}).w('"aria-label="').f(t.get(["tooltip"],!1),t,"h").w('"role="tooltip"').x(t.get(["displayRule"],!1),t,{block:a},{}).w('><i aria-hidden="true" class="fa ').h("eq",t,{else:r,block:l},{key:t.get(["type"],!1),value:"external"},"h").w('"></i></span>')}function i(e,t){return e.w("right")}function n(e,t){return e.f(t.get(["dataPlacement"],!1),t,"h")}function a(e,t){return e.w(' data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function r(e,t){return e.h("eq",t,{else:o,block:s},{key:t.get(["type"],!1),value:"translated-text"},"h")}function o(e,t){return e.w("fa-question")}function s(e,t){return e.w("fa-globe")}function l(e,t){return e.w("fa-user")}return e.register("hover-icon",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},449474:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("information-modal-tmpl",i);var t={header:a,body:r,footer:c};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"information-view",disableDismissOnOutsideClick:"true",hideCloseBtn:n,class:"confirmation-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.f(i.get(["callbackUrl"],!1),i,"h")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function r(e,i){return i=i.shiftBlocks(t),e.s(i.get(["body"],!1),i,{block:o},{})}function o(e,i){return i=i.shiftBlocks(t),e.x(i.get(["bold"],!1),i,{else:s,block:l},{}).h("sep",i,{block:d},{},"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["line"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.w("<b>").f(i.get(["line"],!1),i,"h").w("</b>")}function d(e,i){return i=i.shiftBlocks(t),e.w("<br/><br/>")}function c(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" name="close" class="primary"><i class="fa fa-icon fa-check"></i>').f(i.get(["confirmText"],!1),i,"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,i}(n)},557034:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<footer class="intake-translation-disclaimer" data-display-rule="hasTranslationsApplied" style="display: none;"><hr><em>').h("resource",t,{},{key:"intake_translate_disclaimer"},"h").w("</em></footer>")}return e.register("intake-translation-disclaimer-footer-tmpl",t),t.__dustBody=!0,t}(n)},290422:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="limit-warning-tmpl help-block">').x(t.get(["limitReached"],!1),t,{else:i,block:n},{}).w('<span class="warning-message-text">').f(t.get(["warningMessage"],!1),t,"h").w("</span></div>")}function i(e,t){return e.w('<i class="fa-solid fa-circle-exclamation warning-message-icon"></i>')}function n(e,t){return e.w('<i class="fa-solid fa-circle-xmark warning-max-message-icon"></i>')}return e.register("limit-warning-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},54861:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="loader-overlay"></div><div class="loader-content"><div class="loader"></div><div class="message-container"><div class="title"></div><div class="message"></div></div></div>')}return e.register("loader-tmpl",t),t.__dustBody=!0,t}(n)},340883:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<img src="').x(t.get(["logoUrl"],!1),t,{else:i,block:r},{}).w('" alt="').h("resource",t,{},{key:"logo"},"h").w('"/>')}function i(e,t){return e.x(t.get(["logoDataUrl"],!1),t,{else:n,block:a},{})}function n(e,t){return e.w("/img/logo-white.png")}function a(e,t){return e.f(t.get(["logoDataUrl"],!1),t,"h")}function r(e,t){return e.h("imageUrl",t,{},{urlVal:t.get(["logoUrl"],!1)},"h")}return e.register("logo",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},337106:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="').f(t.get(["mapId"],!1),t,"h").w('" class="map"><div class="geocoder-container"></div><div class="secondary-navigation-controls"><button class="pin-btn btn" title="').h("resource",t,{},{key:"go_to_dropped_pin"},"h").w('"><i class="fa fa-map-marker"></i></button><button class="current-location-btn btn" title="').h("resource",t,{},{key:"go_to_current_location"},"h").w('"><i class="fa fa-location-arrow"></i></button></div><div class="loader-container"></div></div>')}return e.register("map-tmpl",t),t.__dustBody=!0,t}(n)},996892:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("message-details-tmpl",i);var t={header:o,body:s,footer:l};function i(e,i){return i=i.shiftBlocks(t),e.s(i.get(["model"],!1),i,{block:n},{})}function n(e,i){return i=i.shiftBlocks(t),e.h("eq",i,{else:a,block:r},{key:i.get(["showViewRecordBtn"],!1),value:"true",type:"boolean"},"h")}function a(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{hideFooter:"true",class:"small-modal error-view"})}function r(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal error-view"})}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["subject"],!1),i,"h").w("</div>")}function s(e,i){return i=i.shiftBlocks(t),e.w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e").f(i.get(["html"],!1),i,"h",["s"])}function l(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="close-modal" name="close" class="secondary" aria-label="').h("resource",i,{},{groupName:"sys/message",subgroupName:"actions",key:"close"},"h").w('"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"close"},"h").w('</button><button type="button" id="view-record" name="view" class="primary"><i class="fa fa-icon ').f(i.get(["viewIcon"],!1),i,"h").w('"></i>').f(i.get(["viewBtn"],!1),i,"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,i}(n)},52799:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="modal ').h("ne",t,{block:i},{key:t.get(["disableFade"],!1),value:"true",type:"boolean"},"h").w(" ").h("eq",t,{block:n},{key:t.get(["hideHeader"],!1),value:"true",type:"boolean"},"h").w(" ").h("eq",t,{block:a},{key:t.get(["hideFooter"],!1),value:"true",type:"boolean"},"h").w(" ").h("eq",t,{block:r},{key:t.get(["hideHeaderDivider"],!1),value:"true",type:"boolean"},"h").w(" ").x(t.get(["class"],!1),t,{block:o},{}).w('"').x(t.get(["id"],!1),t,{block:s},{}).w(' tabindex="-1" ').h("eq",t,{block:l},{key:t.get(["disableDismissOnOutsideClick"],!1),value:"true",type:"boolean"},"h").w('><div class="modal-dialog"><div class="modal-content">').h("ne",t,{block:d},{key:t.get(["hideHeader"],!1),value:"true",type:"boolean"},"h").w('<div class="modal-body">').b(t.getBlock("body"),t,{},{}).w("</div>").h("ne",t,{block:u},{key:t.get(["hideFooter"],!1),value:"true",type:"boolean"},"h").w("</div></div></div>")}function i(e,t){return e.w("fade")}function n(e,t){return e.w("hide-header")}function a(e,t){return e.w("hide-footer")}function r(e,t){return e.w("hide-header-divider")}function o(e,t){return e.f(t.get(["class"],!1),t,"h")}function s(e,t){return e.w('id="').f(t.get(["id"],!1),t,"h").w('"')}function l(e,t){return e.w('data-backdrop="static"')}function d(e,t){return e.w('<div class="modal-header">').b(t.getBlock("header"),t,{},{}).h("ne",t,{block:c},{key:t.get(["hideCloseBtn"],!1),value:"true",type:"boolean"},"h").w("</div>")}function c(e,t){return e.w('<button data-display-rule="showModalCloseBtn" type="button" class="close" data-dismiss="modal" aria-label="').h("resource",t,{},{key:"close"},"h").w('"><span aria-hidden="true">&times;</span></button>')}function u(e,t){return e.w('<div class="modal-footer">').b(t.getBlock("footer"),t,{},{}).w("</div>")}return e.register("modal-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,t}(n)},908298:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<nav class="navbar" aria-label="').h("resource",t,{},{key:"secondary_navigation"},"h").w('">\x3c!-- Add case button --\x3e').b(t.getBlock("navbar_add_button"),t,{block:i},{}).w("\x3c!-- Company logo --\x3e").b(t.getBlock("navbar_logo"),t,{block:a},{}).w("\x3c!-- Search --\x3e").b(t.getBlock("navbar_search"),t,{block:r},{}).w("\x3c!-- Dropdown menu on right side for changing user settings and logging out --\x3e").b(t.getBlock("navbar_dropdown_menus"),t,{block:o},{}).w("</nav>")}function i(e,t){return e.w('<div class="navbar-primary-btn-container"><a data-route="#" id="primary-add-btn" class="btn" data-toggle="tooltip"data-placement="right" title="').h("resource",t,{},{groupName:"sys/case",subgroupName:"actions",key:"add"},"h").w('"aria-label="').h("resource",t,{},{groupName:"sys/case",subgroupName:"actions",key:"add"},"h").w('"').nx(t.get(["canCreateEntity"],!1),t,{block:n},{}).w("><i class='fa fa-icon fa-plus'></i></a></div>")}function n(e,t){return e.w(' disabled="true"')}function a(e,t){return e.w('<div class="navbar-logo"><a href="#" aria-label="').h("resource",t,{},{key:"home"},"h").w('">').p("logo",t,t,{}).w("</a></div>")}function r(e,t){return e.w('<div class="navbar-search-container"></div>')}function o(e,t){return e.w('<div class="navbar-dropdown-menus navbar-collapse"><ul class="nav navbar-nav">\x3c!-- Recent Messages --\x3e').x(t.get(["enableNotifications"],!1),t,{block:s},{}).w("\x3c!-- External Help Link --\x3e\x3c!-- TODO: Add new help link translation --\x3e").x(t.get(["enableExternalHelp"],!1),t,{block:l},{}).w('\x3c!-- User Account Options --\x3e<li class="dropdown user-account"><a data-route="#" id="user-account-link" class="dropdown-toggle btn-lg user-account-dropdown" data-toggle="dropdown" button="role" aria-label="').h("resource",t,{},{key:"user_account"},"h").w('" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user-circle"></i></a><div class="user-account-dropdown-container dropdown-container dropdown-menu styled-dropdown arrow dropdown-position-bottomright"><div id="user-info" data-display-rule="!isPortalUser"><div class="name">').f(t.getPath(!1,["user","name"]),t,"h").w('</div><div class="email">').f(t.getPath(!1,["user","email"]),t,"h").w('</div><div class="user-role">').f(t.getPath(!1,["user","userRoleId__name"]),t,"h").w('</div></div><ul id="user-dropdown" class="dropdown-menu" aria-labelledby="user-account-link">').h("acl",t,{block:d},{role:"edit_own_user_profile"},"h").x(t.get(["showChangePasswordLink"],!1),t,{block:c},{}).h("acl",t,{block:u},{role:"view_email"},"h").h("acl",t,{block:p},{role:"view_own_user_list,view_other_user_list"},"h").w('<li id="sign-out-link"><a data-route="#">').h("resource",t,{},{key:"sign_out"},"h").w("</a></li></ul></div></li></ul></div>")}function s(e,t){return e.w('<li class="dropdown recent-messages"><a data-route="#" class="dropdown-toggle btn-lg"data-toggle="dropdown" id="bell-btn"><i class="fa fa-bell" aria-hidden="true"></i><span class="notification-badge pull-right" style="display: none" aria-hidden="true"></span><span class="notification-badge-sr sr-only"></span></a><div class="dropdown-container dropdown-menu styled-dropdown arrow dropdown-position-bottomright"><div class="dropdown-toolbar"><h4>').h("resource",t,{},{key:"notifications"},"h").w('</h4><a data-route="#" id="mark-all" class="btn colored-link">').h("resource",t,{},{key:"mark_all_read"},"h").w('</a></div><div class="recent-messages-list"><div class="loader-container"></div></div><div class="dropdown-footer"><a id="view-all-notifications" data-route="/inbox" class="colored-link"> ').h("resource",t,{},{key:"view_all"},"h").w("</a></div></div></li>")}function l(e,t){return e.w('<li class="dropdown help"><a href="').f(t.get(["helpUrl"],!1),t,"h").w('" target="_blank" class="dropdown-toggle btn-lg" id="help" aria-label="').h("resource",t,{},{groupName:"isight/field",subgroupName:"fields",key:"helptext"},"h").w('"><i class="fa fa-question-circle" aria-hidden="true"></i></a></li>')}function d(e,t){return e.w('<li id="profile-link"><a href="#">').h("resource",t,{},{key:"profile"},"h").w("</a></li>")}function c(e,t){return e.w('<li id="change-password-link"><a href="#">').h("resource",t,{},{key:"change_password"},"h").w("</a></li>")}function u(e,t){return e.w('<li id="inbox-link"><a data-route="/inbox">').h("resource",t,{},{key:"inbox"},"h").w("</a></li>")}function p(e,t){return e.w('<li id="lists-link"><a data-route="/lists">').h("resource",t,{},{key:"lists"},"h").w("</a></li>")}return e.register("navbar-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,t}(n)},960213:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("notification-modal-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"notification-view",disableDismissOnOutsideClick:i.get(["isStatic"],!1),class:i.get(["modalClass"],!1),hideFooter:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.s(i.get(["html"],!1),i,{else:r,block:o},{})}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["body"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["body"],!1),i,"h",["s"])}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,i}(n)},80073:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-info" role="alert">').s(t.get(["canClose"],!1),t,{block:i},{}).s(t.get(["title"],!1),t,{block:n},{}).s(t.get(["html"],!1),t,{else:a,block:r},{}).w("</div>")}function i(e,t){return e.w('<button type="button" class="close" data-dismiss="alert" aria-label="').h("resource",t,{},{key:"close"},"h").w('">&times;</button>')}function n(e,t){return e.w("<h4>").f(t.getPath(!0,[]),t,"h").w("</h4>")}function a(e,t){return e.f(t.get(["body"],!1),t,"h")}function r(e,t){return e.f(t.get(["body"],!1),t,"h",["s"])}return e.register("notification-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},563706:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<h1>Page Not Found</h1>")}return e.register("page-not-found-tmpl",t),t.__dustBody=!0,t}(n)},892634:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="password-validator-matcher ').f(t.get(["customPasswordMatcherClass"],!1),t,"h").w('"><div><span id="pass_and_confirm_pass_must_match">').h("resource",t,{},{key:"new_and_confirmation_passwords_must_match"},"h").w("</span></div></div>")}return e.register("password-matcher-tmpl",t),t.__dustBody=!0,t}(n)},621202:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="password-validator-matcher ').f(t.get(["customPasswordValidatorClass"],!1),t,"h").w('">').x(t.get(["validationSections"],!1),t,{else:i,block:a},{}).w("</div>")}function i(e,t){return e.s(t.getPath(!1,["parentElement","parentFormView","_locals","validationSections"]),t,{block:n},{})}function n(e,t){return e.w('<div><span id="').f(t.get(["id"],!1),t,"h").w('" class="password-regular-expression">').f(t.get(["caption"],!1),t,"h").w("</span></div>")}function a(e,t){return e.s(t.get(["validationSections"],!1),t,{block:r},{})}function r(e,t){return e.w('<div><span id="').f(t.get(["id"],!1),t,"h").w('" class="password-regular-expression">').f(t.get(["caption"],!1),t,"h").w("</span></div>")}return e.register("password-validator-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},263286:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<ul class="dropdown-menu" id="recent-messages-list">').s(t.get(["messages"],!1),t,{else:i,block:n},{}).w("</ul>")}function i(e,t){return e.w('<div id="recent-messages-empty">').h("resource",t,{},{key:"empty_notifications"},"h").w("</div>")}function n(e,t){return e.s(t.get(["attributes"],!1),t,{block:a},{}).w("\n")}function a(e,t){return e.w('<li><a href="#" class="message-item" data-id="').f(t.get(["id"],!1),t,"h").w('"><div class="message-icon"><span class="fa-stack fa-lg" style="color: #d9534f">\x3c!-- icon for target type --\x3e<i class="fa fa-circle fa-stack-2x"></i><i class="fa ').f(t.get(["icon"],!1),t,"h").w(' fa-stack-1x fa-inverse "></i>\x3c!-- icon for method --\x3e<span class="top-right-cornor pull-right"><span class="fa-stack fa-lg" style="color: #d9534f"><i class="fa ').f(t.get(["iconMethod"],!1),t,"h").w(' fa-stack-1x fa-inverse top-right-icon"></i></span></span></span></div><div class="message-content"><div class="message-link ').nx(t.get(["viewed"],!1),t,{block:r},{}).w('">').f(t.get(["subject"],!1),t,"h").w('</div><div class="ago"><i class="fa fa-clock-o"></i> ').f(t.get(["ago"],!1),t,"h").w("</div></div></a></li>")}function r(e,t){return e.w("unread-message")}return e.register("recent-messages-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},155041:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-warning" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="').h("resource",t,{},{key:"close"},"h").w('">&times;</button><h4>').h("resource",t,{},{key:"warning"},"h").w("!</h4>\x3c!-- TODO: Translate --\x3eThis record has been locked by <span>").f(t.getPath(!1,["model","user","name"]),t,"h").w("</span>. This lock will expire when <span>").f(t.getPath(!1,["model","user","name"]),t,"h").w('</span> leaves edit mode. <a data-route="#" id="refresh-lock-check" class="pull-right">Refresh</a></div>')}return e.register("record-lock-tmpl",t),t.__dustBody=!0,t}(n)},803474:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<a data-route="#" data-toggle="dropdown" class="relationship-indicator-btn" aria-label="').h("resource",t,{},{key:"related_records"},"h").w('" ><span data-toggle="tooltip" data-placement="right" data-container="#right-container" title="').h("resource",t,{},{key:"related_records"},"h").w('" class="fa-stack fa child-matches-icon" aria-hidden="true"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-link fa-stack-1x fa-inverse"></i></span></a><div class="dropdown-container dropdown-menu styled-dropdown arrow relationship-container "><div class="dropdown-toolbar"><h4>').h("resource",t,{},{key:"related_records"},"h").w('</h4></div><div class="matches-list"><ul class="matches"></ul></div><div class="dropdown-footer"><div class="pull-left">').h("resource",t,{},{key:"top_10_related_matches"},"h").w('</div><a class="pull-right" data-route="/case/').f(t.get(["caseId"],!1),t,"h").w('/details/related_cases/suggest"> ').h("resource",t,{},{key:"search_more"},"h").w("</a></div></div>")}return e.register("relationship-indicator",t),t.__dustBody=!0,t}(n)},418818:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("resume-session-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"small-modal",disableDismissOnOutsideClick:"true",hideCloseBtn:"true",hideHeaderDivider:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"session_expired_message"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="no-print"><p class="bg-danger" id="message" aria-live="assertive" style="display: none;"></p></div><p>').h("resource",i,{},{key:"log_back_in_message"},"h").w('</p>\x3c!-- Password --\x3e<div class="form-group"><input type="password" class="form-control" name="password" id="password" autocomplete="off"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="login" class="primary">').h("resource",i,{},{key:"sign_in"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},551610:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td colspan="').f(t.getPath(!1,["columns","length"]),t,"h").w('">').h("resource",t,{},{key:"not_available"},"h").w("</td>")}return e.register("row-not-available",t),t.__dustBody=!0,t}(n)},77760:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-checkboxes-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').f(i.get(["viewId"],!1),i,"h").w("-").h("get",i,{},{key:a},"h").w('" class="events-enabled"><input class="option" type="checkbox" id="').f(i.get(["viewId"],!1),i,"h").w("-").h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/>').x(i.get(["errorHighlight"],!1),i,{else:l,block:c},{}).x(i.get(["secondaryCaption"],!1),i,{block:p},{}).w("</label>")}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.w('<span class="caption">').h("get",i,{},{key:d},"h").w("</span>")}function d(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function c(e,i){return i=i.shiftBlocks(t),e.w('<span class="caption error-highlight"><em>').h("get",i,{},{key:u},"h").w("</em></span>")}function u(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function p(e,i){return i=i.shiftBlocks(t),e.w('&nbsp;&nbsp;<em class="secondary-caption">').f(i.get(["secondaryCaption"],!1),i,"h").w("</em>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,i}(n)},892549:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-date-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').h("get",i,{},{key:a},"h").w('" class="events-enabled"><input name="grid-filter-select-radio-menu-').f(i.get(["cid"],!1),i,"h").w('" class="option" type="radio" id="').h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/><span class="caption">').h("get",i,{},{key:l},"h").w("</span></label>").x(i.get(["displayDates"],!1),i,{block:d},{}).x(i.get(["displayTimePeriod"],!1),i,{block:p},{})}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="date-components input-group input-daterange"><input type="text" class="form-control" data-value="').h("get",i,{},{key:c},"h").w('" placeholder="').f(i.get(["datePlaceholder"],!1),i,"h").w('" name="startDate" aria-label="startDate" autocomplete="off" /><input type="text" class="form-control" data-value="').h("get",i,{},{key:u},"h").w('" placeholder="').f(i.get(["datePlaceholder"],!1),i,"h").w('" name="endDate" aria-label="endDate" autocomplete="off" /></div>')}function c(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function u(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function p(e,i){return i=i.shiftBlocks(t),e.w('<div class="time-components"><input class="form-control" type="text" data-value="').h("get",i,{},{key:f},"h").w('" name="period" aria-label="period"data-toggle="tooltip" data-trigger="manual" data-placement="bottom" title="').f(i.get(["timeTooltipTitle"],!1),i,"h").w('" /><select class="form-control" data-value="').h("get",i,{},{key:h},"h").w('" name="unit" aria-label="unit">').x(i.get(["within"],!1),i,{else:m,block:g},{}).w("</select></div>")}function f(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function h(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function m(e,i){return i=i.shiftBlocks(t),e.w('<option value="days_ago">').h("resource",i,{},{key:"_days_ago"},"h").w('</option><option value="weeks_ago">').h("resource",i,{},{key:"_weeks_ago"},"h").w('</option><option value="months_ago">').h("resource",i,{},{key:"_months_ago"},"h").w('</option><option value="days_away">').h("resource",i,{},{key:"_days_away"},"h").w('</option><option value="weeks_away">').h("resource",i,{},{key:"_weeks_away"},"h").w('</option><option value="months_away">').h("resource",i,{},{key:"_months_away"},"h").w("</option>")}function g(e,i){return i=i.shiftBlocks(t),e.w('<option value="days">').h("resource",i,{},{key:"_days"},"h").w('</option><option value="weeks">').h("resource",i,{},{key:"_weeks"},"h").w('</option><option value="months">').h("resource",i,{},{key:"_months"},"h").w("</option>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,i}(n)},902692:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-datetime-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').h("get",i,{},{key:a},"h").w('" class="events-enabled"><input name="grid-filter-select-radio-menu-').f(i.get(["cid"],!1),i,"h").w('" class="option" type="radio" id="').h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/><span class="caption">').h("get",i,{},{key:l},"h").w("</span></label>").x(i.get(["displayDateTimes"],!1),i,{block:d},{}).x(i.get(["displayTimePeriod"],!1),i,{block:v},{})}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="datetime-components input-group input-daterange"><div class="datetime-component" name="startDateTime"><input type="text" class="form-control date-component" data-value="').h("get",i,{},{key:c},"h").w('" placeholder="').f(i.get(["datePlaceholder"],!1),i,"h").w('" name="startDate" aria-label="startDate" autocomplete="off" /><div class="time-component"><input type="text" class="form-control" data-value="').h("get",i,{},{key:u},"h").w('" placeholder="HH:MM" name="startTime" aria-label="startTime">').x(i.get(["displayAmPm"],!1),i,{block:p},{}).w('</div></div><div class="datetime-component" name="endDateTime"><input type="text" class="form-control date-component" data-value="').h("get",i,{},{key:h},"h").w('" placeholder="').f(i.get(["datePlaceholder"],!1),i,"h").w('" name="endDate" aria-label="endDate" autocomplete="off" /><div class="time-component"><input type="text" class="form-control" data-value="').h("get",i,{},{key:m},"h").w('" name="endTime" placeholder="HH:MM" aria-label="endTime">').x(i.get(["displayAmPm"],!1),i,{block:g},{}).w("</div></div></div>")}function c(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function u(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function p(e,i){return i=i.shiftBlocks(t),e.w('<select class="form-control" data-value="').h("get",i,{},{key:f},"h").w('" name="startAmpm" aria-label="start-ampm"><option value="AM">').h("resource",i,{},{key:"am"},"h").w('</option><option value="PM">').h("resource",i,{},{key:"pm"},"h").w("</option></select>")}function f(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function h(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function m(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function g(e,i){return i=i.shiftBlocks(t),e.w('<select class="form-control" data-value="').h("get",i,{},{key:y},"h").w('" name="endAmpm" aria-label="end-ampm"><option value="AM">').h("resource",i,{},{key:"am"},"h").w('</option><option value="PM">').h("resource",i,{},{key:"pm"},"h").w("</option></select>")}function y(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function v(e,i){return i=i.shiftBlocks(t),e.w('<div class="time-components"><input class="form-control" type="text" data-value="').h("get",i,{},{key:b},"h").w('" name="period" aria-label="period"data-toggle="tooltip" data-trigger="manual" data-placement="bottom" title="').f(i.get(["timeTooltipTitle"],!1),i,"h").w('" /><select class="form-control" data-value="').h("get",i,{},{key:w},"h").w('" name="unit" aria-label="unit">').x(i.get(["within"],!1),i,{else:A,block:C},{}).w("</select></div>")}function b(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function w(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function A(e,i){return i=i.shiftBlocks(t),e.w('<option value="hours_ago">').h("resource",i,{},{key:"_hours_ago"},"h").w('</option><option value="days_ago">').h("resource",i,{},{key:"_days_ago"},"h").w('</option><option value="weeks_ago">').h("resource",i,{},{key:"_weeks_ago"},"h").w('</option><option value="months_ago">').h("resource",i,{},{key:"_months_ago"},"h").w('</option><option value="hours_away">').h("resource",i,{},{key:"_hours_away"},"h").w('</option><option value="days_away">').h("resource",i,{},{key:"_days_away"},"h").w('</option><option value="weeks_away">').h("resource",i,{},{key:"_weeks_away"},"h").w('</option><option value="months_away">').h("resource",i,{},{key:"_months_away"},"h").w("</option>")}function C(e,i){return i=i.shiftBlocks(t),e.w('<option value="hours">').h("resource",i,{},{key:"_hours"},"h").w('</option><option value="days">').h("resource",i,{},{key:"_days"},"h").w('</option><option value="weeks">').h("resource",i,{},{key:"_weeks"},"h").w('</option><option value="months">').h("resource",i,{},{key:"_months"},"h").w("</option>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,A.__dustBody=!0,C.__dustBody=!0,i}(n)},25240:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-decimal-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').h("get",i,{},{key:a},"h").w('" class="events-enabled"><input name="grid-filter-select-radio-menu-').f(i.get(["cid"],!1),i,"h").w('" class="option" type="radio" id="').h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/><span class="caption">').h("get",i,{},{key:l},"h").w("</span></label>").x(i.get(["displayNumber"],!1),i,{block:d},{}).x(i.get(["displayNumbers"],!1),i,{block:u},{})}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="number-components input-group"><input type="text" class="form-control"  data-value="').h("get",i,{},{key:c},"h").w('" name="startNumber" aria-label="startNumber" autocomplete="off" /></div>')}function c(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function u(e,i){return i=i.shiftBlocks(t),e.w('<div class="number-components input-group"><input type="text" class="form-control"  data-value="').h("get",i,{},{key:p},"h").w('" name="startNumber" aria-label="startNumber" autocomplete="off" /><input type="text" class="form-control"  data-value="').h("get",i,{},{key:f},"h").w('" name="endNumber" aria-label="endNumber" autocomplete="off" /></div>')}function p(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function f(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,i}(n)},779512:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-number-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').h("get",i,{},{key:a},"h").w('" class="events-enabled"><input name="grid-filter-select-radio-menu-').f(i.get(["cid"],!1),i,"h").w('" class="option" type="radio" id="').h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/><span class="caption">').h("get",i,{},{key:l},"h").w("</span></label>").x(i.get(["displayNumber"],!1),i,{block:d},{}).x(i.get(["displayNumbers"],!1),i,{block:u},{})}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="number-components input-group input-daterange"><input type="text" class="form-control" data-value="').h("get",i,{},{key:c},"h").w('" name="startNumber" aria-label="startNumber" autocomplete="off" /></div>')}function c(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function u(e,i){return i=i.shiftBlocks(t),e.w('<div class="number-components input-group input-daterange"><input type="text" class="form-control" data-value="').h("get",i,{},{key:p},"h").w('" name="startNumber" aria-label="startNumber" autocomplete="off" /><input type="text" class="form-control" data-value="').h("get",i,{},{key:f},"h").w('" name="endNumber" aria-label="endNumber" autocomplete="off" /></div>')}function p(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function f(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,i}(n)},196245:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="dropdown-container').h("eq",t,{block:i},{key:t.get(["position"],!1),value:"right"},"h").w('"><div class="dropdown-toolbar" data-display-rule="enableSearch"><div class="form-group has-feedback"><input class="search form-control" aria-label="').f(t.get(["searchPlaceholder"],!1),t,"h").w('" placeholder="').f(t.get(["searchPlaceholder"],!1),t,"h").w('"/><i class="glyphicon glyphicon-search form-control-feedback" data-display-rule="showSearchIcon"></i></div></div><div id="all-options-view"><div class="option-top-bar"><div class="toggle-container"></div><div class="btn-group"><button type="button" class="select-all-btn btn-text-primary" data-display-rule="showSelectAllBtn">').h("resource",t,{},{key:"select_all"},"h").w('</button><button type="button" class="clear-all-btn btn-text-primary" data-display-rule="showClearAllBtn">').h("resource",t,{},{key:"clear_all"},"h").w('</button></div></div><div class="options-content">').b(t.getBlock("options-content"),t,{block:n},{}).w('</div></div><div id="dropdown-footer" class="dropdown-footer"></div></div>')}function i(e,t){return e.w(" dropdown-position-bottomright")}function n(e,t){return e.w('<ul class="dropdown-menu dropdown-menu-right option-items list" role="menu" data-empty-message="').h("resource",t,{},{key:"no_match"},"h").w('">').s(t.get(["options"],!1),t,{block:a},{}).w("</ul>")}function a(e,t){return e.w('<li role="menuitem">').b(t.getBlock("list-item"),t,{block:r},{}).w("</li>")}function r(e,t){return e}return e.register("select-options-menu-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},639932:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-radio-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<label for="').h("get",i,{},{key:a},"h").w('" class="events-enabled"><input name="grid-filter-select-radio-menu-').f(i.get(["cid"],!1),i,"h").w('" class="option" type="radio" id="').h("get",i,{},{key:r},"h").w('" value="').h("get",i,{},{key:o},"h").w('" aria-label="').h("get",i,{},{key:s},"h").w('"/><span class="caption">').h("get",i,{},{key:l},"h").w("</span></label>")}function a(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function s(e,i){return i=i.shiftBlocks(t),e.f(i.get(["valueProperty"],!1),i,"h")}function l(e,i){return i=i.shiftBlocks(t),e.f(i.get(["textProperty"],!1),i,"h")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,i}(n)},364494:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-text-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<input class="option form-control" type="text"/>')}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},432949:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("select-text-multiple-menu-tmpl",i);var t={"list-item":n};function i(e,i){return i=i.shiftBlocks(t),e.p("select-options-menu-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<select class="option form-control" multiple placeholder="').f(i.get(["placeholder"],!1),i,"h").w('" type="text" aria-label="').f(i.get(["placeholder"],!1),i,"h").w('"></select>')}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},273095:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="highlight-section"><div class="full-highlight">').s(t.get(["highlightedFields"],!1),t,{block:i},{}).w('</div><button class="btn btn-default btn-autofill" id="autofill-').f(t.getPath(!1,["model","id"]),t,"h").w('">').h("resource",t,{},{groupName:"search",subgroupName:"similar",key:"autofill"},"h").w('</button></div><div class="card-footer"></div>')}function i(e,t){return e.w('<span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entityName"],!1),subgroupName:"fields",key:t.get(["fieldName"],!1)},"h").w(":</span>&nbsp;").s(t.get(["highlight"],!1),t,{block:n},{}).w("</span>")}function n(e,t){return e.f(t.getPath(!0,[]),t,"h",["s"]).h("sep",t,{block:a},{},"h")}function a(e,t){return e.w("&nbsp;<b>[&#8230;]</b>")}return e.register("similar-search-highlight-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},721602:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="highlight-section"><div class="full-highlight">').s(t.get(["highlightedFields"],!1),t,{block:i},{}).w('</div></div><div class="card-footer"><div class="read-more fade-away"><i class="fa fa-chevron-down fa-fw"></i><i class="fa fa-chevron-up fa-fw"></i></div><div class="pull-right highlight-count-label ago"><i class="fa fa-clock-o"></i> ').f(t.get(["ago"],!1),t,"h").w("</div></div>")}function i(e,t){return e.w('<span class="highlight-item"><span class="field-name">').h("resource",t,{},{groupName:t.get(["entityName"],!1),subgroupName:"fields",key:t.get(["fieldName"],!1)},"h").w(":</span>&nbsp;").s(t.get(["highlight"],!1),t,{block:n},{}).w("</span>")}function n(e,t){return e.f(t.getPath(!0,[]),t,"h",["s"]).h("sep",t,{block:a},{},"h")}function a(e,t){return e.w("&nbsp;<b>[&#8230;]</b>")}return e.register("small-highlight-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},208809:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["tab"],!1),t,{block:i},{})}function i(e,t){return e.w('<a href="#').f(t.get(["tabPanelId"],!1),t,"h").w('" role="tab" id="').f(t.get(["tabId"],!1),t,"h").w('" aria-controls="').f(t.get(["tabPanelId"],!1),t,"h").w('" aria-selected="false" tabindex="-1" data-id="').f(t.get(["id"],!1),t,"h").w('" ').x(t.get(["default"],!1),t,{block:n},{}).w(" ").x(t.get(["displayRule"],!1),t,{block:a},{}).w(" ").x(t.get(["hideOnIntake"],!1),t,{block:r},{}).x(t.get(["hideOnPortal"],!1),t,{block:o},{}).w(">").f(t.get(["caption"],!1),t,"h").w('</a><div class="field-icon-container" data-display-rule="isExternal" ').x(t.get(["hideOnIntake"],!1),t,{block:s},{}).w("> </div>")}function n(e,t){return e.w("data-default")}function a(e,t){return e.w('data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}function r(e,t){return e.w('data-hide-on-intake="true"')}function o(e,t){return e.w('data-hide-on-portal="true"')}function s(e,t){return e.w('data-hide-on-intake="true"')}return e.register("tab-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,t}(n)},107709:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="tabs-content tabs-inline-form"><div class="loader-container"></div></div>')}return e.register("tabs-inline-form-tmpl",t),t.__dustBody=!0,t}(n)},566140:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<label class="toggle-button events-enabled"><input type="checkbox" name="toggle" aria-label="').f(t.get(["ariaLabel"],!1),t,"h").w('"').h("eq",t,{block:i},{key:t.get(["value"],!1),value:"true",type:"boolean"},"h").s(t.get(["disableRule"],!1),t,{block:n},{}).w(' /><span class="slider round ').x(t.get(["greyOnOff"],!1),t,{block:a},{}).w(" ").x(t.get(["showCaptionsOnButton"],!1),t,{block:r},{}).w('">').x(t.get(["showCaptionsOnButton"],!1),t,{block:o},{}).w("</span></label>")}function i(e,t){return e.w(' checked="checked"')}function n(e,t){return e.w(' data-disable-rule="').f(t.get(["disableRule"],!1),t,"h").w('"')}function a(e,t){return e.w("grey-on-unchecked")}function r(e,t){return e.w("with-captions")}function o(e,t){return e.w('<span class="on">').f(t.get(["checkedCaption"],!1),t,"h").w('</span><span class="off">').f(t.get(["uncheckedCaption"],!1),t,"h").w("</span>")}return e.register("toggle-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},757072:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hasActiveFilters"],!1),t,{block:i},{})}function i(e,t){return e.h("eq",t,{else:n,block:d},{key:t.get(["hasFailedConditions"],!1),value:"true",type:"boolean"},"h")}function n(e,t){return e.w('<p id="criteria-expand"><a data-toggle="collapse" href="#criteria-collapse" aria-expanded="false" aria-controls="collapseExample"><span class="condition-result-pass"><i class="fa fa-icon fa-fw fa-lg fa-check-circle"></i></span><span aria-label="').f(t.get(["allCriteriaMetText"],!1),t,"h").w('">').f(t.get(["allCriteriaMetText"],!1),t,"h").w('</span><i class="fa fa-chevron-down fa-fw expand-chevron" data-container="body" data-placement="top" aria-hidden="true" aria-label="').h("resource",t,{},{key:"minimize"},"h").w('"></i></a></p><div class="collapse" id="criteria-collapse" style="margin-bottom: 30px;"><div class="card card-body"><div class="content"><ul class="condition-types">').s(t.get(["conditionTypes"],!1),t,{block:a},{}).w("</ul></div></div></div>")}function a(e,t){return e.w('<li><div data-id="').f(t.get(["id"],!1),t,"h").w('">').s(t.get(["translationKeyInfo"],!1),t,{block:r},{}).w("</div>").h("eq",t,{block:o},{key:t.get(["conditionType"],!1),value:"filter"},"h").h("eq",t,{block:s},{key:t.get(["conditionType"],!1),value:"mandatoryFields"},"h").h("eq",t,{block:l},{key:t.get(["requiresContext"],!1),value:"true",type:"boolean"},"h").w("</li>")}function r(e,t){return e.w('<span aria-label="').h("resource",t,{},{key:t.get(["key"],!1),groupName:t.get(["groupName"],!1),subgroupName:t.get(["subgroupName"],!1)},"h").w('">').h("resource",t,{},{key:t.get(["key"],!1),groupName:t.get(["groupName"],!1),subgroupName:t.get(["subgroupName"],!1)},"h").w("</span>")}function o(e,t){return e.w('<div class="filter-row-container-read"></div>')}function s(e,t){return e.w('<div class="mandatory-fields-row-container-read"></div>')}function l(e,t){return e.w('<div class="context-row-container-read context-container-').f(t.get(["conditionType"],!1),t,"h").w('"></div>')}function d(e,t){return e.w('<div class="content"><ul class="condition-types">').s(t.get(["conditionTypes"],!1),t,{block:c},{}).w("</ul></div>")}function c(e,t){return e.w('<li><div data-id="').f(t.get(["id"],!1),t,"h").w('">').s(t.get(["translationKeyInfo"],!1),t,{block:u},{}).w("</div>").h("eq",t,{block:p},{key:t.get(["conditionType"],!1),value:"filter"},"h").h("eq",t,{block:f},{key:t.get(["conditionType"],!1),value:"mandatoryFields"},"h").h("eq",t,{block:h},{key:t.get(["requiresContext"],!1),value:"true",type:"boolean"},"h").w("</li>")}function u(e,t){return e.w('<span aria-label="').h("resource",t,{},{key:t.get(["key"],!1),groupName:t.get(["groupName"],!1),subgroupName:t.get(["subgroupName"],!1)},"h").w('">').h("resource",t,{},{key:t.get(["key"],!1),groupName:t.get(["groupName"],!1),subgroupName:t.get(["subgroupName"],!1)},"h").w("</span>")}function p(e,t){return e.w('<div class="filter-row-container-read"></div>')}function f(e,t){return e.w('<div class="mandatory-fields-row-container-read"></div>')}function h(e,t){return e.w('<div class="context-row-container-read context-container-').f(t.get(["conditionType"],!1),t,"h").w('"></div>')}return e.register("transition-conditions-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,t}(n)},509341:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hideTransitions"],!1),t,{else:i,block:u},{})}function i(e,t){return e.s(t.get(["transitionsByWorkflow"],!1),t,{block:n},{})}function n(e,t){return e.w('<li class="workflow-item">').h("ne",t,{block:a},{key:t.get(["hideWorkflow"],!1),value:"true",type:"boolean"},"h").s(t.get(["isOutdated"],!1),t,{else:r,block:d},{}).w("</li>")}function a(e,t){return e.f(t.get(["name"],!1),t,"h")}function r(e,t){return e.w("<ul>").s(t.get(["transitions"],!1),t,{block:o},{}).w("</ul>")}function o(e,t){return e.w('<li class="transition-item">').x(t.get(["disableTransitions"],!1),t,{else:s,block:l},{}).w("</li>")}function s(e,t){return e.w('<a data-route="#" data-id="').f(t.get(["id"],!1),t,"h").w('" title="').f(t.get(["name"],!1),t,"h").w('">').f(t.get(["name"],!1),t,"h").w("</a>")}function l(e,t){return e.w('<span data-id="').f(t.get(["id"],!1),t,"h").w('" class="is-disabled grey-font">').f(t.get(["name"],!1),t,"h").w("</span>")}function d(e,t){return e.w("<ul>").s(t.get(["transitions"],!1),t,{block:c},{}).w("</ul>")}function c(e,t){return e.w('<li class="transition-item"><span data-id="').f(t.get(["id"],!1),t,"h").w('" class="is-disabled grey-font">').f(t.get(["name"],!1),t,"h").w("</span></li>")}function u(e,t){return e}return e.register("transitions-list-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,t}(n)},991995:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-info translated-text-warning hidden" role="alert"></div>')}return e.register("translated-text-warning",t),t.__dustBody=!0,t}(n)},95335:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<li data-display-rule="canSwitchToTranslatedText"><a data-route="#" id="show-translated-text"><i class="fa-icon fa-fw fa-lg fa-solid fa-language"></i>').h("resource",t,{},{key:"show_translated_text"},"h").w('</a></li><li data-display-rule="canSwitchToOriginalText"><a data-route="#" id="show-original-text"><i class="fa-icon fa-fw fa-lg fa-solid fa-language"></i>').h("resource",t,{},{key:"show_original_text"},"h").w("</a></li>")}return e.register("translation-language-toggle-btns",t),t.__dustBody=!0,t}(n)},998474:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="fa-stack alert-icon warning-icon" role="alert" aria-label=').h("resource",t,{},{key:"warning_icon"},"h").w('><i class="fa fa-circle fa-stack-2x icon-background"></i><i class="fa fa-exclamation-triangle fa-stack-1x icon-contents"></i></span>')}return e.register("warning-icon",t),t.__dustBody=!0,t}(n)},174168:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert alert-warning" role="alert"><button type="button" class="close" name="close" data-dismiss="alert" aria-label="').h("resource",t,{},{key:"close"},"h").w('">&times;</button>').h("eq",t,{block:i},{key:t.get(["showTitle"],!1),value:"true",type:"boolean"},"h").w("\x3c!-- if provided, use unfiltered html --\x3e").s(t.get(["html"],!1),t,{else:r,block:s},{}).w("</div>")}function i(e,t){return e.w("<h4>").s(t.get(["title"],!1),t,{else:n,block:a},{}).w("</h4>")}function n(e,t){return e.h("resource",t,{},{key:"warning"},"h").w("!")}function a(e,t){return e.f(t.getPath(!0,[]),t,"h")}function r(e,t){return e.w('<div data-display-rule="!lockedByAnotherUser">').f(t.get(["body"],!1),t,"h").w("</div>").s(t.get(["model"],!1),t,{block:o},{})}function o(e,t){return e.w('<div data-display-rule="lockedByAnotherUser">').f(t.get(["lockedBody"],!1),t,"h").w("</div>")}function s(e,t){return e.w('<div data-display-rule="!lockedByAnotherUser">').f(t.get(["body"],!1),t,"h",["s"]).w("</div>").s(t.get(["model"],!1),t,{block:l},{})}function l(e,t){return e.w('<div data-display-rule="lockedByAnotherUser">').f(t.get(["lockedBody"],!1),t,"h",["s"]).w("</div>")}return e.register("warning-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},927038:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="m-viewinfo form-horizontal m-viewinfo-').f(t.get(["viewName"],!1),t,"h").w('"><div class="m-viewinfo-close-button" title="Close">&#215;</div><h3 class="m-viewinfo-header">View Info</h3><div class="form-group"><label for="m-viewinfo-view-name" class="col-sm-3 control-label">Handle: </label><div class="col-sm-9"><p name="m-viewinfo-view-name" class="form-control-static"><span class="highlight-view-on-hover">').f(t.get(["viewName"],!1),t,"h").w('</span></p></div></div><div class="form-group"><label for="m-viewinfo-template-name" class="col-sm-3 control-label">Template: </label><div class="col-sm-9"><p name="m-viewinfo-template-name" class="form-control-static">').f(t.get(["templateName"],!1),t,"h").w('.dust</p></div></div><br><div id="accordion" class="panel-group"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#viewinfo-accordion-panel-view-details">View Details</a></h4></div><div id="viewinfo-accordion-panel-view-details" class="panel-collapse collapse"><div class="panel-body"><h4>Play in the Console</h4>Click the following to play with the view in the console.<br><code class="click-paste-to-console">view = require(\'view-manager\').getByHandle(\'').f(t.get(["viewName"],!1),t,"h").w('\')</code><br><h4>Parent View</h4><span class="highlight-view-on-hover">').f(t.get(["parentView"],!1),t,"h").w("</span><h4>Sub-Views</h4>").x(t.get(["hasSubviews"],!1),t,{else:i,block:n},{}).w("<h4>Rules</h4>").x(t.get(["hasViewRules"],!1),t,{else:r,block:o},{}).w('</div></div></div><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#viewinfo-accordion-panel-model">Model (').x(t.get(["hasModel"],!1),t,{else:l,block:d},{}).w(')</a></h4></div><div id="viewinfo-accordion-panel-model" class="panel-collapse collapse"><div class="panel-body"><p>').x(t.get(["hasModel"],!1),t,{else:c,block:u},{}).w('</p></div></div></div><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#viewinfo-accordion-panel-features">Features ').x(t.get(["features"],!1),t,{else:w,block:A},{}).w('</a></h4></div><div id="viewinfo-accordion-panel-features" class="panel-collapse collapse"><div class="panel-body"><p>').x(t.get(["features"],!1),t,{else:C,block:k},{}).w('</p></div></div></div><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#viewinfo-accordion-panel-debug-settings">View Info Debug Settings</a></h4></div><div id="viewinfo-accordion-panel-debug-settings" class="panel-collapse collapse"><div class="panel-body"><p><button class="m-viewinfo-disable">Disable ViewInfo</button><span class="help-block">Stops ViewInfo from displaying the \'red dot\' indicators.</span><span class="help-block">The browser must be refreshed to enable ViewInfo again.</span><div><label>Indicator Position:</label><br><input type="radio" name="indicator-position" value="m-viewinfo-indicator top-left" checked="checked"> Top / Left<br><input type="radio" name="indicator-position" value="m-viewinfo-indicator top-right"> Top / Right<br><input type="radio" name="indicator-position" value="m-viewinfo-indicator bottom-left"> Bottom / Left<br><input type="radio" name="indicator-position" value="m-viewinfo-indicator bottom-right"> Bottom / Right<br></div></p></div></div></div></div></div>')}function i(e,t){return e.w("None.")}function n(e,t){return e.w("<ul>").s(t.get(["subviews"],!1),t,{block:a},{}).w("</ul>")}function a(e,t){return e.w('<li class="highlight-view-on-hover">').f(t.getPath(!0,[]),t,"h").w("</li>")}function r(e,t){return e.w("None.")}function o(e,t){return e.w("<ul>").h("keyvaluesort",t,{block:s},{on:t.get(["viewRules"],!1)},"h").w("</ul>")}function s(e,t){return e.w("<li><strong>").f(t.get(["key"],!1),t,"h").w("</strong>: ").f(t.get(["value"],!1),t,"h").w("<br></li>")}function l(e,t){return e.w("none")}function d(e,t){return e.f(t.get(["modelEntity"],!1),t,"h")}function c(e,t){return e.w("No Related Model")}function u(e,t){return e.w("<h4>Play in the Console</h4>Click the following to play with the model in the console.<br><code class=\"click-paste-to-console\">model = require('view-manager').getByHandle('").f(t.get(["viewName"],!1),t,"h").w("').model</code><br><br><h4>URL</h4><p>").f(t.get(["modelUrl"],!1),t,"h").w("</p><h4>Other Active Views Using This Model</h4><ul>").s(t.get(["viewsUsingSameModel"],!1),t,{block:p},{}).w("</ul>").x(t.get(["hasModel"],!1),t,{block:f},{}).w("<h4>Rules</h4>").x(t.get(["hasModelRules"],!1),t,{else:m,block:g},{}).x(t.get(["modelAttributes"],!1),t,{block:v},{})}function p(e,t){return e.w("<li>").f(t.getPath(!0,["handle"]),t,"h").w("</li>")}function f(e,t){return e.w("<h4>Default Values</h4><ul>").h("keyvaluesort",t,{block:h},{on:t.getPath(!1,["model","defaults"])},"h").w("</ul>")}function h(e,t){return e.w("<li><strong>").f(t.get(["key"],!1),t,"h").w("</strong>: ").f(t.get(["value"],!1),t,"h").w("<br></li>")}function m(e,t){return e.w("None.")}function g(e,t){return e.w("<ul>").h("keyvaluesort",t,{block:y},{on:t.get(["modelRules"],!1)},"h").w("</ul>")}function y(e,t){return e.w("<li><strong>").f(t.get(["key"],!1),t,"h").w("</strong>: ").f(t.get(["value"],!1),t,"h").w("<br></li>")}function v(e,t){return e.w("<h4>Attributes</h4><ul>").h("keyvaluesort",t,{block:b},{on:t.get(["modelAttributes"],!1)},"h").w("</ul><br>")}function b(e,t){return e.w("<li><strong>").f(t.get(["key"],!1),t,"h").w("</strong>: ").f(t.get(["value"],!1),t,"h").w("<br></li>")}function w(e,t){return e.w("(none)")}function A(e,t){return e}function C(e,t){return e.w("None")}function k(e,t){return e.w("<ul>").h("keyvaluesort",t,{block:x},{on:t.get(["features"],!1)},"h").w("</ul><br/>")}function x(e,t){return e.w("<li><strong>").f(t.get(["key"],!1),t,"h").w("</strong>: ").f(t.get(["value"],!1),t,"h").w("<br></li>")}return e.register("view-info-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,b.__dustBody=!0,w.__dustBody=!0,A.__dustBody=!0,C.__dustBody=!0,k.__dustBody=!0,x.__dustBody=!0,t}(n)},746020:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div>').s(t.getPath(!1,["model","caption"]),t,{else:i,block:n},{}).w("<hr>\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w("<h1>").h("resource",t,{},{groupName:"isight/field",subgroupName:"general",key:"new"},"h").w("</h1>")}function n(e,t){return e.w("<h1>").f(t.getPath(!1,["model","caption"]),t,"h").w("</h1>")}return e.register("field-data-modal",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},348536:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('</div>\x3c!-- Button to edit--\x3e<div class="pull-right btn-toolbar-sticky" data-display-rule="canEdit"><div class="btn-toolbar" data-readonly="true">').h("acl",t,{block:r},{role:"create_shared_link"},"h").p("default-form-edit-button-tmpl",t,t,{disableRule:"lockedByAnotherUser || isMarkedOrPurged || (!canEditFile && !isDraft) || disableForClosedCase"}).w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-edit aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section"><ul role="presentation" >\x3c!-- View Record Source --\x3e<li role="presentation" data-display-rule="enabledRecordSource"><a role="menuitem" data-route="#" id="record-source-view">').h("resource",t,{},{key:"record_source_view"},"h").w("</a></li></ul></li>\x3c!-- Delete Button --\x3e").h("eq",t,{block:o},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"file"},"h").w('" id="save"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || (!canEditFile && !isDraft) || disableForClosedCase" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w(" ").h("resource",t,{},{key:"file"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section"><ul role="presentation" >').x(t.get(["canSaveAndCopy"],!1),t,{block:s},{}).w("</ul></li>").h("eq",t,{block:l},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div></div>\x3c!-- Headers --\x3e<div class="no-print"><h1 class="child-title">').f(t.getPath(!1,["model","fileNumber"]),t,"h").w('</h1><div class="relationship-indicator-placeholder"></div><div id="flags"></div></div><div class="print-only"><h4>File | <span class="green-font child-number">').f(t.getPath(!1,["model","fileNumber"]),t,"h").w('</span></h4><div id="child-flags-container"><div id="flags" /></div></div></div><hr class="underline">').p("asterisk_message",t,t,{}).w('\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div><div id="external-access-log-grid-container" class="grid-section-spacing"></div>')}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<div id="share_file_container" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{groupName:"fileSharing",subgroupName:"error",key:"cannot_share_empty_file"},"h").w('"><button class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"share_file"},"h").w('" id="share_file"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !hasAttachments || !isActive || disableForClosedCase" data-display-rule="showShareFileBtn" aria-label="').h("resource",t,{},{key:"share_file"},"h").w(" ").h("resource",t,{},{key:"share_file"},"h").w('"><i class="fa fa-icon fa-share-square-o fa-lg"></i></button></div>')}function o(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || (!canRemoveFile && !isDraft) || hasActiveShare || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function s(e,t){return e.w('<li role="presentation" id="workflow-transitions" class="dropdown-section"></li><li role="presentation" id="save-and-copy" role="menuitem"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function l(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || (!canRemoveFile && !isDraft) || hasActiveShare || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}return e.register("file-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},996589:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("file-selector-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"files"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="row"><div class="col-sm-12"><div id="files-grid" class="main-grid"></div></div></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="done" name="done" class="primary" data-ladda-model-save><i class="fa fa-icon fa-plus"></i>').h("resource",i,{},{key:"add_files"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},498266:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"file"},"h").w('" id="save" data-ladda-model-save data-disable-rule="disableForClosedCase"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('"id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"file"},"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></a>').x(t.get(["canSaveAndCopy"],!1),t,{block:i},{}).w("</div><h1>").h("resource",t,{},{groupName:"sys/attachment",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w('<div id="size-warning" class="alert alert-info hidden no-print" role="alert">').h("resource",t,{},{key:"packet_limits_info",ctxt:t.getPath(!0,[])},"h").w("</div>\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" data-disable-rule="disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown  styled-dropdown-no-tail" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li></ul></div>")}return e.register("new-file-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},53973:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button class="previous" aria-label="').h("resource",t,{},{key:"previous"},"h").w('"><i class="fa fa-icon fa-chevron-left"></i></button><div class="file-preview">\x3c!-- Preview subview will be rendered here --\x3e</div><button class="next" aria-label="').h("resource",t,{},{key:"next"},"h").w('"><i class="fa fa-icon fa-chevron-right"></i></button>')}return e.register("file-preview-modal-tmpl",t),t.__dustBody=!0,t}(n)},753972:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="file-information"><div class="filename-container">').h("ne",t,{block:i},{key:t.getPath(!1,["fileDetails","type"]),value:"none"},"h").w('</div><div class="buttons">').x(t.get(["canDownload"],!1),t,{block:a},{}).x(t.get(["showViewRecordLink"],!1),t,{block:o},{}).w("</div></div>")}function i(e,t){return e.w('<div class="filename"').x(t.get(["showFilenameTooltip"],!1),t,{block:n},{}).w(">").f(t.getPath(!1,["fileDetails","shortName"]),t,"h").w("</div>")}function n(e,t){return e.w(' data-toggle="tooltip" data-placement="bottom"title="').f(t.getPath(!1,["fileDetails","name"]),t,"h").w('" aria-label="').f(t.getPath(!1,["fileDetails","name"]),t,"h").w('"')}function a(e,t){return e.h("ne",t,{block:r},{key:t.getPath(!1,["fileDetails","type"]),value:"none"},"h")}function r(e,t){return e.w('<a href="').f(t.getPath(!1,["fileDetails","downloadUrl"]),t,"h").w('" download="').f(t.getPath(!1,["fileDetails","name"]),t,"h").w('" class="download-btn"aria-label="').h("resource",t,{},{key:"download"},"h").w('"data-toggle="tooltip" data-placement="bottom" data-trigger="hover"title="').h("resource",t,{},{key:"download"},"h").w('"><i class="fa fa-icon fa-download"></i></a>')}function o(e,t){return e.w('<button class="view-record-btn" aria-label="').h("resource",t,{},{key:"view_record"},"h").w('"data-toggle="tooltip" data-placement="bottom" data-trigger="hover"title="').h("resource",t,{},{key:"view_record"},"h").w('"><i class="fa fa-icon fa-external-link"></i></button>')}return e.register("file-information-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},649581:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="file-information-container"></div>\x3c!-- The image will get added dynamically once it\'s loaded --\x3e')}return e.register("image-preview-tmpl",t),t.__dustBody=!0,t}(n)},40212:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("eq",t,{else:i,block:n},{key:t.get(["pdfEmbedSupported"],!1),value:"true",type:"boolean"},"h")}function i(e,t){return e.w('<div class="pdf-unsupported-container"></div>')}function n(e,t){return e.w('<div class="file-information-container"></div><div class="pdf-container"></div>')}return e.register("pdf-preview-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},742543:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="file-information-container"></div><div class="unsupported-preview-container"><div class="background"></div><div class="content-wrapper"><div class="content"><div class="warning-icon"><i class="fa fa-icon fa-exclamation-triangle"></i></div><div class="message">').f(t.get(["unsupportedMessage"],!1),t,"h").w('</div><div class="file-information-container-2"></div></div></div></div>')}return e.register("unsupported-preview-tmpl",t),t.__dustBody=!0,t}(n)},926098:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<i class="delete-filter delete-icon fa fa-trash" aria-hidden="true"></i><div class="filter-content"></div>')}return e.register("base-filter-card-tmpl",t),t.__dustBody=!0,t}(n)},306898:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hasFilters"],!1),t,{else:i,block:n},{})}function i(e,t){return e.w('<p class="no-filters" data-readonly="false">').f(t.get(["noFiltersMessage"],!1),t,"h",["s"]).w("</p>")}function n(e,t){return e.w('<div class="filters-header"><div data-toggle="collapse" data-target="#filter-group-container" class="collapse-title"><a><b><div class="filter-counter">').f(t.get(["filterCount"],!1),t,"h").w("</div>&nbsp;&nbsp;").h("resource",t,{},{key:"filters_count"},"h").w('</b></a></div><div class="action-buttons"><button class="btn btn-md collapse-filter-control collapsed" data-toggle="collapse" data-target="#filter-group-container"aria-expanded="false" aria-controls="filter-group-container" aria-label="').h("resource",t,{},{key:"expand"},"h").w('"><i class="fa fa-chevron-up fa-fw" aria-hidden="true" data-toggle="tooltip" data-container="body" data-placement="top" title="').h("resource",t,{},{key:"expand"},"h").w('"></i></button><button class="btn btn-md add-filter" data-readonly="false"  aria-label="').h("resource",t,{},{key:"add_filter"},"h").w('"><i class="fa fa-icon fa-plus" aria-hidden="true" data-toggle="tooltip" data-container="body" data-placement="top" title="').h("resource",t,{},{key:"add_filter"},"h").w('"></i></button></div></div><div class="filter-group-container collapse" id="filter-group-container"><div class="filters-container"></div><div class="any-all-toggle"></div></div>')}return e.register("base-filters-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},558124:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("filter-details-modal",i);var t={header:n,body:o,footer:c};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"filter-details-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').x(i.get(["isNew"],!1),i,{else:a,block:r},{}).w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"edit_filter"},"h")}function r(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"add_filter"},"h")}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert-container">').x(i.getPath(!1,["model","datePurged"]),i,{else:s,block:d},{}).w('</div>\x3c!-- Messages --\x3e<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div><div class="filter-description"><p><strong>').h("resource",i,{},{key:"filter_description"},"h").w('</strong></p></div><div class="filters-form-container well"></div>')}function s(e,i){return i=i.shiftBlocks(t),e.x(i.getPath(!1,["model","pendingPurgeDate"]),i,{block:l},{})}function l(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",i,{},{key:"record_pending_purge_time"},"h").w(" ").f(i.getPath(!1,["formattedData","pendingPurgeDate"]),i,"h",["s"]).w("</div>")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_purged_info"},"h").w("</div>")}function c(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save-filter" name="save-filter" class="primary"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,i}(n)},599375:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="error-messages" aria-live="assertive"></div><div class="include-records-if">').h("resource",t,{},{key:"include_records_where"},"h").w('</div><div class="filters-container"><ul class="filter-list tree"></ul></div><div><button class="btn btn-primary btn-xs" id="add-filter" name="add-filter" aria-label="').h("resource",t,{},{key:"add_criteria"},"h").w('"><i class="fa fa-icon fa-plus"></i> ').h("resource",t,{},{key:"add_criteria"},"h").w('</button><span class="any-all-toggle"></span></div>')}return e.register("filters-form-tmpl",t),t.__dustBody=!0,t}(n)},967209:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<i  ").x(t.get(["showTooltip"],!1),t,{block:i},{}).w('class="fa ').f(t.get(["iconName"],!1),t,"h").w(" ").f(t.get(["iconSize"],!1),t,"h").w(" entity-icon ").f(t.get(["additionalClasses"],!1),t,"h").w('"aria-hidden="true"></i>')}function i(e,t){return e.w('data-toggle="tooltip"data-container="body"data-placement="top"data-viewport="body"title=\'').h("resource",t,{},{groupName:t.get(["entityName"],!1),subgroupName:"general",key:"name"},"h").w("'")}return e.register("icon-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},175018:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<td  class="card-medium').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').s(t.get(["model"],!1),t,{block:r},{}).w("</div>").s(t.get(["highlightedFields"],!1),t,{block:s},{}).w("</td>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:o},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-pre-label">').f(t.getPath(!1,["formattedData","typeText"]),t,"h",["s"]).w(" ").h("resource",t,{},{key:"form"},"h").w("</div></div>")}function o(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function s(e,t){return e.p("medium-highlight-tmpl",t,t,{entityName:t.get(["entity$"],!1),ago:l})}function l(e,t){return e.f(t.getPath(!1,["model","ago"]),t,"h")}return e.register("row-medium",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},676688:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="card-small').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").h("entityLink",t,{block:r},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1)},"h").w('<div class="card-pre-label">').f(t.getPath(!1,["formattedData","typeText"]),t,"h",["s"]).w(" ").h("resource",t,{},{key:"form"},"h").w("</div></div>").s(t.get(["highlightedFields"],!1),t,{block:o},{}).w("</div>")}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w(" scheduled-purge")}function a(e,t){return e.w(" purged")}function r(e,t){return e.w('<div class="card-title">').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("</div>")}function o(e,t){return e.p("small-highlight-tmpl",t,t,{entityName:t.get(["entity$"],!1),ago:t.getPath(!1,["model","ago"])})}return e.register("row-small",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},498667:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("entityLink",t,{block:i},{entity:t.get(["entity$"],!1),context:t.get(["model"],!1),target:"_blank"},"h")}function i(e,t){return e.w('<div class="card-tiny').x(t.getPath(!1,["model","datePurged"]),t,{else:n,block:r},{}).w('"><div class="card-header">').h("entityIcon",t,{},{entity:t.get(["entity$"],!1)},"h").w('<div class="card-title" data-toggle="tooltip" data-placement="top"title=\'').f(t.getPath(!1,["formattedData","childNumber"]),t,"h",["s"]).w("'>").f(t.getPath(!1,["formattedData","typeText"]),t,"h",["s"]).w(" ").h("resource",t,{},{key:"form"},"h").w('</div><i class="fa fa-external-link external-link-icon" aria-hidden="true"></i><br/></div></div>')}function n(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:a},{})}function a(e,t){return e.w(" scheduled-purge")}function r(e,t){return e.w(" purged")}return e.register("row-tiny",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},448932:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button type="button" id="navigate-back" class="secondary navigation-btn ladda-button"><i class="fa fa-chevron-left" aria-hidden="true"></i>').h("resource",t,{},{key:"back"},"h").w('</button><div class="navigation-spacer"></div><button type="button" id="link-case" name="link-case" class="primary ladda-button" data-spinner-color="#94A7B8" data-style="expand-right" aria-label="').h("resource",t,{},{key:"link_case"},"h").w('"><i class="fa fa-link" aria-hidden="true"></i><span data-bind="totalApprovedText"></span></button>')}return e.register("link-approve-footer-tmpl",t),t.__dustBody=!0,t}(n)},967948:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="panel-left"><div class="error-messages" aria-live="assertive"></div><div id="components-placeholder"></div></div><div class="panel-right"></div>')}return e.register("link-approve-tmpl",t),t.__dustBody=!0,t}(n)},388297:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button type="button" id="back" class="secondary navigation-btn" name="back"><i class="fa fa-chevron-left" aria-hidden="true"></i>').h("resource",t,{},{key:"back"},"h").w('</button><div class="navigation-spacer"></div><button type="button" id="confirm" class="primary" name="confirm"><i class="fa fa-check" aria-hidden="true"></i>').h("resource",t,{},{key:"confirm"},"h").w("</button>")}return e.register("link-confirm-footer-tmpl",t),t.__dustBody=!0,t}(n)},384907:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="success-content">').h("resource",t,{},{key:t.get(["translationKey"],!1),ctxt:t.getPath(!0,[]),escape:"false"},"h").w("</span>")}return e.register("link-confirm-tmpl",t),t.__dustBody=!0,t}(n)},80413:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button type="button" id="navigate-back" class="secondary navigation-btn ladda-button"><i class="fa fa-chevron-left" aria-hidden="true"></i>').h("resource",t,{},{key:"back"},"h").w('</button><div class="navigation-spacer"></div><button type="button" id="dismiss-case" name="dismiss-case" class="primary ladda-button" data-spinner-color="#94A7B8" data-style="expand-right"><i class="fa fa-ban" aria-hidden="true"></i>').h("resource",t,{},{key:"dismiss_link"},"h").w("</button>")}return e.register("link-dismiss-footer-tmpl",t),t.__dustBody=!0,t}(n)},37079:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="error-messages" aria-live="assertive"></div><div id="components-placeholder"></div>')}return e.register("link-dismiss-tmpl",t),t.__dustBody=!0,t}(n)},813419:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",t,{},{key:"cancel"},"h").w("</button>").h("eq",t,{block:i},{key:t.getPath(!1,["model","status"]),value:"Approved"},"h").h("eq",t,{block:n},{key:t.getPath(!1,["model","status"]),value:"Dismissed"},"h").w('<button type="button" id="link-save"name="link-save" class="ladda-button primary" data-spinner-color="#94A7B8"data-style="expand-right"data-disable-rule="!canEdit || !hasMatches"><i class="fa fa-save" aria-hidden="true"></i>').h("resource",t,{},{key:"save"},"h").w("</button>")}function i(e,t){return e.w('<button type="button" id="link-dismiss"name="link-dismiss" class="secondary"data-disable-rule="!canEdit || !hasMatches || hasDeniedMatches"><i class="fa fa-ban" aria-hidden="true"></i>').h("resource",t,{},{key:"dismiss_link"},"h").w("</button>")}function n(e,t){return e.w('<button type="button" id="link-approve"name="link-approve" class="secondary"data-disable-rule="!canEdit || !hasMatches"><i class="fa fa-check" aria-hidden="true"></i>').h("resource",t,{},{key:"approve_link"},"h").w("</button>")}return e.register("link-edit-footer-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},112308:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("link-edit-manual-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"link-suggestion-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').f(i.get(["title"],!1),i,"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="padded-content"><div class="error-messages" aria-live="assertive"></div><div id="link-title-placeholder"><h4>').f(i.get(["entityTitle"],!1),i,"h").w(': <a href="').f(i.getPath(!1,["model","navigateToOther"]),i,"h").w('" target="_blank">').f(i.getPath(!1,["formattedData","otherEntityId"]),i,"h",["s"]).w('<i class="fa fa-external-link" aria-hidden="true"></i></a></h4></div><div class="link-summary">').p("link-matches-summary-tmpl",i,i,{}).w('</div><div id="components-placeholder"></div></div>')}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save-manual-link" class="primary" name="save-manual-link" data-disable-rule="!canEdit" data-ladda-model-save><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},715305:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="panel-left"><div class="error-messages" aria-live="assertive"></div><div class="score-placeholder"></div><div id="link-title-placeholder"></div><br><div id="components-placeholder"></div></div><div class="panel-right"></div>')}return e.register("link-edit-tmpl",t),t.__dustBody=!0,t}(n)},110979:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div><div class="loader-container"></div><p>').h("resource",t,{},{key:"searching_possible_links"},"h").w("</p></div>")}return e.register("link-loading-tmpl",t),t.__dustBody=!0,t}(n)},820880:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["model"],!1),t,{block:i},{})}function i(e,t){return e.w('<div class="score-placeholder"></div><span class="arrow ').x(t.getPath(!1,["direction","from"]),t,{block:n},{}).w('"></span><label class="events-enabled"><div class="title">').x(t.get(["editMode"],!1),t,{block:a},{}).x(t.get(["stale"],!1),t,{block:s},{}).h("entityRowTemplate",t,{},{entity:t.get(["currentEntityType"],!1),template:"tiny",model:t.get(["currentEntity"],!1)},"h").w('</div><span class="arrow ').x(t.getPath(!1,["direction","from"]),t,{block:l},{}).w('"></span><div class="highlight-items current">').s(t.get(["currentEntityHighlight"],!1),t,{block:d},{}).w("</div>").x(t.get(["otherEntityType"],!1),t,{block:f},{}).w("</label>")}function n(e,t){return e.w("arrow-from")}function a(e,t){return e.w(' <input type="checkbox" data-id="').f(t.get(["id"],!1),t,"h").w('"name="').f(t.get(["idx"],!1),t,"h").w('" ').x(t.get(["selected"],!1),t,{block:r},{}).w(" ").x(t.get(["disabled"],!1),t,{block:o},{}).w("> ")}function r(e,t){return e.w("checked")}function o(e,t){return e.w("disabled")}function s(e,t){return e.w('<i class="fa fa-exclamation-circle stale-icon" aria-hidden="true"data-toggle="tooltip" data-placement="left"title="').h("resource",t,{},{key:"match_stale"},"h").w('"></i>')}function l(e,t){return e.w("arrow-from")}function d(e,t){return e.h("keyvalue",t,{block:c},{on:t.getPath(!0,[])},"h")}function c(e,t){return e.w('<span class="highlight-label">').h("resource",t,{},{groupName:t.get(["currentEntityType"],!1),subgroupName:"fields",key:t.get(["key"],!1)},"h").w("</span>&nbsp;:&nbsp;").s(t.get(["rawValue"],!1),t,{block:u},{}).w("<br/>")}function u(e,t){return e.f(t.getPath(!0,[]),t,"h",["s"]).h("sep",t,{block:p},{},"h")}function p(e,t){return e.w("&nbsp;<b>[&#8230;]</b>")}function f(e,t){return e.w('<ul class="match-other"><li><span class="arrow ').x(t.getPath(!1,["direction","to"]),t,{block:h},{}).w('"></span>').h("entityRowTemplate",t,{},{entity:t.get(["otherEntityType"],!1),template:"tiny",model:t.get(["otherEntity"],!1)},"h").w('<div class="highlight-items">').s(t.get(["otherEntityHighlight"],!1),t,{block:m},{}).w("</div></li></ul>")}function h(e,t){return e.w("arrow-to")}function m(e,t){return e.h("keyvalue",t,{block:g},{on:t.getPath(!0,[])},"h")}function g(e,t){return e.w('<span class="highlight-label">').h("resource",t,{},{groupName:t.get(["otherEntityType"],!1),subgroupName:"fields",key:t.get(["key"],!1)},"h").w("</span>&nbsp;:&nbsp;").s(t.get(["rawValue"],!1),t,{block:y},{}).w("<br/>")}function y(e,t){return e.f(t.getPath(!0,[]),t,"h",["s"]).h("sep",t,{block:v},{},"h")}function v(e,t){return e.w("&nbsp;<b>[&#8230;]</b>")}return e.register("link-match-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,m.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,v.__dustBody=!0,t}(n)},520131:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["model"],!1),t,{block:i},{})}function i(e,t){return e.h("eq",t,{else:n,block:u},{key:t.get(["totalMatches"],!1),value:0},"h")}function n(e,t){return e.w("<b>").f(t.get(["totalMatches"],!1),t,"h").w(" ").h("eq",t,{else:a,block:r},{key:t.get(["totalMatches"],!1),value:1},"h").w("</b> ").h("resource",t,{},{key:"_involving"},"h").w(" ").s(t.get(["involvedEntities"],!1),t,{block:o},{}).w(".")}function a(e,t){return e.h("resource",t,{},{key:"_matches"},"h")}function r(e,t){return e.h("resource",t,{},{key:"_match"},"h")}function o(e,t){return e.h("gt",t,{block:s},{key:t.getPath(!1,["involvedEntities","length"]),value:1},"h").w("<b>").f(t.getPath(!0,[]),t,"h").w("</b>").h("gt",t,{block:d},{key:t.getPath(!1,["involvedEntities","length"]),value:2},"h")}function s(e,t){return e.h("last",t,{block:l},{},"h")}function l(e,t){return e.w(" ").h("resource",t,{},{key:"_and"},"h").w(" ")}function d(e,t){return e.h("sep",t,{block:c},{},"h")}function c(e,t){return e.w(", ")}function u(e,t){return e.w("<b>").h("resource",t,{},{key:"no_matches_available"},"h").w("</b>")}return e.register("link-matches-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,t}(n)},473016:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["editMode"],!1),t,{block:i},{})}function i(e,t){return e.h("ne",t,{block:n},{key:t.get(["totalMatches"],!1),value:0},"h")}function n(e,t){return e.w('<li><label class="select-all">').nx(t.get(["disabled"],!1),t,{block:a},{}).w('<span data-bind="totalSelectedText"></span></label></li>')}function a(e,t){return e.w('<input id="select-all" type="checkbox" name="select-all">')}return e.register("link-matches-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},70168:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("link-modal-tmpl",i);var t={header:n};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{class:"link-suggestion-modal relationship-container",disableDismissOnOutsideClick:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"suggested_links"},"h").w("</div>")}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},30325:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["relevancePercentage"],!1),t,{block:i},{})}function i(e,t){return e.w('<div data-toggle="tooltip" data-placement="left" data-container=".relationship-container"title="').h("resource",t,{},{key:t.get(["title"],!1),ctxt:t.get(["formattedData"],!1),escape:"false"},"h").w('"class="c100 p').f(t.get(["relevancePercentage"],!1),t,"h").w(' small link-score"><span>').f(t.getPath(!1,["formattedData","relevance"]),t,"h",["s"]).w('</span><div class="slice"><div class="bar"></div><div class="fill"></div></div></div>')}return e.register("link-score-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},5614:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="success-msg text-left"><i class="fa fa-check" aria-hidden="true"></i><span class="success-content">').h("resource",t,{},{key:"successfully_added_link"},"h").w(" ").f(t.get(["caseNumber"],!1),t,"h").w("</span></div>")}return e.register("link-success-tmpl",t),t.__dustBody=!0,t}(n)},382432:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="col-sm-8">').h("resource",t,{},{groupName:"errors",subgroupName:"general",key:"view_suggested_link_permission_denied"},"h").w("</span>")}return e.register("link-suggestion-error-tmpl",t),t.__dustBody=!0,t}(n)},285540:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="pager" class="navigator"></div><button type="button" id="link-dismiss" class="secondary"name="link-dismiss"data-disable-rule="!canAddSuggestedLinks || !canEdit || !hasMatches || hasDeniedMatches"><i class="fa fa-ban" aria-hidden="true"></i>').h("resource",t,{},{key:"dismiss_link"},"h").w('</button><button type="button" id="link-approve" class="primary"name="link-approve"data-disable-rule="!canAddSuggestedLinks || !canEdit || !hasMatches"><i class="fa fa-check" aria-hidden="true"></i>').h("resource",t,{},{key:"approve_link"},"h").w('</button><div class="success-container"></div>')}return e.register("link-suggestions-footer-tmpl",t),t.__dustBody=!0,t}(n)},941708:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["model","id"]),t,{block:i},{}).w('<div class="link-suggestion-error"></div><div class="loader-container"></div>')}function i(e,t){return e.w('<div class="split suggestions"><div class="panel-left"><div class="score-placeholder"></div><div id="link-title-placeholder"></div></div><div class="panel-right"><div id="matches-warning" class="container-fluid"></div></div></div>')}return e.register("link-suggestions-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},174967:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div><i class="fa fa-3x fa-check-circle-o" aria-hidden="true" role="presentation"></i><p id="search-success-msg">').h("eq",t,{else:i,block:n},{key:t.getPath(!1,["model","totalLinks"]),value:0},"h").w("</p></div>")}function i(e,t){return e.h("resource",t,{},{key:"found_possible_links",ctxt:t.get(["model"],!1),escape:"false"},"h")}function n(e,t){return e.h("resource",t,{},{key:"no_links_found"},"h")}return e.register("link-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},459282:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="navigator"></div><button type="button" id="ok" name="ok">').h("resource",t,{},{key:"ok"},"h").w("</button>")}return e.register("link-timeout-footer-tmpl",t),t.__dustBody=!0,t}(n)},583622:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<span class="success-content">').h("resource",t,{},{key:"link_timeout_msg"},"h").w("</span>")}return e.register("link-timeout-tmpl",t),t.__dustBody=!0,t}(n)},31217:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["model","stale"]),t,{block:i},{}).x(t.getPath(!1,["model","shouldSuggestMoreLinks"]),t,{block:n},{}).w("<h4>").h("resource",t,{},{key:"case_number"},"h").w(': <a href="/case/').f(t.getPath(!1,["model","otherEntityId"]),t,"h").w('" target="_blank">').f(t.getPath(!1,["model","otherEntityId__caseNumber"]),t,"h").w('<i class="fa fa-external-link" aria-hidden="true"></i></a></h4><div class="link-summary">').p("link-matches-summary-tmpl",t,t,{}).w("</div>")}function i(e,t){return e.w('<div class="alert alert-warning alert-stale" role="alert">').h("resource",t,{},{key:"link_stale"},"h").w("</div>")}function n(e,t){return e.w('<div class="alert alert-warning" role="alert">').h("resource",t,{},{key:"matches_found_by_other_records_warning"},"h").w("</div>")}return e.register("link-title-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},513578:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"note"},"h").w('" id="save"data-ladda-model-save data-disable-rule="!canAddNewNote || disableForClosedCase"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" data-disable-rule="!canAddNewNote || disableForClosedCase"title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"note"},"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-disable-rule="!canAddNewNote || disableForClosedCase"data-toggle="dropdown" data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu">').x(t.get(["canSaveAndCopy"],!1),t,{block:i},{}).h("acl",t,{block:n},{role:"edit_layout"},"h").w("</ul></div></div><h1>").h("resource",t,{},{groupName:"sys/note",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w('\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div><div data-display-rule="displayFiles"><div id="files-grid" class="grid-section-spacing"></div></div>')}function i(e,t){return e.w('<li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function n(e,t){return e.w('<li id="edit_layout" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"edit_layout"},"h").w("</a></li>")}return e.register("new-note-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},577572:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).p("translated-text-warning",t,t,{}).w('</div>\x3c!-- Buttons to edit and delete --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar" data-readonly="true">').p("default-form-edit-button-tmpl",t,t,{}).w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown"data-disable-rule="isMarkedOrPurged"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section"><ul role="presentation">').p("translation-language-toggle-btns",t,t,{}).w('\x3c!-- Submit For Translation --\x3e<li role="presentation" data-display-rule="canManuallyTranslate"><a role="menuitem" data-route="#" id="submit-for-translation">').h("resource",t,{},{key:"submit_for_translation"},"h").w('</a></li>\x3c!-- View Record Source --\x3e<li role="presentation" data-display-rule="enabledRecordSource"><a role="menuitem" data-route="#" id="record-source-view">').h("resource",t,{},{key:"record_source_view"},"h").w("</a></li></ul></li>").h("eq",t,{block:r},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('"  aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"note"},"h").w('" id="save"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || (!canEditNote && isSubmitted) || !canEditCase || disableForClosedCase"data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"note"},"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section"><ul role="presentation">').x(t.get(["canSaveAndCopy"],!1),t,{block:o},{}).w("</ul></li>").h("eq",t,{block:s},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div></div>\x3c!-- Header --\x3e<div class="no-print"><h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</h1><div class="relationship-indicator-placeholder"></div>\x3c!-- Flags --\x3e<div id="flags"></div>\x3c!-- Workflow 2.0 --\x3e<div id="workflow-current-states"></div><hr class="underline">').p("asterisk_message",t,t,{}).w('</div><div class="print-only"><h4>').h("resource",t,{},{key:"note"},"h").w(' | <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</span></h4><div id="child-flags-container"><div id="flags"></div></div></div>\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div><div>').h("acl",t,{block:l},{role:"view_attachment"},"h").w('<div class="nested-view"><div id="comments-container" class="grid-section-spacing"></div><div id="new-comment-container" class="grid-section-spacing"></div></div></div>').p("intake-translation-disclaimer-footer-tmpl",t,t,{})}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<li role="presentation" data-display-rule="showDeleteBtn"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !canRemoveNote || !canEditCase || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function o(e,t){return e.w('<li role="presentation" id="workflow-transitions"></li><li role="presentation" id="save-and-copy" role="menuitem"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function s(e,t){return e.w('<li role="presentation" data-display-rule="showDeleteBtn"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !canRemoveNote || !canEditCase || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function l(e,t){return e.w('<div data-display-rule="displayFiles" class="nested-view"><div id="files-grid" class="grid-section-spacing"></div></div>')}return e.register("note-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},594084:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true">').h("eq",t,{block:i},{key:t.get(["canEdit"],!1),value:"true",type:"boolean"},"h").w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul role="menu" class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("eq",t,{block:n},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><div class="btn-group"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button></div><button type="button" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button></div></div>').s(t.getPath(!1,["model","id"]),t,{else:a,block:r},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).s(t.getPath(!1,["model","id"]),t,{else:d,block:c},{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<button data-display-rule="showEditBtn" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"data-disable-rule="lockedByAnotherUser" aria-label="').h("resource",t,{},{key:"edit"},"h").w('"><i class="fa fa-icon fa-pencil fa-lg"></i></button>')}function n(e,t){return e.w('<li role="presentation" data-display-rule="showDeleteBtn"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function a(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function r(e,t){return e.w('<div class="no-print">').s(t.getPath(!1,["model","childNumber"]),t,{else:o,block:s},{}).w('<div class="relationship-indicator-placeholder"></div></div><div class="print-only">').s(t.getPath(!1,["model","childNumber"]),t,{block:l},{}).w("</div>")}function o(e,t){return e.w('<h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</h1>")}function s(e,t){return e.w('<h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</h1>")}function l(e,t){return e.w("<h4>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(' |  <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</span></h4>")}function d(e,t){return e.w('<div class="alert alert-info">').h("resource",t,{},{key:"packet_limits_info",ctxt:t.getPath(!0,[])},"h").w("</div>")}function c(e,t){return e}return e.register("packet-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,t}(n)},883610:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"party"},"h").w('" id="save"data-ladda-model-save data-disable-rule="disableForClosedCase"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"party"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-disable-rule="disableForClosedCase"data-toggle="dropdown" data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w(" ").h("resource",t,{},{key:"party"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu">').x(t.get(["canSaveAndCopy"],!1),t,{block:i},{}).x(t.get(["enablePeopleSearch"],!1),t,{block:n},{}).h("acl",t,{block:a},{role:"edit_layout"},"h").w("</ul></div></div>").s(t.getPath(!1,["model","id"]),t,{else:r,block:o},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function n(e,t){return e.w('<li data-display-rule="canLinkSearchProfile" id="search-people" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"people_search"},"h").w("</a></li>")}function a(e,t){return e.w('<li id="edit_layout" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"edit_layout"},"h").w("</a></li>")}function r(e,t){return e.w("<h1>").h("resource",t,{},{groupName:"sys/party",subgroupName:"general",key:"new"},"h").w("</h1>")}function o(e,t){return e.w("<h1>").h("resource",t,{},{key:"edit_party"},"h").w("</h1>")}return e.register("new-party-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},528454:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).p("translated-text-warning",t,t,{}).w('<div class="alert alert-info to-profile hidden no-print" role="alert"></div><div class="alert alert-info create-profile hidden no-print" role="alert"></div></div>\x3c!-- Buttons to edit and delete --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar" data-readonly="true">').p("default-form-edit-button-tmpl",t,t,{disableRule:"lockedByAnotherUser || isMarkedOrPurged || (!canEditParty && !isDraft) || disableForClosedCase"}).w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown"data-disable-rule="isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li class="dropdown-section" role="presentation"><ul role="presentation">').p("translation-language-toggle-btns",t,t,{}).w('\x3c!-- Submit For Translation --\x3e<li data-display-rule="canManuallyTranslate" role="presentation"><a data-route="#" id="submit-for-translation" role="menuitem">').h("resource",t,{},{key:"submit_for_translation"},"h").w('</a></li>\x3c!-- View Record Source --\x3e<li data-display-rule="enabledRecordSource" role="presentation"><a data-route="#" id="record-source-view" role="menuitem">').h("resource",t,{},{key:"record_source_view"},"h").w("</a></li></ul></li>").h("eq",t,{block:r},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w("</ul></div></div>").h("eq",t,{block:o},{key:t.get(["canEdit"],!1),value:"true",type:"boolean"},"h").w('</div>\x3c!-- Headers --\x3e<div class="no-print"><h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</h1><div class="relationship-indicator-placeholder"></div><div id="flags"></div>\x3c!-- Workflow 2.0 --\x3e<div id="workflow-current-states"></div><hr class="underline">').p("asterisk_message",t,t,{}).w('</div><div class="print-only"><span style="font-weight: bold; border-left: 5px #999 solid; padding-left: 10px;"><span>').h("resource",t,{},{key:"party"},"h").w('</span>&nbsp;&#124;&nbsp;<span class="green-font">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</span></span><div id="child-flags-container"><div id="flags"></div></div></div>\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div>').p("intake-translation-disclaimer-footer-tmpl",t,t,{})}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || (!canRemoveParty && !isDraft) || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function o(e,t){return e.w('<div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase" data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"party"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"party"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" id="workflow-transitions" class="dropdown-section"></li>').x(t.get(["canSaveAndCopy"],!1),t,{block:s},{}).x(t.get(["enablePeopleSearch"],!1),t,{block:l},{}).h("eq",t,{block:d},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w("</ul></div></div>")}function s(e,t){return e.w('<li role="presentation" id="save-and-copy"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function l(e,t){return e.w('<li role="presentation" data-display-rule="canLinkSearchProfile" id="search-people"><a role="menuitem" data-route="#">').h("resource",t,{},{key:"people_search"},"h").w("</a></li>")}function d(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}return e.register("party-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,t}(n)},276706:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("party-lookup-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"party-lookup-modal",hideFooter:"true",class:"large-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"sys/email",subgroupName:"extras",key:"search_parties"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<form class="form-horizontal" role="form">\x3c!-- Search Screen --\x3e<div id="search-container"></div></form>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},389734:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('</div><div class="pull-right btn-toolbar-sticky no-print" data-print="false">\x3c!-- Buttons for viewing --\x3e<div class="btn-toolbar" data-readonly="true"><button class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" aria-label="').h("resource",t,{},{key:"edit"},"h").w(" ").h("resource",t,{},{key:"person"},"h").w('" data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged || !canEdit"><i class="fa fa-icon fa-pencil fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged"data-ladda-disable-on-edit aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right">').h("acl",t,{block:r},{role:"edit_person_exclude_from_purge"},"h").w('<li class="dropdown-section"><ul>\x3c!-- View Record Source --\x3e<li data-display-rule="enabledRecordSource"><a data-route="#" id="record-source-view">').h("resource",t,{},{key:"record_source_view"},"h").w('</a></li></ul></li><li class="dropdown-section"><ul>').h("eq",t,{block:l},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></li></ul></div></div>\x3c!-- Buttons for editing --\x3e<div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('"  aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"person"},"h").w('" id="save"data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged"data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"person"},"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown"data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>").h("acl",t,{block:d},{role:"edit_layout"},"h").w("</ul></div></div></div><h1>").f(t.getPath(!1,["model","firstName"]),t,"h").w(" ").f(t.getPath(!1,["model","lastName"]),t,"h").w('</h1>\x3c!-- Flags --\x3e<div id="flags"></div><hr class="underline">').p("asterisk_message",t,t,{}).w('<div class="tombstone" data-display-rule="displayTombstone"><div class="row"><div class="col-sm-2" data-display-rule="displayPicture">').x(t.getPath(!1,["model","picture","url"]),t,{else:c,block:u},{}).w('</div><div class="col-sm-10"><div class="tombstone-container">').s(t.get(["tombstoneConfig"],!1),t,{block:p},{}).w('</div></div></div><hr></div><div class="row"><div class="col-sm-12"><div class="tabs-container"></div></div></div><div id="content-container"></div>')}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info_condensed"},"h").w("</div>")}function r(e,t){return e.w('<li class="dropdown-section"><ul>').b(t.getBlock("custom_allow_purge_option"),t,{block:o},{}).b(t.getBlock("custom_do_not_purge_option"),t,{block:s},{}).w("</ul></li>")}function o(e,t){return e.w('\x3c!-- Allow Purge --\x3e<li data-display-rule="isExcludedFromPurge && canMarkPersonAsDoNotPurge"><a data-route="#" id="allow-purge">').h("resource",t,{},{key:"allow_purge"},"h").w("</a></li>")}function s(e,t){return e.w('\x3c!-- Do Not Purge --\x3e<li data-display-rule="!isExcludedFromPurge && canMarkPersonAsDoNotPurge"><a data-route="#" id="do-not-purge">').h("resource",t,{},{key:"do_not_purge"},"h").w("</a></li>")}function l(e,t){return e.w('\x3c!-- Delete Button --\x3e<li data-display-rule="showDeleteBtn"><button id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="personLockedByAnotherUser || isMarkedOrPurged" aria-label="').h("resource",t,{},{key:"delete"},"h").w('">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function d(e,t){return e.w('<li id="edit_layout" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"edit_layout"},"h").w("</a></li>")}function c(e,t){return e.w('<img src="/img/avatar.png" alt="').h("resource",t,{},{key:"avatar_picture"},"h").w('" width="100%" height= "auto"/>')}function u(e,t){return e.w('<img src="').h("imageUrl",t,{},{urlVal:t.getPath(!1,["model","picture","url"])},"h").w('" alt="').h("resource",t,{},{groupName:"sys/person",subgroupName:"fields",key:"picture"},"h").w('" width="100%" height= "auto"/>')}function p(e,t){return e.w('<div class="header-item"').x(t.get(["displayRule"],!1),t,{block:f},{}).w('><div class="header-value" data-bind="').f(t.get(["field"],!1),t,"h").w('" data-placeholder="').h("resource",t,{},{key:"no_value_set"},"h").w('"></div><div class="header-field">').f(t.get(["caption"],!1),t,"h").w("</div></div>")}function f(e,t){return e.w(' data-display-rule="').f(t.get(["displayRule"],!1),t,"h").w('"')}return e.register("person-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,f.__dustBody=!0,t}(n)},907900:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="history-container"></div>')}return e.register("person-history-tmpl",t),t.__dustBody=!0,t}(n)},556193:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}return e.register("person-overview-tmpl",t),t.__dustBody=!0,t}(n)},909197:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The grid of cases related to the person --\x3e<div class="row"><div class="col-sm-12"><div id="person-related-cases-grid"></div></div></div>')}return e.register("person-related-cases-tmpl",t),t.__dustBody=!0,t}(n)},31207:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The grid of people related to the person --\x3e<div class="row"><div class="col-sm-12"><div id="person-related-people-grid"></div></div></div>')}return e.register("person-related-people-tmpl",t),t.__dustBody=!0,t}(n)},164084:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("person-search-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"person-search-modal",hideFooter:"true",class:"large-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"person_search"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<form class="form-horizontal" role="form">\x3c!-- Search Screen --\x3e<div id="search-container"></div></form>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},863091:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("record-source-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"record-source-modal",class:"full-screen-modal record-source",hideFooter:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"record-source-view",subgroupName:"modal",key:"title"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="autorender-placeholder"></div>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},549921:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<i class="fa ').f(t.get(["iconName"],!1),t,"h").w(' minimized-sidebar-icon" aria-hidden="true"></i>')}return e.register("default-collapsed-tmpl",t),t.__dustBody=!0,t}(n)},82465:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="header">').b(t.getBlock("header"),t,{block:i},{}).w("</div>").x(t.get(["divider"],!1),t,{block:n},{}).w('<div class="body">').b(t.getBlock("body"),t,{},{}).w('</div><div class="footer">').b(t.getBlock("footer"),t,{},{}).w("</div>")}function i(e,t){return e.w('<div class="sidebar-title">').f(t.get(["title"],!1),t,"h").w("</div>")}function n(e,t){return e.w("<hr>")}return e.register("default-expanded-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},568430:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w(' <input type="text" class="form-control search-value" maxlength="').f(t.get(["maxLength"],!1),t,"h").w('" aria-label="').h("resource",t,{},{groupName:"placeholders",key:"search_field_values"},"h").w('" placeholder="').h("resource",t,{},{groupName:"placeholders",key:"search_field_values"},"h").w('">').x(t.get(["enableIcon"],!1),t,{block:i},{}).x(t.get(["enableClearButton"],!1),t,{block:n},{})}function i(e,t){return e.w('<i class="fa fa-icon fa-search search-icon"></i><i class="fa fa-icon fa-times hidden remove-search-icon"></i>')}function n(e,t){return e.w('<button class="clear-btn">').h("resource",t,{},{key:"clear"},"h").w("</button>")}return e.register("all-field-search-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},340691:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="form-group"><div class="col-sm-12">\x3c!-- Value Selection --\x3e<div id="all-search-criteria-container"></div></div></div><div id="search-container"><div class="results"><div class="row"><div class="col-sm-12"><div id="search-results-grid"></div></div></div></div></div>')}return e.register("entity-search-with-results-tmpl",t),t.__dustBody=!0,t}(n)},593332:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.s(t.get(["renderAsFieldValueForm"],!1),t,{else:i,block:o},{})}function i(e,t){return e.w('<form class="form-group"><fieldset class="fieldset">').s(t.get(["renderEntityFilter"],!1),t,{else:n,block:a},{}).w("</fieldset></form>")}function n(e,t){return e.w('<div class="col-sm-4 no-entity field-selection-container"></div><div class="col-sm-2 operators-container"></div><div class="col-sm-6 value-search"></div><div class="col-sm-1 icon-container"><button type="button" class="btn btn-inverse-danger btn-xs destroy-field-search" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"delete"},"h").w('" aria-label="').h("resource",t,{},{key:"delete"},"h").w('" data-ladda-model-destroy><i class="fa fa-icon fa-trash fa-lg"></i></button></div>')}function a(e,t){return e.w('<div class="col-sm-2 entity-picker"><select name="entity" class="form-control entity" aria-label="').h("resource",t,{},{key:"entity_picker"},"h").w('"><option>&lt;').h("resource",t,{},{key:"select"},"h").w("&gt;</option>").s(t.get(["searchableEntities"],!1),t,{block:r},{}).w('</select></div><div class="col-sm-3 field-selection-container"></div><div class="col-sm-2 operators-container"></div><div class="col-sm-4 value-search"></div><div class="col-sm-1 icon-container"><button type="button" class="btn btn-inverse-danger btn-xs destroy-field-search" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"delete"},"h").w('" aria-label="').h("resource",t,{},{key:"delete"},"h").w('" data-ladda-model-destroy><i class="fa fa-icon fa-trash fa-lg"></i></button></div>')}function r(e,t){return e.w('<option value="').f(t.get(["value"],!1),t,"h").w('">').f(t.get(["text"],!1),t,"h").w("</option>")}function o(e,t){return e.w('<div class="field-value-form"><div class="field-selection-container"></div><div class="value-search"></div></div>')}return e.register("field-search-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},497424:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="form-group"><select class="operators form-control" aria-label="').h("resource",t,{},{key:"operator"},"h").w('">').s(t.get(["operators"],!1),t,{block:i},{}).w("</select></div>")}function i(e,t){return e.w('<option value="').f(t.get(["operator"],!1),t,"h").w('"').x(t.get(["selected"],!1),t,{block:n},{}).w(">").f(t.get(["translatedValue"],!1),t,"h").w("</option>")}function n(e,t){return e.w(' selected="selected"')}return e.register("operators-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},71203:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- The placeholder that shows when the user is not hovering over the view --\x3e<div class="quick-search-placeholder"><div class="search-bar" tabindex="0"><span class="text">').h("resource",t,{},{key:"search_"},"h").w('</span><i class="fa fa-search"></i></div><div class="search-icon-only"><a data-route="#" class="btn-lg"><i class="fa fa-search"></i></a></div></div>\x3c!-- The overlay that appears when the user hovers over the placeholder --\x3e<div class="quick-search-overlay"><div class="search-container"><form role="search"><div class="form-group"><input type="text" class="form-control" placeholder="').h("resource",t,{},{key:"search_"},"h").w('" aria-label="').h("resource",t,{},{key:"search"},"h").w('"/></div></form><button class="clear-btn">').h("resource",t,{},{key:"clear"},"h").w('</button><button class="search-btn" aria-label="').h("resource",t,{},{key:"search"},"h").w('"><i class="fa fa-search"></i></button><span class="divider"></span><button class="close-btn" aria-label="').h("resource",t,{},{key:"close"},"h").w('"><i class="fa fa-close"></i></button></div><div class="divider"><hr/></div><div class="additional-searches-container"><div class="advanced-search-container"><a class="title" data-route="/advanced-search">').h("resource",t,{},{key:"advanced_search"},"h").w('</a></div><div><div class="recent-searches-container"><a class="title" data-route="/recent-searches">').h("resource",t,{},{key:"recent_searches"},"h").w('</a><div class="divider"><hr/></div><ul></ul></div><div class="saved-searches-container"><a class="title" data-route="/saved-searches">').h("resource",t,{},{key:"saved_searches"},"h").w('</a><div class="divider"><hr/></div><ul></ul></div></div></div></div>')}return e.register("quick-search-tmpl",t),t.__dustBody=!0,t}(n)},465537:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save or cancel user--\x3e<div class="pull-right btn-toolbar-sticky no-print" data-display-rule="newUser" data-print="false"><div class="btn-toolbar"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li></ul></div></div></div><h1>").h("resource",t,{},{groupName:"sys/user",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}return e.register("new-user-tmpl",t),t.__dustBody=!0,t}(n)},286167:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("\x3c!-- Buttons to edit and delete --\x3e").h("acl",t,{block:i},{role:"edit_other_users_profile"},"h").w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<div class="pull-right btn-toolbar-sticky no-print" data-print="false" style="margin-top: -219px"><div class="btn-toolbar" data-readonly="true"><a data-route="#" class="btn btn-default btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"remove_lockout"},"h").w('"id="remove-lockout" data-display-rule="isLockedOut"><i class="fa fa-unlock"></i></a>\x3c!-- Edit Button Group--\x3e<button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" data-disable-rule="lockedByAnotherUser" data-ladda-send-password data-ladda-model-save aria-label="').h("resource",t,{},{key:"edit"},"h").w('"><i class="fa fa-icon fa-pencil fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="caseLockedByAnotherUser"data-ladda-disable-on-send-password aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li class="activate" data-display-rule="!isActive" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"activate"},"h").w('</a></li><li class="deactivate" data-display-rule="isActive" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"deactivate"},"h").w('</a></li><li class="send-username-password" data-display-rule="isActive && isLocalUser" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"send_temporary_password"},"h").w('</a></li></ul></div></div><div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="lockedByAnotherUser" data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="lockedByAnotherUser"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li></ul></div></div></div>")}return e.register("user-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},294331:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flags-container"><div class="label label-').f(t.get(["indicator"],!1),t,"h").w('" data-indicator="').f(t.get(["indicator"],!1),t,"h").w('" tabindex="0"><span class="label-icon">').h("select",t,{block:i},{key:t.get(["indicator"],!1)},"h").w('</span><span class="label-content element-limit-content">').f(t.get(["elementLimitContent"],!1),t,"h",["s"]).w("</span></div></div>")}function i(e,t){return e.h("eq",t,{block:n},{value:"warning"},"h").h("eq",t,{block:a},{value:"danger"},"h")}function n(e,t){return e.p("warning-icon",t,t,{})}function a(e,t){return e.p("danger-icon",t,t,{})}return e.register("element-limit-flag-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},929473:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["displayHeader"],!1),t,{block:i},{}).w('<div class="autorender-placeholder"></div>')}function i(e,t){return e.w('<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true">').h("eq",t,{block:n},{key:t.get(["canEdit"],!1),value:"true",type:"boolean"},"h").w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("eq",t,{block:a},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="isMarkedOrPurged"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><button type="button" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button>').x(t.get(["showSaveDropdownToggle"],!1),t,{block:r},{}).x(t.get(["canSaveAndAddNew"],!1),t,{block:o},{}).x(t.get(["canSaveAndCopy"],!1),t,{block:s},{}).x(t.get(["showSaveDropdownToggle"],!1),t,{block:l},{}).w("</div></div>").s(t.getPath(!1,["model","id"]),t,{else:d,block:c},{}).w('<hr class="underline">').p("asterisk_message",t,t,{})}function n(e,t){return e.w('<button class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged" aria-label="').h("resource",t,{},{key:"edit"},"h").w('"><i class="fa fa-icon fa-pencil fa-lg"></i></button>')}function a(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function r(e,t){return e.w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="isMarkedOrPurged"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu">')}function o(e,t){return e.w('<li id="save-and-add-new" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_add_new"},"h").w("</a></li>")}function s(e,t){return e.w('<li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li>")}function l(e,t){return e.w("</ul></div>")}function d(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function c(e,t){return e.w('<div class="no-print"><h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w('</h1><div class="relationship-indicator-placeholder"></div></div>')}return e.register("data-form-entry-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,t}(n)},941931:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="pull-right btn-toolbar-sticky no-print"><div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></button><button type="button" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></button></div><div class="btn-toolbar" data-readonly="true">').h("acl",t,{block:i},{role:"edit_holiday_entry"},"h").w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul role="menu" class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:n},{role:"remove_holiday_entry"},"h").w("</ul></div></div></div><h1>").h("resource",t,{},{key:"holiday"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" aria-label="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" data-ladda-disable-on-save><i class="fa fa-icon fa-pencil fa-lg"></i></button>')}function n(e,t){return e.w('<li role="presentation"><button role="menuitem" type="button" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}return e.register("editable-holiday-calendar-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},967591:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("holiday-calendar-event-tmpl",i);var t={"custom-event-buttons":n};function i(e,i){return i=i.shiftBlocks(t),e.p("calendar-event-modal",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="delete" class="secondary danger"data-display-rule="canRemoveHoliday"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged"data-spinner-color="#94A7B8"><i class="fa fa-icon fa-trash"></i>').h("resource",i,{},{key:"delete"},"h").w('</button><button type="button" id="save" name="save" class="primary"data-display-rule="canEditHoliday"data-display-rule="!isReadOnly"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},10968:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="row"><div class="col-sm-12"><div id="holiday-calendar-grid" class="main-grid"></div></div></div>')}return e.register("holiday-calendar-tmpl",t),t.__dustBody=!0,t}(n)},548081:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to edit and delete --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false">').s(t.getPath(!1,["model","id"]),t,{else:i,block:n},{}).w("</div><h1>").h("resource",t,{},{key:"standard_response"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<div class="btn-toolbar"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div>')}function n(e,t){return e.w('<div class="btn-toolbar" data-readonly="true"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"edit"},"h").w('" aria-label="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"><i class="fa fa-icon fa-pencil fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul role="menu" class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:a},{role:"remove_standard_response"},"h").w('</ul></div></div><div class="btn-toolbar" data-readonly="false"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div>')}function a(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn">').h("resource",t,{},{key:"delete"},"h").w("</a></li>")}return e.register("standard-response-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},182455:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div><div class="aggregate-filters-container"></div>').x(t.get(["displayDefaultValueComponent"],!1),t,{block:i},{})}function i(e,t){return e.w('<div class="default-value-placeholder"></div>')}return e.register("field-properties-form-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},727096:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="field-properties-form-container"></div>')}return e.register("field-properties-tmpl",t),t.__dustBody=!0,t}(n)},133626:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="autorender-placeholder"></div>')}return e.register("layout-properties-tmpl",t),t.__dustBody=!0,t}(n)},610710:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("layout-rule-details-modal",i);var t={header:n,body:o,footer:c};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"layout-rule-details-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').x(i.get(["isNew"],!1),i,{else:a,block:r},{}).w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"edit_display_rule"},"h")}function r(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"add_display_rule"},"h")}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert-container">').x(i.getPath(!1,["model","datePurged"]),i,{else:s,block:d},{}).w('</div>\x3c!-- Messages --\x3e<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div><div class="filter-description"><p><strong>').h("resource",i,{},{groupName:"settings",subgroupName:"form-builder",key:"display_rule_description",context:i.get(["layoutResourceContext"],!1)},"h").w('</strong></p></div><div class="filters-form-container well"></div>')}function s(e,i){return i=i.shiftBlocks(t),e.x(i.getPath(!1,["model","pendingPurgeDate"]),i,{block:l},{})}function l(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",i,{},{key:"record_pending_purge_time"},"h").w(" ").f(i.getPath(!1,["formattedData","pendingPurgeDate"]),i,"h",["s"]).w("</div>")}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_purged_info"},"h").w("</div>")}function c(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save-filter" name="save-rule" class="primary"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,i}(n)},819253:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="error-messages" aria-live="assertive"></div><div class="show-field-if">').h("resource",t,{},{key:"show_field_if",context:t.get(["layoutResourceContext"],!1)},"h").w('</div><div class="filters-container"><ul class="filter-list tree"></ul></div><div><button class="btn btn-primary btn-xs" id="add-filter" name="add-filter" aria-label="').h("resource",t,{},{key:"add_criteria"},"h").w('"><i class="fa fa-icon fa-plus"></i> ').h("resource",t,{},{key:"add_criteria"},"h").w('</button><span class="any-all-toggle"></span></div>')}return e.register("layout-rules-form-tmpl",t),t.__dustBody=!0,t}(n)},558070:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["hasFilters"],!1),t,{else:i,block:n},{}).w('<div class="filters-container"></div><div class="filter-controls"><button class="btn btn-primary btn-xs add-filter" aria-label="').h("resource",t,{},{key:"add_display_rule"},"h").w('" data-display-rule="canAdd">').h("resource",t,{},{key:"add_display_rule"},"h").w('</button><span class="any-all-toggle"></span></div>')}function i(e,t){return e.w('<p class="no-display-rules">').h("resource",t,{},{groupName:"settings",subgroupName:"form-builder",key:"display_rule_empty_text"},"h").w("</p>")}function n(e,t){return e.w("<p>").h("resource",t,{},{groupName:"settings",subgroupName:"form-builder",key:"display_rule_description",context:t.get(["layoutResourceContext"],!1)},"h").w("</p>")}return e.register("layout-rules-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},649625:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["displayHeader"],!1),t,{block:i},{}).w('<div class="autorender-placeholder"></div>')}function i(e,t){return e.w('\x3c!-- Buttons to save, cancel and delete --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><div class="btn-toolbar" data-display-rule="canEdit" data-readonly="true">').h("acl",t,{block:n},{role:"edit_picklist_item"},"h").w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="lockedByAnotherUser || lockedPicklist || valueLimitReached"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" data-disable-rule="lockedPicklist || valueLimitReached" role="menu"><li class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:a},{role:"remove_picklist_item"},"h").w('</ul></div></div><div class="btn-toolbar" data-display-rule="canSave" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").f(t.get(["picklistName"],!1),t,"h").w('"data-disable-rule="lockedByAnotherUser || valueLimitReached"><i class="fa fa-icon fa-save fa-lg"></i></button><button data-display-rule="canCancel" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w(' " id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").f(t.get(["picklistName"],!1),t,"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="lockedByAnotherUser || lockedPicklist || valueLimitReached"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" data-disable-rule="lockedPicklist || valueLimitReached" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w('</a></li></ul></div></div></div><h1 data-bind="name"></h1><div id="flags"></div><hr class="underline">').p("asterisk_message",t,t,{})}function n(e,t){return e.w('<button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"aria-label="').h("resource",t,{},{key:"edit"},"h").w(" ").f(t.get(["picklistName"],!1),t,"h").w('"data-disable-rule="lockedByAnotherUser"><i class="fa fa-icon fa-pencil fa-lg"></i></button>')}function a(e,t){return e.w('<li><button id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-display-rule="isEdit" data-disable-rule="lockedPicklist">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}return e.register("editable-picklist-item-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},78752:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="flags-container">').x(t.get(["name"],!1),t,{block:i},{}).w("</div>")}function i(e,t){return e.w('<div class="label label-primary" data-placement="bottom" data-indicator="').f(t.get(["indicator"],!1),t,"h").w('" tabindex="0">').f(t.get(["name"],!1),t,"h").w("</div>")}return e.register("form-flag-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},400722:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to edit and delete --\x3e<div class="pull-right btn-toolbar-sticky no-print" data-print="false">').s(t.getPath(!1,["model","id"]),t,{else:i,block:n},{}).w("</div><h1>").h("resource",t,{},{key:"dialing_instruction"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<div class="btn-toolbar"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div>')}function n(e,t){return e.w('<div class="btn-toolbar" data-readonly="true"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"edit"},"h").w('" aria-label="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"><i class="fa fa-icon fa-pencil fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul role="menu" class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:a},{role:"remove_dialing_instruction"},"h").w('</ul></div></div><div class="btn-toolbar" data-readonly="false"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div>')}function a(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}return e.register("dialing-instruction-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},103362:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save, cancel and delete --\x3e<div class="btn-toolbar pull-right btn-toolbar-sitcky">').s(t.getPath(!1,["model","id"]),t,{else:i,block:n},{}).w("</div>").s(t.getPath(!1,["model","id"]),t,{else:s,block:l},{}).w("<br />\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a>')}function n(e,t){return e.w('<div class="btn-toolbar" data-readonly="true">').h("acl",t,{block:a},{role:"edit_email_rule"},"h").w('<div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:r},{role:"remove_email_rule"},"h").w('</ul></div></div><div class="btn-toolbar" data-readonly="false"><a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"save"},"h").w('" aria-label="').h("resource",t,{},{key:"save"},"h").w('" id="save" data-ladda-model-save data-disable-rule="lockedByAnotherUser"><i class="fa fa-icon fa-save fa-lg"></i></a><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("acl",t,{block:o},{role:"remove_email_rule"},"h").w("</ul></div></div>")}function a(e,t){return e.w('<a data-route="#" class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"edit"},"h").w('" aria-label="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" data-disable-rule="lockedByAnotherUser"><i class="fa fa-icon fa-pencil fa-lg"></i></a>')}function r(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function o(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function s(e,t){return e.w("<h1>").h("resource",t,{},{groupName:"sys/emailrule",subgroupName:"general",key:"new"},"h").w("</h1>")}function l(e,t){return e.w("<h1>").h("resource",t,{},{key:"edit_email_rule"},"h").w("</h1>")}return e.register("email-rule-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},613910:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<h1>").h("resource",t,{},{key:"integration_log_details"},"h").w('</h1><div id="integration-log-summary-container"></div>\x3c!-- The grid for event details --\x3e<div class="row"><div class="col-sm-12"><div id="integration-log-details-grid"></div></div></div>')}return e.register("integration-log-details-tmpl",t),t.__dustBody=!0,t}(n)},91664:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="header-item">\x3c!-- Wrapping to prevent text from overflowing  --\x3e<div data-bind="eventType" class="header-value long-text"></div><div class="header-field">').h("resource",t,{},{key:"type"},"h").w("</div></div>").s(t.get(["isRecordSourceViewEnabled"],!1),t,{block:i},{}).w('<div class="header-item"><div class="header-value">').f(t.get(["status"],!1),t,"h").w('</div><div class="header-field">').h("resource",t,{},{key:"status"},"h").w('</div></div><div class="header-item"><div class="header-value" data-bind="createdDate"></div><div class="header-field">').h("resource",t,{},{key:"date_occurred"},"h").w("</div></div><hr/>")}function i(e,t){return e.w('<div class="header-item"><div class="header-value" data-bind="name"></div><div class="header-field">').h("resource",t,{},{key:"name"},"h").w("</div></div>")}return e.register("integration-log-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,t}(n)},317257:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true"><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul role="menu" class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li>').h("eq",t,{block:i},{key:t.get(["canDelete"],!1),value:"true",type:"boolean"},"h").w('</ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="isMarkedOrPurged" data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div></div>').s(t.getPath(!1,["model","id"]),t,{else:n,block:a},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function i(e,t){return e.w('<li role="presentation"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function n(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function a(e,t){return e.w('<div class="no-print"><h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w('</h1><div class="relationship-indicator-placeholder"></div></div>')}return e.register("language-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},453195:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="pull-right btn-toolbar-sticky no-print" data-print="false"><div class="btn-toolbar pull-right" data-readonly="true"><button class="btn btn-primary btn-lg" data-toggle="tooltip" data-placement="bottom"title="').h("resource",t,{},{key:"edit"},"h").w('" aria-label="').h("resource",t,{},{key:"edit"},"h").w('" id="edit" data-display-rule="canEdit"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged"><i class="fa fa-icon fa-pencil fa-lg"></i></button><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail pull-right"><li role="presentation" class="dropdown-section" style="display:none;">\x3c!-- Please put your new options inside here --\x3e</li><li role="presentation" data-display-rule="canDelete"><button role="menuitem" id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged">').h("resource",t,{},{key:"delete"},"h").w('</button></li></ul></div></div><div class="btn-toolbar pull-right" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="isMarkedOrPurged"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a></div></div>').s(t.getPath(!1,["model","id"]),t,{else:i,block:n},{}).w('<hr class="underline">').p("asterisk_message",t,t,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder theme-details-tmpl\"></div>")}function i(e,t){return e.w("<h1>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"new"},"h").w("</h1>")}function n(e,t){return e.w('<div class="no-print">').s(t.getPath(!1,["model","childNumber"]),t,{else:a,block:r},{}).w('<div class="relationship-indicator-placeholder"></div></div><div class="print-only">').s(t.getPath(!1,["model","childNumber"]),t,{block:o},{}).w("</div>")}function a(e,t){return e.w('<h1 class="child-title">').h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w("</h1>")}function r(e,t){return e.w('<h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</h1>")}function o(e,t){return e.w("<h4>").h("resource",t,{},{groupName:t.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(' |<span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w("</span></h4>")}return e.register("theme-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,t}(n)},133187:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="filter-row-container"></div>')}return e.register("condition-filter-row-tmpl",t),t.__dustBody=!0,t}(n)},172330:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("read-receipt-tmpl",i);var t={header:n,body:a};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{hideFooter:"true"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"fileSharing",subgroupName:"general",key:"read_receipt"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div id="read-receipt-grid-container"></div>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},49857:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("share-file-tmpl",i);var t={header:n,body:o,footer:s};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"share-file-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').x(i.get(["multipleFiles"],!1),i,{else:a,block:r},{}).w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{key:"share_file"},"h")}function r(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{groupName:"fileSharing",subgroupName:"general",key:"share_multiple_files"},"h")}function o(e,i){return i=i.shiftBlocks(t),e.p("asterisk_message",i,i,{}).w('<div id="error-messages"></div><div class="autorender-placeholder"></div>')}function s(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="send" class="primary" data-ladda-disable-on-save><i class="fa fa-icon fa-paper-plane"></i>').h("resource",i,{},{key:"send"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,i}(n)},996916:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("shared-file-status-tmpl",i);var t={header:n,body:a,footer:l};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{hideFooter:i.get(["statusCancelled"],!1)})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{groupName:"fileSharing",subgroupName:"general",key:"shared_file_status"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert-container">').x(i.getPath(!1,["model","datePurged"]),i,{else:r,block:s},{}).w('</div><div id="error-messages"></div>').p("asterisk_message",i,i,{}).w('<div class="autorender-placeholder"></div><div id="shared-link-access-container"></div>')}function r(e,i){return i=i.shiftBlocks(t),e.x(i.getPath(!1,["model","pendingPurgeDate"]),i,{block:o},{})}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",i,{},{key:"record_pending_purge_time"},"h").w(" ").f(i.getPath(!1,["formattedData","pendingPurgeDate"]),i,"h",["s"]).w("</div>")}function s(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_purged_info"},"h").w("</div>")}function l(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="stop-sharing" class="secondary" data-disable-rule="!canEditSharedLink || lockedByAnotherUser || isMarkedOrPurged"><i class="fa fa-icon fa-stop-circle"></i>').h("resource",i,{},{groupName:"fileSharing",subgroupName:"general",key:"stop_sharing"},"h").w('</button><button type="button" id="save" class="primary" data-ladda-disable-on-save data-disable-rule="!canEditSharedLink || lockedByAnotherUser || isMarkedOrPurged"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,i}(n)},515331:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div id="content-container"></div>')}return e.register("shared-link-tmpl",t),t.__dustBody=!0,t}(n)},201835:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="portal-page-header" role="banner"><div class="container"><i class="fa fa-cloud-download icon"></i> <h2>').h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:"file_share"},"h").w("</h2></div></div>")}return e.register("shared-link-sub-header-tmpl",t),t.__dustBody=!0,t}(n)},392545:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("shared-link-sub-header-tmpl",t,t,{}).w('<div class="container main-content"><div class="shared-link-details"><h3 class="form-header">').f(t.get(["shared_link_details_header"],!1),t,"h").w('</h3><div class="autorender-placeholder"></div></div></div>')}return e.register("shared-link-details-tmpl",t),t.__dustBody=!0,t}(n)},327848:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("shared-link-sub-header-tmpl",t,t,{}).w('<div class="container main-content"><div class="shared-link-details"><div class="disclaimer-title">').f(t.get(["disclaimer_title"],!1),t,"h").w('</div><br/><div class="disclaimer-text">').f(t.get(["disclaimer"],!1),t,"h").w('</div><br/><br/><br/><p><input id="disclaimer-checkbox" type="checkbox" aria-label="').h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:"read_and_accept_terms"},"h").w('"/><b>  ').h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:"read_and_accept_terms"},"h").w('</b></p><br/><div class="pull-right"><button data-disable-rule="!acceptedTerms" type="button" id="next" class="btn btn-primary" data-placement="bottom" title="').h("resource",t,{},{key:"next"},"h").w('" aria-label="').h("resource",t,{},{key:"next"},"h").w('">').h("resource",t,{},{key:"next"},"h").w('&nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></button></div></div></div>')}return e.register("shared-link-disclaimer-tmpl",t),t.__dustBody=!0,t}(n)},919941:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("<div class='shared-link-details'><h3>").h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:t.get(["errorMessage"],!1)},"h").w("</h3></div> ")}return e.register("shared-link-error-tmpl",t),t.__dustBody=!0,t}(n)},478609:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.p("shared-link-sub-header-tmpl",t,t,{}).w('<div class="shared-link-verification-code-prompt"><div class="btn btn-lg no-hover"><i class="fa fa-icon fa-lock"></i></div><div class="text-prompt">').f(t.get(["view_shared_link_verification_code_prompt"],!1),t,"h").w('</div><div><input autofocus type="password" id="verification-code" placeholder="').h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:"enter_verification_code"},"h").w('" aria-label="').h("resource",t,{},{groupName:"fileSharing",subgroupName:"general",key:"enter_verification_code"},"h").w('"></div><div><button type="button" id="login" class="btn btn-primary" data-placement="bottom" title="').h("resource",t,{},{key:"login"},"h").w('" aria-label="').h("resource",t,{},{key:"login"},"h").w('">').h("resource",t,{},{key:"login"},"h").w("</button></div><div>")}return e.register("shared-link-verification-code-prompt-tmpl",t),t.__dustBody=!0,t}(n)},640978:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("similar-search-preview-modal",i);var t={header:n,body:s,footer:p};function i(e,i){return i=i.shiftBlocks(t),e.p("modal-tmpl",i,i,{id:"similar-search-preview-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').x(i.get(["titleFieldValue"],!1),i,{else:a,block:r},{}).h("entityLink",i,{block:o},{entity:i.getPath(!1,["model","entity$"]),context:i.get(["model"],!1),target:"_blank","aria-label":"external_link"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.h("resource",i,{},{groupName:i.get(["modelEntityCanon"],!1),subgroupName:"general",key:"name"},"h").w(" ").h("resource",i,{},{key:"preview"},"h")}function r(e,i){return i=i.shiftBlocks(t),e.f(i.get(["titleFieldValue"],!1),i,"h")}function o(e,i){return i=i.shiftBlocks(t),e.w('<div class="icon-container" data-toggle="tooltip" title="').h("resource",i,{},{key:"external_link"},"h").w('"><i class="fa fa-external-link" aria-hidden="true"></i></div>')}function s(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert-container">').x(i.getPath(!1,["model","datePurged"]),i,{else:l,block:c},{}).w('</div>\x3c!-- Messages --\x3e<div class="no-print"><div id="messages-container" aria-live="assertive"></div></div><div class="autorender-placeholder"></div>').b(i.getBlock("custom-sections"),i,{block:u},{})}function l(e,i){return i=i.shiftBlocks(t),e.x(i.getPath(!1,["model","pendingPurgeDate"]),i,{block:d},{})}function d(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",i,{},{key:"record_pending_purge_time"},"h").w(" ").f(i.getPath(!1,["formattedData","pendingPurgeDate"]),i,"h",["s"]).w("</div>")}function c(e,i){return i=i.shiftBlocks(t),e.w('<div class="alert alert-danger" role="alert">').h("resource",i,{},{key:"record_purged_info"},"h").w("</div>")}function u(e,i){return i=i.shiftBlocks(t),e}function p(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary"><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="autofill" name="autofill" class="primary"><i class="fa fa-icon fa-files-o"></i>').h("resource",i,{},{groupName:"search",subgroupName:"similar",key:"autofill"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,p.__dustBody=!0,i}(n)},963338:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("similar-search-results-expanded",i);var t={header:n};function i(e,i){return i=i.shiftBlocks(t),e.p("default-expanded-tmpl",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<h3 class="sidebar-title">').f(i.get(["title"],!1),i,"h").w('</h3><h5 class="records-found"></h5>')}return i.__dustBody=!0,n.__dustBody=!0,i}(n)},372141:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.h("entityIcon",t,{},{entity:t.get(["modelEntity"],!1),size:"fa-2x",showTooltip:"false",additionalClasses:"minimized-sidebar-icon"},"h").w('<span id="similar-search-badge" class="badge" data-ladda-similar-search-hide>0</span>')}return e.register("similar-search-results-minimized",t),t.__dustBody=!0,t}(n)},875634:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('\x3c!-- Buttons to save and cancel --\x3e<div class="btn-toolbar pull-right btn-toolbar-sticky"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-ladda-model-save data-disable-rule="disableForClosedCase"aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"todo"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" data-disable-rule="disableForClosedCase" title="').h("resource",t,{},{key:"cancel"},"h").w('" id="cancel" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"todo"},"h").w('"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-disable-rule="disableForClosedCase"data-toggle="dropdown" data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w("</a></li></ul></div></div><h1>").h("resource",t,{},{groupName:"sys/todo",subgroupName:"general",key:"new"},"h").w('</h1><hr class="underline">').p("asterisk_message",t,t,{}).w('\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div class="autorender-placeholder"></div><div id="files-container" class="grid-section-spacing"></div>')}return e.register("new-todo-tmpl",t),t.__dustBody=!0,t}(n)},72e3:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="alert-container">').x(t.getPath(!1,["model","datePurged"]),t,{else:i,block:a},{}).w('</div>\x3c!-- Buttons to mark complete, edit and delete --\x3e<div class="pull-right btn-toolbar-sticky no-print"><div class="btn-toolbar" data-readonly="true">').h("acl",t,{block:r},{role:"edit_todo"},"h").w('<div class="btn-wrap btn-toolbar-dropdown-menu-button-container"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown" data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"aria-label="').h("resource",t,{},{key:"more_edit_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li class="dropdown-section" data-display-rule="canSometimesEdit && !closed"><ul>').h("acl",t,{block:o},{role:"reassign_todo"},"h").w('<li data-display-rule="todoTypeIsReviewApproval" role="none"><a data-route="#" id="need_more_information" role="menuitem">').h("resource",t,{},{key:"need_more_information"},"h").w('</a></li></ul></li>\x3c!-- View Record Source --\x3e<li class="dropdown-section"><ul><li data-display-rule="enabledRecordSource"><a data-route="#" id="record-source-view">').h("resource",t,{},{key:"record_source_view"},"h").w('</a></li></ul></li><li class="dropdown-section"><ul>').h("acl",t,{block:s},{role:"remove_todo"},"h").w('</ul></li></ul></div></div><div class="btn-toolbar" data-readonly="false"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"save"},"h").w('" id="save"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-ladda-model-save aria-label="').h("resource",t,{},{key:"save"},"h").w(" ").h("resource",t,{},{key:"todo"},"h").w('"><i class="fa fa-icon fa-save fa-lg"></i></button><a data-route="#" class="btn btn-danger btn-lg" data-toggle="tooltip" data-placement="bottom" title="').h("resource",t,{},{key:"cancel"},"h").w('" aria-label="').h("resource",t,{},{key:"cancel"},"h").w(" ").h("resource",t,{},{key:"todo"},"h").w('" id="cancel"><i class="fa fa-icon fa-times fa-lg"></i></a><div class="btn-toolbar-dropdown-menu-button-container margin-left-5"><button type="button" class="btn btn-lg btn-toolbar-more-options-btn dropdown-toggle"data-toggle="dropdown"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || disableForClosedCase"data-ladda-disable-on-save aria-label="').h("resource",t,{},{key:"more_save_options"},"h").w('"><span class="fa fa-icon fa-ellipsis-v fa-lg"></span></button><ul class="dropdown-menu styled-dropdown styled-dropdown-no-tail" role="menu"><li id="workflow-transitions" class="dropdown-section"></li><li id="save-and-copy" role="menuitem"><a data-route="#">').h("resource",t,{},{key:"save_and_copy"},"h").w('</a></li></ul></div></div></div>\x3c!-- Headers --\x3e<div class="no-print"><h1 class="child-title">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</h1><div class="relationship-indicator-placeholder"></div>\x3c!-- Flags --\x3e<div id="flags"></div><hr class="underline">').p("asterisk_message",t,t,{}).w('</div><div class="print-only"><h4>').h("resource",t,{},{key:"todo"},"h").w(' |  <span class="green-font child-number">').f(t.getPath(!1,["model","childNumber"]),t,"h").w('</span></h4><span class="todo-status">').f(t.getPath(!1,["model","status"]),t,"h").w('</span></div>\x3c!-- See the related \'xxxx-form.js\' file rendering details. --\x3e<div id="form-placeholder"><div class="autorender-placeholder"></div></div><hr>').h("acl",t,{block:l},{role:"view_attachment"},"h").w('<div class="nested-view"><div id="comments-container"></div><div id="new-comment-container"></div></div>')}function i(e,t){return e.x(t.getPath(!1,["model","pendingPurgeDate"]),t,{block:n},{})}function n(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_pending_purge_info"},"h").w("<br>").h("resource",t,{},{key:"record_pending_purge_time"},"h").w(" ").f(t.getPath(!1,["formattedData","pendingPurgeDate"]),t,"h",["s"]).w("</div>")}function a(e,t){return e.w('<div class="alert alert-danger" role="alert">').h("resource",t,{},{key:"record_purged_info"},"h").w("</div>")}function r(e,t){return e.w('<div class="btn-wrap" data-display-rule="canCompleteThisTodo && !closed"><button class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"mark_as_complete"},"h").w('" id="mark-as-complete"data-disable-rule="lockedByAnotherUser || !canCompleteThisTodo || isMarkedOrPurged || disableForClosedCase || isDraft"aria-label="').h("resource",t,{},{key:"mark_as_complete"},"h").w('"><i class="fa fa-icon fa-check fa-lg"></i></button></div><div class="btn-wrap" data-display-rule="canSometimesEdit && !closed"><button type="button" class="btn btn-primary btn-lg" data-toggle="tooltip"data-placement="bottom" title="').h("resource",t,{},{key:"edit"},"h").w('" id="edit"data-disable-rule="lockedByAnotherUser || isMarkedOrPurged || !canEditThisTodo || disableForClosedCase"aria-label="').h("resource",t,{},{key:"edit"},"h").w("  ").h("resource",t,{},{key:"todo"},"h").w('"><i class="fa fa-icon fa-pencil fa-lg"></i></button></div>')}function o(e,t){return e.w('<li role="none" data-display-rule="canReassignThisTodo"><a data-route="#" id="reassign" role="menuitem">').h("resource",t,{},{key:"reassign_todo",groupName:"sys/todo",subgroupName:"actions"},"h").w("</button></li>")}function s(e,t){return e.w('<li><button id="delete" class="styled-dropdown-btn styled-dropdown-danger-btn" data-display-rule="canRemoveThisTodo"data-disable-rule="lockedByAnotherUser || !canRemoveThisTodo || isMarkedOrPurged || disableForClosedCase">').h("resource",t,{},{key:"delete"},"h").w("</button></li>")}function l(e,t){return e.w('<div class="nested-view"><div id="files-container"></div></div>')}return e.register("todo-details-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,t}(n)},915190:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("todo-event-tmpl",i);var t={"custom-event-buttons":n,"custom-sections":a};function i(e,i){return i=i.shiftBlocks(t),e.p("calendar-event-modal",i,i,{})}function n(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="mark-as-complete" class="secondary"data-display-rule="!isReadOnly"data-disable-rule="lockedByAnotherUser || !canCompleteThisTodo || closed || isMarkedOrPurged || disableForClosedCase"data-spinner-color="#94A7B8"><i class="fa fa-icon fa-check"></i>').h("resource",i,{},{key:"mark_as_complete"},"h").w('</button><button type="button" id="delete" class="secondary danger"data-display-rule="canDeleteThisTodo"data-disable-rule="lockedByAnotherUser || !canRemoveThisTodo || isMarkedOrPurged || disableForClosedCase"data-spinner-color="#94A7B8"><i class="fa fa-icon fa-trash"></i>').h("resource",i,{},{key:"delete"},"h").w('</button><button type="button" id="save" name="save" class="primary"data-display-rule="!isReadOnly"data-disable-rule="lockedByAnotherUser || closed || isMarkedOrPurged || disableForClosedCase"><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}function a(e,i){return i=i.shiftBlocks(t),e.w('<div class="nested-view"><div id="comments-container"></div><div id="new-comment-container"></div></div>')}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,i}(n)},906302:(e,t,i)=>{var n=i(920192);e.exports=function(e){e.register("todo-reassign-tmpl",i);var t={header:n,body:a,footer:r};function i(e,i){return i=i.shiftBlocks(t),e.w("\x3c!-- Buttons to save and cancel --\x3e").p("modal-tmpl",i,i,{class:"small-modal"})}function n(e,i){return i=i.shiftBlocks(t),e.w('<div class="title">').h("resource",i,{},{key:"reassign_todo",groupName:"sys/todo",subgroupName:"actions"},"h").w("</div>")}function a(e,i){return i=i.shiftBlocks(t),e.p("asterisk_message",i,i,{}).w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}function r(e,i){return i=i.shiftBlocks(t),e.w('<button type="button" id="cancel" name="cancel" class="secondary" data-ladda-disable-on-save><i class="fa fa-icon fa-times"></i>').h("resource",i,{},{key:"cancel"},"h").w('</button><button type="button" id="save" name="save" class="primary" data-ladda-model-save><i class="fa fa-icon fa-save"></i>').h("resource",i,{},{key:"save"},"h").w("</button>")}return i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,i}(n)},460741:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.get(["connectToPrevious"],!1),t,{block:i},{}).w('<div tabindex="0" data-toggle="tooltip" data-container=".workflow-timeline-tmpl" data-placement="right" title="').h("resource",t,{},{key:"disabled_in_edit_mode"},"h").w('" data-readonly="false"><div class="indicator btn dropdown-toggle" role="button" aria-label="').h("resource",t,{},{groupName:"settings",subgroupName:"custom-workflow",key:"transitions"},"h").w('"><i class="fa fa-caret-down"></i></div></div><div data-readonly="true"><button class="indicator btn dropdown-toggle" data-toggle="dropdown" aria-label="').h("resource",t,{},{groupName:"settings",subgroupName:"custom-workflow",key:"transitions"},"h").w('"><i class="fa fa-caret-down"></i></button><ul class="dropdown-container dropdown-menu">').h("eq",t,{else:n,block:a},{key:t.get(["hasTransitions"],!1),value:"true",type:"boolean"},"h").w("</ul></div>")}function i(e,t){return e.w('<div class="connector"></div>')}function n(e,t){return e.w('<li><div class="no-transitions-message">').h("resource",t,{},{key:"no_transitions_from_current_state"},"h").w("</div></li>")}function a(e,t){return e.w('<li class="workflow-timeline-transitions dropdown-section"></li>')}return e.register("workflow-timeline-actions-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,t}(n)},137396:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="summary-container"></div><div class="timeline-data-container"><div class="default-and-transitioned-states-container"><div class="default-state-container"></div><div class="transitioned-states-container"></div></div><div class="actions-container"></div><div class="overflow-btn btn" aria-label="').h("resource",t,{},{key:"view_workflow_history"},"h").w('" role="button"data-toggle="popover" data-placement="bottom" data-content="').f(t.get(["overflowContent"],!1),t,"h").w('"><i class="fa fa-ellipsis-h"></i></div></div>')}return e.register("workflow-timeline-row-tmpl",t),t.__dustBody=!0,t}(n)},918425:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.x(t.getPath(!1,["data","reason"]),t,{block:i},{}).w('<div><span class="subtext-field">').f(t.getPath(!1,["data","action"]),t,"h").w(" ").h("resource",t,{},{key:"by"},"h").w(' </span><span class="subtext-value">').f(t.getPath(!1,["data","transitionedBy"]),t,"h").w(' </span></div><div><span class="subtext-field">').h("resource",t,{},{key:"_on"},"h").w(' </span><span class="subtext-value">').f(t.getPath(!1,["data","transitionDate"]),t,"h").w("</span></div>").x(t.getPath(!1,["data","description"]),t,{block:n},{})}function i(e,t){return e.w('<div class="transition-reason">').f(t.getPath(!1,["data","reason"]),t,"h").w("</div>")}function n(e,t){return e.w('<hr/><div class="state-description">').f(t.getPath(!1,["data","description"]),t,"h").w("</div>")}return e.register("workflow-timeline-state-popover-content",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},594007:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="timeline-state-container" data-toggle="popover" data-placement="bottom" title="').f(t.get(["popoverTitle"],!1),t,"h").w('" data-content="').f(t.get(["popoverContent"],!1),t,"h").w('" tabindex="0">').x(t.get(["connectToPrevious"],!1),t,{block:i},{}).w('<div class="indicator').x(t.get(["highlightPrimaryState"],!1),t,{block:n},{}).w('"><i class="fa ').f(t.get(["icon"],!1),t,"h").w('"></i></div><div class="state-name">').f(t.getPath(!1,["stateData","stateToName"]),t,"h").w('</div><div class="popover-content hidden">').p("workflow-timeline-state-popover-content",t,t,{data:t.get(["popoverContentData"],!1)}).w("</div></div>")}function i(e,t){return e.w('<div class="connector"></div>')}function n(e,t){return e.w(" ").h("eq",t,{else:a,block:r},{key:t.getPath(!1,["stateData","stateToPrimaryState"]),value:"Open"},"h")}function a(e,t){return e.w("closed")}function r(e,t){return e.w("open")}return e.register("workflow-timeline-state-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,r.__dustBody=!0,t}(n)},760236:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="state-name-container"><div class="indicator"><i class="fa fa-circle ').h("eq",t,{else:i,block:n},{key:t.getPath(!1,["currentStateData","stateToPrimaryState"]),value:"Open"},"h").w('"></i></div><div class="state-name"><span>').f(t.getPath(!1,["currentStateData","stateToName"]),t,"h").w('</span></div></div><div class="workflow-name-container"><div class="indicator"></div><div class="workflow-name"><span>').f(t.get(["workflowName"],!1),t,"h").w("</span></div></div>")}function i(e,t){return e.w("closed")}function n(e,t){return e.w("open")}return e.register("workflow-timeline-summary-tmpl",t),t.__dustBody=!0,i.__dustBody=!0,n.__dustBody=!0,t}(n)},399555:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<div class="loader-container"></div><div class="timeline"></div><div class="divider"><hr class="underline"><button class="collapse-control indicator" aria-label="').h("resource",t,{},{key:"minimize"},"h").w('"><i class="fa fa-chevron-up"></i></button></div>')}return e.register("workflow-timeline-tmpl",t),t.__dustBody=!0,t}(n)},287830:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w("\x3c!-- See the related 'xxxx-form.js' file rendering details. --\x3e<div class=\"autorender-placeholder\"></div>")}return e.register("case-overview-tmpl",t),t.__dustBody=!0,t}(n)},570022:(e,t,i)=>{var n=i(920192);e.exports=function(e){function t(e,t){return e.w('<a class="element-property-btn element-property-drag-btn" id="drag" href="#"><i class="fa fa-lg fa-grab-handle"></i></a><div class="row show-button-container" data-display-rule="isHidden"><a data-route="#" class="element-property-btn pull-right" id="show"><i class="fa fa-lg fa-chevron-right"></i></a></div><div data-display-rule="addedToLayout && !isHidden" class="element-properties"><a class="element-property-btn" id="edit" href="#"><i class="fa fa-lg fa-pencil"></i></a><a class="element-property-btn" id="delete" href="#"><i class="fa fa-lg fa-trash"></i></a><a class="element-property-btn" id="hide" href="#"data-display-rule="hasDisplayRule"data-toggle="tooltip"data-placement="bottom"title="').f(t.getPath(!1,["model","displayRule"]),t,"h").w('"><i class="fa fa-lg fa-chevron-down"></i></a></div> ')}return e.register("element-properties-tmpl",t),t.__dustBody=!0,t}(n)},322860:()=>{},359809:()=>{},580403:()=>{},651478:()=>{},231345:()=>{},594072:()=>{},599775:()=>{},409706:()=>{},668660:()=>{},893144:()=>{},807145:()=>{},249906:()=>{},904660:()=>{},203754:()=>{},388439:()=>{},969990:()=>{},433003:()=>{},765903:()=>{},312166:()=>{},866455:()=>{},123885:()=>{},9026:()=>{},789854:()=>{},559278:()=>{},906117:()=>{},827435:()=>{},362047:()=>{},159449:(e,t,i)=>{var n={"./af":53454,"./af.js":53454,"./ar":86386,"./ar-dz":522937,"./ar-dz.js":522937,"./ar-kw":398921,"./ar-kw.js":398921,"./ar-ly":591720,"./ar-ly.js":591720,"./ar-ma":235769,"./ar-ma.js":235769,"./ar-sa":624971,"./ar-sa.js":624971,"./ar-tn":854709,"./ar-tn.js":854709,"./ar.js":86386,"./az":103274,"./az.js":103274,"./be":239068,"./be.js":239068,"./bg":972774,"./bg.js":972774,"./bm":555460,"./bm.js":555460,"./bn":737517,"./bn-bd":764592,"./bn-bd.js":764592,"./bn.js":737517,"./bo":511502,"./bo.js":511502,"./br":467161,"./br.js":467161,"./bs":654378,"./bs.js":654378,"./ca":892473,"./ca.js":892473,"./cs":469351,"./cs.js":469351,"./cv":664380,"./cv.js":664380,"./cy":304497,"./cy.js":304497,"./da":411010,"./da.js":411010,"./de":195758,"./de-at":778718,"./de-at.js":778718,"./de-ch":138744,"./de-ch.js":138744,"./de.js":195758,"./dv":868763,"./dv.js":868763,"./el":957480,"./el.js":957480,"./en-au":458150,"./en-au.js":458150,"./en-ca":807131,"./en-ca.js":807131,"./en-gb":280202,"./en-gb.js":280202,"./en-ie":657665,"./en-ie.js":657665,"./en-il":705866,"./en-il.js":705866,"./en-in":858720,"./en-in.js":858720,"./en-nz":952675,"./en-nz.js":952675,"./en-sg":954225,"./en-sg.js":954225,"./eo":587617,"./eo.js":587617,"./es":633893,"./es-do":595507,"./es-do.js":595507,"./es-mx":842495,"./es-mx.js":842495,"./es-us":58082,"./es-us.js":58082,"./es.js":633893,"./et":433392,"./et.js":433392,"./eu":674439,"./eu.js":674439,"./fa":751364,"./fa.js":751364,"./fi":858268,"./fi.js":858268,"./fil":590658,"./fil.js":590658,"./fo":478746,"./fo.js":478746,"./fr":603197,"./fr-ca":279138,"./fr-ca.js":279138,"./fr-ch":532617,"./fr-ch.js":532617,"./fr.js":603197,"./fy":104748,"./fy.js":104748,"./ga":179421,"./ga.js":179421,"./gd":287890,"./gd.js":287890,"./gl":227018,"./gl.js":227018,"./gom-deva":125299,"./gom-deva.js":125299,"./gom-latn":579700,"./gom-latn.js":579700,"./gu":909297,"./gu.js":909297,"./he":53082,"./he.js":53082,"./hi":340622,"./hi.js":340622,"./hr":467955,"./hr.js":467955,"./hu":390442,"./hu.js":390442,"./hy-am":43637,"./hy-am.js":43637,"./id":255308,"./id.js":255308,"./is":876521,"./is.js":876521,"./it":386044,"./it-ch":888518,"./it-ch.js":888518,"./it.js":386044,"./ja":151672,"./ja.js":151672,"./jv":861789,"./jv.js":861789,"./ka":323681,"./ka.js":323681,"./kk":114455,"./kk.js":114455,"./km":613301,"./km.js":613301,"./kn":309484,"./kn.js":309484,"./ko":614707,"./ko.js":614707,"./ku":620333,"./ku.js":620333,"./ky":353993,"./ky.js":353993,"./lb":88855,"./lb.js":88855,"./lo":903444,"./lo.js":903444,"./lt":921061,"./lt.js":921061,"./lv":277923,"./lv.js":277923,"./me":204575,"./me.js":204575,"./mi":617299,"./mi.js":617299,"./mk":349141,"./mk.js":349141,"./ml":208992,"./ml.js":208992,"./mn":513610,"./mn.js":513610,"./mr":112750,"./mr.js":112750,"./ms":622925,"./ms-my":428688,"./ms-my.js":428688,"./ms.js":622925,"./mt":782072,"./mt.js":782072,"./my":279939,"./my.js":279939,"./nb":926421,"./nb.js":926421,"./ne":183392,"./ne.js":183392,"./nl":781855,"./nl-be":766881,"./nl-be.js":766881,"./nl.js":781855,"./nn":465985,"./nn.js":465985,"./oc-lnc":360865,"./oc-lnc.js":360865,"./pa-in":454340,"./pa-in.js":454340,"./pl":896841,"./pl.js":896841,"./pt":866529,"./pt-br":292522,"./pt-br.js":292522,"./pt.js":866529,"./ro":890942,"./ro.js":890942,"./ru":90620,"./ru.js":90620,"./sd":822214,"./sd.js":822214,"./se":389957,"./se.js":389957,"./si":557809,"./si.js":557809,"./sk":828879,"./sk.js":828879,"./sl":474670,"./sl.js":474670,"./sq":265017,"./sq.js":265017,"./sr":28384,"./sr-cyrl":817311,"./sr-cyrl.js":817311,"./sr.js":28384,"./ss":134455,"./ss.js":134455,"./sv":329484,"./sv.js":329484,"./sw":529747,"./sw.js":529747,"./ta":708530,"./ta.js":708530,"./te":918942,"./te.js":918942,"./tet":868032,"./tet.js":868032,"./tg":30740,"./tg.js":30740,"./th":512025,"./th.js":512025,"./tk":694080,"./tk.js":694080,"./tl-ph":220270,"./tl-ph.js":220270,"./tlh":718801,"./tlh.js":718801,"./tr":453103,"./tr.js":453103,"./tzl":911363,"./tzl.js":911363,"./tzm":755900,"./tzm-latn":96676,"./tzm-latn.js":96676,"./tzm.js":755900,"./ug-cn":59863,"./ug-cn.js":59863,"./uk":694509,"./uk.js":694509,"./ur":895414,"./ur.js":895414,"./uz":772190,"./uz-latn":265606,"./uz-latn.js":265606,"./uz.js":772190,"./vi":672140,"./vi.js":672140,"./x-pseudo":215952,"./x-pseudo.js":215952,"./yo":271437,"./yo.js":271437,"./zh-cn":679153,"./zh-cn.js":679153,"./zh-hk":273901,"./zh-hk.js":273901,"./zh-mo":291696,"./zh-mo.js":291696,"./zh-tw":895173,"./zh-tw.js":895173};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=159449},777237:(e,t,i)=>{var n={"./af":503714,"./af.js":503714,"./ar":643742,"./ar-dz":11661,"./ar-dz.js":11661,"./ar-kw":244349,"./ar-kw.js":244349,"./ar-ly":942380,"./ar-ly.js":942380,"./ar-ma":17053,"./ar-ma.js":17053,"./ar-sa":389415,"./ar-sa.js":389415,"./ar-tn":937393,"./ar-tn.js":937393,"./ar.js":643742,"./az":224438,"./az.js":224438,"./be":138160,"./be.js":138160,"./bg":618010,"./bg.js":618010,"./bm":722776,"./bm.js":722776,"./bn":937105,"./bn-bd":441196,"./bn-bd.js":441196,"./bn.js":937105,"./bo":69218,"./bo.js":69218,"./br":31477,"./br.js":31477,"./bs":755766,"./bs.js":755766,"./ca":778517,"./ca.js":778517,"./cs":106435,"./cs.js":106435,"./cv":308496,"./cv.js":308496,"./cy":26125,"./cy.js":26125,"./da":673334,"./da.js":673334,"./de":389290,"./de-at":377442,"./de-at.js":377442,"./de-ch":368308,"./de-ch.js":368308,"./de.js":389290,"./dv":778951,"./dv.js":778951,"./el":694148,"./el.js":694148,"./en-au":565981,"./en-au.js":565981,"./en-ca":60999,"./en-ca.js":60999,"./en-gb":783246,"./en-gb.js":783246,"./en-ie":264613,"./en-ie.js":264613,"./en-il":349326,"./en-il.js":349326,"./en-in":850756,"./en-in.js":850756,"./en-nz":911975,"./en-nz.js":911975,"./en-sg":917429,"./en-sg.js":917429,"./eo":325677,"./eo.js":325677,"./es":29145,"./es-do":234599,"./es-do.js":234599,"./es-mx":343899,"./es-mx.js":343899,"./es-us":266782,"./es-us.js":266782,"./es.js":29145,"./et":531180,"./et.js":531180,"./eu":320051,"./eu.js":320051,"./fa":64584,"./fa.js":64584,"./fi":61088,"./fi.js":61088,"./fil":122950,"./fil.js":122950,"./fo":192278,"./fo.js":192278,"./fr":590513,"./fr-ca":772198,"./fr-ca.js":772198,"./fr-ch":536941,"./fr-ch.js":536941,"./fr.js":590513,"./fy":214864,"./fy.js":214864,"./ga":443761,"./ga.js":443761,"./gd":334446,"./gd.js":334446,"./gl":131462,"./gl.js":131462,"./gom-deva":424599,"./gom-deva.js":424599,"./gom-latn":849224,"./gom-latn.js":849224,"./gu":713885,"./gu.js":713885,"./he":464126,"./he.js":464126,"./hi":79114,"./hi.js":79114,"./hr":32463,"./hr.js":32463,"./hu":194606,"./hu.js":194606,"./hy-am":966793,"./hy-am.js":966793,"./id":874576,"./id.js":874576,"./is":860949,"./is.js":860949,"./it":601568,"./it-ch":689658,"./it-ch.js":689658,"./it.js":601568,"./ja":87572,"./ja.js":87572,"./jv":280337,"./jv.js":280337,"./ka":751341,"./ka.js":751341,"./kk":408355,"./kk.js":408355,"./km":1353,"./km.js":1353,"./kn":850992,"./kn.js":850992,"./ko":57863,"./ko.js":57863,"./ku":454689,"./ku.js":454689,"./ky":744309,"./ky.js":744309,"./lb":948491,"./lb.js":948491,"./lo":297296,"./lo.js":297296,"./lt":883585,"./lt.js":883585,"./lv":622751,"./lv.js":622751,"./me":890619,"./me.js":890619,"./mi":195735,"./mi.js":195735,"./mk":372377,"./mk.js":372377,"./ml":390764,"./ml.js":390764,"./mn":386166,"./mn.js":386166,"./mr":699618,"./mr.js":699618,"./ms":567505,"./ms-my":260876,"./ms-my.js":260876,"./ms.js":567505,"./mt":37380,"./mt.js":37380,"./my":491783,"./my.js":491783,"./nb":466009,"./nb.js":466009,"./ne":848812,"./ne.js":848812,"./nl":925371,"./nl-be":477301,"./nl-be.js":477301,"./nl.js":925371,"./nn":889789,"./nn.js":889789,"./oc-lnc":405725,"./oc-lnc.js":405725,"./pa-in":5816,"./pa-in.js":5816,"./pl":434973,"./pl.js":434973,"./pt":454469,"./pt-br":109582,"./pt-br.js":109582,"./pt.js":454469,"./ro":577714,"./ro.js":577714,"./ru":293744,"./ru.js":293744,"./sd":84314,"./sd.js":84314,"./se":331529,"./se.js":331529,"./si":597869,"./si.js":597869,"./sk":221483,"./sk.js":221483,"./sl":78050,"./sl.js":78050,"./sq":617013,"./sq.js":617013,"./sr":710316,"./sr-cyrl":714019,"./sr-cyrl.js":714019,"./sr.js":710316,"./ss":618419,"./ss.js":618419,"./sv":416512,"./sv.js":416512,"./sw":515287,"./sw.js":515287,"./ta":174470,"./ta.js":174470,"./te":890426,"./te.js":890426,"./tet":290268,"./tet.js":290268,"./tg":17e4,"./tg.js":17e4,"./th":887629,"./th.js":887629,"./tk":163044,"./tk.js":163044,"./tl-ph":983002,"./tl-ph.js":983002,"./tlh":772885,"./tlh.js":772885,"./tr":882003,"./tr.js":882003,"./tzl":651095,"./tzl.js":651095,"./tzm":552320,"./tzm-latn":870848,"./tzm-latn.js":870848,"./tzm.js":552320,"./ug-cn":686827,"./ug-cn.js":686827,"./uk":218785,"./uk.js":218785,"./ur":518234,"./ur.js":518234,"./uz":995618,"./uz-latn":902370,"./uz-latn.js":902370,"./uz.js":995618,"./vi":146416,"./vi.js":146416,"./x-pseudo":623588,"./x-pseudo.js":623588,"./yo":604673,"./yo.js":604673,"./zh-cn":686949,"./zh-cn.js":686949,"./zh-hk":886569,"./zh-hk.js":886569,"./zh-mo":624156,"./zh-mo.js":624156,"./zh-tw":81313,"./zh-tw.js":81313};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=777237},738485:e=>{e.exports="data:image/png;base64,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"},493277:e=>{e.exports="data:image/png;base64,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"},447838:e=>{e.exports="data:image/png;base64,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wkJMmzYtJrLjz+AvEkhvAtLHR0ZGMDg4iO+//95YUy1bPBFRLc+bsLCWJ3MjARIgARIgAb8R8Kuw9ls/014SsCLgN/9PZCCnhff19RlrrhPT+JsEMp2A/LRWaWmp45eVJdpLYZ1IhL9JgARIgARIIAkBv91YR79jnQQJk0jANwT85v92HSsFtvwMl/zW782bN41ptHZ5eZwE0pWAXMaQm5trfKNdflZLflLOzZaysHZTGc8lARIgARIgARIgARIgARIgARIgAd0IUFjr1qO0hwRIgARIgARIgARIgARIgARIwFMCFNae4mZlJEACJEACJEACJEACJEACJEACuhGgsNatR2kPCZAACZAACZAACZAACZAACZCApwQorD3FzcpIgARIgARIgARIgARIgARIgAR0I0BhrVuP0h4SIAESIAESIAESIAESIAESIAFPCVBYe4qblZEACZAACZAACZAACZAACZAACehGgMJatx6lPSRAAiRAAiRAAiRAAiRAAiRAAp4SoLD2FDcrIwESIAESIAESIAESIAESIAES0I0AhbVuPUp7SIAESIAESIAESIAESIAESIAEPCVAYe0pblZGAiRAAiRAAiRAAiRAAiRAAiSgGwEKa916lPaQAAmQAAmQAAmQAAmQAAmQAAl4SoDC2lPcrIwESIAESIAESIAESIAESIAESEA3AhTWuvUo7SEBEiABEiABEiABEiABEiABEvCUwP8AIRZMkWA6Y7MAAAAASUVORK5CYII="},665704:e=>{e.exports="data:image/png;base64,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"},896180:e=>{e.exports="data:image/png;base64,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"},333844:e=>{e.exports="data:image/png;base64,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"},232509:e=>{e.exports="data:image/png;base64,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"},39657:e=>{e.exports="data:image/png;base64,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"},100350:e=>{e.exports="data:image/png;base64,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"},722146:e=>{e.exports="data:image/png;base64,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"},387437:e=>{e.exports="data:image/png;base64,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"},460183:e=>{e.exports="data:image/png;base64,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AAAAAAAAfAAAACgAAAB8AAAAfAAAFxj2+zD4AAAW5ElEQVR4Aezdf2jW134H8E8rT+luKKRXKmNZC8Fe29G0kAmTgozVP+ofkj+uhVYn1jm7YEGEzLIQKikNXoKXmwWKF0tmkF4J2kItmxSmf1i2FS6OtUIbuV2sBHZvYGSUG1aeUQy2O8+PfPN9kq/6RKt9wNcDSc5zvj/O+b5O/npzzvne9136hA8BAgQIECBAgAABAgQIECBAgACB6wjcJ0C6joxqAgQIECBAgAABAgQIECBAgACBqoAAyT8CAQIECBAgQIAAAQIECBAgQIDADQUESDfkcZAAAQIECBAgQIAAAQIECBAgQECA5H+AAAECBAgQIECAAAECBAgQIEDghgICpBvyOEiAAAECBAgQIECAAAECBAgQIPC9BUiffPIJTQIECBAgQIAAAQIECBAgQIAAgRYQWL9+/ffaCwHS98rpZgQIECBAgAABAgQIECBAgACBH16g5QOkxx9//IdX0gMCBAgQIECAAAECBAgQIECAwD0o8OWXX1afuuUDpHXr1lU7et99992Dw+SRCRAgQIAAAQIECBAgQIAAAQJ3X+C7776rNjo1NVX92/IB0pNPPhn3339/VAIkIdLd/4fRIgECBAgQIECAAAECBAgQIHBvCVTCo8rPt99+G1988UX14Vs+QHrqqaeqAdJCiHRvDZmnJUCAAAECBAgQIECAAAECBAjcXYGF8KgSIF26dKnaeMsHSF1dXbFq1apsFtLdJdMaAQIECBAgQIAAAQIECBAgQODeElgIkK5duxaTk5PVh2/5AOnpp58WIN1b/6eelgABAgQIECBAgAABAgQIEPgBBfIB0ueff17tiQDpBxwQTRMgQIAAAQIECBAgQIAAAQIEWk1AgNRqI6I/BAgQIECAAAECBAgQIECAAIEWExAgtdiA6A4BAgQIECBAgAABAgQIECBAoNUEBEitNiL6Q4AAAQIECBAgQIAAAQIECBBoMQEBUosNiO4QIECAAAECBAgQIECAAAECBFpNQIDUaiOiPwQIECBAgAABAgQIECBAgACBFhMQILXYgOgOAQIECBAgQIAAAQIECBAgQKDVBARIrTYi+kOAAAECBAgQIECAAAECBAgQaDEBAVKLDYjuECBAgAABAgQIECBAgAABAgRaTUCA1Gojoj8ECBAgQIAAAQIECBAg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ApmAACmjUCBAgAABAgQIECBAgAABAgQIECgSECAVqagjQIAAAQIECBAgQIAAAQIECBDIBARIGYUCAQIECBAgQIAAAQIECBAgQIBAkYAAqUhFHQECBAgQIECAAAECBAgQIECAQCYgQMooFAgQIECAAAECBAgQIECAAAECBIoEBEhFKuoIECBAgAABAgQIECBAgAABAgQyAQFSRqFAgAABAgQIECBAgAABAgQIECBQJCBAKlJRR4AAAQIECBAgQIAAAQIECBAgkAkIkDIKBQIECBAgQIAAAQIECBAgQIAAgSIBAVKRijoCBAgQIECAAAECBAgQIECAAIFMQICUUSgQIECAAAECBAgQIECAAAECBAgUCQiQilTUESBAgAABAgQIECBAgAABAgQIZAICpIxCgQABAgQIECBAgAABAgQIECBAoEhAgFSkoo4AAQIECBAgQIAAAQIECBAgQCATECBlFAoECBAgQIAAAQIECBAgQIAAAQJFAgKkIhV1BAgQIECAAAECBAgQIECAAAECmYAAKaNQIECAAAECBAgQIECAAAECBAgQKBIQIBWpqCNAgAABAgQIECBAgAABAgQIEMgEBEgZhQIBAgQIECBAgAABAgQIECBAgECRgACpSEUdAQIECBAgQIAAAQIECBAgQIBAJiBAyigUCBAgQIAAAQIECBAgQIAAAQIEigQESEUq6ggQIECAAAECBAgQIECAAAECBDIBAVJGoUCAAAECBAgQIECAAAECBAgQIFAkIEAqUlFHgAABAgQIECBAgAABAgQIECCQCQiQMgoFAgQIECBAgAABAgQIECBAgACBIgEBUpGKOgIECBAgQIAAAQIECBAgQIAAgUxAgJRRKBAgQIAAAQIECBAgQIAAAQIECBQJCJCKVNQRIECAAAECBAgQIECAAAECBAhkAgKkjEKBAAECBAgQIECAAAECBAgQIECgSECAVKSijgABAgQIECBAgAABAgQIECBAIBMQIGUUCgQIECBAgAABAgQIECBAgAABAkUCAqQiFXUECBAgQIAAAQIECBAgQIAAAQKZgAApo1AgQIAAAQIECBAgQIAAAQIECBAoEhAgFamoI0CAAAECBAgQIECAAAECBAgQyAQESBmFAgECBAgQIECAAAECBAgQIECAQJGAAKlIRR0BAgQIECBAgAABAgQIECBAgEAmIEDKKBQIECBAgAABAgQIECBAgAABAgSKBARIRSrqCBAgQIAAAQIECBAgQIAAAQIEMgEBUkahQIAAAQIECBAgQIAAAQIECBAgUCQgQCpSUUeAAAECBAgQIECAAAECBAgQIJAJCJAyCgUCBAgQIECAAAECBAgQIECAAIEiAQFSkYo6AgQIECBAgAABAgQIECBAgACBTECAlFEoECBAgAABAgQIECBAgAABAgQIFAkIkIpU1BEgQIAAAQIECBAgQIAAAQIECGQCAqSMQoEAAQIECBAgQIAAAQIECBAgQKBIQIBUpKKOAAECBAgQIECAAAECBAgQIEAgExAgZRQKBAgQIECAAAECBAgQIECAAAECRQICpCIVdQQIECBAgAABAgQIECBAgAABApmAACmjUCBAgAABAgQIECBAgAABAgQIECgSECAVqagjQIAAAQIECBAgQIAAAQIECBDIBARIGYUCAQIECBAgQIAAAQIECBAgQIBAkYAAqUhFHQECBAgQIECAAAECBAgQIECAQCYgQMooFAgQIECAAAECBAgQIECAAAECBIoEBEhFKuoIECBAgAABAgQIECBAgAABAgQyAQFSRqFAgAABAgQIECBAgAABAgQIECBQJCBAKlJRR4AAAQIECBAgQIAAAQIECBAgkAncjQDp/wEAAP//9tYShAAADWJJREFU7d1BTiJpAAXgv2DPUuQOEhesdGW8gl5E4kW4hIdw5wGItngBDuEOsK2apOPYzYzT+dN5U3wsOkbt31ffq9WLhc3b+6tUeC2Xy+6U6XRahsNhGQwGpWmaCic7ggABAgQIECBAgAABAgQIECBAYJ9AO+3sdruy3W7LarXqvm02m+379t/6fGNA+i03/4kAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkChiQcruRjAABAgQIECBAgAABAgQIECAQIWBAiqhBCAIECBAgQIAAAQIECBAgQIBAroABKbcbyQgQIECAAAECBAgQIECAAAECEQIGpIgahCBAgAABAgQIECBAgAABAgQI5AoYkHK7kYwAAQIECBAgQIAAAQIECBAgECFgQIqoQQgCBAgQIECAAAECBAgQIECAQK6AASm3G8kIECBAgAABAgQIECBAgAABAhECBqSIGoQgQIAAAQIECBAgQIAAAQIECOQKGJByu5GMAAECBAgQIECAAAECBAgQIBAhYECKqEEIAgQIECBAgAABAgQIECBAgECugAEptxvJCBAgQIAAAQIECBAgQIAAAQIRAgakiBqEIECAAAECBAgQIECAAAECBAjkCby+vpanp6dyfn5edrtd2W63ZbVadUFns1nVwM37SvVW48TlctkdM51Oy3A4LIPBoDRNU+NoZxAgQIAAAQIECBAgQIAAAQIECHwQaMejxWJR1ut1ub6+LpeXlwakDz4+JECAAAECBAgQIECAAAECBAgctMDH8Wg0GpX5fF7G43HZbDZ+A+mg7wwXT4AAAQIECBAgQIAAAQIECBB4F/jVeDSZTLrfPvIIm1uEAAECBAgQIECAAAECBAgQIHDgAvvGI2+ifeA3hssnQIAAAQIECBAgQIAAAQIECLQC+8aj9msGpFbBiwABAgQIECBAgAABAgQIECBwwAL/NB61LAakA745XDoBAgQIECBAgAABAgQIECBA4N/Go/brj4+P5ezszF9hc7sQIECAAAECBAgQIECAAAECBA5N4Cvj0WKxKOv1ulxdXZWLiwt/he3QbhLXS4AAAQIECBAgQIAAAQIECByuwH8Zj0ajUbm5uSlHR0fl27dvHdpsNquK17w/J/dW48TlctkdM51Oy3A4LIPBoDRNU+NoZxAgQIAAAQIECBAgQIAAAQIEDkbg83h0e3tbxuPxj+v//PX5fF6Oj4/LZrMpz8/P3fcZkH5w+YAAAQIECBAgQIAAAQIECBAg0C+Bz+PQV8ajyWTSvf/Rdrv1CFu/bgdXQ4AAAQIECBAgQIAAAQIECBD4WeDh4aHc3d2V9rG0r45H/grbz44+Q4AAAQIECBAgQIAAAQIECBDotcD9/X05PT3922Nr7QV/HJfax9ba3zxqXwakjsE/BAgQIECAAAECBAgQIECAAAECrcCvxqX/5YB0cnLiTbTd0wQIECBAgAABAgQIECBAgACBPyTwcUB6eXnpfmr8m2j/IRs/hgABAgQIECBAgAABAgQIECBAYI+AAWkPjE8TIECAAAECBAgQIECAAAECBAj8JRA7ICmIAAECBAgQIECAAAECBAgQIECgnwLN+3Nyb/28NFdFgAABAgQIECBAgAABAgQIECBQQ8CAVEPRGQQIECBAgAABAgQIECBAgACBHgsYkHpcrksjQIAAAQIECBAgQIAAAQIECNQQMCDVUHQGAQIECBAgQIAAAQIECBAgQKDHAgakHpfr0ggQIECAAAECBAgQIECAAAECNQQMSDUUnUGAAAECBAgQIECAAAECBAgQ6LGAAanH5bo0AgQIECBAgAABAgQIECBAgEANAQNSDUVnECBAgAABAgQIECBAgAABAgR6LGBA6nG5Lo0AAQIECBAgQIAAAQIECBAgUEPAgFRD0RkECBAgQIAAAQIECBAgQIAAgR4LGJB6XK5LI0CAAAECBAgQIECAAAECBAjUEDAg1VB0BgECBAgQIECAAAECBAgQIECgxwIGpB6X69IIECBAgAABAgQIECBAgAABAjUEvgNjuP1UX+DE7gAAAABJRU5ErkJggg=="},500804:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAABmCAYAAAAnM4P4AAAMF2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdUU0kXnldSCAktEAEpoTdBepXeO9LBRkgChBJCIKjYy6KCa0HFgqKiKyAKrgWQRUXsigjY64KIysq6WLCh8k8SQNf9y/nvOTPve3fuvfPd+2bemQFA3pYlEGSiCgBk8fOEkf5ezPiERCapByAAA7KwV2OxcwWeEREhAMrY8+/y7ha0g3LdXBzrn+P/VRQ53Fw2AEgExMmcXHYWxEcBwNXZAmEeAIQOqNebnScQ47cQKwshQQCIZDFOlWINMU6WYkuJTXSkN8Q+AJCpLJYwFQA5cXxmPjsVxpETQGzJ5/D4EO+C2I2dxuJA3A3xpKysbIjlqRAbJ38XJ/VvMZPHY7JYqeNYmotEyD68XEEma+7/WY7/LVmZorE5dGGjpgkDIsU5w7pVZWQHizHkjjTzk8PCIVaC+CKPI7EX43tpooCYUfsBdq43rBlgAIACDssnGGJYS5QhyojxHMXWLKHEF9qjYby8wOhRnCzMjhyNj+bzM8NCRuOsTOMGjuFybq5v1JhNCs8vEGK40tCjBWnRcVKe6Nl8XmwYxHIQd+RmRAWP+j4qSPMOG7MRiiLFnPUhfpsi9IuU2mCqWbljeWEWbJZkLlWIPfLSogOkvlg8Nzc+ZIwDh+vjK+WAcbj8mFFuGFxdXpGjvoWCzIhRe6ycm+kfKa0zdig3P2rMtysPLjBpHbDH6aygCCl/7J0gLyJayg3HQQjwBj6ACUSwJYNskA547QMNA/BNOuIHWEAIUgEXmI9qxjziJCN82EeBAvAnRFyQO+7nJRnlgnyo/zKulfbmIEUymi/xyABPIc7C1XE33AUPgb0HbNa4I+405seUH5uV6Ev0IQYQ/Ygm4zzYkHUmbELA+ze6YPjkwuzEXPhjOXyLR3hK6CQ8JtwkdBPugljwRBJl1GoWb6nwB+ZMEAq6YTS/0eySYcz+MRvcELK2w71wV8gfcscZuDowx21hJp64O8zNDmq/Zyga5/atlj/OJ2b9fT6jejlTObtRFsnjX8Z73OrHKN7f1YgDn8E/WmIrsSPYBew0dglrxhoAEzuFNWJt2AkxHl8JTyQrYWy2SAm3DBiHN2ZjWWPZb/n5H7OzRhkIJd8b5HHn5Ik3hHe2YK6Ql5qWx/SEf2QuM5DPtpjEtLa0cgBA/H+X/j7eMCT/bYRx+ZsupwUApyKoTP2mY+kBcPwpAPR333R6r+H2WgfAiQ62SJgv1eHijgAoQB7uDDWgBfSAMczJGtgDF+ABfEEQCAfRIAHMhFVPA1mQ9WwwHywBhaAYrAObwDawE+wBVeAgOAwaQDM4Dc6DK6AD3AT34droAy/AIHgHhhEEISE0hI6oIdqIAWKGWCOOiBvii4QgkUgCkoSkInxEhMxHliHFSAmyDdmNVCO/IseR08glpBO5i/Qg/chr5BOKoVRUGdVEDdHJqCPqiQaj0egMNBXNQQvQ5egadAtagR5A69HT6BX0JtqNvkCHMIDJYgxMBzPHHDFvLBxLxFIwIbYQK8JKsQqsFmuC3/o61o0NYB9xIk7Hmbg5XJ8BeAzOxnPwhfhqfBtehdfjZ/HreA8+iH8l0AgaBDOCMyGQEE9IJcwmFBJKCfsIxwjn4N7pI7wjEokMohHRAe7NBGI6cR5xNXEHsY7YQuwk9hKHSCSSGsmM5EoKJ7FIeaRC0lbSAdIpUhepj/SBLEvWJluT/ciJZD55KbmUvJ98ktxFfkYellGQMZBxlgmX4cjMlVkrs1emSeaaTJ/MMEWRYkRxpURT0ilLKFsotZRzlAeUN7KysrqyTrJTZXmyi2W3yB6SvSjbI/uRqkQ1pXpTp1NF1DXUSmoL9S71DY1GM6R50BJpebQ1tGraGdoj2gc5upyFXKAcR26RXJlcvVyX3Et5GXkDeU/5mfIF8qXyR+SvyQ8oyCgYKngrsBQWKpQpHFe4rTCkSFe0UgxXzFJcrbhf8ZLicyWSkqGSrxJHabnSHqUzSr10jK5H96az6cvoe+nn6H3KRGUj5UDldOVi5YPK7cqDKkoqtiqxKnNUylROqHQzMIYhI5CRyVjLOMy4xfg0QXOC5wTuhFUTaid0TXivOlHVQ5WrWqRap3pT9ZMaU81XLUNtvVqD2kN1XN1Ufar6bPVy9XPqAxOVJ7pMZE8smnh44j0NVMNUI1JjnsYejTaNIU0tTX9NgeZWzTOaA1oMLQ+tdK2NWie1+rXp2m7aPO2N2qe0/2CqMD2ZmcwtzLPMQR0NnQAdkc5unXadYV0j3Rjdpbp1ug/1KHqOeil6G/Va9Qb1tfVD9efr1+jfM5AxcDRIM9hscMHgvaGRYZzhCsMGw+dGqkaBRgVGNUYPjGnG7sY5xhXGN0yIJo4mGSY7TDpMUVM70zTTMtNrZqiZvRnPbIdZ5yTCJKdJ/EkVk26bU809zfPNa8x7LBgWIRZLLRosXk7Wn5w4ef3kC5O/WtpZZlrutbxvpWQVZLXUqsnqtbWpNdu6zPqGDc3Gz2aRTaPNK1szW65tue0dO7pdqN0Ku1a7L/YO9kL7Wvt+B32HJIftDrcdlR0jHFc7XnQiOHk5LXJqdvrobO+c53zY+S8Xc5cMl/0uz6cYTeFO2Tul11XXleW627XbjemW5LbLrdtdx53lXuH+2EPPg+Oxz+OZp4lnuucBz5dell5Cr2Ne772dvRd4t/hgPv4+RT7tvkq+Mb7bfB/56fql+tX4Dfrb+c/zbwkgBAQHrA+4HagZyA6sDhwMcghaEHQ2mBocFbwt+HGIaYgwpCkUDQ0K3RD6IMwgjB/WEA7CA8M3hD+MMIrIifhtKnFqxNSyqU8jrSLnR16IokfNitof9S7aK3pt9P0Y4xhRTGusfOz02OrY93E+cSVx3fGT4xfEX0lQT+AlNCaSEmMT9yUOTfOdtmla33S76YXTb80wmjFnxqWZ6jMzZ56YJT+LNetIEiEpLml/0mdWOKuCNZQcmLw9eZDtzd7MfsHx4Gzk9HNduSXcZymuKSUpz1NdUzek9qe5p5WmDfC8edt4r9ID0nemv88Iz6jMGMmMy6zLImclZR3nK/Ez+GeztbLnZHcKzASFgu4c55xNOYPCYOG+XCR3Rm5jnjI86rSJjEU/iXry3fLL8j/Mjp19ZI7iHP6ctrmmc1fNfVbgV/DLPHwee17rfJ35S+b3LPBcsHshsjB5YesivUXLF/Ut9l9ctYSyJGPJ1aWWS0uWvl0Wt6xpuebyxct7f/L/qaZQrlBYeHuFy4qdK/GVvJXtq2xWbV31tYhTdLnYsri0+PNq9urLP1v9vOXnkTUpa9rX2q8tX0dcx193a737+qoSxZKCkt4NoRvqNzI3Fm18u2nWpkultqU7N1M2izZ3bwnZ0rhVf+u6rZ+3pW27WeZVVrddY/uq7e93cHZ0lXuU1+7U3Fm889Mu3q47u/1311cYVpTuIe7J3/N0b+zeC784/lK9T31f8b4vlfzK7qrIqrPVDtXV+zX2r61Ba0Q1/QemH+g46HOwsda8dncdo674EDgkOvTHr0m/3jocfLj1iOOR2qMGR7cfox8rqkfq59YPNqQ1dDcmNHYeDzre2uTSdOw3i98qm3Way06onFh7knJy+cmRUwWnhloELQOnU0/3ts5qvX8m/syNs1PPtp8LPnfxvN/5Mxc8L5y66Hqx+ZLzpeOXHS83XLG/Ut9m13bsqt3VY+327fXXHK41djh1NHVO6TzZ5d51+rrP9fM3Am9cuRl2s/NWzK07t6ff7r7DufP8bubdV/fy7w3fX/yA8KDoocLD0kcajyp+N/m9rtu++0SPT0/b46jH93vZvS+e5D753Lf8Ke1p6TPtZ9XPrZ839/v1d/wx7Y++F4IXwwOFfyr+uf2l8cujf3n81TYYP9j3Svhq5PXqN2pvKt/avm0dihh69C7r3fD7og9qH6o+On688Cnu07Ph2Z9Jn7d8MfnS9DX464ORrJERAUvIkhwFMNjQlBQAXlcCQEuAZwd4j6PISe9fEkGkd0YJAv8JS+9oErEHoNIDgJjFAITAM0o5bAYQU+FTfPyO9gCojc14G5XcFBtraSwqvMUQPoyMvNEEgNQEwBfhyMjwjpGRL3sh2bsAtORI731iIcIz/i7JOeeq3grwo/wLXfBsA6k87DcAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAGdaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjUwNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xMDI8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4K3U6HGgAAABxpRE9UAAAAAgAAAAAAAAAzAAAAKAAAADMAAAAzAAAP2djPD+gAAA+lSURBVHgB7JxxaFvHHce/ZWAW6i6tSsCsNOlmtaVqBjOBiID/0roVG4oNJR5BHo1Nib0SmxHHLVPI4pJZI7guxc46O7R2wmQCDgObgENp4v2xgHEhuNDWhUbpUrVZNUrUhmqEaZjs9/Qk6yS9s3RBtqOXr/6wnt67d+/uc/f7fe9+d88P3JEP+CEBEiABEiABEnAVgQco8K5qT1aGBEiABEiABNIEKPDsCCRAAiRAAiTgQgIUeBc2KqtEAiRAAiRAAhR49gESIAESIAEScCEBCrwLG5VVIgESIAESIAEKPPsACZAACZAACbiQAAXehY3KKpEACZAACZAABZ59gARIgARIgARcSIAC78JGZZVIgARIgARIgALPPkACJEACJEACLiRAgXdho7JKJEACJEACJECBZx8gARIgARIgARcSoMC7sFFZJRIgARIgARKgwLMPkAAJkAAJkIALCVDgXdiorBIJkAAJkAAJbJrAX7lyhfRJgARIgARI4L4lsGvXrnWtOwV+XfEycxIgARIgARJwJuB6gV/vCjpj5VkSIAESIAES2BwC2Qj2euvfps/g17uCm9N8fCoJkAAJkAAJOBOgwDtz4VkSIAESIAESqGoCFPiqbj4WngRIgARIgAScCVDgnbnwLAmQAAmQAAlUNQEKfFU3HwtPAiRAAiRAAs4EKPDOXHiWBEiABEiABKqaAAW+qpuPhScBEiABEiABZwIUeGcuPEsCJEACJEACVU2AAl/VzcfCkwAJkAAJkIAzAQq8Mxft2e+++057jRdIwO0EHn74Yccq0i4csfDkfUJAZxebXX0KvGEL0JEZAmNyVxHQOTLahauamZUxJKCzC8NsKp6cAm+IlI7MEBiTu4qAzpHRLlzVzKyMIQGdXRhmU/HkFHhDpHRkhsCY3FUEdI6MduGqZmZlDAno7MIwm4onp8AbIqUjMwTG5K4ioHNktAtXNTMrY0hAZxeG2VQ8OQXeECkdmSEwJncVAZ0jo124qplZGUMCOrswzKbiySnwhkjpyAyBMbmrCOgcGe3CVc3MyhgS0NmFYTYVT06BN0RKR2YIjMldRUDnyGgXrmpmVsaQgM4uDLOpeHIKvCFSOjJDYEzuKgI6R0a7cFUzszKGBHR2YZhNxZNT4A2R0pEZAmNyVxHQOTLahauamZUxJKCzC8NsKp6cAm+IlI7MEBiTu4qAzpHRLlzVzKyMIQGdXRhmU/HkFHhDpHRkhsCY3FUEdI6MduGqZmZlDAno7MIwm4onp8AbIr0rR5ZKIZFIILUiD/sBULu1DrVbDB/M5CRwDxDQObK7sYvU7SQSt5JA2i5q4NnmQY3YBz8kUG0EdHax2fWgwBu2gIkjS15fxLl3JzG1EC16ijfQgd7uvfB5aoquVc2JVAzh5k7Mi2P2lFvobxJAoA8ToSbUlntPtaRbSSL60VXcvA3s+HkD6lw4iNM5svLtIoXYwiVETk9i/pr0hYJPYH8I3W0BVLNZgHaRbtXE9SX84/JlfBL73m7lHz6Eht1N+EWjF1Xs9Qp6rP1TZxeOiTfwJAXeEHZ5jiyFpcjr6D+9WDL3jhMRBHfVlUx3Tya4HUX3C90oHr6UKq0HQ+en0eAGAVxJIf5lFMsfXML0qdlVFt4DYxhr85YCUXXXdY6sLLtIxTH1ajsmPy5VbT+GIsfQUFelMnC/24W087njvRhfKB7A2S0fkPY9XL3t69B9dXbhkHRDT1HgDXGX48iW3u1G/1lF9uoD6Pl1E5796aNI3Yzi0l/HMPtxpvPX92BuvKU6R7QrccyfX8T3NTV55U9+fRnjZzODm51BhH5Vh/+uck4hlXoI/uYAqtV/r1ZFDlKfnUPzK+PqqfSxTwR+hAKf4yJ9ZbK9HVPf5E55A0G0Pe+H99Ea3Px8CZPhcSxnLlf1AOl+totbywi/2Iv5XDMj0BrEDnyNyRn1bBMi7/WhziVLMhT4O3fuKG2+YYeVHsGUEvjkp+fQ2pNz+IFDIwg1+4rqG3t/GJ0nEhiZGYTPbbHqLy/guY7hdJ17JufQ8niVzsSKWq34ROr6BTS/PJxePwYSSGQE7J4Q+GQUU6evoum3TfAUONLUjUVM/f1/CLY35g3OimuYf0bnyErZxXKkG72ns4NeD/pGx9D0TOHCThLzb3YiHOvAzFsuXMK5D+wifnkY7QMX0p3G2xxC+KCy3HIriuHublzI2Ij/tQkM/nJ7fgfbgF/Jz+ZxbvkRdLQ2FD0tvnAOl1b8CDaalUtnF0UP2OATldY/XfEfEH2/DwQ+iXNdrRi/ZmPwHRiRWVyxuOsg5Z3PhH6/+CqB/8gmPWsj0iNP+tDwxFrhfAkXX4/ii6/icg9Qs+URbP/Jk9het/YIInkjhqv/jOFbeU659+SVteBH6vqsiN5o+mzX2zPY+5TD82WDVVLKiB/UoLZWPwBIWpuw0h9Jt1XSCZdk+kapX21telNW6lYcn0Sj+PaWVekHpc7PwvuYwzMzOWW/Cu+r27ED3sfrjAQvm5f1rdZ70wVexH24VZypVbCdPSKYLbk9D/FFdLcfSS8neFoHEDlYvsjrHNmaAp9cRndr7+ryRdeo9IlnSrePVfSij/Sb2PWriN38ViJBcnWlBt6f7ZY+ru9DSMk91+Ser+UeueVB2eS6w+tFndWftB/Llj5B9HPlnqflnjX6qjarzAW1f+jsIpVM2ptxt9RC+yjFBiDRs9otUo+sPcmzarfabAvt2vv0s6grY3ND4X3l+BC17rH3RxH5dyNC7cUCmpJBTnNm8O/dP4QxhzRqXpU+Tl6fR+vL4XS2vgND4p9zZYwvTKH96GT6WsvABHoMRF5nF5Uuv2l+FHhDYms5suxszs4ygIn3QtheMHMq+ThZv7o8M4WRUxdkPujw2dODyEBLUWjLmpG9/tIROK761zdh6A9daCgUPQmnjb7ai9nMgCTvaXu6EDm6967C6CUdmWxCOiKb8+yyrhGqi8/juXbbGLEnhLnjAUAJiQePj+HJa5MYcNrrUB/ExFsd2O60zr+SwPxfBhCeyQaE1Zr7MXjmGPyPreX81fS5Y7Xemy3wsZledJ5U6pcV+YSIe5st7tmS90mUpanMKIvOka1lF7G5I+h8M9MzM+1oSjeViGL29AjG55Q6ZSsg335x1sfEWRfma83I2o/mImrKLfA292DggNhSwVgj+ek8Qj3h1eUC9R7//kEca/cXPUdNoztW+4eTwKvih0AIF0PS3x0+6izZ/1pEZsF1iE53o/uUFSHxYvAdGUy9NSB7HYo9iK/VnlUXVNl+yjr5g7wqqLZf34WZ8b25gWdewvX4kcKFrmYMK/7OL5OwQZmEJa5Moe01W9ztJ/sxMTeI7YUdSlMsnV1okm/YaQq8Ieo1HZniVP0HxzDYarjJSu38a5VLjH9OjH+17xXd54FvpwfLH2dDopLZNlnrP6us9Ts4em+9F9Fryj31HZgeD5a/Qz5T5lKOzEp2+c02DMzZDkg3o1OFoUNmfUGZ9al5Zx6n/9oWRORsB/JiHrI+OvWKbPRSjNwj9YbUO+cOvRj62xgatuqzdrqilm2zBV7iCRLubkc4wzhdXnnbAdZbDMoneDyCjj15hJSrxYc6R6a3ixRmf9eM0czGup63ZcnmqdWeW/wAhzN5wudwPXsqEIogFMjVJX/ALam2eeH7UQLLyu59j+yVmFb2SsQXJmVAMJXNUr498NZD7CLH7W5nnmr/cBJ4SN8cfr7djrrAh5HzI/AVDVBFpI6KSC1YRfRhaGYEDaLWsRkZRJ3MDKKU0jsdeloHMX3Qn39pHf1B3oNSUfQ2d9uDp0I/lpdwnX7cjmG0sxOzyl4Q6/XMRJ5dyCApMgL/WlGhguLp7KIg2Yb/pMAbItc7snwj6xJHttfQkVlFyW7Qs16j6/qNbMz7sf1ucPzDWfQeHs2IkAeD09PwZ5YwEwujaDs6m66Jb5/MTPc3otaKHEhocmluHP1i+IMRSb/q+5KY2teKyUwn91qj+gOZtbLbccyGezGa2QHbcnwaPXsK10rTj9L+KenIrKIpYXw0D+DiocaC/NTljlw0JO++9B0edA2E0bTbK3WWV7A+mEWnMmMrdPpLshbcn10Llln+2J+C8KbDlvLmw/Qb6D+V2QgkTvBioRMsKGHhT7Vsmy/wVukcRF4pdHBAxL1xtVMoV/SHOkemtwsRJBH44bTA+zA2NwKvmb5LYRLSX9vS/dV6ja69WULyHlE1CVUvnZc2O5ndvCUDuou5Ad3iyTYcmbGFORiaQEfAXldN3Yrhwp8PY/QjiR5FJH02ypZckqWE/tWlhJbQGLoC9itdqRtLeOOl/szmsXz709PKv6L2D0eBl+SqUDdJ+/QVto9aRiUaot6Xfuq2AAZe78Tup2TJSfzAogwEjmT7tiQIRS4iNxZaX3+gUlA3pW6ajYjID7/QmRlIqaWzjr0YODOCRsMIns4uCnPf6N8UeEPiazmy3EzFg9CZCAKGnSRdlFQC0X9JN3uiWFRVIw6emEHHLjvQFp3ulfCcHbrskIFFsMTAIvnhFFoPZ8JRTqNodSaxsw9zsuHJxCeX48gspz0pTnsqPchwmK3IjKJNQsmWe/a0DsmMw14rU/NGfQsmhnuwvSDeqA54oIYBVeeIJllC6StaQpkPP4dwWi/MQnRW26ll2zTnle5E6h+ZQe+TGbQyY7Gu+mW2O5jz8OoNax7rHJnWLtQZmzC/253TqUQM8VSdw1q7OoBQIy9JzMp+mNF0pMaDkblp+Ep0YnXw1yR8+gr53JAlo5fCaT7+Q7JBrNkeMKwJTLmo9g+dwOPWEtpe7LcH8vKGzYy8YaN2b7VvB09Miw+w/YTqG6wB+xuyuU29zyrG4sluGfDYETo1CrHe/iCHIH8g0feOLA09UaJRcjdX9mglhu7nO1cHc9nMQ2dk4PNY9lf53zq7KD+H9UlJgTfkqnVkkk9uxmAuDuUUI/HhObQdttcT1deI4vNhtNuqJBuqOjDxx2CR6OXyl1mdhPjC6RCf6hBzKayjnMOQ2fOc7CUwsMOyHJk8I/6+lPuEPfsqnK2o19Swrpq37+AERlodnKw6QFFCnTF5XmfmeeoASa25mn9I1qYDZa5NW3mo994zAp9YwpG2/qK9GZ67/GdDOkemt4s4Rve12yHRuxgsqm3jfGxFXg5L5MUe4OaEU/p5WPq53b3g3z+A38sbA4Wit5qnLHOl/2mTdWKb7OI/G3RIqyw3KLPn1TxKHKj9I1fOwptU+/RgQCJvuUm8Wic/xs4PwpsJ4efsFegR4WxxEk5lgJIb+KrPWx9/kK2han/ZPTUGbiWbTUW+VV+qZhg4NCZvPRkurUoGOrtQ896M440S+P8DAAD//4haECgAABK/SURBVO2df2xb1RXHvwhhhsgGs1RmYBSmepsITKKq1KhS2SQXNjkSsqetmboE0QRGMtZEiKSrcFbmUdUIkaAp6VDSsYSKRNUSIaWalghRIrFm61IpSiWgk1jRmCs0I4ahwijsoYqd+3743Wf72u+lzzW1j/9ont+7Pz/3nnPuPfc894rP6YMafFZWVvRat2zZ4kvtH330kaIcDccebcXoG+JxEIkjU4jcHFCkdXFby+Hs66exenoVp0+dwPLbWUem5ofHMNIWNu7lzqAv3oczUoqWeC9+HLsbm28JSnfFpdzOMBKjCWyke1o+lYbANQGsPtWD8bfFzWaM/GkEzdfkE1S80N45htaHRvV03c/NYee3mkrnya2iJ74XZ8XTO3sx/9sYDGI5Yhk3WUYx9XI/QlcaRchlOxg4atCwQGMxrI9FM8ao/WFqf3puEF2HlvWUscQIYl8PIHfByij63YQPllIYfEFvEcq23com/XXXNilDtS+zq+hr2+uYF44qt/Vi7kAMitFxJLW+XH/99dal469SLtbOou++HrMNzrF0FODyi3Y+gzdfJ5kguVj+6yLOvu/MKI9Z7h+ziPeOSwnCiO3pQOy7W7ExWCCbGrWz1WznhnaMPLUDgTVZLoCmKz/A0CODRl82Ebtxb+zk+SG3U2qgfim3u3kPyXnclPM1kvP7TDlvTeL4Y9vzWeW5rSxbS2OwtQu6BOTlrfr6QDRSe3cRrQ+kzPYGkZyawfZQvvmX9CK7Mo22fZPKOlv2jOBgvFn5vNQDlVyUSnsp7/lt/1Rtv6L+DTxwlgxIj2lAup+bJ8NWoERUdBz3c1iaGUfy8ILjbuGXQuOmvbuMoYFBLBYoPGxoQf++XkTvsqRJNp6FpZb6XkUDT9UtPduG5LxYvARxcGYGLWI9cn4VbT/aC3E3vHsEYx22sMlKspABJTc/stKyDfyZmT70HZaXQVb60n+VirJ0crhrmyKzz7c1Mu4DBca9PfkMbj09jtScsYDRq9zWj5lkFEFzAVWpGSpFpjTwjgWlPRaV6il6nktj9vAQxufLj1/hmGVOzqJv/7g+l+Qyg9va8fgv2rE5ZMpoiUWynL7oelM3GfidnhZH8vwobKez/AxG7+nAMf1mDFPHeyGkN7cyifi+af1u59Ac2u+yl2auDLy82KIFyjwtUGiJKy2mna0o/c27PgDVO0iLPGNpDUT2TSBx78bSxVf5bmZlFh375EVfM21yOvHmk3txTNKdXo28Si6q3J2KxbOBr4jImUCtyMjAkwHpMQ1Iy54JWgV6ncS089xPO8+Tdp36TnzHZtx620YEztGO5BFjcpY2bhrSK0uYfXEMC284d/wtj43hYKvYCWhYTHUgtWg8b9nVDnN/YFeav8ohuxZC+8M7YenB/KMyF+4VGbVG2u1bzDKLw+hIGQuc/sl5RG+xF0py+tIMRMNK7+Dl8cG2GDpva5I8F84O5c7nsPUn3Wjx4IVx1zZnPdX6ln6FvBVPWyoViCWn0KtvmZzjL+pPHJl37W1SKTK1XNBiq5s8W7o3COh9fh6x2+zxdNX/AgNByz7aibdhx5ZmhG8KIf2SLXclDaeWxeprC5icmMQZSYmLunvJwxQTHqYCAx/b3Y6m/ylat5ZD7oat6G5rMT1OinQFt+X5UbKdUnrZYFvM7MVwBBPz5HmTMMrplWWTl2KQvBT6rMgbeOd88F0fXMhgsqMD0xb3SALziYgnbhKWi7ykvpJ+TeX1axjJIyPYLmR8LY3h+7pgb6uI8cvE+CIXvhfZ4IvOzgbeI0K1IiMd8ZZtgAHv7sgsrdDbzBU6NsQw9vtehO1FusMYqo2b0SEtcxbHJhIYNw252CE/89IMNl8n726pjcfJ/e2RQaXkXhQZaG81uavNUAAbOjF3tB2n9t9jCCG5SmeOdlLL7Y9ctppBDrPd8aIjhvRcH7nojR1gYuo4Ij533F3b7L5U+2qVFpx7acFpG3erxhwt8uK0yJMMnPWowl/vBt658AUp+OOk4L18Vg+1Ye+csSANtyYw9FjEsXN2ZdzMCjNvLWHi10nb02XNMdlFv442uumPPD+URtgqSPJiBXeNYObBIFK0q6chQzD+DGb2bLZS6n9dMZCPxPIeiGrqgyxmH23DuH5URs0k+Z4i+fZZ7BwcKn+x2kTHBHSMqht3K1PeyEcwMpdAs6R7rSSqvyq5UKW/VPfZwHskXc7AO4wVldvyGO3iW9W7+FwmQ5M+RGd7RiOcQlrs4tfOLaC1c1hPrDZuzg4tH+rBoOmS7R6l8/DbA6TcaRUrNAV92p+eQecW2YQa9y/mX0+KjCrKvJJCx9O66kLiucfx90f26oqsVB/lspvJSzJSwksic6K9K53hk4uTGGcWqR6z4+Fdz2DsQaeSvJg+i7yOtskxEhdb8Lrza8hkNIRCpTRVuWfqClWKrKxcnF+mI5fBvJvc2pGqasmcyyB0i2UGZANELv55iqeQdq6ijPQ8eSueNbwVFQ2nyODYVZou5wDt4H5g7eDCtBgeo8WwSOzfR54fldsp7TZFTMATIfT1GrJfKq+sO1R8ZU5otc7wxQ6+GvogS67/NjOORjCMkteh3+F18I+sx5Iu5JDJBRC6rmAiiWLWsshcCKKkyJSpRiUXZbJckkds4D1iLqvIqKzsyVG07TdOz0TR7ckJdG4vNvKZ08fQMUCBaHQGOncgqu9I0mTounRDB/QfOY7ozXLjaNd1KEHnp8YO1GH86Lx1+i8adsaLXYa28QQMA09u6bcoCO4RIwiOliGkzA6WVGYaBRmJgDuvH2+KjEqXdxZSZaV22XLZwUg/JhIGOztbFtPdbZg0XcKORYB8BkkZLB52XuNqvf0GLcDuMRdglRZ3hXVeLt9ViqySXCzTLnzQ3IULF3tyklyj0tGLSR6rc0PYe2iRFsfykZJlgEq4TelsfrK/C9PmeMvGL7uygBPaHYhtK5a/RctLJAWRniUPT4/p4RFBn3MU9Fm8NKLAOy2AgHexcCwA5Xaqxl4OtrPTlPYMygY+QuwS+nGcnQukI3ooJsOKvpAXAf7rAzrX309BsuQKD24Q2x4y7ke+IMZdQuLnpUou/KxjPWWxgfdIrZIi08+4Hec8NMnpvLcnvgPNoSBy75/F8vwUJhctUSNDYwbkyS5kbIrRqr0TYRKQzNunMPVkynYrUpvzBl6jgJwHKCBHnHFtiCDxRAe2btpIXgHaoZE7MtWbMiOYKYiNXPQt+q5EPqMWAMLoPjBAgXh0zk+n0tlzb2LhxWFMnwyRq4oi6Iu1nMik/MhG2I0iEwXZ54tmsaa7vrBquWwjJQURHqBgqWZS4u+9ienhQSyYyl68AWBF0JulOnZ74l7k4YPoat0MEVStZdM48edJDB9dVhp/qxz97/k0ll5P46orr6KvAXxCBj51WHgixCeKg0Pkil77BJ+RU3LrtnCNzh2N1vj1r0qRVZQLcn+m6IzToiPao8eXfH8zbrwW+M+/jDm3mB+7MO3Wx2i3Lu/gaabGE0ju3k7HNvSWyakFJFOTec+AKNOab9q7S+h4IKk/C0a68fj9O3DHTUEEaPd25jUKvHvaCFaD5aIXmeUzavF9QxTJ37Rj623k4dIovuX1E5gcGcbyV7wH2OnFS/EmVjvFffVHDrYzUoV3k+epo9jzJBt4PSUFER78qehzEzJnTmBo/2jeuKPoDQAf9cEF2rknaeeeP+em1uyiMfsG8PGnBUENxPTqb9+NyO3+ehDVPKv3RCUX1avRXcls4N1xyqeqqMj0lDkspLownD//zmcvuohSRGm/FVFK5249FD1um/6i5PkbeQNPeQYpjx1OlU/iuChSDKRwR7u6HJGjjgzmlzC5wcdKuMFLpbXuyUbYnSIj/SkpP1GOagdspRMqwRlGaNVu/y29QyeX5LMUZKhH7ttpi67yQUhFT/I3NIq5aDWDHvM3FRfWIk7x+LK5rVJkruQidwbD9DqnHcik6ja9Zvr8BCIUBCk+udPTiA+oX2uSS7HmW/b0LNoG5GhpOZV9XRiNrp1bREdnquLcknfAdmnlr6y5K1JZ7Syfw/lqp0hbGHRq5S8y8NaDor8tGCGPXXPh8YNP+sCLTIimFb4lU9Tcy+SGSi5q3Xw28B5HwJUiM8tMk4tw6vAw7F2JXZnY1T/+cCe9p+7co+beWcJTDyWLDHZkd5Leab4Lr/7SeD/c8X4s7WZWX5nFOO1KihcHQcT2JdF9b3OJHaTxSt4IvZJXZCw3NKPzZz2Ifa85HyNgt778lfYOxQo8ZJwXuleEOXKtx03XuvTKXEFVspIMtvai54ZTSL1QsLzZFEHyV33kAnaylYtKL81i6HfjRVHVIhgxursH7fFIxXM4YQxayRi4+eSjtd0k/gKnUSky93JBc3We5uqzpeaq2NX3o3t3FBsLhi69NI2BpHO3LjxPnYkEdm7NYYAWDuLwysGZ3PeLf5xC6qjsNzDh0uujiSf6S+8eyTMz+4fSr+QF74yip7ud8lkxAu4Ha11y4Ti+sl+ZK6xVNvDRPQmEVsYwedIp1WHyZCT6dhaxtcu6eH3gjH+xS1ZdqRbyqvRf1Psquah1e9nAexwB94rMLljLZZH9MAftAt27MoDgV4Noaip3iEdu8nczyH1mpv8aBeKVS25XhVw2g+wn9LM1VFfgS010BkZuyUqvelyg+t7PIvcp5aO0gWspyCRYoGGlOqpyeYFcuBTkpKviIheiXaNs4PPn6/TaUua/WZ1vgNiGrnPfdp3XmvgRE/Ii0BLIFS+7OQ13pVJk65ELea7iKsG+wjynH3/KvGeMM65qQuhmmttuRmC989usD9fSfCKZEnMr6FYQ3bTLRRp5EZn32pXIJxt4a1EtfhQo86GQaTc6Ryp0vbykIhrtUiUXtebABt7jCKxHkXmsoiGTZ5bo3fek4byN0jvb/YqfuXIY+C9EpHpjDZdKkbFcVGce2LEp5X/9TTbwbt3/1WlxY5aqkota02AD73EEWJF5BOYiuZZZxkCH+ROgKP4RD7kINvAyjUt/rVJkLBf+j0WGflK1w/pJ1W30AzEH1D8Qwwbef/5eSlTJhZcyqpGWDbxHqqzIPAJTJafXdlJPLuDG7wDT0hlppZ+xZAOvAnpp7qsUGcuFP/yz9FOqwy9nKLrgn5hetH+WN0G/6Bgpeq3QrpMNvM2iFlcquahFW+Q62cDLNFxcsyJzAclFEvnnaK3kwXgSU3u2lz1XlQ18vUTgWv2/HP6qFBnLhT+jt5S6B8mCmMBYYgK9kY1lK5Bfse2kH7Rqv919HErZgvmhKwIquXCVuYqJ2MB7hMuKzCMwRfLMyjGMvvgqPqbnX77hm9jRuhOR/H+Io8hEt8X7zaNHRNR8AC33d5aNlFeXwk/WS0ClyFgu1ktUzqdhdWYUk3/7t34zFL4b0R9GsfnmysY6Q2+FTJxK42psxM6fU6T8NXK5fF1tAiq5qHa9lcpnA1+JUMFzVmQFQPhrQxFQKTKWi4aaBtzZAgIquShIdsm/soH3iJwVmUdgnLyuCKgUGctFXQ0zd8YjAZVceCzG9+Rs4D0iZUXmERgnrysCKkXGclFXw8yd8UhAJRcei/E9ORt4j0hZkXkExsnrioBKkbFc1NUwc2c8ElDJhcdifE/OBt4jUlZkHoFx8roioFJkLBd1NczcGY8EVHLhsRjfk7OB94iUFZlHYJy8rgioFBnLRV0NM3fGIwGVXHgsxvfkbOB9R8oFMgEmwASYABOoPQE28LUfA24BE2ACTIAJMAHfCbCB9x0pF8gEmAATYAJMoPYE2MDXfgy4BUyACTABJsAEfCfABt53pFwgE2ACTIAJMIHaE2ADX/sx4BYwASbABJgAE/CdABt435FygUyACTABJsAEak+ADXztx4BbwASYABNgAkzAdwJs4H1HygUyASbABJgAE6g9ATbwtR8DbgETYAJMgAkwAd8JNIyB950cF8gEmAATYAJM4DIgsGXLlqq28orP6VPVGhSFWysYxWO+zQSYABNgAkygrgnUrYGv61HjzjEBJsAEmAATqDGBmu3ga9xvrp4JMAEmwASYQF0TYANf18PLnWMCTIAJMIFGJcAGvlFHnvvNBJgAE2ACdU2ADXxdDy93jgkwASbABBqVABv4Rh157jcTYAJMgAnUNQE28HU9vNw5JsAEmAATaFQCbOAbdeS530yACTABJlDXBNjA1/XwcueYABNgAkygUQmwgW/Uked+MwEmwASYQF0TYANf18PLnWMCTIAJMIFGJcAGvlFHnvvNBJgAE2ACdU2ADXxdDy93jgkwASbABBqVABv4Rh157jcTYAJMgAnUNQE28HU9vNw5JsAEmAATaFQCbOAbdeS530yACTABJlDXBNjA1/XwcueYABNgAkygUQmwgW/Uked+MwEmwASYQF0T+D+1aTu/98QCIgAAAABJRU5ErkJggg=="},46963:e=>{e.exports="data:image/png;base64,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4PQIIIAAAggggAACCCCAAAIIIIBA2AIEQGELUz4CCCCAAAIIIIAAAggggAACCCBQZAECoCJfAE6PAAIIIIAAAggggAACCCCAAAIIhC1AABS2MOUjgAACCCCAAAIIIIAAAggggAACRRYgACryBeD0CCCAAAIIIIAAAggggAACCCCAQNgCBEBhC1M+AggggAACCCCAAAIIIIAAAgggUGQBAqAiXwBOjwACCCCAAAIIIIAAAggggAACCIQtQAAUtjDlI4AAAggggAACCCCAAAIIIIAAAkUWIAAq8gXg9AgggAACCCCAAAIIIIAAAggggEDYApEFQGE3hPIRQAABBBBAAAEEEEAAAQQQQAABBHILlJaW5t7Bt/VT/zaTb13Gl1VVVRnXsxIBBBBAAAEEEEAAAQQQQAABBBBAIFqB0AOgQk8QbfM5GwIIIIAAAggggAACCCCAAAIIINB2BWwHnULzmYJ7ABV6grZLTssQQAABBBBAAAEEEEAAAQQQQACBaAUIgKL15mwIIIAAAggggAACCCCAAAIIIIBA5AIEQJGTc0IEEEAAAQQQQAABBBBAAAEEEEAgWgECoGi9ORsCCCCAAAIIIIAAAggggAACCCAQuQABUOTknBABBBBAAAEEEEAAAQQQQAABBBCIVoAAKFpvzoYAAggggAACCCCAAAIIIIAAAghELkAAFDk5J0QAAQQQQAABBBBAAAEEEEAAAQSiFSAAitabsyGAAAIIIIAAAggggAACCCCAAAKRCxAARU7OCRFAAAEEEEAAAQQQQAABBBBAAIFoBQiAovXmbAgggAACCCCAAAIIIIAAAggggEDkAgRAkZNzQgQQQAABBBBAAAEEEEAAAQQQQCBaAQKgaL05GwIIIIAAAggggAACCCCAAAIIIBC5AAFQ5OScEAEEEEAAAQQQQAABBBBAAAEEEIhWgAAoWm/OhgACCCCAAAIIIIAAAggggAACCEQuQAAUOTknRAABBBBAAAEEEEAAAQQQQAABBKIVIACK1puzIYAAAggggAACCCCAAAIIIIAAApELEABFTs4JEUAAAQQQQAABBBBAAAEEEEAAgWgFCICi9eZsCCCAAAIIIIAAAggggAACCCCAQOQCBECRk3NCBBBAAAEEEEAAAQQQQAABBBBAIFoBAqBovTkbAggggAACCCCAAAIIIIAAAgggELkAAVDk5JwQ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BAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjREQADWmKzSEAAECBAgQIECAAAECBAgQIFBGQABUxlVVAgQIECBAgAABAgQIECBAgEBjBARAjekKDSFAgAABAgQIECBAgAABAgQIlBEQAJVxVZUAAQIECBAgQIAAAQIECBAg0BgBAVBjukJDCBAgQIAAAQIECBAgQIAAAQJlBARAZVxVJUCAAAECBAgQIECAAAECBAg0RkAA1Jiu0BACBAgQIECAAAECBAgQIECAQBkBAVAZV1UJECBAgAABAgQIECBAgAABAo0REAA1pis0hAABAgQIECBAgAABAgQIECBQRkAAVMZVVQIECBAgQIAAAQIECBAgQIBAYwQEQI3pCg0hQIAAAQIECBAgQIAAAQIECJQREACVcVWVAAECBAgQIECAAAECBAgQINAYAQFQY7pCQwgQIECAAAECBAgQIECAAAECZQQEQGVcVSVAgAABAgQIECBAgAABAgQINEZAANSYrtAQAgQIECBAgAABAgQIECBAgEAZAQFQGVdVCRAgQIAAAQIECBAgQIAAAQKNERAANaYrNIQAAQIECBAgQIAAAQIECBAgUEZAAFTGVVUCBAgQIECAAAECBAgQIECAQGMEBECN6QoNIUCAAAECBAgQIECAAAECBAiUERAAlXFVlQABAgQIECBAgAABAgQIECDQGAEBUGO6QkMIECBAgAABAgQIECBAgAABAmUEBEBlXFUlQIAAAQIECBAgQIAAAQIECDRGQADUmK7QEAIECBAgQIAAAQIECBAgQIBAGQEBUBlXVQkQIECAAAECBAgQIECAAAECjRH4jQVAjfnEGkKAAAECBAgQIECAAAECBAgQuE8FHn/88Vv65F/4p7gdZY86YTrKtrYhQIAAAQIECBAgQIAAAQIECBAoJ1A8AHr00UfLtV5lAgQIECBAgAABAgQIECBAgACBsQIffvhh+zUB0FgiLxAgQIAAAQIECBAgQIAAAQIE7m0BAdC93X9aT4AAAQIECBAgQIAAAQIECBA4VEAAdCiRDQgQIECAAAECBAgQ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dkar5a/c7fsCoLstqh4BAgQIECBAgAABAkUF9lqt9On/+3X7Pb705QfTZDUH605vN1tp99NuzQePpcnuSIqDyrbb8evYp7pC1ERc0enBCEYG/ut/0N5Hf23vxm76tNXdfvLBdKya/jPmtvfBelxxKKaiHXV9lXF1MuNqky8d0WRMuQOfbn++vdgk7L705aPZH1iwejHCrN3dTzub3WLf3NLxFZc936v6/4txmfMR3dL7bFVLJg7uu05jD/kZi4234jj9dfs9v5Qe/OpkmihwzB3Sitt/Oa5idu3Gr9IDx06kY0f4jt3OG1VXSrt+I6UHqv6Ivw/HjvL3IT9eYrcHj8V0viO4tnZ3Uyv64oHY58jfkejD3U/iCz0Re32xeyW42/mgt7GPAOg20OxCgAABAgQIECBAgACBxgns7ab1P304Lbw5OO2mce3UIAIEPhcBAdDnwu5NCRAgQIAAAQIECBAgcHcFdt+OS9s/vZrSC3HVotdmR09dubtvqRoBAveQgADoHuosTSVAgAABAgQIECBAgMB4gbhK2AfX08nHTozfxCsECNy3AgKg+7brfXACBAgQIECAAAECBAgQIEDgfhEQAN0vPe1zEiBAgAABAgQIECBAgAABAvetgADovu16H5wAAQIECBAgQIAAAQIECBC4XwQEQPdLT/ucBAgQIECAAAECBAgQIECAwH0rIAC6b7veBydAgAABAgQIECBAgAABAgTuFwEB0P3S0z4nAQIECBAgQIAAAQIECBAgcN8K/MYCoPtW2AcnQIAAAQIECBAgQIAAAQIECDRE4PHHH7+llnzhn+J2lD1+8YtfHGUz2xAgQIAAAQIECBAgQIAAAQIECBQWKBYAFW638gQIECBAgAABAgQIECBAgAABAoUEjjwCqND7K0uAAAECBAgQIECAAAECBAgQIFBYQABUGFh5AgQIECBAgAABAgQIECBAgMDnLSAA+rx7wPsTIECAAAECBAgQIECAAAECBAoLCIAKAytPgAABAgQIECBAgAABAgQIEPi8BQRAn3cPeH8CBAgQIECAAAECBAgQIECAQGEBAVBhYOUJECBAgAABAgQIECBAgAABAp+3gADo8+4B70+AAAECBAgQIECAAAECBAgQKCwgACoMrDwBAgQIECBAgAABAgQIECBA4PMWEAB93j3g/QkQIECAAAECBAgQIECAAAEChQX+PyN4Vy4kpFMFAAAAAElFTkSuQmCC"},728258:e=>{e.exports="data:image/png;base64,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"},275002:e=>{e.exports="data:image/png;base64,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"},923611:e=>{e.exports="data:image/png;base64,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"},368836:e=>{e.exports="data:image/png;base64,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"},516158:()=>{},15096:()=>{},731795:()=>{},505675:()=>{},589197:()=>{},251416:()=>{},357520:()=>{},532365:()=>{},55002:()=>{},987112:()=>{},934828:()=>{},498526:()=>{},836385:()=>{},274901:()=>{},730631:()=>{},315305:()=>{},226367:()=>{},447137:()=>{},248456:()=>{},658828:()=>{},416317:()=>{},276640:()=>{},789609:()=>{},614227:()=>{},211946:()=>{},150033:()=>{},25981:()=>{},636434:()=>{},598987:()=>{},60985:()=>{}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},e=[],n.O=(t,i,a,r)=>{if(!i){var o=1/0;for(c=0;c<e.length;c++){for(var[i,a,r]=e[c],s=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](i[l])))?i.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,a,r]},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.e=()=>Promise.resolve(),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=65,(()=>{var e={65:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var a,r,[o,s,l]=i,d=0;if(o.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var c=l(n)}for(t&&t(i);d<o.length;d++)r=o[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},i=self.webpackChunkisight=self.webpackChunkisight||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var a=n.O(void 0,[96],(()=>n(831311)));a=n.O(a)})();